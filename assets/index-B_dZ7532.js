var Wx=Object.defineProperty;var e1=(r,t,a)=>t in r?Wx(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a;var sr=(r,t,a)=>e1(r,typeof t!="symbol"?t+"":t,a);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function a(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerPolicy&&(o.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?o.credentials="include":u.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(u){if(u.ep)return;u.ep=!0;const o=a(u);fetch(u.href,o)}})();var Zf={exports:{}},wi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function t1(){if(wy)return wi;wy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(s,u,o){var d=null;if(o!==void 0&&(d=""+o),u.key!==void 0&&(d=""+u.key),"key"in u){o={};for(var h in u)h!=="key"&&(o[h]=u[h])}else o=u;return u=o.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:o}}return wi.Fragment=t,wi.jsx=a,wi.jsxs=a,wi}var Sy;function n1(){return Sy||(Sy=1,Zf.exports=t1()),Zf.exports}var y=n1(),Pf={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function a1(){if(Ay)return be;Ay=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.iterator;function w(A){return A===null||typeof A!="object"?null:(A=_&&A[_]||A["@@iterator"],typeof A=="function"?A:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,z={};function R(A,q,J){this.props=A,this.context=q,this.refs=z,this.updater=J||O}R.prototype.isReactComponent={},R.prototype.setState=function(A,q){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,q,"setState")},R.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function U(){}U.prototype=R.prototype;function C(A,q,J){this.props=A,this.context=q,this.refs=z,this.updater=J||O}var Z=C.prototype=new U;Z.constructor=C,N(Z,R.prototype),Z.isPureReactComponent=!0;var G=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function W(A,q,J,I,ue,Re){return J=Re.ref,{$$typeof:r,type:A,key:q,ref:J!==void 0?J:null,props:Re}}function we(A,q){return W(A.type,q,void 0,void 0,void 0,A.props)}function V(A){return typeof A=="object"&&A!==null&&A.$$typeof===r}function le(A){var q={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(J){return q[J]})}var te=/\/+/g;function ge(A,q){return typeof A=="object"&&A!==null&&A.key!=null?le(""+A.key):q.toString(36)}function Ct(){}function ut(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Ct,Ct):(A.status="pending",A.then(function(q){A.status==="pending"&&(A.status="fulfilled",A.value=q)},function(q){A.status==="pending"&&(A.status="rejected",A.reason=q)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function Ve(A,q,J,I,ue){var Re=typeof A;(Re==="undefined"||Re==="boolean")&&(A=null);var pe=!1;if(A===null)pe=!0;else switch(Re){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(A.$$typeof){case r:case t:pe=!0;break;case b:return pe=A._init,Ve(pe(A._payload),q,J,I,ue)}}if(pe)return ue=ue(A),pe=I===""?"."+ge(A,0):I,G(ue)?(J="",pe!=null&&(J=pe.replace(te,"$&/")+"/"),Ve(ue,q,J,"",function(ia){return ia})):ue!=null&&(V(ue)&&(ue=we(ue,J+(ue.key==null||A&&A.key===ue.key?"":(""+ue.key).replace(te,"$&/")+"/")+pe)),q.push(ue)),1;pe=0;var Ut=I===""?".":I+":";if(G(A))for(var Ye=0;Ye<A.length;Ye++)I=A[Ye],Re=Ut+ge(I,Ye),pe+=Ve(I,q,J,Re,ue);else if(Ye=w(A),typeof Ye=="function")for(A=Ye.call(A),Ye=0;!(I=A.next()).done;)I=I.value,Re=Ut+ge(I,Ye++),pe+=Ve(I,q,J,Re,ue);else if(Re==="object"){if(typeof A.then=="function")return Ve(ut(A),q,J,I,ue);throw q=String(A),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return pe}function P(A,q,J){if(A==null)return A;var I=[],ue=0;return Ve(A,I,"","",function(Re){return q.call(J,Re,ue++)}),I}function K(A){if(A._status===-1){var q=A._result;q=q(),q.then(function(J){(A._status===0||A._status===-1)&&(A._status=1,A._result=J)},function(J){(A._status===0||A._status===-1)&&(A._status=2,A._result=J)}),A._status===-1&&(A._status=0,A._result=q)}if(A._status===1)return A._result.default;throw A._result}var fe=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function $e(){}return be.Children={map:P,forEach:function(A,q,J){P(A,function(){q.apply(this,arguments)},J)},count:function(A){var q=0;return P(A,function(){q++}),q},toArray:function(A){return P(A,function(q){return q})||[]},only:function(A){if(!V(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},be.Component=R,be.Fragment=a,be.Profiler=u,be.PureComponent=C,be.StrictMode=s,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,be.__COMPILER_RUNTIME={__proto__:null,c:function(A){return Q.H.useMemoCache(A)}},be.cache=function(A){return function(){return A.apply(null,arguments)}},be.cloneElement=function(A,q,J){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var I=N({},A.props),ue=A.key,Re=void 0;if(q!=null)for(pe in q.ref!==void 0&&(Re=void 0),q.key!==void 0&&(ue=""+q.key),q)!ie.call(q,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&q.ref===void 0||(I[pe]=q[pe]);var pe=arguments.length-2;if(pe===1)I.children=J;else if(1<pe){for(var Ut=Array(pe),Ye=0;Ye<pe;Ye++)Ut[Ye]=arguments[Ye+2];I.children=Ut}return W(A.type,ue,void 0,void 0,Re,I)},be.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:o,_context:A},A},be.createElement=function(A,q,J){var I,ue={},Re=null;if(q!=null)for(I in q.key!==void 0&&(Re=""+q.key),q)ie.call(q,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(ue[I]=q[I]);var pe=arguments.length-2;if(pe===1)ue.children=J;else if(1<pe){for(var Ut=Array(pe),Ye=0;Ye<pe;Ye++)Ut[Ye]=arguments[Ye+2];ue.children=Ut}if(A&&A.defaultProps)for(I in pe=A.defaultProps,pe)ue[I]===void 0&&(ue[I]=pe[I]);return W(A,Re,void 0,void 0,null,ue)},be.createRef=function(){return{current:null}},be.forwardRef=function(A){return{$$typeof:h,render:A}},be.isValidElement=V,be.lazy=function(A){return{$$typeof:b,_payload:{_status:-1,_result:A},_init:K}},be.memo=function(A,q){return{$$typeof:m,type:A,compare:q===void 0?null:q}},be.startTransition=function(A){var q=Q.T,J={};Q.T=J;try{var I=A(),ue=Q.S;ue!==null&&ue(J,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then($e,fe)}catch(Re){fe(Re)}finally{Q.T=q}},be.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},be.use=function(A){return Q.H.use(A)},be.useActionState=function(A,q,J){return Q.H.useActionState(A,q,J)},be.useCallback=function(A,q){return Q.H.useCallback(A,q)},be.useContext=function(A){return Q.H.useContext(A)},be.useDebugValue=function(){},be.useDeferredValue=function(A,q){return Q.H.useDeferredValue(A,q)},be.useEffect=function(A,q,J){var I=Q.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return I.useEffect(A,q)},be.useId=function(){return Q.H.useId()},be.useImperativeHandle=function(A,q,J){return Q.H.useImperativeHandle(A,q,J)},be.useInsertionEffect=function(A,q){return Q.H.useInsertionEffect(A,q)},be.useLayoutEffect=function(A,q){return Q.H.useLayoutEffect(A,q)},be.useMemo=function(A,q){return Q.H.useMemo(A,q)},be.useOptimistic=function(A,q){return Q.H.useOptimistic(A,q)},be.useReducer=function(A,q,J){return Q.H.useReducer(A,q,J)},be.useRef=function(A){return Q.H.useRef(A)},be.useState=function(A){return Q.H.useState(A)},be.useSyncExternalStore=function(A,q,J){return Q.H.useSyncExternalStore(A,q,J)},be.useTransition=function(){return Q.H.useTransition()},be.version="19.1.0",be}var Ey;function Ld(){return Ey||(Ey=1,Pf.exports=a1()),Pf.exports}var S=Ld(),$f={exports:{}},Si={},Hf={exports:{}},qf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function r1(){return Ny||(Ny=1,function(r){function t(P,K){var fe=P.length;P.push(K);e:for(;0<fe;){var $e=fe-1>>>1,A=P[$e];if(0<u(A,K))P[$e]=K,P[fe]=A,fe=$e;else break e}}function a(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var K=P[0],fe=P.pop();if(fe!==K){P[0]=fe;e:for(var $e=0,A=P.length,q=A>>>1;$e<q;){var J=2*($e+1)-1,I=P[J],ue=J+1,Re=P[ue];if(0>u(I,fe))ue<A&&0>u(Re,I)?(P[$e]=Re,P[ue]=fe,$e=ue):(P[$e]=I,P[J]=fe,$e=J);else if(ue<A&&0>u(Re,fe))P[$e]=Re,P[ue]=fe,$e=ue;else break e}}return K}function u(P,K){var fe=P.sortIndex-K.sortIndex;return fe!==0?fe:P.id-K.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var d=Date,h=d.now();r.unstable_now=function(){return d.now()-h}}var p=[],m=[],b=1,_=null,w=3,O=!1,N=!1,z=!1,R=!1,U=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function G(P){for(var K=a(m);K!==null;){if(K.callback===null)s(m);else if(K.startTime<=P)s(m),K.sortIndex=K.expirationTime,t(p,K);else break;K=a(m)}}function Q(P){if(z=!1,G(P),!N)if(a(p)!==null)N=!0,ie||(ie=!0,ge());else{var K=a(m);K!==null&&Ve(Q,K.startTime-P)}}var ie=!1,W=-1,we=5,V=-1;function le(){return R?!0:!(r.unstable_now()-V<we)}function te(){if(R=!1,ie){var P=r.unstable_now();V=P;var K=!0;try{e:{N=!1,z&&(z=!1,C(W),W=-1),O=!0;var fe=w;try{t:{for(G(P),_=a(p);_!==null&&!(_.expirationTime>P&&le());){var $e=_.callback;if(typeof $e=="function"){_.callback=null,w=_.priorityLevel;var A=$e(_.expirationTime<=P);if(P=r.unstable_now(),typeof A=="function"){_.callback=A,G(P),K=!0;break t}_===a(p)&&s(p),G(P)}else s(p);_=a(p)}if(_!==null)K=!0;else{var q=a(m);q!==null&&Ve(Q,q.startTime-P),K=!1}}break e}finally{_=null,w=fe,O=!1}K=void 0}}finally{K?ge():ie=!1}}}var ge;if(typeof Z=="function")ge=function(){Z(te)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,ut=Ct.port2;Ct.port1.onmessage=te,ge=function(){ut.postMessage(null)}}else ge=function(){U(te,0)};function Ve(P,K){W=U(function(){P(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(P){P.callback=null},r.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<P?Math.floor(1e3/P):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(P){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var fe=w;w=K;try{return P()}finally{w=fe}},r.unstable_requestPaint=function(){R=!0},r.unstable_runWithPriority=function(P,K){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var fe=w;w=P;try{return K()}finally{w=fe}},r.unstable_scheduleCallback=function(P,K,fe){var $e=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?$e+fe:$e):fe=$e,P){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=fe+A,P={id:b++,callback:K,priorityLevel:P,startTime:fe,expirationTime:A,sortIndex:-1},fe>$e?(P.sortIndex=fe,t(m,P),a(p)===null&&P===a(m)&&(z?(C(W),W=-1):z=!0,Ve(Q,fe-$e))):(P.sortIndex=A,t(p,P),N||O||(N=!0,ie||(ie=!0,ge()))),P},r.unstable_shouldYield=le,r.unstable_wrapCallback=function(P){var K=w;return function(){var fe=w;w=K;try{return P.apply(this,arguments)}finally{w=fe}}}}(qf)),qf}var Ty;function s1(){return Ty||(Ty=1,Hf.exports=r1()),Hf.exports}var Vf={exports:{}},St={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function i1(){if(Ry)return St;Ry=1;var r=Ld();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function o(p,m,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:_==null?null:""+_,children:p,containerInfo:m,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return St.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,St.createPortal=function(p,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(p,m,null,b)},St.flushSync=function(p){var m=d.T,b=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=m,s.p=b,s.d.f()}},St.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},St.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},St.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var b=m.as,_=h(b,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,O=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:O}):b==="script"&&s.d.X(p,{crossOrigin:_,integrity:w,fetchPriority:O,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},St.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=h(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},St.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,_=h(b,m.crossOrigin);s.d.L(p,b,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},St.preloadModule=function(p,m){if(typeof p=="string")if(m){var b=h(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},St.requestFormReset=function(p){s.d.r(p)},St.unstable_batchedUpdates=function(p,m){return p(m)},St.useFormState=function(p,m,b){return d.H.useFormState(p,m,b)},St.useFormStatus=function(){return d.H.useHostTransitionStatus()},St.version="19.1.0",St}var Cy;function l1(){if(Cy)return Vf.exports;Cy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Vf.exports=i1(),Vf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function u1(){if(Oy)return Si;Oy=1;var r=s1(),t=Ld(),a=l1();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(o(e)!==e)throw Error(s(188))}function p(e){var n=e.alternate;if(!n){if(n=o(e),n===null)throw Error(s(188));return n!==e?null:e}for(var i=e,l=n;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){i=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return h(c),e;if(f===l)return h(c),n;f=f.sibling}throw Error(s(188))}if(i.return!==l.return)i=c,l=f;else{for(var g=!1,v=c.child;v;){if(v===i){g=!0,i=c,l=f;break}if(v===l){g=!0,l=c,i=f;break}v=v.sibling}if(!g){for(v=f.child;v;){if(v===i){g=!0,i=f,l=c;break}if(v===l){g=!0,l=f,i=c;break}v=v.sibling}if(!g)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function ge(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var Ct=Symbol.for("react.client.reference");function ut(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ct?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case R:return"Profiler";case z:return"StrictMode";case Q:return"Suspense";case ie:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case Z:return(e.displayName||"Context")+".Provider";case C:return(e._context.displayName||"Context")+".Consumer";case G:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return n=e.displayName||null,n!==null?n:ut(e.type)||"Memo";case we:n=e._payload,e=e._init;try{return ut(e(n))}catch{}}return null}var Ve=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},$e=[],A=-1;function q(e){return{current:e}}function J(e){0>A||(e.current=$e[A],$e[A]=null,A--)}function I(e,n){A++,$e[A]=e.current,e.current=n}var ue=q(null),Re=q(null),pe=q(null),Ut=q(null);function Ye(e,n){switch(I(pe,n),I(Re,e),I(ue,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Kg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Kg(n),e=Fg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ue),I(ue,e)}function ia(){J(ue),J(Re),J(pe)}function wc(e){e.memoizedState!==null&&I(Ut,e);var n=ue.current,i=Fg(n,e.type);n!==i&&(I(Re,e),I(ue,i))}function cl(e){Re.current===e&&(J(ue),J(Re)),Ut.current===e&&(J(Ut),yi._currentValue=fe)}var Sc=Object.prototype.hasOwnProperty,Ac=r.unstable_scheduleCallback,Ec=r.unstable_cancelCallback,jb=r.unstable_shouldYield,kb=r.unstable_requestPaint,wn=r.unstable_now,Mb=r.unstable_getCurrentPriorityLevel,Oh=r.unstable_ImmediatePriority,jh=r.unstable_UserBlockingPriority,ol=r.unstable_NormalPriority,Db=r.unstable_LowPriority,kh=r.unstable_IdlePriority,zb=r.log,Ub=r.unstable_setDisableYieldValue,Es=null,Lt=null;function la(e){if(typeof zb=="function"&&Ub(e),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Es,e)}catch{}}var Bt=Math.clz32?Math.clz32:Zb,Lb=Math.log,Bb=Math.LN2;function Zb(e){return e>>>=0,e===0?32:31-(Lb(e)/Bb|0)|0}var fl=256,dl=4194304;function $a(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hl(e,n,i){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var v=l&134217727;return v!==0?(l=v&~f,l!==0?c=$a(l):(g&=v,g!==0?c=$a(g):i||(i=v&~e,i!==0&&(c=$a(i))))):(v=l&~f,v!==0?c=$a(v):g!==0?c=$a(g):i||(i=l&~e,i!==0&&(c=$a(i)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,i=n&-n,f>=i||f===32&&(i&4194048)!==0)?n:c}function Ns(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Pb(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mh(){var e=fl;return fl<<=1,(fl&4194048)===0&&(fl=256),e}function Dh(){var e=dl;return dl<<=1,(dl&62914560)===0&&(dl=4194304),e}function Nc(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Ts(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $b(e,n,i,l,c,f){var g=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var v=e.entanglements,x=e.expirationTimes,k=e.hiddenUpdates;for(i=g&~i;0<i;){var B=31-Bt(i),H=1<<B;v[B]=0,x[B]=-1;var M=k[B];if(M!==null)for(k[B]=null,B=0;B<M.length;B++){var D=M[B];D!==null&&(D.lane&=-536870913)}i&=~H}l!==0&&zh(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function zh(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Bt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|i&4194090}function Uh(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-Bt(i),c=1<<l;c&n|e[l]&n&&(e[l]|=n),i&=~c}}function Tc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Rc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Lh(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:gy(e.type))}function Hb(e,n){var i=K.p;try{return K.p=e,n()}finally{K.p=i}}var ua=Math.random().toString(36).slice(2),xt="__reactFiber$"+ua,Ot="__reactProps$"+ua,br="__reactContainer$"+ua,Cc="__reactEvents$"+ua,qb="__reactListeners$"+ua,Vb="__reactHandles$"+ua,Bh="__reactResources$"+ua,Rs="__reactMarker$"+ua;function Oc(e){delete e[xt],delete e[Ot],delete e[Cc],delete e[qb],delete e[Vb]}function _r(e){var n=e[xt];if(n)return n;for(var i=e.parentNode;i;){if(n=i[br]||i[xt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=ty(e);e!==null;){if(i=e[xt])return i;e=ty(e)}return n}e=i,i=e.parentNode}return null}function xr(e){if(e=e[xt]||e[br]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Cs(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function wr(e){var n=e[Bh];return n||(n=e[Bh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ct(e){e[Rs]=!0}var Zh=new Set,Ph={};function Ha(e,n){Sr(e,n),Sr(e+"Capture",n)}function Sr(e,n){for(Ph[e]=n,e=0;e<n.length;e++)Zh.add(n[e])}var Yb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$h={},Hh={};function Gb(e){return Sc.call(Hh,e)?!0:Sc.call($h,e)?!1:Yb.test(e)?Hh[e]=!0:($h[e]=!0,!1)}function ml(e,n,i){if(Gb(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function pl(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Bn(e,n,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+l)}}var jc,qh;function Ar(e){if(jc===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);jc=n&&n[1]||"",qh=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jc+e+qh}var kc=!1;function Mc(e,n){if(!e||kc)return"";kc=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(D){var M=D}Reflect.construct(e,[],H)}else{try{H.call()}catch(D){M=D}e.call(H.prototype)}}else{try{throw Error()}catch(D){M=D}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(D){if(D&&M&&typeof D.stack=="string")return[D.stack,M.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],v=f[1];if(g&&v){var x=g.split(`
`),k=v.split(`
`);for(c=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===x.length||c===k.length)for(l=x.length-1,c=k.length-1;1<=l&&0<=c&&x[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(x[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||x[l]!==k[c]){var B=`
`+x[l].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=l&&0<=c);break}}}finally{kc=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Ar(i):""}function Xb(e){switch(e.tag){case 26:case 27:case 5:return Ar(e.type);case 16:return Ar("Lazy");case 13:return Ar("Suspense");case 19:return Ar("SuspenseList");case 0:case 15:return Mc(e.type,!1);case 11:return Mc(e.type.render,!1);case 1:return Mc(e.type,!0);case 31:return Ar("Activity");default:return""}}function Vh(e){try{var n="";do n+=Xb(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yh(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qb(e){var n=Yh(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function gl(e){e._valueTracker||(e._valueTracker=Qb(e))}function Gh(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return e&&(l=Yh(e)?e.checked?"true":"false":e.value),e=l,e!==i?(n.setValue(e),!0):!1}function yl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ib=/[\n"\\]/g;function Ft(e){return e.replace(Ib,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Dc(e,n,i,l,c,f,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Kt(n)):e.value!==""+Kt(n)&&(e.value=""+Kt(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?zc(e,g,Kt(n)):i!=null?zc(e,g,Kt(i)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Kt(v):e.removeAttribute("name")}function Xh(e,n,i,l,c,f,g,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;i=i!=null?""+Kt(i):"",n=n!=null?""+Kt(n):i,v||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=v?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function zc(e,n,i){n==="number"&&yl(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Er(e,n,i,l){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&l&&(e[i].defaultSelected=!0)}else{for(i=""+Kt(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Qh(e,n,i){if(n!=null&&(n=""+Kt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Kt(i):""}function Ih(e,n,i,l){if(n==null){if(l!=null){if(i!=null)throw Error(s(92));if(Ve(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),n=i}i=Kt(n),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l)}function Nr(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Kb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kh(e,n,i){var l=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,i):typeof i!="number"||i===0||Kb.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Fh(e,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&i[c]!==l&&Kh(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Kh(e,f,n[f])}function Uc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vl(e){return Jb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Lc=null;function Bc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tr=null,Rr=null;function Jh(e){var n=xr(e);if(n&&(e=n.stateNode)){var i=e[Ot]||null;e:switch(e=n.stateNode,n.type){case"input":if(Dc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ft(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==e&&l.form===e.form){var c=l[Ot]||null;if(!c)throw Error(s(90));Dc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<i.length;n++)l=i[n],l.form===e.form&&Gh(l)}break e;case"textarea":Qh(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Er(e,!!i.multiple,n,!1)}}}var Zc=!1;function Wh(e,n,i){if(Zc)return e(n,i);Zc=!0;try{var l=e(n);return l}finally{if(Zc=!1,(Tr!==null||Rr!==null)&&(au(),Tr&&(n=Tr,e=Rr,Rr=Tr=null,Jh(n),e)))for(n=0;n<e.length;n++)Jh(e[n])}}function Os(e,n){var i=e.stateNode;if(i===null)return null;var l=i[Ot]||null;if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=!1;if(Zn)try{var js={};Object.defineProperty(js,"passive",{get:function(){Pc=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Pc=!1}var ca=null,$c=null,bl=null;function em(){if(bl)return bl;var e,n=$c,i=n.length,l,c="value"in ca?ca.value:ca.textContent,f=c.length;for(e=0;e<i&&n[e]===c[e];e++);var g=i-e;for(l=1;l<=g&&n[i-l]===c[f-l];l++);return bl=c.slice(e,1<l?1-l:void 0)}function _l(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xl(){return!0}function tm(){return!1}function jt(e){function n(i,l,c,f,g){this._reactName=i,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(i=e[v],this[v]=i?i(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xl:tm,this.isPropagationStopped=tm,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),n}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wl=jt(qa),ks=b({},qa,{view:0,detail:0}),Wb=jt(ks),Hc,qc,Ms,Sl=b({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ms&&(Ms&&e.type==="mousemove"?(Hc=e.screenX-Ms.screenX,qc=e.screenY-Ms.screenY):qc=Hc=0,Ms=e),Hc)},movementY:function(e){return"movementY"in e?e.movementY:qc}}),nm=jt(Sl),e_=b({},Sl,{dataTransfer:0}),t_=jt(e_),n_=b({},ks,{relatedTarget:0}),Vc=jt(n_),a_=b({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),r_=jt(a_),s_=b({},qa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),i_=jt(s_),l_=b({},qa,{data:0}),am=jt(l_),u_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f_(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=o_[e])?!!n[e]:!1}function Yc(){return f_}var d_=b({},ks,{key:function(e){if(e.key){var n=u_[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_l(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?c_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yc,charCode:function(e){return e.type==="keypress"?_l(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_l(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),h_=jt(d_),m_=b({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rm=jt(m_),p_=b({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yc}),g_=jt(p_),y_=b({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),v_=jt(y_),b_=b({},Sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),__=jt(b_),x_=b({},qa,{newState:0,oldState:0}),w_=jt(x_),S_=[9,13,27,32],Gc=Zn&&"CompositionEvent"in window,Ds=null;Zn&&"documentMode"in document&&(Ds=document.documentMode);var A_=Zn&&"TextEvent"in window&&!Ds,sm=Zn&&(!Gc||Ds&&8<Ds&&11>=Ds),im=" ",lm=!1;function um(e,n){switch(e){case"keyup":return S_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cr=!1;function E_(e,n){switch(e){case"compositionend":return cm(n);case"keypress":return n.which!==32?null:(lm=!0,im);case"textInput":return e=n.data,e===im&&lm?null:e;default:return null}}function N_(e,n){if(Cr)return e==="compositionend"||!Gc&&um(e,n)?(e=em(),bl=$c=ca=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return sm&&n.locale!=="ko"?null:n.data;default:return null}}var T_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function om(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!T_[e.type]:n==="textarea"}function fm(e,n,i,l){Tr?Rr?Rr.push(l):Rr=[l]:Tr=l,n=cu(n,"onChange"),0<n.length&&(i=new wl("onChange","change",null,i,l),e.push({event:i,listeners:n}))}var zs=null,Us=null;function R_(e){Yg(e,0)}function Al(e){var n=Cs(e);if(Gh(n))return e}function dm(e,n){if(e==="change")return n}var hm=!1;if(Zn){var Xc;if(Zn){var Qc="oninput"in document;if(!Qc){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),Qc=typeof mm.oninput=="function"}Xc=Qc}else Xc=!1;hm=Xc&&(!document.documentMode||9<document.documentMode)}function pm(){zs&&(zs.detachEvent("onpropertychange",gm),Us=zs=null)}function gm(e){if(e.propertyName==="value"&&Al(Us)){var n=[];fm(n,Us,e,Bc(e)),Wh(R_,n)}}function C_(e,n,i){e==="focusin"?(pm(),zs=n,Us=i,zs.attachEvent("onpropertychange",gm)):e==="focusout"&&pm()}function O_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Al(Us)}function j_(e,n){if(e==="click")return Al(n)}function k_(e,n){if(e==="input"||e==="change")return Al(n)}function M_(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Zt=typeof Object.is=="function"?Object.is:M_;function Ls(e,n){if(Zt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var c=i[l];if(!Sc.call(n,c)||!Zt(e[c],n[c]))return!1}return!0}function ym(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vm(e,n){var i=ym(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=n&&l>=n)return{node:i,offset:n-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ym(i)}}function bm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?bm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function _m(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=yl(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=yl(e.document)}return n}function Ic(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var D_=Zn&&"documentMode"in document&&11>=document.documentMode,Or=null,Kc=null,Bs=null,Fc=!1;function xm(e,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Fc||Or==null||Or!==yl(l)||(l=Or,"selectionStart"in l&&Ic(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bs&&Ls(Bs,l)||(Bs=l,l=cu(Kc,"onSelect"),0<l.length&&(n=new wl("onSelect","select",null,n,i),e.push({event:n,listeners:l}),n.target=Or)))}function Va(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var jr={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},Jc={},wm={};Zn&&(wm=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function Ya(e){if(Jc[e])return Jc[e];if(!jr[e])return e;var n=jr[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in wm)return Jc[e]=n[i];return e}var Sm=Ya("animationend"),Am=Ya("animationiteration"),Em=Ya("animationstart"),z_=Ya("transitionrun"),U_=Ya("transitionstart"),L_=Ya("transitioncancel"),Nm=Ya("transitionend"),Tm=new Map,Wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wc.push("scrollEnd");function ln(e,n){Tm.set(e,n),Ha(n,[e])}var Rm=new WeakMap;function Jt(e,n){if(typeof e=="object"&&e!==null){var i=Rm.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Vh(n)},Rm.set(e,n),n)}return{value:e,source:n,stack:Vh(n)}}var Wt=[],kr=0,eo=0;function El(){for(var e=kr,n=eo=kr=0;n<e;){var i=Wt[n];Wt[n++]=null;var l=Wt[n];Wt[n++]=null;var c=Wt[n];Wt[n++]=null;var f=Wt[n];if(Wt[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Cm(i,c,f)}}function Nl(e,n,i,l){Wt[kr++]=e,Wt[kr++]=n,Wt[kr++]=i,Wt[kr++]=l,eo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function to(e,n,i,l){return Nl(e,n,i,l),Tl(e)}function Mr(e,n){return Nl(e,null,null,n),Tl(e)}function Cm(e,n,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var c=!1,f=e.return;f!==null;)f.childLanes|=i,l=f.alternate,l!==null&&(l.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-Bt(i),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=i|536870912),f):null}function Tl(e){if(50<ci)throw ci=0,cf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Dr={};function B_(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,n,i,l){return new B_(e,n,i,l)}function no(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pn(e,n){var i=e.alternate;return i===null?(i=Pt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Om(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Rl(e,n,i,l,c,f){var g=0;if(l=e,typeof e=="function")no(e)&&(g=1);else if(typeof e=="string")g=Px(e,i,ue.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case V:return e=Pt(31,i,n,c),e.elementType=V,e.lanes=f,e;case N:return Ga(i.children,c,f,n);case z:g=8,c|=24;break;case R:return e=Pt(12,i,n,c|2),e.elementType=R,e.lanes=f,e;case Q:return e=Pt(13,i,n,c),e.elementType=Q,e.lanes=f,e;case ie:return e=Pt(19,i,n,c),e.elementType=ie,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:case Z:g=10;break e;case C:g=9;break e;case G:g=11;break e;case W:g=14;break e;case we:g=16,l=null;break e}g=29,i=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=Pt(g,i,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function Ga(e,n,i,l){return e=Pt(7,e,l,n),e.lanes=i,e}function ao(e,n,i){return e=Pt(6,e,null,n),e.lanes=i,e}function ro(e,n,i){return n=Pt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var zr=[],Ur=0,Cl=null,Ol=0,en=[],tn=0,Xa=null,$n=1,Hn="";function Qa(e,n){zr[Ur++]=Ol,zr[Ur++]=Cl,Cl=e,Ol=n}function jm(e,n,i){en[tn++]=$n,en[tn++]=Hn,en[tn++]=Xa,Xa=e;var l=$n;e=Hn;var c=32-Bt(l)-1;l&=~(1<<c),i+=1;var f=32-Bt(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,$n=1<<32-Bt(n)+c|i<<c|l,Hn=f+e}else $n=1<<f|i<<c|l,Hn=e}function so(e){e.return!==null&&(Qa(e,1),jm(e,1,0))}function io(e){for(;e===Cl;)Cl=zr[--Ur],zr[Ur]=null,Ol=zr[--Ur],zr[Ur]=null;for(;e===Xa;)Xa=en[--tn],en[tn]=null,Hn=en[--tn],en[tn]=null,$n=en[--tn],en[tn]=null}var Nt=null,Fe=null,je=!1,Ia=null,Sn=!1,lo=Error(s(519));function Ka(e){var n=Error(s(418,""));throw $s(Jt(n,e)),lo}function km(e){var n=e.stateNode,i=e.type,l=e.memoizedProps;switch(n[xt]=e,n[Ot]=l,i){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(i=0;i<fi.length;i++)Ee(fi[i],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":Ee("invalid",n),Xh(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),gl(n);break;case"select":Ee("invalid",n);break;case"textarea":Ee("invalid",n),Ih(n,l.value,l.defaultValue,l.children),gl(n)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||l.suppressHydrationWarning===!0||Ig(n.textContent,i)?(l.popover!=null&&(Ee("beforetoggle",n),Ee("toggle",n)),l.onScroll!=null&&Ee("scroll",n),l.onScrollEnd!=null&&Ee("scrollend",n),l.onClick!=null&&(n.onclick=ou),n=!0):n=!1,n||Ka(e)}function Mm(e){for(Nt=e.return;Nt;)switch(Nt.tag){case 5:case 13:Sn=!1;return;case 27:case 3:Sn=!0;return;default:Nt=Nt.return}}function Zs(e){if(e!==Nt)return!1;if(!je)return Mm(e),je=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Ef(e.type,e.memoizedProps)),i=!i),i&&Fe&&Ka(e),Mm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){Fe=cn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}Fe=null}}else n===27?(n=Fe,Ea(e.type)?(e=Cf,Cf=null,Fe=e):Fe=n):Fe=Nt?cn(e.stateNode.nextSibling):null;return!0}function Ps(){Fe=Nt=null,je=!1}function Dm(){var e=Ia;return e!==null&&(Dt===null?Dt=e:Dt.push.apply(Dt,e),Ia=null),e}function $s(e){Ia===null?Ia=[e]:Ia.push(e)}var uo=q(null),Fa=null,qn=null;function oa(e,n,i){I(uo,n._currentValue),n._currentValue=i}function Vn(e){e._currentValue=uo.current,J(uo)}function co(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function oo(e,n,i,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=c;for(var x=0;x<n.length;x++)if(v.context===n[x]){f.lanes|=i,v=f.alternate,v!==null&&(v.lanes|=i),co(f.return,i,e),l||(g=null);break e}f=v.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=i,f=g.alternate,f!==null&&(f.lanes|=i),co(g,i,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Hs(e,n,i,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var v=c.type;Zt(c.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(c===Ut.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(yi):e=[yi])}c=c.return}e!==null&&oo(n,e,i,l),n.flags|=262144}function jl(e){for(e=e.firstContext;e!==null;){if(!Zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ja(e){Fa=e,qn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function wt(e){return zm(Fa,e)}function kl(e,n){return Fa===null&&Ja(e),zm(e,n)}function zm(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},qn===null){if(e===null)throw Error(s(308));qn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else qn=qn.next=n;return i}var Z_=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},P_=r.unstable_scheduleCallback,$_=r.unstable_NormalPriority,rt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fo(){return{controller:new Z_,data:new Map,refCount:0}}function qs(e){e.refCount--,e.refCount===0&&P_($_,function(){e.controller.abort()})}var Vs=null,ho=0,Lr=0,Br=null;function H_(e,n){if(Vs===null){var i=Vs=[];ho=0,Lr=gf(),Br={status:"pending",value:void 0,then:function(l){i.push(l)}}}return ho++,n.then(Um,Um),n}function Um(){if(--ho===0&&Vs!==null){Br!==null&&(Br.status="fulfilled");var e=Vs;Vs=null,Lr=0,Br=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function q_(e,n){var i=[],l={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<i.length;c++)(0,i[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),l}var Lm=P.S;P.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&H_(e,n),Lm!==null&&Lm(e,n)};var Wa=q(null);function mo(){var e=Wa.current;return e!==null?e:qe.pooledCache}function Ml(e,n){n===null?I(Wa,Wa.current):I(Wa,n.pool)}function Bm(){var e=mo();return e===null?null:{parent:rt._currentValue,pool:e}}var Ys=Error(s(460)),Zm=Error(s(474)),Dl=Error(s(542)),po={then:function(){}};function Pm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zl(){}function $m(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(zl,zl),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qm(e),e;default:if(typeof n.status=="string")n.then(zl,zl);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qm(e),e}throw Gs=n,Ys}}var Gs=null;function Hm(){if(Gs===null)throw Error(s(459));var e=Gs;return Gs=null,e}function qm(e){if(e===Ys||e===Dl)throw Error(s(483))}var fa=!1;function go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yo(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function da(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ha(e,n,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Me&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Tl(e),Cm(e,null,i),n}return Nl(e,l,n,i),Tl(e)}function Xs(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,Uh(e,i)}}function vo(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=n:f=f.next=n}else c=f=n;i={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var bo=!1;function Qs(){if(bo){var e=Br;if(e!==null)throw e}}function Is(e,n,i,l){bo=!1;var c=e.updateQueue;fa=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var x=v,k=x.next;x.next=null,g===null?f=k:g.next=k,g=x;var B=e.alternate;B!==null&&(B=B.updateQueue,v=B.lastBaseUpdate,v!==g&&(v===null?B.firstBaseUpdate=k:v.next=k,B.lastBaseUpdate=x))}if(f!==null){var H=c.baseState;g=0,B=k=x=null,v=f;do{var M=v.lane&-536870913,D=M!==v.lane;if(D?(Ne&M)===M:(l&M)===M){M!==0&&M===Lr&&(bo=!0),B!==null&&(B=B.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var de=e,ce=v;M=n;var Ze=i;switch(ce.tag){case 1:if(de=ce.payload,typeof de=="function"){H=de.call(Ze,H,M);break e}H=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ce.payload,M=typeof de=="function"?de.call(Ze,H,M):de,M==null)break e;H=b({},H,M);break e;case 2:fa=!0}}M=v.callback,M!==null&&(e.flags|=64,D&&(e.flags|=8192),D=c.callbacks,D===null?c.callbacks=[M]:D.push(M))}else D={lane:M,tag:v.tag,payload:v.payload,callback:v.callback,next:null},B===null?(k=B=D,x=H):B=B.next=D,g|=M;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;D=v,v=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);B===null&&(x=H),c.baseState=x,c.firstBaseUpdate=k,c.lastBaseUpdate=B,f===null&&(c.shared.lanes=0),xa|=g,e.lanes=g,e.memoizedState=H}}function Vm(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Ym(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Vm(i[e],n)}var Zr=q(null),Ul=q(0);function Gm(e,n){e=Fn,I(Ul,e),I(Zr,n),Fn=e|n.baseLanes}function _o(){I(Ul,Fn),I(Zr,Zr.current)}function xo(){Fn=Ul.current,J(Zr),J(Ul)}var ma=0,xe=null,Le=null,nt=null,Ll=!1,Pr=!1,er=!1,Bl=0,Ks=0,$r=null,V_=0;function et(){throw Error(s(321))}function wo(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Zt(e[i],n[i]))return!1;return!0}function So(e,n,i,l,c,f){return ma=f,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,P.H=e===null||e.memoizedState===null?Cp:Op,er=!1,f=i(l,c),er=!1,Pr&&(f=Qm(n,i,l,c)),Xm(e),f}function Xm(e){P.H=Vl;var n=Le!==null&&Le.next!==null;if(ma=0,nt=Le=xe=null,Ll=!1,Ks=0,$r=null,n)throw Error(s(300));e===null||ot||(e=e.dependencies,e!==null&&jl(e)&&(ot=!0))}function Qm(e,n,i,l){xe=e;var c=0;do{if(Pr&&($r=null),Ks=0,Pr=!1,25<=c)throw Error(s(301));if(c+=1,nt=Le=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}P.H=F_,f=n(i,l)}while(Pr);return f}function Y_(){var e=P.H,n=e.useState()[0];return n=typeof n.then=="function"?Fs(n):n,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(xe.flags|=1024),n}function Ao(){var e=Bl!==0;return Bl=0,e}function Eo(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function No(e){if(Ll){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ll=!1}ma=0,nt=Le=xe=null,Pr=!1,Ks=Bl=0,$r=null}function kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?xe.memoizedState=nt=e:nt=nt.next=e,nt}function at(){if(Le===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var n=nt===null?xe.memoizedState:nt.next;if(n!==null)nt=n,Le=e;else{if(e===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},nt===null?xe.memoizedState=nt=e:nt=nt.next=e}return nt}function To(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fs(e){var n=Ks;return Ks+=1,$r===null&&($r=[]),e=$m($r,e,n),n=xe,(nt===null?n.memoizedState:nt.next)===null&&(n=n.alternate,P.H=n===null||n.memoizedState===null?Cp:Op),e}function Zl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fs(e);if(e.$$typeof===Z)return wt(e)}throw Error(s(438,String(e)))}function Ro(e){var n=null,i=xe.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=To(),xe.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),l=0;l<e;l++)i[l]=le;return n.index++,i}function Yn(e,n){return typeof n=="function"?n(e):n}function Pl(e){var n=at();return Co(n,Le,e)}function Co(e,n,i){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var v=g=null,x=null,k=n,B=!1;do{var H=k.lane&-536870913;if(H!==k.lane?(Ne&H)===H:(ma&H)===H){var M=k.revertLane;if(M===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),H===Lr&&(B=!0);else if((ma&M)===M){k=k.next,M===Lr&&(B=!0);continue}else H={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},x===null?(v=x=H,g=f):x=x.next=H,xe.lanes|=M,xa|=M;H=k.action,er&&i(f,H),f=k.hasEagerState?k.eagerState:i(f,H)}else M={lane:H,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},x===null?(v=x=M,g=f):x=x.next=M,xe.lanes|=H,xa|=H;k=k.next}while(k!==null&&k!==n);if(x===null?g=f:x.next=v,!Zt(f,e.memoizedState)&&(ot=!0,B&&(i=Br,i!==null)))throw i;e.memoizedState=f,e.baseState=g,e.baseQueue=x,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Oo(e){var n=at(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var l=i.dispatch,c=i.pending,f=n.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);Zt(f,n.memoizedState)||(ot=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,l]}function Im(e,n,i){var l=xe,c=at(),f=je;if(f){if(i===void 0)throw Error(s(407));i=i()}else i=n();var g=!Zt((Le||c).memoizedState,i);g&&(c.memoizedState=i,ot=!0),c=c.queue;var v=Jm.bind(null,l,c,e);if(Js(2048,8,v,[e]),c.getSnapshot!==n||g||nt!==null&&nt.memoizedState.tag&1){if(l.flags|=2048,Hr(9,$l(),Fm.bind(null,l,c,i,n),null),qe===null)throw Error(s(349));f||(ma&124)!==0||Km(l,n,i)}return i}function Km(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=xe.updateQueue,n===null?(n=To(),xe.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Fm(e,n,i,l){n.value=i,n.getSnapshot=l,Wm(n)&&ep(e)}function Jm(e,n,i){return i(function(){Wm(n)&&ep(e)})}function Wm(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Zt(e,i)}catch{return!0}}function ep(e){var n=Mr(e,2);n!==null&&Yt(n,e,2)}function jo(e){var n=kt();if(typeof e=="function"){var i=e;if(e=i(),er){la(!0);try{i()}finally{la(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:e},n}function tp(e,n,i,l){return e.baseState=i,Co(e,Le,typeof l=="function"?l:Yn)}function G_(e,n,i,l,c){if(ql(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};P.T!==null?i(!0):f.isTransition=!1,l(f),i=n.pending,i===null?(f.next=n.pending=f,np(n,f)):(f.next=i.next,n.pending=i.next=f)}}function np(e,n){var i=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=P.T,g={};P.T=g;try{var v=i(c,l),x=P.S;x!==null&&x(g,v),ap(e,n,v)}catch(k){ko(e,n,k)}finally{P.T=f}}else try{f=i(c,l),ap(e,n,f)}catch(k){ko(e,n,k)}}function ap(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){rp(e,n,l)},function(l){return ko(e,n,l)}):rp(e,n,i)}function rp(e,n,i){n.status="fulfilled",n.value=i,sp(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,np(e,i)))}function ko(e,n,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=i,sp(n),n=n.next;while(n!==l)}e.action=null}function sp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ip(e,n){return n}function lp(e,n){if(je){var i=qe.formState;if(i!==null){e:{var l=xe;if(je){if(Fe){t:{for(var c=Fe,f=Sn;c.nodeType!==8;){if(!f){c=null;break t}if(c=cn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Fe=cn(c.nextSibling),l=c.data==="F!";break e}}Ka(l)}l=!1}l&&(n=i[0])}}return i=kt(),i.memoizedState=i.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ip,lastRenderedState:n},i.queue=l,i=Np.bind(null,xe,l),l.dispatch=i,l=jo(!1),f=Lo.bind(null,xe,!1,l.queue),l=kt(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,i=G_.bind(null,xe,c,f,i),c.dispatch=i,l.memoizedState=e,[n,i,!1]}function up(e){var n=at();return cp(n,Le,e)}function cp(e,n,i){if(n=Co(e,n,ip)[0],e=Pl(Yn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Fs(n)}catch(g){throw g===Ys?Dl:g}else l=n;n=at();var c=n.queue,f=c.dispatch;return i!==n.memoizedState&&(xe.flags|=2048,Hr(9,$l(),X_.bind(null,c,i),null)),[l,f,e]}function X_(e,n){e.action=n}function op(e){var n=at(),i=Le;if(i!==null)return cp(n,i,e);at(),n=n.memoizedState,i=at();var l=i.queue.dispatch;return i.memoizedState=e,[n,l,!1]}function Hr(e,n,i,l){return e={tag:e,create:i,deps:l,inst:n,next:null},n=xe.updateQueue,n===null&&(n=To(),xe.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e),e}function $l(){return{destroy:void 0,resource:void 0}}function fp(){return at().memoizedState}function Hl(e,n,i,l){var c=kt();l=l===void 0?null:l,xe.flags|=e,c.memoizedState=Hr(1|n,$l(),i,l)}function Js(e,n,i,l){var c=at();l=l===void 0?null:l;var f=c.memoizedState.inst;Le!==null&&l!==null&&wo(l,Le.memoizedState.deps)?c.memoizedState=Hr(n,f,i,l):(xe.flags|=e,c.memoizedState=Hr(1|n,f,i,l))}function dp(e,n){Hl(8390656,8,e,n)}function hp(e,n){Js(2048,8,e,n)}function mp(e,n){return Js(4,2,e,n)}function pp(e,n){return Js(4,4,e,n)}function gp(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function yp(e,n,i){i=i!=null?i.concat([e]):null,Js(4,4,gp.bind(null,n,e),i)}function Mo(){}function vp(e,n){var i=at();n=n===void 0?null:n;var l=i.memoizedState;return n!==null&&wo(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function bp(e,n){var i=at();n=n===void 0?null:n;var l=i.memoizedState;if(n!==null&&wo(n,l[1]))return l[0];if(l=e(),er){la(!0);try{e()}finally{la(!1)}}return i.memoizedState=[l,n],l}function Do(e,n,i){return i===void 0||(ma&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=wg(),xe.lanes|=e,xa|=e,i)}function _p(e,n,i,l){return Zt(i,n)?i:Zr.current!==null?(e=Do(e,i,l),Zt(e,n)||(ot=!0),e):(ma&42)===0?(ot=!0,e.memoizedState=i):(e=wg(),xe.lanes|=e,xa|=e,n)}function xp(e,n,i,l,c){var f=K.p;K.p=f!==0&&8>f?f:8;var g=P.T,v={};P.T=v,Lo(e,!1,n,i);try{var x=c(),k=P.S;if(k!==null&&k(v,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var B=q_(x,l);Ws(e,n,B,Vt(e))}else Ws(e,n,l,Vt(e))}catch(H){Ws(e,n,{then:function(){},status:"rejected",reason:H},Vt())}finally{K.p=f,P.T=g}}function Q_(){}function zo(e,n,i,l){if(e.tag!==5)throw Error(s(476));var c=wp(e).queue;xp(e,c,n,fe,i===null?Q_:function(){return Sp(e),i(l)})}function wp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:fe},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Sp(e){var n=wp(e).next.queue;Ws(e,n,{},Vt())}function Uo(){return wt(yi)}function Ap(){return at().memoizedState}function Ep(){return at().memoizedState}function I_(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Vt();e=da(i);var l=ha(n,e,i);l!==null&&(Yt(l,n,i),Xs(l,n,i)),n={cache:fo()},e.payload=n;return}n=n.return}}function K_(e,n,i){var l=Vt();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},ql(e)?Tp(n,i):(i=to(e,n,i,l),i!==null&&(Yt(i,e,l),Rp(i,n,l)))}function Np(e,n,i){var l=Vt();Ws(e,n,i,l)}function Ws(e,n,i,l){var c={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(ql(e))Tp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,v=f(g,i);if(c.hasEagerState=!0,c.eagerState=v,Zt(v,g))return Nl(e,n,c,0),qe===null&&El(),!1}catch{}finally{}if(i=to(e,n,c,l),i!==null)return Yt(i,e,l),Rp(i,n,l),!0}return!1}function Lo(e,n,i,l){if(l={lane:2,revertLane:gf(),action:l,hasEagerState:!1,eagerState:null,next:null},ql(e)){if(n)throw Error(s(479))}else n=to(e,i,l,2),n!==null&&Yt(n,e,2)}function ql(e){var n=e.alternate;return e===xe||n!==null&&n===xe}function Tp(e,n){Pr=Ll=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Rp(e,n,i){if((i&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,Uh(e,i)}}var Vl={readContext:wt,use:Zl,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et},Cp={readContext:wt,use:Zl,useCallback:function(e,n){return kt().memoizedState=[e,n===void 0?null:n],e},useContext:wt,useEffect:dp,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Hl(4194308,4,gp.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Hl(4194308,4,e,n)},useInsertionEffect:function(e,n){Hl(4,2,e,n)},useMemo:function(e,n){var i=kt();n=n===void 0?null:n;var l=e();if(er){la(!0);try{e()}finally{la(!1)}}return i.memoizedState=[l,n],l},useReducer:function(e,n,i){var l=kt();if(i!==void 0){var c=i(n);if(er){la(!0);try{i(n)}finally{la(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=K_.bind(null,xe,e),[l.memoizedState,e]},useRef:function(e){var n=kt();return e={current:e},n.memoizedState=e},useState:function(e){e=jo(e);var n=e.queue,i=Np.bind(null,xe,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Mo,useDeferredValue:function(e,n){var i=kt();return Do(i,e,n)},useTransition:function(){var e=jo(!1);return e=xp.bind(null,xe,e.queue,!0,!1),kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var l=xe,c=kt();if(je){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),qe===null)throw Error(s(349));(Ne&124)!==0||Km(l,n,i)}c.memoizedState=i;var f={value:i,getSnapshot:n};return c.queue=f,dp(Jm.bind(null,l,f,e),[e]),l.flags|=2048,Hr(9,$l(),Fm.bind(null,l,f,i,n),null),i},useId:function(){var e=kt(),n=qe.identifierPrefix;if(je){var i=Hn,l=$n;i=(l&~(1<<32-Bt(l)-1)).toString(32)+i,n=""+n+"R"+i,i=Bl++,0<i&&(n+="H"+i.toString(32)),n+=""}else i=V_++,n=""+n+"r"+i.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Uo,useFormState:lp,useActionState:lp,useOptimistic:function(e){var n=kt();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Lo.bind(null,xe,!0,i),i.dispatch=n,[e,n]},useMemoCache:Ro,useCacheRefresh:function(){return kt().memoizedState=I_.bind(null,xe)}},Op={readContext:wt,use:Zl,useCallback:vp,useContext:wt,useEffect:hp,useImperativeHandle:yp,useInsertionEffect:mp,useLayoutEffect:pp,useMemo:bp,useReducer:Pl,useRef:fp,useState:function(){return Pl(Yn)},useDebugValue:Mo,useDeferredValue:function(e,n){var i=at();return _p(i,Le.memoizedState,e,n)},useTransition:function(){var e=Pl(Yn)[0],n=at().memoizedState;return[typeof e=="boolean"?e:Fs(e),n]},useSyncExternalStore:Im,useId:Ap,useHostTransitionStatus:Uo,useFormState:up,useActionState:up,useOptimistic:function(e,n){var i=at();return tp(i,Le,e,n)},useMemoCache:Ro,useCacheRefresh:Ep},F_={readContext:wt,use:Zl,useCallback:vp,useContext:wt,useEffect:hp,useImperativeHandle:yp,useInsertionEffect:mp,useLayoutEffect:pp,useMemo:bp,useReducer:Oo,useRef:fp,useState:function(){return Oo(Yn)},useDebugValue:Mo,useDeferredValue:function(e,n){var i=at();return Le===null?Do(i,e,n):_p(i,Le.memoizedState,e,n)},useTransition:function(){var e=Oo(Yn)[0],n=at().memoizedState;return[typeof e=="boolean"?e:Fs(e),n]},useSyncExternalStore:Im,useId:Ap,useHostTransitionStatus:Uo,useFormState:op,useActionState:op,useOptimistic:function(e,n){var i=at();return Le!==null?tp(i,Le,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Ro,useCacheRefresh:Ep},qr=null,ei=0;function Yl(e){var n=ei;return ei+=1,qr===null&&(qr=[]),$m(qr,e,n)}function ti(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Gl(e,n){throw n.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function jp(e){var n=e._init;return n(e._payload)}function kp(e){function n(T,E){if(e){var j=T.deletions;j===null?(T.deletions=[E],T.flags|=16):j.push(E)}}function i(T,E){if(!e)return null;for(;E!==null;)n(T,E),E=E.sibling;return null}function l(T){for(var E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function c(T,E){return T=Pn(T,E),T.index=0,T.sibling=null,T}function f(T,E,j){return T.index=j,e?(j=T.alternate,j!==null?(j=j.index,j<E?(T.flags|=67108866,E):j):(T.flags|=67108866,E)):(T.flags|=1048576,E)}function g(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function v(T,E,j,$){return E===null||E.tag!==6?(E=ao(j,T.mode,$),E.return=T,E):(E=c(E,j),E.return=T,E)}function x(T,E,j,$){var ee=j.type;return ee===N?B(T,E,j.props.children,$,j.key):E!==null&&(E.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===we&&jp(ee)===E.type)?(E=c(E,j.props),ti(E,j),E.return=T,E):(E=Rl(j.type,j.key,j.props,null,T.mode,$),ti(E,j),E.return=T,E)}function k(T,E,j,$){return E===null||E.tag!==4||E.stateNode.containerInfo!==j.containerInfo||E.stateNode.implementation!==j.implementation?(E=ro(j,T.mode,$),E.return=T,E):(E=c(E,j.children||[]),E.return=T,E)}function B(T,E,j,$,ee){return E===null||E.tag!==7?(E=Ga(j,T.mode,$,ee),E.return=T,E):(E=c(E,j),E.return=T,E)}function H(T,E,j){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=ao(""+E,T.mode,j),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case w:return j=Rl(E.type,E.key,E.props,null,T.mode,j),ti(j,E),j.return=T,j;case O:return E=ro(E,T.mode,j),E.return=T,E;case we:var $=E._init;return E=$(E._payload),H(T,E,j)}if(Ve(E)||ge(E))return E=Ga(E,T.mode,j,null),E.return=T,E;if(typeof E.then=="function")return H(T,Yl(E),j);if(E.$$typeof===Z)return H(T,kl(T,E),j);Gl(T,E)}return null}function M(T,E,j,$){var ee=E!==null?E.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ee!==null?null:v(T,E,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return j.key===ee?x(T,E,j,$):null;case O:return j.key===ee?k(T,E,j,$):null;case we:return ee=j._init,j=ee(j._payload),M(T,E,j,$)}if(Ve(j)||ge(j))return ee!==null?null:B(T,E,j,$,null);if(typeof j.then=="function")return M(T,E,Yl(j),$);if(j.$$typeof===Z)return M(T,E,kl(T,j),$);Gl(T,j)}return null}function D(T,E,j,$,ee){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return T=T.get(j)||null,v(E,T,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return T=T.get($.key===null?j:$.key)||null,x(E,T,$,ee);case O:return T=T.get($.key===null?j:$.key)||null,k(E,T,$,ee);case we:var Se=$._init;return $=Se($._payload),D(T,E,j,$,ee)}if(Ve($)||ge($))return T=T.get(j)||null,B(E,T,$,ee,null);if(typeof $.then=="function")return D(T,E,j,Yl($),ee);if($.$$typeof===Z)return D(T,E,j,kl(E,$),ee);Gl(E,$)}return null}function de(T,E,j,$){for(var ee=null,Se=null,ae=E,oe=E=0,dt=null;ae!==null&&oe<j.length;oe++){ae.index>oe?(dt=ae,ae=null):dt=ae.sibling;var Ce=M(T,ae,j[oe],$);if(Ce===null){ae===null&&(ae=dt);break}e&&ae&&Ce.alternate===null&&n(T,ae),E=f(Ce,E,oe),Se===null?ee=Ce:Se.sibling=Ce,Se=Ce,ae=dt}if(oe===j.length)return i(T,ae),je&&Qa(T,oe),ee;if(ae===null){for(;oe<j.length;oe++)ae=H(T,j[oe],$),ae!==null&&(E=f(ae,E,oe),Se===null?ee=ae:Se.sibling=ae,Se=ae);return je&&Qa(T,oe),ee}for(ae=l(ae);oe<j.length;oe++)dt=D(ae,T,oe,j[oe],$),dt!==null&&(e&&dt.alternate!==null&&ae.delete(dt.key===null?oe:dt.key),E=f(dt,E,oe),Se===null?ee=dt:Se.sibling=dt,Se=dt);return e&&ae.forEach(function(Oa){return n(T,Oa)}),je&&Qa(T,oe),ee}function ce(T,E,j,$){if(j==null)throw Error(s(151));for(var ee=null,Se=null,ae=E,oe=E=0,dt=null,Ce=j.next();ae!==null&&!Ce.done;oe++,Ce=j.next()){ae.index>oe?(dt=ae,ae=null):dt=ae.sibling;var Oa=M(T,ae,Ce.value,$);if(Oa===null){ae===null&&(ae=dt);break}e&&ae&&Oa.alternate===null&&n(T,ae),E=f(Oa,E,oe),Se===null?ee=Oa:Se.sibling=Oa,Se=Oa,ae=dt}if(Ce.done)return i(T,ae),je&&Qa(T,oe),ee;if(ae===null){for(;!Ce.done;oe++,Ce=j.next())Ce=H(T,Ce.value,$),Ce!==null&&(E=f(Ce,E,oe),Se===null?ee=Ce:Se.sibling=Ce,Se=Ce);return je&&Qa(T,oe),ee}for(ae=l(ae);!Ce.done;oe++,Ce=j.next())Ce=D(ae,T,oe,Ce.value,$),Ce!==null&&(e&&Ce.alternate!==null&&ae.delete(Ce.key===null?oe:Ce.key),E=f(Ce,E,oe),Se===null?ee=Ce:Se.sibling=Ce,Se=Ce);return e&&ae.forEach(function(Jx){return n(T,Jx)}),je&&Qa(T,oe),ee}function Ze(T,E,j,$){if(typeof j=="object"&&j!==null&&j.type===N&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case w:e:{for(var ee=j.key;E!==null;){if(E.key===ee){if(ee=j.type,ee===N){if(E.tag===7){i(T,E.sibling),$=c(E,j.props.children),$.return=T,T=$;break e}}else if(E.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===we&&jp(ee)===E.type){i(T,E.sibling),$=c(E,j.props),ti($,j),$.return=T,T=$;break e}i(T,E);break}else n(T,E);E=E.sibling}j.type===N?($=Ga(j.props.children,T.mode,$,j.key),$.return=T,T=$):($=Rl(j.type,j.key,j.props,null,T.mode,$),ti($,j),$.return=T,T=$)}return g(T);case O:e:{for(ee=j.key;E!==null;){if(E.key===ee)if(E.tag===4&&E.stateNode.containerInfo===j.containerInfo&&E.stateNode.implementation===j.implementation){i(T,E.sibling),$=c(E,j.children||[]),$.return=T,T=$;break e}else{i(T,E);break}else n(T,E);E=E.sibling}$=ro(j,T.mode,$),$.return=T,T=$}return g(T);case we:return ee=j._init,j=ee(j._payload),Ze(T,E,j,$)}if(Ve(j))return de(T,E,j,$);if(ge(j)){if(ee=ge(j),typeof ee!="function")throw Error(s(150));return j=ee.call(j),ce(T,E,j,$)}if(typeof j.then=="function")return Ze(T,E,Yl(j),$);if(j.$$typeof===Z)return Ze(T,E,kl(T,j),$);Gl(T,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,E!==null&&E.tag===6?(i(T,E.sibling),$=c(E,j),$.return=T,T=$):(i(T,E),$=ao(j,T.mode,$),$.return=T,T=$),g(T)):i(T,E)}return function(T,E,j,$){try{ei=0;var ee=Ze(T,E,j,$);return qr=null,ee}catch(ae){if(ae===Ys||ae===Dl)throw ae;var Se=Pt(29,ae,null,T.mode);return Se.lanes=$,Se.return=T,Se}finally{}}}var Vr=kp(!0),Mp=kp(!1),nn=q(null),An=null;function pa(e){var n=e.alternate;I(st,st.current&1),I(nn,e),An===null&&(n===null||Zr.current!==null||n.memoizedState!==null)&&(An=e)}function Dp(e){if(e.tag===22){if(I(st,st.current),I(nn,e),An===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(An=e)}}else ga()}function ga(){I(st,st.current),I(nn,nn.current)}function Gn(e){J(nn),An===e&&(An=null),J(st)}var st=q(0);function Xl(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Rf(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Bo(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:b({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Zo={enqueueSetState:function(e,n,i){e=e._reactInternals;var l=Vt(),c=da(l);c.payload=n,i!=null&&(c.callback=i),n=ha(e,c,l),n!==null&&(Yt(n,e,l),Xs(n,e,l))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=Vt(),c=da(l);c.tag=1,c.payload=n,i!=null&&(c.callback=i),n=ha(e,c,l),n!==null&&(Yt(n,e,l),Xs(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Vt(),l=da(i);l.tag=2,n!=null&&(l.callback=n),n=ha(e,l,i),n!==null&&(Yt(n,e,i),Xs(n,e,i))}};function zp(e,n,i,l,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ls(i,l)||!Ls(c,f):!0}function Up(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&Zo.enqueueReplaceState(n,n.state,null)}function tr(e,n){var i=n;if("ref"in n){i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}if(e=e.defaultProps){i===n&&(i=b({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}var Ql=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Lp(e){Ql(e)}function Bp(e){console.error(e)}function Zp(e){Ql(e)}function Il(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Pp(e,n,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Po(e,n,i){return i=da(i),i.tag=3,i.payload={element:null},i.callback=function(){Il(e,n)},i}function $p(e){return e=da(e),e.tag=3,e}function Hp(e,n,i,l){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){Pp(n,i,l)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Pp(n,i,l),typeof c!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function J_(e,n,i,l,c){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=i.alternate,n!==null&&Hs(n,i,c,!0),i=nn.current,i!==null){switch(i.tag){case 13:return An===null?ff():i.alternate===null&&Je===0&&(Je=3),i.flags&=-257,i.flags|=65536,i.lanes=c,l===po?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([l]):n.add(l),hf(e,l,c)),!1;case 22:return i.flags|=65536,l===po?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([l]):i.add(l)),hf(e,l,c)),!1}throw Error(s(435,i.tag))}return hf(e,l,c),ff(),!1}if(je)return n=nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==lo&&(e=Error(s(422),{cause:l}),$s(Jt(e,i)))):(l!==lo&&(n=Error(s(423),{cause:l}),$s(Jt(n,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Jt(l,i),c=Po(e.stateNode,l,c),vo(e,c),Je!==4&&(Je=2)),!1;var f=Error(s(520),{cause:l});if(f=Jt(f,i),ui===null?ui=[f]:ui.push(f),Je!==4&&(Je=2),n===null)return!0;l=Jt(l,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=Po(i.stateNode,l,e),vo(i,e),!1;case 1:if(n=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wa===null||!wa.has(f))))return i.flags|=65536,c&=-c,i.lanes|=c,c=$p(c),Hp(c,e,i,l),vo(i,c),!1}i=i.return}while(i!==null);return!1}var qp=Error(s(461)),ot=!1;function mt(e,n,i,l){n.child=e===null?Mp(n,null,i,l):Vr(n,e.child,i,l)}function Vp(e,n,i,l,c){i=i.render;var f=n.ref;if("ref"in l){var g={};for(var v in l)v!=="ref"&&(g[v]=l[v])}else g=l;return Ja(n),l=So(e,n,i,g,f,c),v=Ao(),e!==null&&!ot?(Eo(e,n,c),Xn(e,n,c)):(je&&v&&so(n),n.flags|=1,mt(e,n,l,c),n.child)}function Yp(e,n,i,l,c){if(e===null){var f=i.type;return typeof f=="function"&&!no(f)&&f.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=f,Gp(e,n,f,l,c)):(e=Rl(i.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Qo(e,c)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:Ls,i(g,l)&&e.ref===n.ref)return Xn(e,n,c)}return n.flags|=1,e=Pn(f,l),e.ref=n.ref,e.return=n,n.child=e}function Gp(e,n,i,l,c){if(e!==null){var f=e.memoizedProps;if(Ls(f,l)&&e.ref===n.ref)if(ot=!1,n.pendingProps=l=f,Qo(e,c))(e.flags&131072)!==0&&(ot=!0);else return n.lanes=e.lanes,Xn(e,n,c)}return $o(e,n,i,l,c)}function Xp(e,n,i){var l=n.pendingProps,c=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|i:i,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Qp(e,n,l,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ml(n,f!==null?f.cachePool:null),f!==null?Gm(n,f):_o(),Dp(n);else return n.lanes=n.childLanes=536870912,Qp(e,n,f!==null?f.baseLanes|i:i,i)}else f!==null?(Ml(n,f.cachePool),Gm(n,f),ga(),n.memoizedState=null):(e!==null&&Ml(n,null),_o(),ga());return mt(e,n,c,i),n.child}function Qp(e,n,i,l){var c=mo();return c=c===null?null:{parent:rt._currentValue,pool:c},n.memoizedState={baseLanes:i,cachePool:c},e!==null&&Ml(n,null),_o(),Dp(n),e!==null&&Hs(e,n,l,!0),null}function Kl(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function $o(e,n,i,l,c){return Ja(n),i=So(e,n,i,l,void 0,c),l=Ao(),e!==null&&!ot?(Eo(e,n,c),Xn(e,n,c)):(je&&l&&so(n),n.flags|=1,mt(e,n,i,c),n.child)}function Ip(e,n,i,l,c,f){return Ja(n),n.updateQueue=null,i=Qm(n,l,i,c),Xm(e),l=Ao(),e!==null&&!ot?(Eo(e,n,f),Xn(e,n,f)):(je&&l&&so(n),n.flags|=1,mt(e,n,i,f),n.child)}function Kp(e,n,i,l,c){if(Ja(n),n.stateNode===null){var f=Dr,g=i.contextType;typeof g=="object"&&g!==null&&(f=wt(g)),f=new i(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Zo,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},go(n),g=i.contextType,f.context=typeof g=="object"&&g!==null?wt(g):Dr,f.state=n.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(Bo(n,i,g,l),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Zo.enqueueReplaceState(f,f.state,null),Is(n,l,f,c),Qs(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var v=n.memoizedProps,x=tr(i,v);f.props=x;var k=f.context,B=i.contextType;g=Dr,typeof B=="object"&&B!==null&&(g=wt(B));var H=i.getDerivedStateFromProps;B=typeof H=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,B||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||k!==g)&&Up(n,f,l,g),fa=!1;var M=n.memoizedState;f.state=M,Is(n,l,f,c),Qs(),k=n.memoizedState,v||M!==k||fa?(typeof H=="function"&&(Bo(n,i,H,l),k=n.memoizedState),(x=fa||zp(n,i,x,l,M,k,g))?(B||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=g,l=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,yo(e,n),g=n.memoizedProps,B=tr(i,g),f.props=B,H=n.pendingProps,M=f.context,k=i.contextType,x=Dr,typeof k=="object"&&k!==null&&(x=wt(k)),v=i.getDerivedStateFromProps,(k=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==H||M!==x)&&Up(n,f,l,x),fa=!1,M=n.memoizedState,f.state=M,Is(n,l,f,c),Qs();var D=n.memoizedState;g!==H||M!==D||fa||e!==null&&e.dependencies!==null&&jl(e.dependencies)?(typeof v=="function"&&(Bo(n,i,v,l),D=n.memoizedState),(B=fa||zp(n,i,B,l,M,D,x)||e!==null&&e.dependencies!==null&&jl(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,D,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,D,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=D),f.props=l,f.state=D,f.context=x,l=B):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Kl(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Vr(n,e.child,null,c),n.child=Vr(n,null,i,c)):mt(e,n,i,c),n.memoizedState=f.state,e=n.child):e=Xn(e,n,c),e}function Fp(e,n,i,l){return Ps(),n.flags|=256,mt(e,n,i,l),n.child}var Ho={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qo(e){return{baseLanes:e,cachePool:Bm()}}function Vo(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=an),e}function Jp(e,n,i){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(st.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(je){if(c?pa(n):ga(),je){var v=Fe,x;if(x=v){e:{for(x=v,v=Sn;x.nodeType!==8;){if(!v){v=null;break e}if(x=cn(x.nextSibling),x===null){v=null;break e}}v=x}v!==null?(n.memoizedState={dehydrated:v,treeContext:Xa!==null?{id:$n,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},x=Pt(18,null,null,0),x.stateNode=v,x.return=n,n.child=x,Nt=n,Fe=null,x=!0):x=!1}x||Ka(n)}if(v=n.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Rf(v)?n.lanes=32:n.lanes=536870912,null;Gn(n)}return v=l.children,l=l.fallback,c?(ga(),c=n.mode,v=Fl({mode:"hidden",children:v},c),l=Ga(l,c,i,null),v.return=n,l.return=n,v.sibling=l,n.child=v,c=n.child,c.memoizedState=qo(i),c.childLanes=Vo(e,g,i),n.memoizedState=Ho,l):(pa(n),Yo(n,v))}if(x=e.memoizedState,x!==null&&(v=x.dehydrated,v!==null)){if(f)n.flags&256?(pa(n),n.flags&=-257,n=Go(e,n,i)):n.memoizedState!==null?(ga(),n.child=e.child,n.flags|=128,n=null):(ga(),c=l.fallback,v=n.mode,l=Fl({mode:"visible",children:l.children},v),c=Ga(c,v,i,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Vr(n,e.child,null,i),l=n.child,l.memoizedState=qo(i),l.childLanes=Vo(e,g,i),n.memoizedState=Ho,n=c);else if(pa(n),Rf(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var k=g.dgst;g=k,l=Error(s(419)),l.stack="",l.digest=g,$s({value:l,source:null,stack:null}),n=Go(e,n,i)}else if(ot||Hs(e,n,i,!1),g=(i&e.childLanes)!==0,ot||g){if(g=qe,g!==null&&(l=i&-i,l=(l&42)!==0?1:Tc(l),l=(l&(g.suspendedLanes|i))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,Mr(e,l),Yt(g,e,l),qp;v.data==="$?"||ff(),n=Go(e,n,i)}else v.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,Fe=cn(v.nextSibling),Nt=n,je=!0,Ia=null,Sn=!1,e!==null&&(en[tn++]=$n,en[tn++]=Hn,en[tn++]=Xa,$n=e.id,Hn=e.overflow,Xa=n),n=Yo(n,l.children),n.flags|=4096);return n}return c?(ga(),c=l.fallback,v=n.mode,x=e.child,k=x.sibling,l=Pn(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,k!==null?c=Pn(k,c):(c=Ga(c,v,i,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,v=e.child.memoizedState,v===null?v=qo(i):(x=v.cachePool,x!==null?(k=rt._currentValue,x=x.parent!==k?{parent:k,pool:k}:x):x=Bm(),v={baseLanes:v.baseLanes|i,cachePool:x}),c.memoizedState=v,c.childLanes=Vo(e,g,i),n.memoizedState=Ho,l):(pa(n),i=e.child,e=i.sibling,i=Pn(i,{mode:"visible",children:l.children}),i.return=n,i.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=i,n.memoizedState=null,i)}function Yo(e,n){return n=Fl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Fl(e,n){return e=Pt(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Go(e,n,i){return Vr(n,e.child,null,i),e=Yo(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wp(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),co(e.return,n,i)}function Xo(e,n,i,l,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=c)}function eg(e,n,i){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(mt(e,n,l.children,i),l=st.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wp(e,i,n);else if(e.tag===19)Wp(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(I(st,l),c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&Xl(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),Xo(n,!1,c,i,f);break;case"backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Xl(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Xo(n,!0,i,null,f);break;case"together":Xo(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Xn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),xa|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Hs(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,i=Pn(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Pn(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Qo(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&jl(e)))}function W_(e,n,i){switch(n.tag){case 3:Ye(n,n.stateNode.containerInfo),oa(n,rt,e.memoizedState.cache),Ps();break;case 27:case 5:wc(n);break;case 4:Ye(n,n.stateNode.containerInfo);break;case 10:oa(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(pa(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Jp(e,n,i):(pa(n),e=Xn(e,n,i),e!==null?e.sibling:null);pa(n);break;case 19:var c=(e.flags&128)!==0;if(l=(i&n.childLanes)!==0,l||(Hs(e,n,i,!1),l=(i&n.childLanes)!==0),c){if(l)return eg(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),I(st,st.current),l)break;return null;case 22:case 23:return n.lanes=0,Xp(e,n,i);case 24:oa(n,rt,e.memoizedState.cache)}return Xn(e,n,i)}function tg(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)ot=!0;else{if(!Qo(e,i)&&(n.flags&128)===0)return ot=!1,W_(e,n,i);ot=(e.flags&131072)!==0}else ot=!1,je&&(n.flags&1048576)!==0&&jm(n,Ol,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")no(l)?(e=tr(l,e),n.tag=1,n=Kp(null,n,l,e,i)):(n.tag=0,n=$o(null,n,l,e,i));else{if(l!=null){if(c=l.$$typeof,c===G){n.tag=11,n=Vp(null,n,l,e,i);break e}else if(c===W){n.tag=14,n=Yp(null,n,l,e,i);break e}}throw n=ut(l)||l,Error(s(306,n,""))}}return n;case 0:return $o(e,n,n.type,n.pendingProps,i);case 1:return l=n.type,c=tr(l,n.pendingProps),Kp(e,n,l,c,i);case 3:e:{if(Ye(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,yo(e,n),Is(n,l,null,i);var g=n.memoizedState;if(l=g.cache,oa(n,rt,l),l!==f.cache&&oo(n,[rt],i,!0),Qs(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Fp(e,n,l,i);break e}else if(l!==c){c=Jt(Error(s(424)),n),$s(c),n=Fp(e,n,l,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Fe=cn(e.firstChild),Nt=n,je=!0,Ia=null,Sn=!0,i=Mp(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Ps(),l===c){n=Xn(e,n,i);break e}mt(e,n,l,i)}n=n.child}return n;case 26:return Kl(e,n),e===null?(i=sy(n.type,null,n.pendingProps,null))?n.memoizedState=i:je||(i=n.type,e=n.pendingProps,l=fu(pe.current).createElement(i),l[xt]=n,l[Ot]=e,gt(l,i,e),ct(l),n.stateNode=l):n.memoizedState=sy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return wc(n),e===null&&je&&(l=n.stateNode=ny(n.type,n.pendingProps,pe.current),Nt=n,Sn=!0,c=Fe,Ea(n.type)?(Cf=c,Fe=cn(l.firstChild)):Fe=c),mt(e,n,n.pendingProps.children,i),Kl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&je&&((c=l=Fe)&&(l=Tx(l,n.type,n.pendingProps,Sn),l!==null?(n.stateNode=l,Nt=n,Fe=cn(l.firstChild),Sn=!1,c=!0):c=!1),c||Ka(n)),wc(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,Ef(c,f)?l=null:g!==null&&Ef(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=So(e,n,Y_,null,null,i),yi._currentValue=c),Kl(e,n),mt(e,n,l,i),n.child;case 6:return e===null&&je&&((e=i=Fe)&&(i=Rx(i,n.pendingProps,Sn),i!==null?(n.stateNode=i,Nt=n,Fe=null,e=!0):e=!1),e||Ka(n)),null;case 13:return Jp(e,n,i);case 4:return Ye(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Vr(n,null,l,i):mt(e,n,l,i),n.child;case 11:return Vp(e,n,n.type,n.pendingProps,i);case 7:return mt(e,n,n.pendingProps,i),n.child;case 8:return mt(e,n,n.pendingProps.children,i),n.child;case 12:return mt(e,n,n.pendingProps.children,i),n.child;case 10:return l=n.pendingProps,oa(n,n.type,l.value),mt(e,n,l.children,i),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Ja(n),c=wt(c),l=l(c),n.flags|=1,mt(e,n,l,i),n.child;case 14:return Yp(e,n,n.type,n.pendingProps,i);case 15:return Gp(e,n,n.type,n.pendingProps,i);case 19:return eg(e,n,i);case 31:return l=n.pendingProps,i=n.mode,l={mode:l.mode,children:l.children},e===null?(i=Fl(l,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=Pn(e.child,l),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return Xp(e,n,i);case 24:return Ja(n),l=wt(rt),e===null?(c=mo(),c===null&&(c=qe,f=fo(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=i),c=f),n.memoizedState={parent:l,cache:c},go(n),oa(n,rt,c)):((e.lanes&i)!==0&&(yo(e,n),Is(n,null,null,i),Qs()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),oa(n,rt,l)):(l=f.cache,oa(n,rt,l),l!==c.cache&&oo(n,[rt],i,!0))),mt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Qn(e){e.flags|=4}function ng(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!oy(n)){if(n=nn.current,n!==null&&((Ne&4194048)===Ne?An!==null:(Ne&62914560)!==Ne&&(Ne&536870912)===0||n!==An))throw Gs=po,Zm;e.flags|=8192}}function Jl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Dh():536870912,e.lanes|=n,Qr|=n)}function ni(e,n){if(!je)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Xe(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function ex(e,n,i){var l=n.pendingProps;switch(io(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(n),null;case 1:return Xe(n),null;case 3:return i=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vn(rt),ia(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Zs(n)?Qn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Dm())),Xe(n),null;case 26:return i=n.memoizedState,e===null?(Qn(n),i!==null?(Xe(n),ng(n,i)):(Xe(n),n.flags&=-16777217)):i?i!==e.memoizedState?(Qn(n),Xe(n),ng(n,i)):(Xe(n),n.flags&=-16777217):(e.memoizedProps!==l&&Qn(n),Xe(n),n.flags&=-16777217),null;case 27:cl(n),i=pe.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Qn(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Xe(n),null}e=ue.current,Zs(n)?km(n):(e=ny(c,l,i),n.stateNode=e,Qn(n))}return Xe(n),null;case 5:if(cl(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Qn(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Xe(n),null}if(e=ue.current,Zs(n))km(n);else{switch(c=fu(pe.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?c.createElement(i,{is:l.is}):c.createElement(i)}}e[xt]=n,e[Ot]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;e:switch(gt(e,i,l),i){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Qn(n)}}return Xe(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Qn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=pe.current,Zs(n)){if(e=n.stateNode,i=n.memoizedProps,l=null,c=Nt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[xt]=n,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Ig(e.nodeValue,i)),e||Ka(n)}else e=fu(e).createTextNode(l),e[xt]=n,n.stateNode=e}return Xe(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Zs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[xt]=n}else Ps(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xe(n),c=!1}else c=Dm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Gn(n),n):(Gn(n),null)}if(Gn(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=l!==null,e=e!==null&&e.memoizedState!==null,i){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),Jl(n,n.updateQueue),Xe(n),null;case 4:return ia(),e===null&&_f(n.stateNode.containerInfo),Xe(n),null;case 10:return Vn(n.type),Xe(n),null;case 19:if(J(st),c=n.memoizedState,c===null)return Xe(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)ni(c,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Xl(e),f!==null){for(n.flags|=128,ni(c,!1),e=f.updateQueue,n.updateQueue=e,Jl(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Om(i,e),i=i.sibling;return I(st,st.current&1|2),n.child}e=e.sibling}c.tail!==null&&wn()>tu&&(n.flags|=128,l=!0,ni(c,!1),n.lanes=4194304)}else{if(!l)if(e=Xl(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Jl(n,e),ni(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!je)return Xe(n),null}else 2*wn()-c.renderingStartTime>tu&&i!==536870912&&(n.flags|=128,l=!0,ni(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=wn(),n.sibling=null,e=st.current,I(st,l?e&1|2:e&1),n):(Xe(n),null);case 22:case 23:return Gn(n),xo(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(i&536870912)!==0&&(n.flags&128)===0&&(Xe(n),n.subtreeFlags&6&&(n.flags|=8192)):Xe(n),i=n.updateQueue,i!==null&&Jl(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048),e!==null&&J(Wa),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Vn(rt),Xe(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function tx(e,n){switch(io(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Vn(rt),ia(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return cl(n),null;case 13:if(Gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ps()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return J(st),null;case 4:return ia(),null;case 10:return Vn(n.type),null;case 22:case 23:return Gn(n),xo(),e!==null&&J(Wa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Vn(rt),null;case 25:return null;default:return null}}function ag(e,n){switch(io(n),n.tag){case 3:Vn(rt),ia();break;case 26:case 27:case 5:cl(n);break;case 4:ia();break;case 13:Gn(n);break;case 19:J(st);break;case 10:Vn(n.type);break;case 22:case 23:Gn(n),xo(),e!==null&&J(Wa);break;case 24:Vn(rt)}}function ai(e,n){try{var i=n.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var c=l.next;i=c;do{if((i.tag&e)===e){l=void 0;var f=i.create,g=i.inst;l=f(),g.destroy=l}i=i.next}while(i!==c)}}catch(v){He(n,n.return,v)}}function ya(e,n,i){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var g=l.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,c=n;var x=i,k=v;try{k()}catch(B){He(c,x,B)}}}l=l.next}while(l!==f)}}catch(B){He(n,n.return,B)}}function rg(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Ym(n,i)}catch(l){He(e,e.return,l)}}}function sg(e,n,i){i.props=tr(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){He(e,n,l)}}function ri(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(c){He(e,n,c)}}function En(e,n){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(c){He(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){He(e,n,c)}else i.current=null}function ig(e){var n=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(c){He(e,e.return,c)}}function Io(e,n,i){try{var l=e.stateNode;wx(l,e.type,i,n),l[Ot]=n}catch(c){He(e,e.return,c)}}function lg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ea(e.type)||e.tag===4}function Ko(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ea(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fo(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=ou));else if(l!==4&&(l===27&&Ea(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Fo(e,n,i),e=e.sibling;e!==null;)Fo(e,n,i),e=e.sibling}function Wl(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(l!==4&&(l===27&&Ea(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Wl(e,n,i),e=e.sibling;e!==null;)Wl(e,n,i),e=e.sibling}function ug(e){var n=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);gt(n,l,i),n[xt]=e,n[Ot]=i}catch(f){He(e,e.return,f)}}var In=!1,tt=!1,Jo=!1,cg=typeof WeakSet=="function"?WeakSet:Set,ft=null;function nx(e,n){if(e=e.containerInfo,Sf=yu,e=_m(e),Ic(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,v=-1,x=-1,k=0,B=0,H=e,M=null;t:for(;;){for(var D;H!==i||c!==0&&H.nodeType!==3||(v=g+c),H!==f||l!==0&&H.nodeType!==3||(x=g+l),H.nodeType===3&&(g+=H.nodeValue.length),(D=H.firstChild)!==null;)M=H,H=D;for(;;){if(H===e)break t;if(M===i&&++k===c&&(v=g),M===f&&++B===l&&(x=g),(D=H.nextSibling)!==null)break;H=M,M=H.parentNode}H=D}i=v===-1||x===-1?null:{start:v,end:x}}else i=null}i=i||{start:0,end:0}}else i=null;for(Af={focusedElem:e,selectionRange:i},yu=!1,ft=n;ft!==null;)if(n=ft,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,ft=e;else for(;ft!==null;){switch(n=ft,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=n,c=f.memoizedProps,f=f.memoizedState,l=i.stateNode;try{var de=tr(i.type,c,i.elementType===i.type);e=l.getSnapshotBeforeUpdate(de,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ce){He(i,i.return,ce)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Tf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,ft=e;break}ft=n.return}}function og(e,n,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:va(e,i),l&4&&ai(5,i);break;case 1:if(va(e,i),l&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(g){He(i,i.return,g)}else{var c=tr(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){He(i,i.return,g)}}l&64&&rg(i),l&512&&ri(i,i.return);break;case 3:if(va(e,i),l&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Ym(e,n)}catch(g){He(i,i.return,g)}}break;case 27:n===null&&l&4&&ug(i);case 26:case 5:va(e,i),n===null&&l&4&&ig(i),l&512&&ri(i,i.return);break;case 12:va(e,i);break;case 13:va(e,i),l&4&&hg(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=fx.bind(null,i),Cx(e,i))));break;case 22:if(l=i.memoizedState!==null||In,!l){n=n!==null&&n.memoizedState!==null||tt,c=In;var f=tt;In=l,(tt=n)&&!f?ba(e,i,(i.subtreeFlags&8772)!==0):va(e,i),In=c,tt=f}break;case 30:break;default:va(e,i)}}function fg(e){var n=e.alternate;n!==null&&(e.alternate=null,fg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Oc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,Mt=!1;function Kn(e,n,i){for(i=i.child;i!==null;)dg(e,n,i),i=i.sibling}function dg(e,n,i){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Es,i)}catch{}switch(i.tag){case 26:tt||En(i,n),Kn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:tt||En(i,n);var l=Ge,c=Mt;Ea(i.type)&&(Ge=i.stateNode,Mt=!1),Kn(e,n,i),hi(i.stateNode),Ge=l,Mt=c;break;case 5:tt||En(i,n);case 6:if(l=Ge,c=Mt,Ge=null,Kn(e,n,i),Ge=l,Mt=c,Ge!==null)if(Mt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(i.stateNode)}catch(f){He(i,n,f)}else try{Ge.removeChild(i.stateNode)}catch(f){He(i,n,f)}break;case 18:Ge!==null&&(Mt?(e=Ge,ey(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),xi(e)):ey(Ge,i.stateNode));break;case 4:l=Ge,c=Mt,Ge=i.stateNode.containerInfo,Mt=!0,Kn(e,n,i),Ge=l,Mt=c;break;case 0:case 11:case 14:case 15:tt||ya(2,i,n),tt||ya(4,i,n),Kn(e,n,i);break;case 1:tt||(En(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"&&sg(i,n,l)),Kn(e,n,i);break;case 21:Kn(e,n,i);break;case 22:tt=(l=tt)||i.memoizedState!==null,Kn(e,n,i),tt=l;break;default:Kn(e,n,i)}}function hg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xi(e)}catch(i){He(n,n.return,i)}}function ax(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new cg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new cg),n;default:throw Error(s(435,e.tag))}}function Wo(e,n){var i=ax(e);n.forEach(function(l){var c=dx.bind(null,e,l);i.has(l)||(i.add(l),l.then(c,c))})}function $t(e,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var c=i[l],f=e,g=n,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(Ea(v.type)){Ge=v.stateNode,Mt=!1;break e}break;case 5:Ge=v.stateNode,Mt=!1;break e;case 3:case 4:Ge=v.stateNode.containerInfo,Mt=!0;break e}v=v.return}if(Ge===null)throw Error(s(160));dg(f,g,c),Ge=null,Mt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)mg(n,e),n=n.sibling}var un=null;function mg(e,n){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(n,e),Ht(e),l&4&&(ya(3,e,e.return),ai(3,e),ya(5,e,e.return));break;case 1:$t(n,e),Ht(e),l&512&&(tt||i===null||En(i,i.return)),l&64&&In&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var c=un;if($t(n,e),Ht(e),l&512&&(tt||i===null||En(i,i.return)),l&4){var f=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Rs]||f[xt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),gt(f,l,i),f[xt]=e,ct(f),l=f;break e;case"link":var g=uy("link","href",c).get(l+(i.href||""));if(g){for(var v=0;v<g.length;v++)if(f=g[v],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(v,1);break t}}f=c.createElement(l),gt(f,l,i),c.head.appendChild(f);break;case"meta":if(g=uy("meta","content",c).get(l+(i.content||""))){for(v=0;v<g.length;v++)if(f=g[v],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(v,1);break t}}f=c.createElement(l),gt(f,l,i),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[xt]=e,ct(f),l=f}e.stateNode=l}else cy(c,e.type,e.stateNode);else e.stateNode=ly(c,l,e.memoizedProps);else f!==l?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,l===null?cy(c,e.type,e.stateNode):ly(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Io(e,e.memoizedProps,i.memoizedProps)}break;case 27:$t(n,e),Ht(e),l&512&&(tt||i===null||En(i,i.return)),i!==null&&l&4&&Io(e,e.memoizedProps,i.memoizedProps);break;case 5:if($t(n,e),Ht(e),l&512&&(tt||i===null||En(i,i.return)),e.flags&32){c=e.stateNode;try{Nr(c,"")}catch(D){He(e,e.return,D)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Io(e,c,i!==null?i.memoizedProps:c)),l&1024&&(Jo=!0);break;case 6:if($t(n,e),Ht(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(D){He(e,e.return,D)}}break;case 3:if(mu=null,c=un,un=du(n.containerInfo),$t(n,e),un=c,Ht(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{xi(n.containerInfo)}catch(D){He(e,e.return,D)}Jo&&(Jo=!1,pg(e));break;case 4:l=un,un=du(e.stateNode.containerInfo),$t(n,e),Ht(e),un=l;break;case 12:$t(n,e),Ht(e);break;case 13:$t(n,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(sf=wn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wo(e,l)));break;case 22:c=e.memoizedState!==null;var x=i!==null&&i.memoizedState!==null,k=In,B=tt;if(In=k||c,tt=B||x,$t(n,e),tt=B,In=k,Ht(e),l&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(i===null||x||In||tt||nr(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){x=i=n;try{if(f=x.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=x.stateNode;var H=x.memoizedProps.style,M=H!=null&&H.hasOwnProperty("display")?H.display:null;v.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(D){He(x,x.return,D)}}}else if(n.tag===6){if(i===null){x=n;try{x.stateNode.nodeValue=c?"":x.memoizedProps}catch(D){He(x,x.return,D)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,Wo(e,i))));break;case 19:$t(n,e),Ht(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wo(e,l)));break;case 30:break;case 21:break;default:$t(n,e),Ht(e)}}function Ht(e){var n=e.flags;if(n&2){try{for(var i,l=e.return;l!==null;){if(lg(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var c=i.stateNode,f=Ko(e);Wl(e,f,c);break;case 5:var g=i.stateNode;i.flags&32&&(Nr(g,""),i.flags&=-33);var v=Ko(e);Wl(e,v,g);break;case 3:case 4:var x=i.stateNode.containerInfo,k=Ko(e);Fo(e,k,x);break;default:throw Error(s(161))}}catch(B){He(e,e.return,B)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function pg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;pg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function va(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)og(e,n.alternate,n),n=n.sibling}function nr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ya(4,n,n.return),nr(n);break;case 1:En(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&sg(n,n.return,i),nr(n);break;case 27:hi(n.stateNode);case 26:case 5:En(n,n.return),nr(n);break;case 22:n.memoizedState===null&&nr(n);break;case 30:nr(n);break;default:nr(n)}e=e.sibling}}function ba(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ba(c,f,i),ai(4,f);break;case 1:if(ba(c,f,i),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){He(l,l.return,k)}if(l=f,c=l.updateQueue,c!==null){var v=l.stateNode;try{var x=c.shared.hiddenCallbacks;if(x!==null)for(c.shared.hiddenCallbacks=null,c=0;c<x.length;c++)Vm(x[c],v)}catch(k){He(l,l.return,k)}}i&&g&64&&rg(f),ri(f,f.return);break;case 27:ug(f);case 26:case 5:ba(c,f,i),i&&l===null&&g&4&&ig(f),ri(f,f.return);break;case 12:ba(c,f,i);break;case 13:ba(c,f,i),i&&g&4&&hg(c,f);break;case 22:f.memoizedState===null&&ba(c,f,i),ri(f,f.return);break;case 30:break;default:ba(c,f,i)}n=n.sibling}}function ef(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&qs(i))}function tf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qs(e))}function Nn(e,n,i,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gg(e,n,i,l),n=n.sibling}function gg(e,n,i,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Nn(e,n,i,l),c&2048&&ai(9,n);break;case 1:Nn(e,n,i,l);break;case 3:Nn(e,n,i,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qs(e)));break;case 12:if(c&2048){Nn(e,n,i,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,v=f.onPostCommit;typeof v=="function"&&v(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){He(n,n.return,x)}}else Nn(e,n,i,l);break;case 13:Nn(e,n,i,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Nn(e,n,i,l):si(e,n):f._visibility&2?Nn(e,n,i,l):(f._visibility|=2,Yr(e,n,i,l,(n.subtreeFlags&10256)!==0)),c&2048&&ef(g,n);break;case 24:Nn(e,n,i,l),c&2048&&tf(n.alternate,n);break;default:Nn(e,n,i,l)}}function Yr(e,n,i,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,g=n,v=i,x=l,k=g.flags;switch(g.tag){case 0:case 11:case 15:Yr(f,g,v,x,c),ai(8,g);break;case 23:break;case 22:var B=g.stateNode;g.memoizedState!==null?B._visibility&2?Yr(f,g,v,x,c):si(f,g):(B._visibility|=2,Yr(f,g,v,x,c)),c&&k&2048&&ef(g.alternate,g);break;case 24:Yr(f,g,v,x,c),c&&k&2048&&tf(g.alternate,g);break;default:Yr(f,g,v,x,c)}n=n.sibling}}function si(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,l=n,c=l.flags;switch(l.tag){case 22:si(i,l),c&2048&&ef(l.alternate,l);break;case 24:si(i,l),c&2048&&tf(l.alternate,l);break;default:si(i,l)}n=n.sibling}}var ii=8192;function Gr(e){if(e.subtreeFlags&ii)for(e=e.child;e!==null;)yg(e),e=e.sibling}function yg(e){switch(e.tag){case 26:Gr(e),e.flags&ii&&e.memoizedState!==null&&Hx(un,e.memoizedState,e.memoizedProps);break;case 5:Gr(e);break;case 3:case 4:var n=un;un=du(e.stateNode.containerInfo),Gr(e),un=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=ii,ii=16777216,Gr(e),ii=n):Gr(e));break;default:Gr(e)}}function vg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function li(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];ft=l,_g(l,e)}vg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bg(e),e=e.sibling}function bg(e){switch(e.tag){case 0:case 11:case 15:li(e),e.flags&2048&&ya(9,e,e.return);break;case 3:li(e);break;case 12:li(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,eu(e)):li(e);break;default:li(e)}}function eu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];ft=l,_g(l,e)}vg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ya(8,n,n.return),eu(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,eu(n));break;default:eu(n)}e=e.sibling}}function _g(e,n){for(;ft!==null;){var i=ft;switch(i.tag){case 0:case 11:case 15:ya(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qs(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,ft=l;else e:for(i=e;ft!==null;){l=ft;var c=l.sibling,f=l.return;if(fg(l),l===i){ft=null;break e}if(c!==null){c.return=f,ft=c;break e}ft=f}}}var rx={getCacheForType:function(e){var n=wt(rt),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},sx=typeof WeakMap=="function"?WeakMap:Map,Me=0,qe=null,Ae=null,Ne=0,De=0,qt=null,_a=!1,Xr=!1,nf=!1,Fn=0,Je=0,xa=0,ar=0,af=0,an=0,Qr=0,ui=null,Dt=null,rf=!1,sf=0,tu=1/0,nu=null,wa=null,pt=0,Sa=null,Ir=null,Kr=0,lf=0,uf=null,xg=null,ci=0,cf=null;function Vt(){if((Me&2)!==0&&Ne!==0)return Ne&-Ne;if(P.T!==null){var e=Lr;return e!==0?e:gf()}return Lh()}function wg(){an===0&&(an=(Ne&536870912)===0||je?Mh():536870912);var e=nn.current;return e!==null&&(e.flags|=32),an}function Yt(e,n,i){(e===qe&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(Fr(e,0),Aa(e,Ne,an,!1)),Ts(e,i),((Me&2)===0||e!==qe)&&(e===qe&&((Me&2)===0&&(ar|=i),Je===4&&Aa(e,Ne,an,!1)),Tn(e))}function Sg(e,n,i){if((Me&6)!==0)throw Error(s(327));var l=!i&&(n&124)===0&&(n&e.expiredLanes)===0||Ns(e,n),c=l?ux(e,n):df(e,n,!0),f=l;do{if(c===0){Xr&&!l&&Aa(e,n,0,!1);break}else{if(i=e.current.alternate,f&&!ix(i)){c=df(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var v=e;c=ui;var x=v.current.memoizedState.isDehydrated;if(x&&(Fr(v,g).flags|=256),g=df(v,g,!1),g!==2){if(nf&&!x){v.errorRecoveryDisabledLanes|=f,ar|=f,c=4;break e}f=Dt,Dt=c,f!==null&&(Dt===null?Dt=f:Dt.push.apply(Dt,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){Fr(e,0),Aa(e,n,0,!0);break}e:{switch(l=e,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Aa(l,n,an,!_a);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=sf+300-wn(),10<c)){if(Aa(l,n,an,!_a),hl(l,0,!0)!==0)break e;l.timeoutHandle=Jg(Ag.bind(null,l,i,Dt,nu,rf,n,an,ar,Qr,_a,f,2,-0,0),c);break e}Ag(l,i,Dt,nu,rf,n,an,ar,Qr,_a,f,0,-0,0)}}break}while(!0);Tn(e)}function Ag(e,n,i,l,c,f,g,v,x,k,B,H,M,D){if(e.timeoutHandle=-1,H=n.subtreeFlags,(H&8192||(H&16785408)===16785408)&&(gi={stylesheets:null,count:0,unsuspend:$x},yg(n),H=qx(),H!==null)){e.cancelPendingCommit=H(jg.bind(null,e,n,f,i,l,c,g,v,x,B,1,M,D)),Aa(e,f,g,!k);return}jg(e,n,f,i,l,c,g,v,x)}function ix(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var c=i[l],f=c.getSnapshot;c=c.value;try{if(!Zt(f(),c))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Aa(e,n,i,l){n&=~af,n&=~ar,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-Bt(c),g=1<<f;l[f]=-1,c&=~g}i!==0&&zh(e,i,n)}function au(){return(Me&6)===0?(oi(0),!1):!0}function of(){if(Ae!==null){if(De===0)var e=Ae.return;else e=Ae,qn=Fa=null,No(e),qr=null,ei=0,e=Ae;for(;e!==null;)ag(e.alternate,e),e=e.return;Ae=null}}function Fr(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Ax(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),of(),qe=e,Ae=i=Pn(e.current,null),Ne=n,De=0,qt=null,_a=!1,Xr=Ns(e,n),nf=!1,Qr=an=af=ar=xa=Je=0,Dt=ui=null,rf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-Bt(l),f=1<<c;n|=e[c],l&=~f}return Fn=n,El(),i}function Eg(e,n){xe=null,P.H=Vl,n===Ys||n===Dl?(n=Hm(),De=3):n===Zm?(n=Hm(),De=4):De=n===qp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qt=n,Ae===null&&(Je=1,Il(e,Jt(n,e.current)))}function Ng(){var e=P.H;return P.H=Vl,e===null?Vl:e}function Tg(){var e=P.A;return P.A=rx,e}function ff(){Je=4,_a||(Ne&4194048)!==Ne&&nn.current!==null||(Xr=!0),(xa&134217727)===0&&(ar&134217727)===0||qe===null||Aa(qe,Ne,an,!1)}function df(e,n,i){var l=Me;Me|=2;var c=Ng(),f=Tg();(qe!==e||Ne!==n)&&(nu=null,Fr(e,n)),n=!1;var g=Je;e:do try{if(De!==0&&Ae!==null){var v=Ae,x=qt;switch(De){case 8:of(),g=6;break e;case 3:case 2:case 9:case 6:nn.current===null&&(n=!0);var k=De;if(De=0,qt=null,Jr(e,v,x,k),i&&Xr){g=0;break e}break;default:k=De,De=0,qt=null,Jr(e,v,x,k)}}lx(),g=Je;break}catch(B){Eg(e,B)}while(!0);return n&&e.shellSuspendCounter++,qn=Fa=null,Me=l,P.H=c,P.A=f,Ae===null&&(qe=null,Ne=0,El()),g}function lx(){for(;Ae!==null;)Rg(Ae)}function ux(e,n){var i=Me;Me|=2;var l=Ng(),c=Tg();qe!==e||Ne!==n?(nu=null,tu=wn()+500,Fr(e,n)):Xr=Ns(e,n);e:do try{if(De!==0&&Ae!==null){n=Ae;var f=qt;t:switch(De){case 1:De=0,qt=null,Jr(e,n,f,1);break;case 2:case 9:if(Pm(f)){De=0,qt=null,Cg(n);break}n=function(){De!==2&&De!==9||qe!==e||(De=7),Tn(e)},f.then(n,n);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Pm(f)?(De=0,qt=null,Cg(n)):(De=0,qt=null,Jr(e,n,f,7));break;case 5:var g=null;switch(Ae.tag){case 26:g=Ae.memoizedState;case 5:case 27:var v=Ae;if(!g||oy(g)){De=0,qt=null;var x=v.sibling;if(x!==null)Ae=x;else{var k=v.return;k!==null?(Ae=k,ru(k)):Ae=null}break t}}De=0,qt=null,Jr(e,n,f,5);break;case 6:De=0,qt=null,Jr(e,n,f,6);break;case 8:of(),Je=6;break e;default:throw Error(s(462))}}cx();break}catch(B){Eg(e,B)}while(!0);return qn=Fa=null,P.H=l,P.A=c,Me=i,Ae!==null?0:(qe=null,Ne=0,El(),Je)}function cx(){for(;Ae!==null&&!jb();)Rg(Ae)}function Rg(e){var n=tg(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,n===null?ru(e):Ae=n}function Cg(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Ip(i,n,n.pendingProps,n.type,void 0,Ne);break;case 11:n=Ip(i,n,n.pendingProps,n.type.render,n.ref,Ne);break;case 5:No(n);default:ag(i,n),n=Ae=Om(n,Fn),n=tg(i,n,Fn)}e.memoizedProps=e.pendingProps,n===null?ru(e):Ae=n}function Jr(e,n,i,l){qn=Fa=null,No(n),qr=null,ei=0;var c=n.return;try{if(J_(e,c,n,i,Ne)){Je=1,Il(e,Jt(i,e.current)),Ae=null;return}}catch(f){if(c!==null)throw Ae=c,f;Je=1,Il(e,Jt(i,e.current)),Ae=null;return}n.flags&32768?(je||l===1?e=!0:Xr||(Ne&536870912)!==0?e=!1:(_a=e=!0,(l===2||l===9||l===3||l===6)&&(l=nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Og(n,e)):ru(n)}function ru(e){var n=e;do{if((n.flags&32768)!==0){Og(n,_a);return}e=n.return;var i=ex(n.alternate,n,Fn);if(i!==null){Ae=i;return}if(n=n.sibling,n!==null){Ae=n;return}Ae=n=e}while(n!==null);Je===0&&(Je=5)}function Og(e,n){do{var i=tx(e.alternate,e);if(i!==null){i.flags&=32767,Ae=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Ae=e;return}Ae=e=i}while(e!==null);Je=6,Ae=null}function jg(e,n,i,l,c,f,g,v,x){e.cancelPendingCommit=null;do su();while(pt!==0);if((Me&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=eo,$b(e,i,f,g,v,x),e===qe&&(Ae=qe=null,Ne=0),Ir=n,Sa=e,Kr=i,lf=f,uf=c,xg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hx(ol,function(){return Ug(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,c=K.p,K.p=2,g=Me,Me|=4;try{nx(e,n,i)}finally{Me=g,K.p=c,P.T=l}}pt=1,kg(),Mg(),Dg()}}function kg(){if(pt===1){pt=0;var e=Sa,n=Ir,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=P.T,P.T=null;var l=K.p;K.p=2;var c=Me;Me|=4;try{mg(n,e);var f=Af,g=_m(e.containerInfo),v=f.focusedElem,x=f.selectionRange;if(g!==v&&v&&v.ownerDocument&&bm(v.ownerDocument.documentElement,v)){if(x!==null&&Ic(v)){var k=x.start,B=x.end;if(B===void 0&&(B=k),"selectionStart"in v)v.selectionStart=k,v.selectionEnd=Math.min(B,v.value.length);else{var H=v.ownerDocument||document,M=H&&H.defaultView||window;if(M.getSelection){var D=M.getSelection(),de=v.textContent.length,ce=Math.min(x.start,de),Ze=x.end===void 0?ce:Math.min(x.end,de);!D.extend&&ce>Ze&&(g=Ze,Ze=ce,ce=g);var T=vm(v,ce),E=vm(v,Ze);if(T&&E&&(D.rangeCount!==1||D.anchorNode!==T.node||D.anchorOffset!==T.offset||D.focusNode!==E.node||D.focusOffset!==E.offset)){var j=H.createRange();j.setStart(T.node,T.offset),D.removeAllRanges(),ce>Ze?(D.addRange(j),D.extend(E.node,E.offset)):(j.setEnd(E.node,E.offset),D.addRange(j))}}}}for(H=[],D=v;D=D.parentNode;)D.nodeType===1&&H.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<H.length;v++){var $=H[v];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}yu=!!Sf,Af=Sf=null}finally{Me=c,K.p=l,P.T=i}}e.current=n,pt=2}}function Mg(){if(pt===2){pt=0;var e=Sa,n=Ir,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=P.T,P.T=null;var l=K.p;K.p=2;var c=Me;Me|=4;try{og(e,n.alternate,n)}finally{Me=c,K.p=l,P.T=i}}pt=3}}function Dg(){if(pt===4||pt===3){pt=0,kb();var e=Sa,n=Ir,i=Kr,l=xg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?pt=5:(pt=0,Ir=Sa=null,zg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(wa=null),Rc(i),n=n.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Es,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=P.T,c=K.p,K.p=2,P.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var v=l[g];f(v.value,{componentStack:v.stack})}}finally{P.T=n,K.p=c}}(Kr&3)!==0&&su(),Tn(e),c=e.pendingLanes,(i&4194090)!==0&&(c&42)!==0?e===cf?ci++:(ci=0,cf=e):ci=0,oi(0)}}function zg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qs(n)))}function su(e){return kg(),Mg(),Dg(),Ug()}function Ug(){if(pt!==5)return!1;var e=Sa,n=lf;lf=0;var i=Rc(Kr),l=P.T,c=K.p;try{K.p=32>i?32:i,P.T=null,i=uf,uf=null;var f=Sa,g=Kr;if(pt=0,Ir=Sa=null,Kr=0,(Me&6)!==0)throw Error(s(331));var v=Me;if(Me|=4,bg(f.current),gg(f,f.current,g,i),Me=v,oi(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Es,f)}catch{}return!0}finally{K.p=c,P.T=l,zg(e,n)}}function Lg(e,n,i){n=Jt(i,n),n=Po(e.stateNode,n,2),e=ha(e,n,2),e!==null&&(Ts(e,2),Tn(e))}function He(e,n,i){if(e.tag===3)Lg(e,e,i);else for(;n!==null;){if(n.tag===3){Lg(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wa===null||!wa.has(l))){e=Jt(i,e),i=$p(2),l=ha(n,i,2),l!==null&&(Hp(i,l,n,e),Ts(l,2),Tn(l));break}}n=n.return}}function hf(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new sx;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(i)||(nf=!0,c.add(i),e=ox.bind(null,e,n,i),n.then(e,e))}function ox(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,qe===e&&(Ne&i)===i&&(Je===4||Je===3&&(Ne&62914560)===Ne&&300>wn()-sf?(Me&2)===0&&Fr(e,0):af|=i,Qr===Ne&&(Qr=0)),Tn(e)}function Bg(e,n){n===0&&(n=Dh()),e=Mr(e,n),e!==null&&(Ts(e,n),Tn(e))}function fx(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Bg(e,i)}function dx(e,n){var i=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Bg(e,i)}function hx(e,n){return Ac(e,n)}var iu=null,Wr=null,mf=!1,lu=!1,pf=!1,rr=0;function Tn(e){e!==Wr&&e.next===null&&(Wr===null?iu=Wr=e:Wr=Wr.next=e),lu=!0,mf||(mf=!0,px())}function oi(e,n){if(!pf&&lu){pf=!0;do for(var i=!1,l=iu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,v=l.pingedLanes;f=(1<<31-Bt(42|e)+1)-1,f&=c&~(g&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Hg(l,f))}else f=Ne,f=hl(l,l===qe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ns(l,f)||(i=!0,Hg(l,f));l=l.next}while(i);pf=!1}}function mx(){Zg()}function Zg(){lu=mf=!1;var e=0;rr!==0&&(Sx()&&(e=rr),rr=0);for(var n=wn(),i=null,l=iu;l!==null;){var c=l.next,f=Pg(l,n);f===0?(l.next=null,i===null?iu=c:i.next=c,c===null&&(Wr=i)):(i=l,(e!==0||(f&3)!==0)&&(lu=!0)),l=c}oi(e)}function Pg(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Bt(f),v=1<<g,x=c[g];x===-1?((v&i)===0||(v&l)!==0)&&(c[g]=Pb(v,n)):x<=n&&(e.expiredLanes|=v),f&=~v}if(n=qe,i=Ne,i=hl(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===n&&(De===2||De===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ec(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ns(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(l!==null&&Ec(l),Rc(i)){case 2:case 8:i=jh;break;case 32:i=ol;break;case 268435456:i=kh;break;default:i=ol}return l=$g.bind(null,e),i=Ac(i,l),e.callbackPriority=n,e.callbackNode=i,n}return l!==null&&l!==null&&Ec(l),e.callbackPriority=2,e.callbackNode=null,2}function $g(e,n){if(pt!==0&&pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(su()&&e.callbackNode!==i)return null;var l=Ne;return l=hl(e,e===qe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sg(e,l,n),Pg(e,wn()),e.callbackNode!=null&&e.callbackNode===i?$g.bind(null,e):null)}function Hg(e,n){if(su())return null;Sg(e,n,!0)}function px(){Ex(function(){(Me&6)!==0?Ac(Oh,mx):Zg()})}function gf(){return rr===0&&(rr=Mh()),rr}function qg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:vl(""+e)}function Vg(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function gx(e,n,i,l,c){if(n==="submit"&&i&&i.stateNode===c){var f=qg((c[Ot]||null).action),g=l.submitter;g&&(n=(n=g[Ot]||null)?qg(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var v=new wl("action","action",null,l,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(rr!==0){var x=g?Vg(c,g):new FormData(c);zo(i,{pending:!0,data:x,method:c.method,action:f},null,x)}}else typeof f=="function"&&(v.preventDefault(),x=g?Vg(c,g):new FormData(c),zo(i,{pending:!0,data:x,method:c.method,action:f},f,x))},currentTarget:c}]})}}for(var yf=0;yf<Wc.length;yf++){var vf=Wc[yf],yx=vf.toLowerCase(),vx=vf[0].toUpperCase()+vf.slice(1);ln(yx,"on"+vx)}ln(Sm,"onAnimationEnd"),ln(Am,"onAnimationIteration"),ln(Em,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(z_,"onTransitionRun"),ln(U_,"onTransitionStart"),ln(L_,"onTransitionCancel"),ln(Nm,"onTransitionEnd"),Sr("onMouseEnter",["mouseout","mouseover"]),Sr("onMouseLeave",["mouseout","mouseover"]),Sr("onPointerEnter",["pointerout","pointerover"]),Sr("onPointerLeave",["pointerout","pointerover"]),Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fi));function Yg(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],c=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var v=l[g],x=v.instance,k=v.currentTarget;if(v=v.listener,x!==f&&c.isPropagationStopped())break e;f=v,c.currentTarget=k;try{f(c)}catch(B){Ql(B)}c.currentTarget=null,f=x}else for(g=0;g<l.length;g++){if(v=l[g],x=v.instance,k=v.currentTarget,v=v.listener,x!==f&&c.isPropagationStopped())break e;f=v,c.currentTarget=k;try{f(c)}catch(B){Ql(B)}c.currentTarget=null,f=x}}}}function Ee(e,n){var i=n[Cc];i===void 0&&(i=n[Cc]=new Set);var l=e+"__bubble";i.has(l)||(Gg(n,e,2,!1),i.add(l))}function bf(e,n,i){var l=0;n&&(l|=4),Gg(i,e,l,n)}var uu="_reactListening"+Math.random().toString(36).slice(2);function _f(e){if(!e[uu]){e[uu]=!0,Zh.forEach(function(i){i!=="selectionchange"&&(bx.has(i)||bf(i,!1,e),bf(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uu]||(n[uu]=!0,bf("selectionchange",!1,n))}}function Gg(e,n,i,l){switch(gy(n)){case 2:var c=Gx;break;case 8:c=Xx;break;default:c=Df}i=c.bind(null,n,i,e),c=void 0,!Pc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function xf(e,n,i,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var v=l.stateNode.containerInfo;if(v===c)break;if(g===4)for(g=l.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;v!==null;){if(g=_r(v),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){l=f=g;continue e}v=v.parentNode}}l=l.return}Wh(function(){var k=f,B=Bc(i),H=[];e:{var M=Tm.get(e);if(M!==void 0){var D=wl,de=e;switch(e){case"keypress":if(_l(i)===0)break e;case"keydown":case"keyup":D=h_;break;case"focusin":de="focus",D=Vc;break;case"focusout":de="blur",D=Vc;break;case"beforeblur":case"afterblur":D=Vc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=nm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=t_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=g_;break;case Sm:case Am:case Em:D=r_;break;case Nm:D=v_;break;case"scroll":case"scrollend":D=Wb;break;case"wheel":D=__;break;case"copy":case"cut":case"paste":D=i_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=rm;break;case"toggle":case"beforetoggle":D=w_}var ce=(n&4)!==0,Ze=!ce&&(e==="scroll"||e==="scrollend"),T=ce?M!==null?M+"Capture":null:M;ce=[];for(var E=k,j;E!==null;){var $=E;if(j=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||j===null||T===null||($=Os(E,T),$!=null&&ce.push(di(E,$,j))),Ze)break;E=E.return}0<ce.length&&(M=new D(M,de,null,i,B),H.push({event:M,listeners:ce}))}}if((n&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",M&&i!==Lc&&(de=i.relatedTarget||i.fromElement)&&(_r(de)||de[br]))break e;if((D||M)&&(M=B.window===B?B:(M=B.ownerDocument)?M.defaultView||M.parentWindow:window,D?(de=i.relatedTarget||i.toElement,D=k,de=de?_r(de):null,de!==null&&(Ze=o(de),ce=de.tag,de!==Ze||ce!==5&&ce!==27&&ce!==6)&&(de=null)):(D=null,de=k),D!==de)){if(ce=nm,$="onMouseLeave",T="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ce=rm,$="onPointerLeave",T="onPointerEnter",E="pointer"),Ze=D==null?M:Cs(D),j=de==null?M:Cs(de),M=new ce($,E+"leave",D,i,B),M.target=Ze,M.relatedTarget=j,$=null,_r(B)===k&&(ce=new ce(T,E+"enter",de,i,B),ce.target=j,ce.relatedTarget=Ze,$=ce),Ze=$,D&&de)t:{for(ce=D,T=de,E=0,j=ce;j;j=es(j))E++;for(j=0,$=T;$;$=es($))j++;for(;0<E-j;)ce=es(ce),E--;for(;0<j-E;)T=es(T),j--;for(;E--;){if(ce===T||T!==null&&ce===T.alternate)break t;ce=es(ce),T=es(T)}ce=null}else ce=null;D!==null&&Xg(H,M,D,ce,!1),de!==null&&Ze!==null&&Xg(H,Ze,de,ce,!0)}}e:{if(M=k?Cs(k):window,D=M.nodeName&&M.nodeName.toLowerCase(),D==="select"||D==="input"&&M.type==="file")var ee=dm;else if(om(M))if(hm)ee=k_;else{ee=O_;var Se=C_}else D=M.nodeName,!D||D.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?k&&Uc(k.elementType)&&(ee=dm):ee=j_;if(ee&&(ee=ee(e,k))){fm(H,ee,i,B);break e}Se&&Se(e,M,k),e==="focusout"&&k&&M.type==="number"&&k.memoizedProps.value!=null&&zc(M,"number",M.value)}switch(Se=k?Cs(k):window,e){case"focusin":(om(Se)||Se.contentEditable==="true")&&(Or=Se,Kc=k,Bs=null);break;case"focusout":Bs=Kc=Or=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,xm(H,i,B);break;case"selectionchange":if(D_)break;case"keydown":case"keyup":xm(H,i,B)}var ae;if(Gc)e:{switch(e){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else Cr?um(e,i)&&(oe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(oe="onCompositionStart");oe&&(sm&&i.locale!=="ko"&&(Cr||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&Cr&&(ae=em()):(ca=B,$c="value"in ca?ca.value:ca.textContent,Cr=!0)),Se=cu(k,oe),0<Se.length&&(oe=new am(oe,e,null,i,B),H.push({event:oe,listeners:Se}),ae?oe.data=ae:(ae=cm(i),ae!==null&&(oe.data=ae)))),(ae=A_?E_(e,i):N_(e,i))&&(oe=cu(k,"onBeforeInput"),0<oe.length&&(Se=new am("onBeforeInput","beforeinput",null,i,B),H.push({event:Se,listeners:oe}),Se.data=ae)),gx(H,e,k,i,B)}Yg(H,n)})}function di(e,n,i){return{instance:e,listener:n,currentTarget:i}}function cu(e,n){for(var i=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Os(e,i),c!=null&&l.unshift(di(e,c,f)),c=Os(e,n),c!=null&&l.push(di(e,c,f))),e.tag===3)return l;e=e.return}return[]}function es(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xg(e,n,i,l,c){for(var f=n._reactName,g=[];i!==null&&i!==l;){var v=i,x=v.alternate,k=v.stateNode;if(v=v.tag,x!==null&&x===l)break;v!==5&&v!==26&&v!==27||k===null||(x=k,c?(k=Os(i,f),k!=null&&g.unshift(di(i,k,x))):c||(k=Os(i,f),k!=null&&g.push(di(i,k,x)))),i=i.return}g.length!==0&&e.push({event:n,listeners:g})}var _x=/\r\n?/g,xx=/\u0000|\uFFFD/g;function Qg(e){return(typeof e=="string"?e:""+e).replace(_x,`
`).replace(xx,"")}function Ig(e,n){return n=Qg(n),Qg(e)===n}function ou(){}function Be(e,n,i,l,c,f){switch(i){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Nr(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Nr(e,""+l);break;case"className":pl(e,"class",l);break;case"tabIndex":pl(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pl(e,i,l);break;case"style":Fh(e,l,f);break;case"data":if(n!=="object"){pl(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=vl(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(n!=="input"&&Be(e,n,"name",c.name,c,null),Be(e,n,"formEncType",c.formEncType,c,null),Be(e,n,"formMethod",c.formMethod,c,null),Be(e,n,"formTarget",c.formTarget,c,null)):(Be(e,n,"encType",c.encType,c,null),Be(e,n,"method",c.method,c,null),Be(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=vl(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=ou);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=vl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),ml(e,"popover",l);break;case"xlinkActuate":Bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ml(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Fb.get(i)||i,ml(e,i,l))}}function wf(e,n,i,l,c,f){switch(i){case"style":Fh(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof l=="string"?Nr(e,l):(typeof l=="number"||typeof l=="bigint")&&Nr(e,""+l);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ou);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ph.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),n=i.slice(2,c?i.length-7:void 0),f=e[Ot]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,l,c);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):ml(e,i,l)}}}function gt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var l=!1,c=!1,f;for(f in i)if(i.hasOwnProperty(f)){var g=i[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Be(e,n,f,g,i,null)}}c&&Be(e,n,"srcSet",i.srcSet,i,null),l&&Be(e,n,"src",i.src,i,null);return;case"input":Ee("invalid",e);var v=f=g=c=null,x=null,k=null;for(l in i)if(i.hasOwnProperty(l)){var B=i[l];if(B!=null)switch(l){case"name":c=B;break;case"type":g=B;break;case"checked":x=B;break;case"defaultChecked":k=B;break;case"value":f=B;break;case"defaultValue":v=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Be(e,n,l,B,i,null)}}Xh(e,f,v,x,k,g,c,!1),gl(e);return;case"select":Ee("invalid",e),l=g=f=null;for(c in i)if(i.hasOwnProperty(c)&&(v=i[c],v!=null))switch(c){case"value":f=v;break;case"defaultValue":g=v;break;case"multiple":l=v;default:Be(e,n,c,v,i,null)}n=f,i=g,e.multiple=!!l,n!=null?Er(e,!!l,n,!1):i!=null&&Er(e,!!l,i,!0);return;case"textarea":Ee("invalid",e),f=c=l=null;for(g in i)if(i.hasOwnProperty(g)&&(v=i[g],v!=null))switch(g){case"value":l=v;break;case"defaultValue":c=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:Be(e,n,g,v,i,null)}Ih(e,l,c,f),gl(e);return;case"option":for(x in i)if(i.hasOwnProperty(x)&&(l=i[x],l!=null))switch(x){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Be(e,n,x,l,i,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(l=0;l<fi.length;l++)Ee(fi[l],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in i)if(i.hasOwnProperty(k)&&(l=i[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Be(e,n,k,l,i,null)}return;default:if(Uc(n)){for(B in i)i.hasOwnProperty(B)&&(l=i[B],l!==void 0&&wf(e,n,B,l,i,void 0));return}}for(v in i)i.hasOwnProperty(v)&&(l=i[v],l!=null&&Be(e,n,v,l,i,null))}function wx(e,n,i,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,v=null,x=null,k=null,B=null;for(D in i){var H=i[D];if(i.hasOwnProperty(D)&&H!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":x=H;default:l.hasOwnProperty(D)||Be(e,n,D,null,l,H)}}for(var M in l){var D=l[M];if(H=i[M],l.hasOwnProperty(M)&&(D!=null||H!=null))switch(M){case"type":f=D;break;case"name":c=D;break;case"checked":k=D;break;case"defaultChecked":B=D;break;case"value":g=D;break;case"defaultValue":v=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,n));break;default:D!==H&&Be(e,n,M,D,l,H)}}Dc(e,g,v,x,k,B,f,c);return;case"select":D=g=v=M=null;for(f in i)if(x=i[f],i.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":D=x;default:l.hasOwnProperty(f)||Be(e,n,f,null,l,x)}for(c in l)if(f=l[c],x=i[c],l.hasOwnProperty(c)&&(f!=null||x!=null))switch(c){case"value":M=f;break;case"defaultValue":v=f;break;case"multiple":g=f;default:f!==x&&Be(e,n,c,f,l,x)}n=v,i=g,l=D,M!=null?Er(e,!!i,M,!1):!!l!=!!i&&(n!=null?Er(e,!!i,n,!0):Er(e,!!i,i?[]:"",!1));return;case"textarea":D=M=null;for(v in i)if(c=i[v],i.hasOwnProperty(v)&&c!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Be(e,n,v,null,l,c)}for(g in l)if(c=l[g],f=i[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":M=c;break;case"defaultValue":D=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Be(e,n,g,c,l,f)}Qh(e,M,D);return;case"option":for(var de in i)if(M=i[de],i.hasOwnProperty(de)&&M!=null&&!l.hasOwnProperty(de))switch(de){case"selected":e.selected=!1;break;default:Be(e,n,de,null,l,M)}for(x in l)if(M=l[x],D=i[x],l.hasOwnProperty(x)&&M!==D&&(M!=null||D!=null))switch(x){case"selected":e.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Be(e,n,x,M,l,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in i)M=i[ce],i.hasOwnProperty(ce)&&M!=null&&!l.hasOwnProperty(ce)&&Be(e,n,ce,null,l,M);for(k in l)if(M=l[k],D=i[k],l.hasOwnProperty(k)&&M!==D&&(M!=null||D!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(137,n));break;default:Be(e,n,k,M,l,D)}return;default:if(Uc(n)){for(var Ze in i)M=i[Ze],i.hasOwnProperty(Ze)&&M!==void 0&&!l.hasOwnProperty(Ze)&&wf(e,n,Ze,void 0,l,M);for(B in l)M=l[B],D=i[B],!l.hasOwnProperty(B)||M===D||M===void 0&&D===void 0||wf(e,n,B,M,l,D);return}}for(var T in i)M=i[T],i.hasOwnProperty(T)&&M!=null&&!l.hasOwnProperty(T)&&Be(e,n,T,null,l,M);for(H in l)M=l[H],D=i[H],!l.hasOwnProperty(H)||M===D||M==null&&D==null||Be(e,n,H,M,l,D)}var Sf=null,Af=null;function fu(e){return e.nodeType===9?e:e.ownerDocument}function Kg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ef(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nf=null;function Sx(){var e=window.event;return e&&e.type==="popstate"?e===Nf?!1:(Nf=e,!0):(Nf=null,!1)}var Jg=typeof setTimeout=="function"?setTimeout:void 0,Ax=typeof clearTimeout=="function"?clearTimeout:void 0,Wg=typeof Promise=="function"?Promise:void 0,Ex=typeof queueMicrotask=="function"?queueMicrotask:typeof Wg<"u"?function(e){return Wg.resolve(null).then(e).catch(Nx)}:Jg;function Nx(e){setTimeout(function(){throw e})}function Ea(e){return e==="head"}function ey(e,n){var i=n,l=0,c=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(0<l&&8>l){i=l;var g=e.ownerDocument;if(i&1&&hi(g.documentElement),i&2&&hi(g.body),i&4)for(i=g.head,hi(i),g=i.firstChild;g;){var v=g.nextSibling,x=g.nodeName;g[Rs]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&g.rel.toLowerCase()==="stylesheet"||i.removeChild(g),g=v}}if(c===0){e.removeChild(f),xi(n);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:l=i.charCodeAt(0)-48;else l=0;i=f}while(i);xi(n)}function Tf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Tf(i),Oc(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Tx(e,n,i,l){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Rs])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=cn(e.nextSibling),e===null)break}return null}function Rx(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=cn(e.nextSibling),e===null))return null;return e}function Rf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Cx(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var l=function(){n(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function cn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Cf=null;function ty(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function ny(e,n,i){switch(n=fu(i),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function hi(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Oc(e)}var rn=new Map,ay=new Set;function du(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Jn=K.d;K.d={f:Ox,r:jx,D:kx,C:Mx,L:Dx,m:zx,X:Lx,S:Ux,M:Bx};function Ox(){var e=Jn.f(),n=au();return e||n}function jx(e){var n=xr(e);n!==null&&n.tag===5&&n.type==="form"?Sp(n):Jn.r(e)}var ts=typeof document>"u"?null:document;function ry(e,n,i){var l=ts;if(l&&typeof n=="string"&&n){var c=Ft(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),ay.has(c)||(ay.add(c),e={rel:e,crossOrigin:i,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),gt(n,"link",e),ct(n),l.head.appendChild(n)))}}function kx(e){Jn.D(e),ry("dns-prefetch",e,null)}function Mx(e,n){Jn.C(e,n),ry("preconnect",e,n)}function Dx(e,n,i){Jn.L(e,n,i);var l=ts;if(l&&e&&n){var c='link[rel="preload"][as="'+Ft(n)+'"]';n==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+Ft(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+Ft(i.imageSizes)+'"]')):c+='[href="'+Ft(e)+'"]';var f=c;switch(n){case"style":f=ns(e);break;case"script":f=as(e)}rn.has(f)||(e=b({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),rn.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(mi(f))||n==="script"&&l.querySelector(pi(f))||(n=l.createElement("link"),gt(n,"link",e),ct(n),l.head.appendChild(n)))}}function zx(e,n){Jn.m(e,n);var i=ts;if(i&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ft(l)+'"][href="'+Ft(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=as(e)}if(!rn.has(f)&&(e=b({rel:"modulepreload",href:e},n),rn.set(f,e),i.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(pi(f)))return}l=i.createElement("link"),gt(l,"link",e),ct(l),i.head.appendChild(l)}}}function Ux(e,n,i){Jn.S(e,n,i);var l=ts;if(l&&e){var c=wr(l).hoistableStyles,f=ns(e);n=n||"default";var g=c.get(f);if(!g){var v={loading:0,preload:null};if(g=l.querySelector(mi(f)))v.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},i),(i=rn.get(f))&&Of(e,i);var x=g=l.createElement("link");ct(x),gt(x,"link",e),x._p=new Promise(function(k,B){x.onload=k,x.onerror=B}),x.addEventListener("load",function(){v.loading|=1}),x.addEventListener("error",function(){v.loading|=2}),v.loading|=4,hu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:v},c.set(f,g)}}}function Lx(e,n){Jn.X(e,n);var i=ts;if(i&&e){var l=wr(i).hoistableScripts,c=as(e),f=l.get(c);f||(f=i.querySelector(pi(c)),f||(e=b({src:e,async:!0},n),(n=rn.get(c))&&jf(e,n),f=i.createElement("script"),ct(f),gt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Bx(e,n){Jn.M(e,n);var i=ts;if(i&&e){var l=wr(i).hoistableScripts,c=as(e),f=l.get(c);f||(f=i.querySelector(pi(c)),f||(e=b({src:e,async:!0,type:"module"},n),(n=rn.get(c))&&jf(e,n),f=i.createElement("script"),ct(f),gt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function sy(e,n,i,l){var c=(c=pe.current)?du(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=ns(i.href),i=wr(c).hoistableStyles,l=i.get(n),l||(l={type:"style",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ns(i.href);var f=wr(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(mi(e)))&&!f._p&&(g.instance=f,g.state.loading=5),rn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},rn.set(e,i),f||Zx(c,e,i,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=as(i),i=wr(c).hoistableScripts,l=i.get(n),l||(l={type:"script",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ns(e){return'href="'+Ft(e)+'"'}function mi(e){return'link[rel="stylesheet"]['+e+"]"}function iy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Zx(e,n,i,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),gt(n,"link",i),ct(n),e.head.appendChild(n))}function as(e){return'[src="'+Ft(e)+'"]'}function pi(e){return"script[async]"+e}function ly(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Ft(i.href)+'"]');if(l)return n.instance=l,ct(l),l;var c=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ct(l),gt(l,"style",c),hu(l,i.precedence,e),n.instance=l;case"stylesheet":c=ns(i.href);var f=e.querySelector(mi(c));if(f)return n.state.loading|=4,n.instance=f,ct(f),f;l=iy(i),(c=rn.get(c))&&Of(l,c),f=(e.ownerDocument||e).createElement("link"),ct(f);var g=f;return g._p=new Promise(function(v,x){g.onload=v,g.onerror=x}),gt(f,"link",l),n.state.loading|=4,hu(f,i.precedence,e),n.instance=f;case"script":return f=as(i.src),(c=e.querySelector(pi(f)))?(n.instance=c,ct(c),c):(l=i,(c=rn.get(f))&&(l=b({},i),jf(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),ct(c),gt(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,hu(l,i.precedence,e));return n.instance}function hu(e,n,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var v=l[g];if(v.dataset.precedence===n)f=v;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Of(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function jf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mu=null;function uy(e,n,i){if(mu===null){var l=new Map,c=mu=new Map;c.set(i,l)}else c=mu,l=c.get(i),l||(l=new Map,c.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var f=i[c];if(!(f[Rs]||f[xt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var v=l.get(g);v?v.push(f):l.set(g,[f])}}return l}function cy(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function Px(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function oy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var gi=null;function $x(){}function Hx(e,n,i){if(gi===null)throw Error(s(475));var l=gi;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ns(i.href),f=e.querySelector(mi(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=pu.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,ct(f);return}f=e.ownerDocument||e,i=iy(i),(c=rn.get(c))&&Of(i,c),f=f.createElement("link"),ct(f);var g=f;g._p=new Promise(function(v,x){g.onload=v,g.onerror=x}),gt(f,"link",i),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=pu.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function qx(){if(gi===null)throw Error(s(475));var e=gi;return e.stylesheets&&e.count===0&&kf(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&kf(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function pu(){if(this.count--,this.count===0){if(this.stylesheets)kf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gu=null;function kf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gu=new Map,n.forEach(Vx,e),gu=null,pu.call(e))}function Vx(e,n){if(!(n.state.loading&4)){var i=gu.get(e);if(i)var l=i.get(null);else{i=new Map,gu.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),l=g)}l&&i.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=i.get(g)||l,f===l&&i.set(null,c),i.set(g,c),this.count++,l=pu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var yi={$$typeof:Z,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Yx(e,n,i,l,c,f,g,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nc(0),this.hiddenUpdates=Nc(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function fy(e,n,i,l,c,f,g,v,x,k,B,H){return e=new Yx(e,n,i,g,v,x,k,H),n=1,f===!0&&(n|=24),f=Pt(3,null,null,n),e.current=f,f.stateNode=e,n=fo(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:i,cache:n},go(f),e}function dy(e){return e?(e=Dr,e):Dr}function hy(e,n,i,l,c,f){c=dy(c),l.context===null?l.context=c:l.pendingContext=c,l=da(n),l.payload={element:i},f=f===void 0?null:f,f!==null&&(l.callback=f),i=ha(e,l,n),i!==null&&(Yt(i,e,n),Xs(i,e,n))}function my(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Mf(e,n){my(e,n),(e=e.alternate)&&my(e,n)}function py(e){if(e.tag===13){var n=Mr(e,67108864);n!==null&&Yt(n,e,67108864),Mf(e,67108864)}}var yu=!0;function Gx(e,n,i,l){var c=P.T;P.T=null;var f=K.p;try{K.p=2,Df(e,n,i,l)}finally{K.p=f,P.T=c}}function Xx(e,n,i,l){var c=P.T;P.T=null;var f=K.p;try{K.p=8,Df(e,n,i,l)}finally{K.p=f,P.T=c}}function Df(e,n,i,l){if(yu){var c=zf(l);if(c===null)xf(e,n,l,vu,i),yy(e,l);else if(Ix(c,e,n,i,l))l.stopPropagation();else if(yy(e,l),n&4&&-1<Qx.indexOf(e)){for(;c!==null;){var f=xr(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=$a(f.pendingLanes);if(g!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var x=1<<31-Bt(g);v.entanglements[1]|=x,g&=~x}Tn(f),(Me&6)===0&&(tu=wn()+500,oi(0))}}break;case 13:v=Mr(f,2),v!==null&&Yt(v,f,2),au(),Mf(f,2)}if(f=zf(l),f===null&&xf(e,n,l,vu,i),f===c)break;c=f}c!==null&&l.stopPropagation()}else xf(e,n,l,null,i)}}function zf(e){return e=Bc(e),Uf(e)}var vu=null;function Uf(e){if(vu=null,e=_r(e),e!==null){var n=o(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=d(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vu=e,null}function gy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mb()){case Oh:return 2;case jh:return 8;case ol:case Db:return 32;case kh:return 268435456;default:return 32}default:return 32}}var Lf=!1,Na=null,Ta=null,Ra=null,vi=new Map,bi=new Map,Ca=[],Qx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yy(e,n){switch(e){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":vi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bi.delete(n.pointerId)}}function _i(e,n,i,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=xr(n),n!==null&&py(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function Ix(e,n,i,l,c){switch(n){case"focusin":return Na=_i(Na,e,n,i,l,c),!0;case"dragenter":return Ta=_i(Ta,e,n,i,l,c),!0;case"mouseover":return Ra=_i(Ra,e,n,i,l,c),!0;case"pointerover":var f=c.pointerId;return vi.set(f,_i(vi.get(f)||null,e,n,i,l,c)),!0;case"gotpointercapture":return f=c.pointerId,bi.set(f,_i(bi.get(f)||null,e,n,i,l,c)),!0}return!1}function vy(e){var n=_r(e.target);if(n!==null){var i=o(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){e.blockedOn=n,Hb(e.priority,function(){if(i.tag===13){var l=Vt();l=Tc(l);var c=Mr(i,l);c!==null&&Yt(c,i,l),Mf(i,l)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=zf(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Lc=l,i.target.dispatchEvent(l),Lc=null}else return n=xr(i),n!==null&&py(n),e.blockedOn=i,!1;n.shift()}return!0}function by(e,n,i){bu(e)&&i.delete(n)}function Kx(){Lf=!1,Na!==null&&bu(Na)&&(Na=null),Ta!==null&&bu(Ta)&&(Ta=null),Ra!==null&&bu(Ra)&&(Ra=null),vi.forEach(by),bi.forEach(by)}function _u(e,n){e.blockedOn===n&&(e.blockedOn=null,Lf||(Lf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Kx)))}var xu=null;function _y(e){xu!==e&&(xu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xu===e&&(xu=null);for(var n=0;n<e.length;n+=3){var i=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(Uf(l||i)===null)continue;break}var f=xr(i);f!==null&&(e.splice(n,3),n-=3,zo(f,{pending:!0,data:c,method:i.method,action:l},l,c))}}))}function xi(e){function n(x){return _u(x,e)}Na!==null&&_u(Na,e),Ta!==null&&_u(Ta,e),Ra!==null&&_u(Ra,e),vi.forEach(n),bi.forEach(n);for(var i=0;i<Ca.length;i++){var l=Ca[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ca.length&&(i=Ca[0],i.blockedOn===null);)vy(i),i.blockedOn===null&&Ca.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var c=i[l],f=i[l+1],g=c[Ot]||null;if(typeof f=="function")g||_y(i);else if(g){var v=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Ot]||null)v=g.formAction;else if(Uf(c)!==null)continue}else v=g.action;typeof v=="function"?i[l+1]=v:(i.splice(l,3),l-=3),_y(i)}}}function Bf(e){this._internalRoot=e}wu.prototype.render=Bf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,l=Vt();hy(i,l,e,n,null,null)},wu.prototype.unmount=Bf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;hy(e.current,2,null,e,null,null),au(),n[br]=null}};function wu(e){this._internalRoot=e}wu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Lh();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Ca.length&&n!==0&&n<Ca[i].priority;i++);Ca.splice(i,0,e),i===0&&vy(e)}};var xy=t.version;if(xy!=="19.1.0")throw Error(s(527,xy,"19.1.0"));K.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Fx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{Es=Su.inject(Fx),Lt=Su}catch{}}return Si.createRoot=function(e,n){if(!u(e))throw Error(s(299));var i=!1,l="",c=Lp,f=Bp,g=Zp,v=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(v=n.unstable_transitionCallbacks)),n=fy(e,1,!1,null,null,i,l,c,f,g,v,null),e[br]=n.current,_f(e),new Bf(n)},Si.hydrateRoot=function(e,n,i){if(!u(e))throw Error(s(299));var l=!1,c="",f=Lp,g=Bp,v=Zp,x=null,k=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks),i.formState!==void 0&&(k=i.formState)),n=fy(e,1,!0,n,i??null,l,c,f,g,v,x,k),n.context=dy(null),i=n.current,l=Vt(),l=Tc(l),c=da(l),c.callback=null,ha(i,c,l),i=l,n.current.lanes=i,Ts(n,i),Tn(n),e[br]=n.current,_f(e),new wu(n)},Si.version="19.1.0",Si}var jy;function c1(){if(jy)return $f.exports;jy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),$f.exports=u1(),$f.exports}var o1=c1();const f1="modulepreload",d1=function(r){return"/ursa-minor-ascension/"+r},ky={},Av=function(t,a,s){let u=Promise.resolve();if(a&&a.length>0){let d=function(m){return Promise.all(m.map(b=>Promise.resolve(b).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));u=d(a.map(m=>{if(m=d1(m),m in ky)return;ky[m]=!0;const b=m.endsWith(".css"),_=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":f1,b||(w.as="script"),w.crossOrigin="",w.href=m,p&&w.setAttribute("nonce",p),document.head.appendChild(w),b)return new Promise((O,N)=>{w.addEventListener("load",O),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return u.then(d=>{for(const h of d||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})};function h1(r={}){const{immediate:t=!1,onNeedRefresh:a,onOfflineReady:s,onRegistered:u,onRegisteredSW:o,onRegisterError:d}=r;let h,p;const m=async(_=!0)=>{await p};async function b(){if("serviceWorker"in navigator){if(h=await Av(async()=>{const{Workbox:_}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:_}},[]).then(({Workbox:_})=>new _("/ursa-minor-ascension/sw.js",{scope:"/ursa-minor-ascension/",type:"classic"})).catch(_=>{d==null||d(_)}),!h)return;h.addEventListener("activated",_=>{(_.isUpdate||_.isExternal)&&window.location.reload()}),h.addEventListener("installed",_=>{_.isUpdate||s==null||s()}),h.register({immediate:t}).then(_=>{o?o("/ursa-minor-ascension/sw.js",_):u==null||u(_)}).catch(_=>{d==null||d(_)})}}return p=b(),m}var Ai={},My;function m1(){if(My)return Ai;My=1,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.parse=d,Ai.serialize=m;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,u=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function d(w,O){const N=new o,z=w.length;if(z<2)return N;const R=(O==null?void 0:O.decode)||b;let U=0;do{const C=w.indexOf("=",U);if(C===-1)break;const Z=w.indexOf(";",U),G=Z===-1?z:Z;if(C>G){U=w.lastIndexOf(";",C-1)+1;continue}const Q=h(w,U,C),ie=p(w,C,Q),W=w.slice(Q,ie);if(N[W]===void 0){let we=h(w,C+1,G),V=p(w,G,we);const le=R(w.slice(we,V));N[W]=le}U=G+1}while(U<z);return N}function h(w,O,N){do{const z=w.charCodeAt(O);if(z!==32&&z!==9)return O}while(++O<N);return N}function p(w,O,N){for(;O>N;){const z=w.charCodeAt(--O);if(z!==32&&z!==9)return O+1}return N}function m(w,O,N){const z=(N==null?void 0:N.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const R=z(O);if(!t.test(R))throw new TypeError(`argument val is invalid: ${O}`);let U=w+"="+R;if(!N)return U;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);U+="; Max-Age="+N.maxAge}if(N.domain){if(!a.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);U+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);U+="; Path="+N.path}if(N.expires){if(!_(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);U+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(U+="; HttpOnly"),N.secure&&(U+="; Secure"),N.partitioned&&(U+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return U}function b(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return u.call(w)==="[object Date]"}return Ai}m1();var Dy="popstate";function p1(r={}){function t(u,o){let{pathname:d="/",search:h="",hash:p=""}=gr(u.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),fd("",{pathname:d,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(u,o){let d=u.document.querySelector("base"),h="";if(d&&d.getAttribute("href")){let p=u.location.href,m=p.indexOf("#");h=m===-1?p:p.slice(0,m)}return h+"#"+(typeof o=="string"?o:Li(o))}function s(u,o){_n(u.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return y1(t,a,s,r)}function Ke(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function _n(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function g1(){return Math.random().toString(36).substring(2,10)}function zy(r,t){return{usr:r.state,key:r.key,idx:t}}function fd(r,t,a=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?gr(t):t,state:a,key:t&&t.key||s||g1()}}function Li({pathname:r="/",search:t="",hash:a=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function gr(r){let t={};if(r){let a=r.indexOf("#");a>=0&&(t.hash=r.substring(a),r=r.substring(0,a));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function y1(r,t,a,s={}){let{window:u=document.defaultView,v5Compat:o=!1}=s,d=u.history,h="POP",p=null,m=b();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function b(){return(d.state||{idx:null}).idx}function _(){h="POP";let R=b(),U=R==null?null:R-m;m=R,p&&p({action:h,location:z.location,delta:U})}function w(R,U){h="PUSH";let C=fd(z.location,R,U);a&&a(C,R),m=b()+1;let Z=zy(C,m),G=z.createHref(C);try{d.pushState(Z,"",G)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;u.location.assign(G)}o&&p&&p({action:h,location:z.location,delta:1})}function O(R,U){h="REPLACE";let C=fd(z.location,R,U);a&&a(C,R),m=b();let Z=zy(C,m),G=z.createHref(C);d.replaceState(Z,"",G),o&&p&&p({action:h,location:z.location,delta:0})}function N(R){return v1(R)}let z={get action(){return h},get location(){return r(u,d)},listen(R){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(Dy,_),p=R,()=>{u.removeEventListener(Dy,_),p=null}},createHref(R){return t(u,R)},createURL:N,encodeLocation(R){let U=N(R);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:w,replace:O,go(R){return d.go(R)}};return z}function v1(r,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(a,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Li(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function Ev(r,t,a="/"){return b1(r,t,a,!1)}function b1(r,t,a,s){let u=typeof t=="string"?gr(t):t,o=ra(u.pathname||"/",a);if(o==null)return null;let d=Nv(r);_1(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let m=j1(o);h=C1(d[p],m,s)}return h}function Nv(r,t=[],a=[],s=""){let u=(o,d,h)=>{let p={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:d,route:o};p.relativePath.startsWith("/")&&(Ke(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let m=aa([s,p.relativePath]),b=a.concat(p);o.children&&o.children.length>0&&(Ke(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Nv(o.children,t,b,m)),!(o.path==null&&!o.index)&&t.push({path:m,score:T1(m,o.index),routesMeta:b})};return r.forEach((o,d)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))u(o,d);else for(let p of Tv(o.path))u(o,d,p)}),t}function Tv(r){let t=r.split("/");if(t.length===0)return[];let[a,...s]=t,u=a.endsWith("?"),o=a.replace(/\?$/,"");if(s.length===0)return u?[o,""]:[o];let d=Tv(s.join("/")),h=[];return h.push(...d.map(p=>p===""?o:[o,p].join("/"))),u&&h.push(...d),h.map(p=>r.startsWith("/")&&p===""?"/":p)}function _1(r){r.sort((t,a)=>t.score!==a.score?a.score-t.score:R1(t.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var x1=/^:[\w-]+$/,w1=3,S1=2,A1=1,E1=10,N1=-2,Uy=r=>r==="*";function T1(r,t){let a=r.split("/"),s=a.length;return a.some(Uy)&&(s+=N1),t&&(s+=S1),a.filter(u=>!Uy(u)).reduce((u,o)=>u+(x1.test(o)?w1:o===""?A1:E1),s)}function R1(r,t){return r.length===t.length&&r.slice(0,-1).every((s,u)=>s===t[u])?r[r.length-1]-t[t.length-1]:0}function C1(r,t,a=!1){let{routesMeta:s}=r,u={},o="/",d=[];for(let h=0;h<s.length;++h){let p=s[h],m=h===s.length-1,b=o==="/"?t:t.slice(o.length)||"/",_=Hu({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},b),w=p.route;if(!_&&m&&a&&!s[s.length-1].route.index&&(_=Hu({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!_)return null;Object.assign(u,_.params),d.push({params:u,pathname:aa([o,_.pathname]),pathnameBase:z1(aa([o,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(o=aa([o,_.pathnameBase]))}return d}function Hu(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[a,s]=O1(r.path,r.caseSensitive,r.end),u=t.match(a);if(!u)return null;let o=u[0],d=o.replace(/(.)\/+$/,"$1"),h=u.slice(1);return{params:s.reduce((m,{paramName:b,isOptional:_},w)=>{if(b==="*"){let N=h[w]||"";d=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const O=h[w];return _&&!O?m[b]=void 0:m[b]=(O||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:d,pattern:r}}function O1(r,t=!1,a=!0){_n(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),s]}function j1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _n(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function ra(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=r.charAt(a);return s&&s!=="/"?null:r.slice(a)||"/"}function k1(r,t="/"){let{pathname:a,search:s="",hash:u=""}=typeof r=="string"?gr(r):r;return{pathname:a?a.startsWith("/")?a:M1(a,t):t,search:U1(s),hash:L1(u)}}function M1(r,t){let a=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?a.length>1&&a.pop():u!=="."&&a.push(u)}),a.length>1?a.join("/"):"/"}function Yf(r,t,a,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D1(r){return r.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function Rv(r){let t=D1(r);return t.map((a,s)=>s===t.length-1?a.pathname:a.pathnameBase)}function Cv(r,t,a,s=!1){let u;typeof r=="string"?u=gr(r):(u={...r},Ke(!u.pathname||!u.pathname.includes("?"),Yf("?","pathname","search",u)),Ke(!u.pathname||!u.pathname.includes("#"),Yf("#","pathname","hash",u)),Ke(!u.search||!u.search.includes("#"),Yf("#","search","hash",u)));let o=r===""||u.pathname==="",d=o?"/":u.pathname,h;if(d==null)h=a;else{let _=t.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),_-=1;u.pathname=w.join("/")}h=_>=0?t[_]:"/"}let p=k1(u,h),m=d&&d!=="/"&&d.endsWith("/"),b=(o||d===".")&&a.endsWith("/");return!p.pathname.endsWith("/")&&(m||b)&&(p.pathname+="/"),p}var aa=r=>r.join("/").replace(/\/\/+/g,"/"),z1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),U1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,L1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function B1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Ov=["POST","PUT","PATCH","DELETE"];new Set(Ov);var Z1=["GET",...Ov];new Set(Z1);var xs=S.createContext(null);xs.displayName="DataRouter";var rc=S.createContext(null);rc.displayName="DataRouterState";var jv=S.createContext({isTransitioning:!1});jv.displayName="ViewTransition";var P1=S.createContext(new Map);P1.displayName="Fetchers";var $1=S.createContext(null);$1.displayName="Await";var Un=S.createContext(null);Un.displayName="Navigation";var Wi=S.createContext(null);Wi.displayName="Location";var Ln=S.createContext({outlet:null,matches:[],isDataRoute:!1});Ln.displayName="Route";var Bd=S.createContext(null);Bd.displayName="RouteError";function H1(r,{relative:t}={}){Ke(el(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=S.useContext(Un),{hash:u,pathname:o,search:d}=tl(r,{relative:t}),h=o;return a!=="/"&&(h=o==="/"?a:aa([a,o])),s.createHref({pathname:h,search:d,hash:u})}function el(){return S.useContext(Wi)!=null}function yr(){return Ke(el(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Wi).location}var kv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mv(r){S.useContext(Un).static||S.useLayoutEffect(r)}function sc(){let{isDataRoute:r}=S.useContext(Ln);return r?nw():q1()}function q1(){Ke(el(),"useNavigate() may be used only in the context of a <Router> component.");let r=S.useContext(xs),{basename:t,navigator:a}=S.useContext(Un),{matches:s}=S.useContext(Ln),{pathname:u}=yr(),o=JSON.stringify(Rv(s)),d=S.useRef(!1);return Mv(()=>{d.current=!0}),S.useCallback((p,m={})=>{if(_n(d.current,kv),!d.current)return;if(typeof p=="number"){a.go(p);return}let b=Cv(p,JSON.parse(o),u,m.relative==="path");r==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:aa([t,b.pathname])),(m.replace?a.replace:a.push)(b,m.state,m)},[t,a,o,u,r])}S.createContext(null);function V1(){let{matches:r}=S.useContext(Ln),t=r[r.length-1];return t?t.params:{}}function tl(r,{relative:t}={}){let{matches:a}=S.useContext(Ln),{pathname:s}=yr(),u=JSON.stringify(Rv(a));return S.useMemo(()=>Cv(r,JSON.parse(u),s,t==="path"),[r,u,s,t])}function Y1(r,t){return Dv(r,t)}function Dv(r,t,a,s){var C;Ke(el(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u,static:o}=S.useContext(Un),{matches:d}=S.useContext(Ln),h=d[d.length-1],p=h?h.params:{},m=h?h.pathname:"/",b=h?h.pathnameBase:"/",_=h&&h.route;{let Z=_&&_.path||"";zv(m,!_||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let w=yr(),O;if(t){let Z=typeof t=="string"?gr(t):t;Ke(b==="/"||((C=Z.pathname)==null?void 0:C.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),O=Z}else O=w;let N=O.pathname||"/",z=N;if(b!=="/"){let Z=b.replace(/^\//,"").split("/");z="/"+N.replace(/^\//,"").split("/").slice(Z.length).join("/")}let R=!o&&a&&a.matches&&a.matches.length>0?a.matches:Ev(r,{pathname:z});_n(_||R!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),_n(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=K1(R&&R.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:aa([b,u.encodeLocation?u.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?b:aa([b,u.encodeLocation?u.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),d,a,s);return t&&U?S.createElement(Wi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},U):U}function G1(){let r=tw(),t=B1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),a=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),a?S.createElement("pre",{style:u},a):null,d)}var X1=S.createElement(G1,null),Q1=class extends S.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?S.createElement(Ln.Provider,{value:this.props.routeContext},S.createElement(Bd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function I1({routeContext:r,match:t,children:a}){let s=S.useContext(xs);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Ln.Provider,{value:r},a)}function K1(r,t=[],a=null,s=null){if(r==null){if(!a)return null;if(a.errors)r=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)r=a.matches;else return null}let u=r,o=a==null?void 0:a.errors;if(o!=null){let p=u.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Ke(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let d=!1,h=-1;if(a)for(let p=0;p<u.length;p++){let m=u[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:b,errors:_}=a,w=m.route.loader&&!b.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||w){d=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}return u.reduceRight((p,m,b)=>{let _,w=!1,O=null,N=null;a&&(_=o&&m.route.id?o[m.route.id]:void 0,O=m.route.errorElement||X1,d&&(h<0&&b===0?(zv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,N=null):h===b&&(w=!0,N=m.route.hydrateFallbackElement||null)));let z=t.concat(u.slice(0,b+1)),R=()=>{let U;return _?U=O:w?U=N:m.route.Component?U=S.createElement(m.route.Component,null):m.route.element?U=m.route.element:U=p,S.createElement(I1,{match:m,routeContext:{outlet:p,matches:z,isDataRoute:a!=null},children:U})};return a&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?S.createElement(Q1,{location:a.location,revalidation:a.revalidation,component:O,error:_,children:R(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):R()},null)}function Zd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F1(r){let t=S.useContext(xs);return Ke(t,Zd(r)),t}function J1(r){let t=S.useContext(rc);return Ke(t,Zd(r)),t}function W1(r){let t=S.useContext(Ln);return Ke(t,Zd(r)),t}function Pd(r){let t=W1(r),a=t.matches[t.matches.length-1];return Ke(a.route.id,`${r} can only be used on routes that contain a unique "id"`),a.route.id}function ew(){return Pd("useRouteId")}function tw(){var s;let r=S.useContext(Bd),t=J1("useRouteError"),a=Pd("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[a]}function nw(){let{router:r}=F1("useNavigate"),t=Pd("useNavigate"),a=S.useRef(!1);return Mv(()=>{a.current=!0}),S.useCallback(async(u,o={})=>{_n(a.current,kv),a.current&&(typeof u=="number"?r.navigate(u):await r.navigate(u,{fromRouteId:t,...o}))},[r,t])}var Ly={};function zv(r,t,a){!t&&!Ly[r]&&(Ly[r]=!0,_n(!1,a))}S.memo(aw);function aw({routes:r,future:t,state:a}){return Dv(r,void 0,a,t)}function Ni(r){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rw({basename:r="/",children:t=null,location:a,navigationType:s="POP",navigator:u,static:o=!1}){Ke(!el(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),h=S.useMemo(()=>({basename:d,navigator:u,static:o,future:{}}),[d,u,o]);typeof a=="string"&&(a=gr(a));let{pathname:p="/",search:m="",hash:b="",state:_=null,key:w="default"}=a,O=S.useMemo(()=>{let N=ra(p,d);return N==null?null:{location:{pathname:N,search:m,hash:b,state:_,key:w},navigationType:s}},[d,p,m,b,_,w,s]);return _n(O!=null,`<Router basename="${d}"> is not able to match the URL "${p}${m}${b}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:S.createElement(Un.Provider,{value:h},S.createElement(Wi.Provider,{children:t,value:O}))}function sw({children:r,location:t}){return Y1(dd(r),t)}function dd(r,t=[]){let a=[];return S.Children.forEach(r,(s,u)=>{if(!S.isValidElement(s))return;let o=[...t,u];if(s.type===S.Fragment){a.push.apply(a,dd(s.props.children,o));return}Ke(s.type===Ni,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=dd(s.props.children,o)),a.push(d)}),a}var Mu="get",Du="application/x-www-form-urlencoded";function ic(r){return r!=null&&typeof r.tagName=="string"}function iw(r){return ic(r)&&r.tagName.toLowerCase()==="button"}function lw(r){return ic(r)&&r.tagName.toLowerCase()==="form"}function uw(r){return ic(r)&&r.tagName.toLowerCase()==="input"}function cw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ow(r,t){return r.button===0&&(!t||t==="_self")&&!cw(r)}var Au=null;function fw(){if(Au===null)try{new FormData(document.createElement("form"),0),Au=!1}catch{Au=!0}return Au}var dw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gf(r){return r!=null&&!dw.has(r)?(_n(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Du}"`),null):r}function hw(r,t){let a,s,u,o,d;if(lw(r)){let h=r.getAttribute("action");s=h?ra(h,t):null,a=r.getAttribute("method")||Mu,u=Gf(r.getAttribute("enctype"))||Du,o=new FormData(r)}else if(iw(r)||uw(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||h.getAttribute("action");if(s=p?ra(p,t):null,a=r.getAttribute("formmethod")||h.getAttribute("method")||Mu,u=Gf(r.getAttribute("formenctype"))||Gf(h.getAttribute("enctype"))||Du,o=new FormData(h,r),!fw()){let{name:m,type:b,value:_}=r;if(b==="image"){let w=m?`${m}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else m&&o.append(m,_)}}else{if(ic(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Mu,s=null,u=Du,d=r}return o&&u==="text/plain"&&(d=o,o=void 0),{action:s,method:a.toLowerCase(),encType:u,formData:o,body:d}}function $d(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function mw(r,t){if(r.id in t)return t[r.id];try{let a=await import(r.module);return t[r.id]=a,a}catch(a){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function gw(r,t,a){let s=await Promise.all(r.map(async u=>{let o=t.routes[u.route.id];if(o){let d=await mw(o,a);return d.links?d.links():[]}return[]}));return _w(s.flat(1).filter(pw).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function By(r,t,a,s,u,o){let d=(p,m)=>a[m]?p.route.id!==a[m].route.id:!0,h=(p,m)=>{var b;return a[m].pathname!==p.pathname||((b=a[m].route.path)==null?void 0:b.endsWith("*"))&&a[m].params["*"]!==p.params["*"]};return o==="assets"?t.filter((p,m)=>d(p,m)||h(p,m)):o==="data"?t.filter((p,m)=>{var _;let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(d(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((_=a[0])==null?void 0:_.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function yw(r,t,{includeHydrateFallback:a}={}){return vw(r.map(s=>{let u=t.routes[s.route.id];if(!u)return[];let o=[u.module];return u.clientActionModule&&(o=o.concat(u.clientActionModule)),u.clientLoaderModule&&(o=o.concat(u.clientLoaderModule)),a&&u.hydrateFallbackModule&&(o=o.concat(u.hydrateFallbackModule)),u.imports&&(o=o.concat(u.imports)),o}).flat(1))}function vw(r){return[...new Set(r)]}function bw(r){let t={},a=Object.keys(r).sort();for(let s of a)t[s]=r[s];return t}function _w(r,t){let a=new Set;return new Set(t),r.reduce((s,u)=>{let o=JSON.stringify(bw(u));return a.has(o)||(a.add(o),s.push({key:o,link:u})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xw=new Set([100,101,204,205]);function ww(r,t){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname="_root.data":t&&ra(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.data`:a.pathname=`${a.pathname.replace(/\/$/,"")}.data`,a}function Uv(){let r=S.useContext(xs);return $d(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Sw(){let r=S.useContext(rc);return $d(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Hd=S.createContext(void 0);Hd.displayName="FrameworkContext";function Lv(){let r=S.useContext(Hd);return $d(r,"You must render this element inside a <HydratedRouter> element"),r}function Aw(r,t){let a=S.useContext(Hd),[s,u]=S.useState(!1),[o,d]=S.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:b,onTouchStart:_}=t,w=S.useRef(null);S.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let z=U=>{U.forEach(C=>{d(C.isIntersecting)})},R=new IntersectionObserver(z,{threshold:.5});return w.current&&R.observe(w.current),()=>{R.disconnect()}}},[r]),S.useEffect(()=>{if(s){let z=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(z)}}},[s]);let O=()=>{u(!0)},N=()=>{u(!1),d(!1)};return a?r!=="intent"?[o,w,{}]:[o,w,{onFocus:Ei(h,O),onBlur:Ei(p,N),onMouseEnter:Ei(m,O),onMouseLeave:Ei(b,N),onTouchStart:Ei(_,O)}]:[!1,w,{}]}function Ei(r,t){return a=>{r&&r(a),a.defaultPrevented||t(a)}}function Ew({page:r,...t}){let{router:a}=Uv(),s=S.useMemo(()=>Ev(a.routes,r,a.basename),[a.routes,r,a.basename]);return s?S.createElement(Tw,{page:r,matches:s,...t}):null}function Nw(r){let{manifest:t,routeModules:a}=Lv(),[s,u]=S.useState([]);return S.useEffect(()=>{let o=!1;return gw(r,t,a).then(d=>{o||u(d)}),()=>{o=!0}},[r,t,a]),s}function Tw({page:r,matches:t,...a}){let s=yr(),{manifest:u,routeModules:o}=Lv(),{basename:d}=Uv(),{loaderData:h,matches:p}=Sw(),m=S.useMemo(()=>By(r,t,p,u,s,"data"),[r,t,p,u,s]),b=S.useMemo(()=>By(r,t,p,u,s,"assets"),[r,t,p,u,s]),_=S.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let N=new Set,z=!1;if(t.forEach(U=>{var Z;let C=u.routes[U.route.id];!C||!C.hasLoader||(!m.some(G=>G.route.id===U.route.id)&&U.route.id in h&&((Z=o[U.route.id])!=null&&Z.shouldRevalidate)||C.hasClientLoader?z=!0:N.add(U.route.id))}),N.size===0)return[];let R=ww(r,d);return z&&N.size>0&&R.searchParams.set("_routes",t.filter(U=>N.has(U.route.id)).map(U=>U.route.id).join(",")),[R.pathname+R.search]},[d,h,s,u,m,t,r,o]),w=S.useMemo(()=>yw(b,u),[b,u]),O=Nw(b);return S.createElement(S.Fragment,null,_.map(N=>S.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...a})),w.map(N=>S.createElement("link",{key:N,rel:"modulepreload",href:N,...a})),O.map(({key:N,link:z})=>S.createElement("link",{key:N,...z})))}function Rw(...r){return t=>{r.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var Bv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bv&&(window.__reactRouterVersion="7.6.0")}catch{}function Cw({basename:r,children:t,window:a}){let s=S.useRef();s.current==null&&(s.current=p1({window:a,v5Compat:!0}));let u=s.current,[o,d]=S.useState({action:u.action,location:u.location}),h=S.useCallback(p=>{S.startTransition(()=>d(p))},[d]);return S.useLayoutEffect(()=>u.listen(h),[u,h]),S.createElement(rw,{basename:r,children:t,location:o.location,navigationType:o.action,navigator:u})}var Zv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qu=S.forwardRef(function({onClick:t,discover:a="render",prefetch:s="none",relative:u,reloadDocument:o,replace:d,state:h,target:p,to:m,preventScrollReset:b,viewTransition:_,...w},O){let{basename:N}=S.useContext(Un),z=typeof m=="string"&&Zv.test(m),R,U=!1;if(typeof m=="string"&&z&&(R=m,Bv))try{let V=new URL(window.location.href),le=m.startsWith("//")?new URL(V.protocol+m):new URL(m),te=ra(le.pathname,N);le.origin===V.origin&&te!=null?m=te+le.search+le.hash:U=!0}catch{_n(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=H1(m,{relative:u}),[Z,G,Q]=Aw(s,w),ie=Mw(m,{replace:d,state:h,target:p,preventScrollReset:b,relative:u,viewTransition:_});function W(V){t&&t(V),V.defaultPrevented||ie(V)}let we=S.createElement("a",{...w,...Q,href:R||C,onClick:U||o?t:W,ref:Rw(O,G),target:p,"data-discover":!z&&a==="render"?"true":void 0});return Z&&!z?S.createElement(S.Fragment,null,we,S.createElement(Ew,{page:C})):we});qu.displayName="Link";var Ow=S.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:s="",end:u=!1,style:o,to:d,viewTransition:h,children:p,...m},b){let _=tl(d,{relative:m.relative}),w=yr(),O=S.useContext(rc),{navigator:N,basename:z}=S.useContext(Un),R=O!=null&&Bw(_)&&h===!0,U=N.encodeLocation?N.encodeLocation(_).pathname:_.pathname,C=w.pathname,Z=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;a||(C=C.toLowerCase(),Z=Z?Z.toLowerCase():null,U=U.toLowerCase()),Z&&z&&(Z=ra(Z,z)||Z);const G=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let Q=C===U||!u&&C.startsWith(U)&&C.charAt(G)==="/",ie=Z!=null&&(Z===U||!u&&Z.startsWith(U)&&Z.charAt(U.length)==="/"),W={isActive:Q,isPending:ie,isTransitioning:R},we=Q?t:void 0,V;typeof s=="function"?V=s(W):V=[s,Q?"active":null,ie?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let le=typeof o=="function"?o(W):o;return S.createElement(qu,{...m,"aria-current":we,className:V,ref:b,style:le,to:d,viewTransition:h},typeof p=="function"?p(W):p)});Ow.displayName="NavLink";var jw=S.forwardRef(({discover:r="render",fetcherKey:t,navigate:a,reloadDocument:s,replace:u,state:o,method:d=Mu,action:h,onSubmit:p,relative:m,preventScrollReset:b,viewTransition:_,...w},O)=>{let N=Uw(),z=Lw(h,{relative:m}),R=d.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&Zv.test(h),C=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let G=Z.nativeEvent.submitter,Q=(G==null?void 0:G.getAttribute("formmethod"))||d;N(G||Z.currentTarget,{fetcherKey:t,method:Q,navigate:a,replace:u,state:o,relative:m,preventScrollReset:b,viewTransition:_})};return S.createElement("form",{ref:O,method:R,action:z,onSubmit:s?p:C,...w,"data-discover":!U&&r==="render"?"true":void 0})});jw.displayName="Form";function kw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pv(r){let t=S.useContext(xs);return Ke(t,kw(r)),t}function Mw(r,{target:t,replace:a,state:s,preventScrollReset:u,relative:o,viewTransition:d}={}){let h=sc(),p=yr(),m=tl(r,{relative:o});return S.useCallback(b=>{if(ow(b,t)){b.preventDefault();let _=a!==void 0?a:Li(p)===Li(m);h(r,{replace:_,state:s,preventScrollReset:u,relative:o,viewTransition:d})}},[p,h,m,a,s,t,r,u,o,d])}var Dw=0,zw=()=>`__${String(++Dw)}__`;function Uw(){let{router:r}=Pv("useSubmit"),{basename:t}=S.useContext(Un),a=ew();return S.useCallback(async(s,u={})=>{let{action:o,method:d,encType:h,formData:p,body:m}=hw(s,t);if(u.navigate===!1){let b=u.fetcherKey||zw();await r.fetch(b,a,u.action||o,{preventScrollReset:u.preventScrollReset,formData:p,body:m,formMethod:u.method||d,formEncType:u.encType||h,flushSync:u.flushSync})}else await r.navigate(u.action||o,{preventScrollReset:u.preventScrollReset,formData:p,body:m,formMethod:u.method||d,formEncType:u.encType||h,replace:u.replace,state:u.state,fromRouteId:a,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,t,a])}function Lw(r,{relative:t}={}){let{basename:a}=S.useContext(Un),s=S.useContext(Ln);Ke(s,"useFormAction must be used inside a RouteContext");let[u]=s.matches.slice(-1),o={...tl(r||".",{relative:t})},d=yr();if(r==null){o.search=d.search;let h=new URLSearchParams(o.search),p=h.getAll("index");if(p.some(b=>b==="")){h.delete("index"),p.filter(_=>_).forEach(_=>h.append("index",_));let b=h.toString();o.search=b?`?${b}`:""}}return(!r||r===".")&&u.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(o.pathname=o.pathname==="/"?a:aa([a,o.pathname])),Li(o)}function Bw(r,t={}){let a=S.useContext(jv);Ke(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Pv("useViewTransitionState"),u=tl(r,{relative:t.relative});if(!a.isTransitioning)return!1;let o=ra(a.currentLocation.pathname,s)||a.currentLocation.pathname,d=ra(a.nextLocation.pathname,s)||a.nextLocation.pathname;return Hu(u.pathname,d)!=null||Hu(u.pathname,o)!=null}[...xw];const yt=[];for(let r=0;r<256;++r)yt.push((r+256).toString(16).slice(1));function Zw(r,t=0){return(yt[r[t+0]]+yt[r[t+1]]+yt[r[t+2]]+yt[r[t+3]]+"-"+yt[r[t+4]]+yt[r[t+5]]+"-"+yt[r[t+6]]+yt[r[t+7]]+"-"+yt[r[t+8]]+yt[r[t+9]]+"-"+yt[r[t+10]]+yt[r[t+11]]+yt[r[t+12]]+yt[r[t+13]]+yt[r[t+14]]+yt[r[t+15]]).toLowerCase()}let Xf;const Pw=new Uint8Array(16);function $w(){if(!Xf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Xf=crypto.getRandomValues.bind(crypto)}return Xf(Pw)}const Hw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Zy={randomUUID:Hw};function qd(r,t,a){var u;if(Zy.randomUUID&&!r)return Zy.randomUUID();r=r||{};const s=r.random??((u=r.rng)==null?void 0:u.call(r))??$w();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Zw(s)}const hd="RFC3986",md={RFC1738:r=>String(r).replace(/%20/g,"+"),RFC3986:r=>String(r)},qw="RFC1738",Vw=Array.isArray,Rn=(()=>{const r=[];for(let t=0;t<256;++t)r.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return r})(),Qf=1024,Yw=(r,t,a,s,u)=>{if(r.length===0)return r;let o=r;if(typeof r=="symbol"?o=Symbol.prototype.toString.call(r):typeof r!="string"&&(o=String(r)),a==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});let d="";for(let h=0;h<o.length;h+=Qf){const p=o.length>=Qf?o.slice(h,h+Qf):o,m=[];for(let b=0;b<p.length;++b){let _=p.charCodeAt(b);if(_===45||_===46||_===95||_===126||_>=48&&_<=57||_>=65&&_<=90||_>=97&&_<=122||u===qw&&(_===40||_===41)){m[m.length]=p.charAt(b);continue}if(_<128){m[m.length]=Rn[_];continue}if(_<2048){m[m.length]=Rn[192|_>>6]+Rn[128|_&63];continue}if(_<55296||_>=57344){m[m.length]=Rn[224|_>>12]+Rn[128|_>>6&63]+Rn[128|_&63];continue}b+=1,_=65536+((_&1023)<<10|p.charCodeAt(b)&1023),m[m.length]=Rn[240|_>>18]+Rn[128|_>>12&63]+Rn[128|_>>6&63]+Rn[128|_&63]}d+=m.join("")}return d};function Gw(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))}function Py(r,t){if(Vw(r)){const a=[];for(let s=0;s<r.length;s+=1)a.push(t(r[s]));return a}return t(r)}const Xw=Object.prototype.hasOwnProperty,$v={brackets(r){return String(r)+"[]"},comma:"comma",indices(r,t){return String(r)+"["+t+"]"},repeat(r){return String(r)}},On=Array.isArray,Qw=Array.prototype.push,Hv=function(r,t){Qw.apply(r,On(t)?t:[t])},Iw=Date.prototype.toISOString,lt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Yw,encodeValuesOnly:!1,format:hd,formatter:md[hd],indices:!1,serializeDate(r){return Iw.call(r)},skipNulls:!1,strictNullHandling:!1};function Kw(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"}const If={};function qv(r,t,a,s,u,o,d,h,p,m,b,_,w,O,N,z,R,U){let C=r,Z=U,G=0,Q=!1;for(;(Z=Z.get(If))!==void 0&&!Q;){const le=Z.get(r);if(G+=1,typeof le<"u"){if(le===G)throw new RangeError("Cyclic object value");Q=!0}typeof Z.get(If)>"u"&&(G=0)}if(typeof m=="function"?C=m(t,C):C instanceof Date?C=w==null?void 0:w(C):a==="comma"&&On(C)&&(C=Py(C,function(le){return le instanceof Date?w==null?void 0:w(le):le})),C===null){if(o)return p&&!z?p(t,lt.encoder,R,"key",O):t;C=""}if(Kw(C)||Gw(C)){if(p){const le=z?t:p(t,lt.encoder,R,"key",O);return[(N==null?void 0:N(le))+"="+(N==null?void 0:N(p(C,lt.encoder,R,"value",O)))]}return[(N==null?void 0:N(t))+"="+(N==null?void 0:N(String(C)))]}const ie=[];if(typeof C>"u")return ie;let W;if(a==="comma"&&On(C))z&&p&&(C=Py(C,p)),W=[{value:C.length>0?C.join(",")||null:void 0}];else if(On(m))W=m;else{const le=Object.keys(C);W=b?le.sort(b):le}const we=h?String(t).replace(/\./g,"%2E"):String(t),V=s&&On(C)&&C.length===1?we+"[]":we;if(u&&On(C)&&C.length===0)return V+"[]";for(let le=0;le<W.length;++le){const te=W[le],ge=typeof te=="object"&&typeof te.value<"u"?te.value:C[te];if(d&&ge===null)continue;const Ct=_&&h?te.replace(/\./g,"%2E"):te,ut=On(C)?typeof a=="function"?a(V,Ct):V:V+(_?"."+Ct:"["+Ct+"]");U.set(r,G);const Ve=new WeakMap;Ve.set(If,U),Hv(ie,qv(ge,ut,a,s,u,o,d,h,a==="comma"&&z&&On(C)?null:p,m,b,_,w,O,N,z,R,Ve))}return ie}function Fw(r=lt){if(typeof r.allowEmptyArrays<"u"&&typeof r.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof r.encodeDotInKeys<"u"&&typeof r.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(r.encoder!==null&&typeof r.encoder<"u"&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=r.charset||lt.charset;if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let a=hd;if(typeof r.format<"u"){if(!Xw.call(md,r.format))throw new TypeError("Unknown format option provided.");a=r.format}const s=md[a];let u=lt.filter;(typeof r.filter=="function"||On(r.filter))&&(u=r.filter);let o;if(r.arrayFormat&&r.arrayFormat in $v?o=r.arrayFormat:"indices"in r?o=r.indices?"indices":"repeat":o=lt.arrayFormat,"commaRoundTrip"in r&&typeof r.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const d=typeof r.allowDots>"u"?r.encodeDotInKeys?!0:lt.allowDots:!!r.allowDots;return{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:lt.addQueryPrefix,allowDots:d,allowEmptyArrays:typeof r.allowEmptyArrays=="boolean"?!!r.allowEmptyArrays:lt.allowEmptyArrays,arrayFormat:o,charset:t,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:lt.charsetSentinel,commaRoundTrip:!!r.commaRoundTrip,delimiter:typeof r.delimiter>"u"?lt.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:lt.encode,encodeDotInKeys:typeof r.encodeDotInKeys=="boolean"?r.encodeDotInKeys:lt.encodeDotInKeys,encoder:typeof r.encoder=="function"?r.encoder:lt.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:lt.encodeValuesOnly,filter:u,format:a,formatter:s,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:lt.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:lt.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:lt.strictNullHandling}}function Jw(r,t={}){let a=r;const s=Fw(t);let u,o;typeof s.filter=="function"?(o=s.filter,a=o("",a)):On(s.filter)&&(o=s.filter,u=o);const d=[];if(typeof a!="object"||a===null)return"";const h=$v[s.arrayFormat],p=h==="comma"&&s.commaRoundTrip;u||(u=Object.keys(a)),s.sort&&u.sort(s.sort);const m=new WeakMap;for(let w=0;w<u.length;++w){const O=u[w];s.skipNulls&&a[O]===null||Hv(d,qv(a[O],O,h,p,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,m))}const b=d.join(s.delimiter);let _=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),b.length>0?_+b:""}const us="4.98.0";let $y=!1,zi,Vv,Yv,pd,Gv,Xv,Qv,Iv,Kv;function Ww(r,t={auto:!1}){if($y)throw new Error(`you must \`import 'openai/shims/${r.kind}'\` before importing anything else from openai`);if(zi)throw new Error(`can't \`import 'openai/shims/${r.kind}'\` after \`import 'openai/shims/${zi}'\``);$y=t.auto,zi=r.kind,Vv=r.fetch,Yv=r.FormData,pd=r.File,Gv=r.ReadableStream,Xv=r.getMultipartRequestOptions,Qv=r.getDefaultAgent,Iv=r.fileFromPath,Kv=r.isFsReadStream}class eS{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function tS({manuallyImported:r}={}){const t=r?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let a,s,u,o;try{a=fetch,s=Request,u=Response,o=Headers}catch(d){throw new Error(`this environment is missing the following Web Fetch API type: ${d.message}. ${t}`)}return{kind:"web",fetch:a,Request:s,Response:u,Headers:o,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(d,h)=>({...h,body:new eS(d)}),getDefaultAgent:d=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:d=>!1}}const Fv=()=>{zi||Ww(tS(),{auto:!0})};Fv();class se extends Error{}class bt extends se{constructor(t,a,s,u){super(`${bt.makeMessage(t,a,s)}`),this.status=t,this.headers=u,this.request_id=u==null?void 0:u["x-request-id"],this.error=a;const o=a;this.code=o==null?void 0:o.code,this.param=o==null?void 0:o.param,this.type=o==null?void 0:o.type}static makeMessage(t,a,s){const u=a!=null&&a.message?typeof a.message=="string"?a.message:JSON.stringify(a.message):a?JSON.stringify(a):s;return t&&u?`${t} ${u}`:t?`${t} status code (no body)`:u||"(no status code or body)"}static generate(t,a,s,u){if(!t||!u)return new lc({message:s,cause:yd(a)});const o=a==null?void 0:a.error;return t===400?new Jv(t,o,s,u):t===401?new Wv(t,o,s,u):t===403?new e0(t,o,s,u):t===404?new t0(t,o,s,u):t===409?new n0(t,o,s,u):t===422?new a0(t,o,s,u):t===429?new r0(t,o,s,u):t>=500?new s0(t,o,s,u):new bt(t,o,s,u)}}class sn extends bt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class lc extends bt{constructor({message:t,cause:a}){super(void 0,void 0,t||"Connection error.",void 0),a&&(this.cause=a)}}class Vd extends lc{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Jv extends bt{}class Wv extends bt{}class e0 extends bt{}class t0 extends bt{}class n0 extends bt{}class a0 extends bt{}class r0 extends bt{}class s0 extends bt{}class i0 extends se{constructor(){super("Could not parse response content as the length limit was reached")}}class l0 extends se{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Eu=function(r,t,a,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!u:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(r,a):u?u.value=a:t.set(r,a),a},ir=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},Xt;class uc{constructor(){Xt.set(this,void 0),this.buffer=new Uint8Array,Eu(this,Xt,null,"f")}decode(t){if(t==null)return[];const a=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let s=new Uint8Array(this.buffer.length+a.length);s.set(this.buffer),s.set(a,this.buffer.length),this.buffer=s;const u=[];let o;for(;(o=nS(this.buffer,ir(this,Xt,"f")))!=null;){if(o.carriage&&ir(this,Xt,"f")==null){Eu(this,Xt,o.index,"f");continue}if(ir(this,Xt,"f")!=null&&(o.index!==ir(this,Xt,"f")+1||o.carriage)){u.push(this.decodeText(this.buffer.slice(0,ir(this,Xt,"f")-1))),this.buffer=this.buffer.slice(ir(this,Xt,"f")),Eu(this,Xt,null,"f");continue}const d=ir(this,Xt,"f")!==null?o.preceding-1:o.preceding,h=this.decodeText(this.buffer.slice(0,d));u.push(h),this.buffer=this.buffer.slice(o.index),Eu(this,Xt,null,"f")}return u}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new se(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new se(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new se("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}Xt=new WeakMap;uc.NEWLINE_CHARS=new Set([`
`,"\r"]);uc.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function nS(r,t){for(let u=t??0;u<r.length;u++){if(r[u]===10)return{preceding:u,index:u+1,carriage:!1};if(r[u]===13)return{preceding:u,index:u+1,carriage:!0}}return null}function aS(r){for(let s=0;s<r.length-1;s++){if(r[s]===10&&r[s+1]===10||r[s]===13&&r[s+1]===13)return s+2;if(r[s]===13&&r[s+1]===10&&s+3<r.length&&r[s+2]===13&&r[s+3]===10)return s+4}return-1}function u0(r){if(r[Symbol.asyncIterator])return r;const t=r.getReader();return{async next(){try{const a=await t.read();return a!=null&&a.done&&t.releaseLock(),a}catch(a){throw t.releaseLock(),a}},async return(){const a=t.cancel();return t.releaseLock(),await a,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Mn{constructor(t,a){this.iterator=t,this.controller=a}static fromSSEResponse(t,a){let s=!1;async function*u(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const d of rS(t,a))if(!o){if(d.data.startsWith("[DONE]")){o=!0;continue}if(d.event===null||d.event.startsWith("response.")||d.event.startsWith("transcript.")){let h;try{h=JSON.parse(d.data)}catch(p){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),p}if(h&&h.error)throw new bt(void 0,h.error,void 0,p0(t.headers));yield h}else{let h;try{h=JSON.parse(d.data)}catch(p){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),p}if(d.event=="error")throw new bt(void 0,h.error,h.message,void 0);yield{event:d.event,data:h}}}o=!0}catch(d){if(d instanceof Error&&d.name==="AbortError")return;throw d}finally{o||a.abort()}}return new Mn(u,a)}static fromReadableStream(t,a){let s=!1;async function*u(){const d=new uc,h=u0(t);for await(const p of h)for(const m of d.decode(p))yield m;for(const p of d.flush())yield p}async function*o(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let d=!1;try{for await(const h of u())d||h&&(yield JSON.parse(h));d=!0}catch(h){if(h instanceof Error&&h.name==="AbortError")return;throw h}finally{d||a.abort()}}return new Mn(o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],a=[],s=this.iterator(),u=o=>({next:()=>{if(o.length===0){const d=s.next();t.push(d),a.push(d)}return o.shift()}});return[new Mn(()=>u(t),this.controller),new Mn(()=>u(a),this.controller)]}toReadableStream(){const t=this;let a;const s=new TextEncoder;return new Gv({async start(){a=t[Symbol.asyncIterator]()},async pull(u){try{const{value:o,done:d}=await a.next();if(d)return u.close();const h=s.encode(JSON.stringify(o)+`
`);u.enqueue(h)}catch(o){u.error(o)}},async cancel(){var u;await((u=a.return)==null?void 0:u.call(a))}})}}async function*rS(r,t){if(!r.body)throw t.abort(),new se("Attempted to iterate over a response with no body");const a=new iS,s=new uc,u=u0(r.body);for await(const o of sS(u))for(const d of s.decode(o)){const h=a.decode(d);h&&(yield h)}for(const o of s.flush()){const d=a.decode(o);d&&(yield d)}}async function*sS(r){let t=new Uint8Array;for await(const a of r){if(a==null)continue;const s=a instanceof ArrayBuffer?new Uint8Array(a):typeof a=="string"?new TextEncoder().encode(a):a;let u=new Uint8Array(t.length+s.length);u.set(t),u.set(s,t.length),t=u;let o;for(;(o=aS(t))!==-1;)yield t.slice(0,o),t=t.slice(o)}t.length>0&&(yield t)}class iS{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[a,s,u]=lS(t,":");return u.startsWith(" ")&&(u=u.substring(1)),a==="event"?this.event=u:a==="data"&&this.data.push(u),null}}function lS(r,t){const a=r.indexOf(t);return a!==-1?[r.substring(0,a),t,r.substring(a+t.length)]:[r,"",""]}const c0=r=>r!=null&&typeof r=="object"&&typeof r.url=="string"&&typeof r.blob=="function",o0=r=>r!=null&&typeof r=="object"&&typeof r.name=="string"&&typeof r.lastModified=="number"&&cc(r),cc=r=>r!=null&&typeof r=="object"&&typeof r.size=="number"&&typeof r.type=="string"&&typeof r.text=="function"&&typeof r.slice=="function"&&typeof r.arrayBuffer=="function",uS=r=>o0(r)||c0(r)||Kv(r);async function f0(r,t,a){var u;if(r=await r,o0(r))return r;if(c0(r)){const o=await r.blob();t||(t=new URL(r.url).pathname.split(/[\\/]/).pop()??"unknown_file");const d=cc(o)?[await o.arrayBuffer()]:[o];return new pd(d,t,a)}const s=await cS(r);if(t||(t=fS(r)??"unknown_file"),!(a!=null&&a.type)){const o=(u=s[0])==null?void 0:u.type;typeof o=="string"&&(a={...a,type:o})}return new pd(s,t,a)}async function cS(r){var a;let t=[];if(typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer)t.push(r);else if(cc(r))t.push(await r.arrayBuffer());else if(dS(r))for await(const s of r)t.push(s);else throw new Error(`Unexpected data type: ${typeof r}; constructor: ${(a=r==null?void 0:r.constructor)==null?void 0:a.name}; props: ${oS(r)}`);return t}function oS(r){return`[${Object.getOwnPropertyNames(r).map(a=>`"${a}"`).join(", ")}]`}function fS(r){var t;return Kf(r.name)||Kf(r.filename)||((t=Kf(r.path))==null?void 0:t.split(/[\\/]/).pop())}const Kf=r=>{if(typeof r=="string")return r;if(typeof Buffer<"u"&&r instanceof Buffer)return String(r)},dS=r=>r!=null&&typeof r=="object"&&typeof r[Symbol.asyncIterator]=="function",Hy=r=>r&&typeof r=="object"&&r.body&&r[Symbol.toStringTag]==="MultipartBody",ys=async r=>{const t=await hS(r.body);return Xv(t,r)},hS=async r=>{const t=new Yv;return await Promise.all(Object.entries(r||{}).map(([a,s])=>gd(t,a,s))),t},gd=async(r,t,a)=>{if(a!==void 0){if(a==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")r.append(t,String(a));else if(uS(a)){const s=await f0(a);r.append(t,s)}else if(Array.isArray(a))await Promise.all(a.map(s=>gd(r,t+"[]",s)));else if(typeof a=="object")await Promise.all(Object.entries(a).map(([s,u])=>gd(r,`${t}[${s}]`,u)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${a} instead`)}};var hs={},mS=function(r,t,a,s,u){if(typeof t=="function"?r!==t||!0:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(r,a),a},pS=function(r,t,a,s){if(typeof t=="function"?r!==t||!0:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},Nu;Fv();async function d0(r){var d;const{response:t}=r;if(r.options.stream)return Da("response",t.status,t.url,t.headers,t.body),r.options.__streamClass?r.options.__streamClass.fromSSEResponse(t,r.controller):Mn.fromSSEResponse(t,r.controller);if(t.status===204)return null;if(r.options.__binaryResponse)return t;const a=t.headers.get("content-type"),s=(d=a==null?void 0:a.split(";")[0])==null?void 0:d.trim();if((s==null?void 0:s.includes("application/json"))||(s==null?void 0:s.endsWith("+json"))){const h=await t.json();return Da("response",t.status,t.url,t.headers,h),h0(h,t)}const o=await t.text();return Da("response",t.status,t.url,t.headers,o),o}function h0(r,t){return!r||typeof r!="object"||Array.isArray(r)?r:Object.defineProperty(r,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class oc extends Promise{constructor(t,a=d0){super(s=>{s(null)}),this.responsePromise=t,this.parseResponse=a}_thenUnwrap(t){return new oc(this.responsePromise,async a=>h0(t(await this.parseResponse(a),a),a.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,a]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:a,request_id:a.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,a){return this.parse().then(t,a)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class gS{constructor({baseURL:t,maxRetries:a=2,timeout:s=6e5,httpAgent:u,fetch:o}){this.baseURL=t,this.maxRetries=Ff("maxRetries",a),this.timeout=Ff("timeout",s),this.httpAgent=u,this.fetch=o??Vv}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...xS(),...this.authHeaders(t)}}validateHeaders(t,a){}defaultIdempotencyKey(){return`stainless-node-retry-${ES()}`}get(t,a){return this.methodRequest("get",t,a)}post(t,a){return this.methodRequest("post",t,a)}patch(t,a){return this.methodRequest("patch",t,a)}put(t,a){return this.methodRequest("put",t,a)}delete(t,a){return this.methodRequest("delete",t,a)}methodRequest(t,a,s){return this.request(Promise.resolve(s).then(async u=>{const o=u&&cc(u==null?void 0:u.body)?new DataView(await u.body.arrayBuffer()):(u==null?void 0:u.body)instanceof DataView?u.body:(u==null?void 0:u.body)instanceof ArrayBuffer?new DataView(u.body):u&&ArrayBuffer.isView(u==null?void 0:u.body)?new DataView(u.body.buffer):u==null?void 0:u.body;return{method:t,path:a,...u,body:o}}))}getAPIList(t,a,s){return this.requestAPIList(a,{method:"get",path:t,...s})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:a=0}={}){var z;const s={...t},{method:u,path:o,query:d,headers:h={}}=s,p=ArrayBuffer.isView(s.body)||s.__binaryRequest&&typeof s.body=="string"?s.body:Hy(s.body)?s.body.body:s.body?JSON.stringify(s.body,null,2):null,m=this.calculateContentLength(p),b=this.buildURL(o,d);"timeout"in s&&Ff("timeout",s.timeout),s.timeout=s.timeout??this.timeout;const _=s.httpAgent??this.httpAgent??Qv(b),w=s.timeout+1e3;typeof((z=_==null?void 0:_.options)==null?void 0:z.timeout)=="number"&&w>(_.options.timeout??0)&&(_.options.timeout=w),this.idempotencyHeader&&u!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),h[this.idempotencyHeader]=t.idempotencyKey);const O=this.buildHeaders({options:s,headers:h,contentLength:m,retryCount:a});return{req:{method:u,...p&&{body:p},headers:O,..._&&{agent:_},signal:s.signal??null},url:b,timeout:s.timeout}}buildHeaders({options:t,headers:a,contentLength:s,retryCount:u}){const o={};s&&(o["content-length"]=s);const d=this.defaultHeaders(t);return Gy(o,d),Gy(o,a),Hy(t.body)&&zi!=="node"&&delete o["content-type"],Tu(d,"x-stainless-retry-count")===void 0&&Tu(a,"x-stainless-retry-count")===void 0&&(o["x-stainless-retry-count"]=String(u)),Tu(d,"x-stainless-timeout")===void 0&&Tu(a,"x-stainless-timeout")===void 0&&t.timeout&&(o["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(o,a),o}async prepareOptions(t){}async prepareRequest(t,{url:a,options:s}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(a=>[...a])):{...t}:{}}makeStatusError(t,a,s,u){return bt.generate(t,a,s,u)}request(t,a=null){return new oc(this.makeRequest(t,a))}async makeRequest(t,a){var _,w;const s=await t,u=s.maxRetries??this.maxRetries;a==null&&(a=u),await this.prepareOptions(s);const{req:o,url:d,timeout:h}=this.buildRequest(s,{retryCount:u-a});if(await this.prepareRequest(o,{url:d,options:s}),Da("request",d,s,o.headers),(_=s.signal)!=null&&_.aborted)throw new sn;const p=new AbortController,m=await this.fetchWithTimeout(d,o,h,p).catch(yd);if(m instanceof Error){if((w=s.signal)!=null&&w.aborted)throw new sn;if(a)return this.retryRequest(s,a);throw m.name==="AbortError"?new Vd:new lc({cause:m})}const b=p0(m.headers);if(!m.ok){if(a&&this.shouldRetry(m)){const C=`retrying, ${a} attempts remaining`;return Da(`response (error; ${C})`,m.status,d,b),this.retryRequest(s,a,b)}const O=await m.text().catch(C=>yd(C).message),N=wS(O),z=N?void 0:O;throw Da(`response (error; ${a?"(error; no more retries left)":"(error; not retryable)"})`,m.status,d,b,z),this.makeStatusError(m.status,N,z,b)}return{response:m,options:s,controller:p}}requestAPIList(t,a){const s=this.makeRequest(a,null);return new yS(this,s,t)}buildURL(t,a){const s=AS(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),u=this.defaultQuery();return g0(u)||(a={...u,...a}),typeof a=="object"&&a&&!Array.isArray(a)&&(s.search=this.stringifyQuery(a)),s.toString()}stringifyQuery(t){return Object.entries(t).filter(([a,s])=>typeof s<"u").map(([a,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(a)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(a)}=`;throw new se(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,a,s,u){const{signal:o,...d}=a||{};o&&o.addEventListener("abort",()=>u.abort());const h=setTimeout(()=>u.abort(),s),p={signal:u.signal,...d};return p.method&&(p.method=p.method.toUpperCase()),this.fetch.call(void 0,t,p).finally(()=>{clearTimeout(h)})}shouldRetry(t){const a=t.headers.get("x-should-retry");return a==="true"?!0:a==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,a,s){let u;const o=s==null?void 0:s["retry-after-ms"];if(o){const h=parseFloat(o);Number.isNaN(h)||(u=h)}const d=s==null?void 0:s["retry-after"];if(d&&!u){const h=parseFloat(d);Number.isNaN(h)?u=Date.parse(d)-Date.now():u=h*1e3}if(!(u&&0<=u&&u<60*1e3)){const h=t.maxRetries??this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(a,h)}return await nl(u),this.makeRequest(t,a-1)}calculateDefaultRetryTimeoutMillis(t,a){const o=a-t,d=Math.min(.5*Math.pow(2,o),8),h=1-Math.random()*.25;return d*h*1e3}getUserAgent(){return`${this.constructor.name}/JS ${us}`}}class m0{constructor(t,a,s,u){Nu.set(this,void 0),mS(this,Nu,t),this.options=u,this.response=a,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new se("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const a={...this.options};if("params"in t&&typeof a.query=="object")a.query={...a.query,...t.params};else if("url"in t){const s=[...Object.entries(a.query||{}),...t.url.searchParams.entries()];for(const[u,o]of s)t.url.searchParams.set(u,o);a.query=void 0,a.path=t.url.toString()}return await pS(this,Nu,"f").requestAPIList(this.constructor,a)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Nu=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const a of t.getPaginatedItems())yield a}}class yS extends oc{constructor(t,a,s){super(a,async u=>new s(t,u.response,await d0(u),u.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const a of t)yield a}}const p0=r=>new Proxy(Object.fromEntries(r.entries()),{get(t,a){const s=a.toString();return t[s.toLowerCase()]||t[s]}}),vS={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},We=r=>typeof r=="object"&&r!==null&&!g0(r)&&Object.keys(r).every(t=>y0(vS,t)),bS=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":us,"X-Stainless-OS":Vy(Deno.build.os),"X-Stainless-Arch":qy(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":us,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":us,"X-Stainless-OS":Vy(process.platform),"X-Stainless-Arch":qy(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const r=_S();return r?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":us,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${r.browser}`,"X-Stainless-Runtime-Version":r.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":us,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function _S(){if(typeof navigator>"u"||!navigator)return null;const r=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:a}of r){const s=a.exec(navigator.userAgent);if(s){const u=s[1]||0,o=s[2]||0,d=s[3]||0;return{browser:t,version:`${u}.${o}.${d}`}}}return null}const qy=r=>r==="x32"?"x32":r==="x86_64"||r==="x64"?"x64":r==="arm"?"arm":r==="aarch64"||r==="arm64"?"arm64":r?`other:${r}`:"unknown",Vy=r=>(r=r.toLowerCase(),r.includes("ios")?"iOS":r==="android"?"Android":r==="darwin"?"MacOS":r==="win32"?"Windows":r==="freebsd"?"FreeBSD":r==="openbsd"?"OpenBSD":r==="linux"?"Linux":r?`Other:${r}`:"Unknown");let Yy;const xS=()=>Yy??(Yy=bS()),wS=r=>{try{return JSON.parse(r)}catch{return}},SS=/^[a-z][a-z0-9+.-]*:/i,AS=r=>SS.test(r),nl=r=>new Promise(t=>setTimeout(t,r)),Ff=(r,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new se(`${r} must be an integer`);if(t<0)throw new se(`${r} must be a positive integer`);return t},yd=r=>{if(r instanceof Error)return r;if(typeof r=="object"&&r!==null)try{return new Error(JSON.stringify(r))}catch{}return new Error(r)},cr=r=>{var t,a,s,u;if(typeof process<"u")return((t=hs==null?void 0:hs[r])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(u=(s=(a=Deno.env)==null?void 0:a.get)==null?void 0:s.call(a,r))==null?void 0:u.trim()};function g0(r){if(!r)return!0;for(const t in r)return!1;return!0}function y0(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function Gy(r,t){for(const a in t){if(!y0(t,a))continue;const s=a.toLowerCase();if(!s)continue;const u=t[a];u===null?delete r[s]:u!==void 0&&(r[s]=u)}}const Xy=new Set(["authorization","api-key"]);function Da(r,...t){if(typeof process<"u"&&(hs==null?void 0:hs.DEBUG)==="true"){const a=t.map(s=>{if(!s)return s;if(s.headers){const o={...s,headers:{...s.headers}};for(const d in s.headers)Xy.has(d.toLowerCase())&&(o.headers[d]="REDACTED");return o}let u=null;for(const o in s)Xy.has(o.toLowerCase())&&(u??(u={...s}),u[o]="REDACTED");return u??s});console.log(`OpenAI:DEBUG:${r}`,...a)}}const ES=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=Math.random()*16|0;return(r==="x"?t:t&3|8).toString(16)}),NS=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",TS=r=>typeof(r==null?void 0:r.get)=="function",Tu=(r,t)=>{var s;const a=t.toLowerCase();if(TS(r)){const u=((s=t[0])==null?void 0:s.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(o,d,h)=>d+h.toUpperCase());for(const o of[t,a,t.toUpperCase(),u]){const d=r.get(o);if(d)return d}}for(const[u,o]of Object.entries(r))if(u.toLowerCase()===a)return Array.isArray(o)?(o.length<=1||console.warn(`Received ${o.length} entries for the ${t} header, using the first entry.`),o[0]):o},RS=r=>{if(typeof Buffer<"u"){const t=Buffer.from(r,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(r),a=t.length,s=new Uint8Array(a);for(let u=0;u<a;u++)s[u]=t.charCodeAt(u);return Array.from(new Float32Array(s.buffer))}};function zu(r){return r!=null&&typeof r=="object"&&!Array.isArray(r)}class fc extends m0{constructor(t,a,s,u){super(t,a,s,u),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class _t extends m0{constructor(t,a,s,u){super(t,a,s,u),this.data=s.data||[],this.has_more=s.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const a=Object.fromEntries(t.url.searchParams);return Object.keys(a).length?a:null}nextPageInfo(){var s;const t=this.getPaginatedItems();if(!t.length)return null;const a=(s=t[t.length-1])==null?void 0:s.id;return a?{params:{after:a}}:null}}class me{constructor(t){this._client=t}}let v0=class extends me{list(t,a={},s){return We(a)?this.list(t,{},a):this._client.getAPIList(`/chat/completions/${t}/messages`,CS,{query:a,...s})}},dc=class extends me{constructor(){super(...arguments),this.messages=new v0(this._client)}create(t,a){return this._client.post("/chat/completions",{body:t,...a,stream:t.stream??!1})}retrieve(t,a){return this._client.get(`/chat/completions/${t}`,a)}update(t,a,s){return this._client.post(`/chat/completions/${t}`,{body:a,...s})}list(t={},a){return We(t)?this.list({},t):this._client.getAPIList("/chat/completions",hc,{query:t,...a})}del(t,a){return this._client.delete(`/chat/completions/${t}`,a)}};class hc extends _t{}class CS extends _t{}dc.ChatCompletionsPage=hc;dc.Messages=v0;let mc=class extends me{constructor(){super(...arguments),this.completions=new dc(this._client)}};mc.Completions=dc;mc.ChatCompletionsPage=hc;class b0 extends me{create(t,a){return this._client.post("/audio/speech",{body:t,...a,headers:{Accept:"application/octet-stream",...a==null?void 0:a.headers},__binaryResponse:!0})}}class _0 extends me{create(t,a){return this._client.post("/audio/transcriptions",ys({body:t,...a,stream:t.stream??!1,__metadata:{model:t.model}}))}}class x0 extends me{create(t,a){return this._client.post("/audio/translations",ys({body:t,...a,__metadata:{model:t.model}}))}}class al extends me{constructor(){super(...arguments),this.transcriptions=new _0(this._client),this.translations=new x0(this._client),this.speech=new b0(this._client)}}al.Transcriptions=_0;al.Translations=x0;al.Speech=b0;class Yd extends me{create(t,a){return this._client.post("/batches",{body:t,...a})}retrieve(t,a){return this._client.get(`/batches/${t}`,a)}list(t={},a){return We(t)?this.list({},t):this._client.getAPIList("/batches",Gd,{query:t,...a})}cancel(t,a){return this._client.post(`/batches/${t}/cancel`,a)}}class Gd extends _t{}Yd.BatchesPage=Gd;var mn=function(r,t,a,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!u:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(r,a):u?u.value=a:t.set(r,a),a},Qe=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},vd,Uu,Lu,Ti,Ri,Bu,Ci,ea,Oi,Vu,Yu,cs,w0;class Xd{constructor(){vd.add(this),this.controller=new AbortController,Uu.set(this,void 0),Lu.set(this,()=>{}),Ti.set(this,()=>{}),Ri.set(this,void 0),Bu.set(this,()=>{}),Ci.set(this,()=>{}),ea.set(this,{}),Oi.set(this,!1),Vu.set(this,!1),Yu.set(this,!1),cs.set(this,!1),mn(this,Uu,new Promise((t,a)=>{mn(this,Lu,t,"f"),mn(this,Ti,a,"f")}),"f"),mn(this,Ri,new Promise((t,a)=>{mn(this,Bu,t,"f"),mn(this,Ci,a,"f")}),"f"),Qe(this,Uu,"f").catch(()=>{}),Qe(this,Ri,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},Qe(this,vd,"m",w0).bind(this))},0)}_connected(){this.ended||(Qe(this,Lu,"f").call(this),this._emit("connect"))}get ended(){return Qe(this,Oi,"f")}get errored(){return Qe(this,Vu,"f")}get aborted(){return Qe(this,Yu,"f")}abort(){this.controller.abort()}on(t,a){return(Qe(this,ea,"f")[t]||(Qe(this,ea,"f")[t]=[])).push({listener:a}),this}off(t,a){const s=Qe(this,ea,"f")[t];if(!s)return this;const u=s.findIndex(o=>o.listener===a);return u>=0&&s.splice(u,1),this}once(t,a){return(Qe(this,ea,"f")[t]||(Qe(this,ea,"f")[t]=[])).push({listener:a,once:!0}),this}emitted(t){return new Promise((a,s)=>{mn(this,cs,!0,"f"),t!=="error"&&this.once("error",s),this.once(t,a)})}async done(){mn(this,cs,!0,"f"),await Qe(this,Ri,"f")}_emit(t,...a){if(Qe(this,Oi,"f"))return;t==="end"&&(mn(this,Oi,!0,"f"),Qe(this,Bu,"f").call(this));const s=Qe(this,ea,"f")[t];if(s&&(Qe(this,ea,"f")[t]=s.filter(u=>!u.once),s.forEach(({listener:u})=>u(...a))),t==="abort"){const u=a[0];!Qe(this,cs,"f")&&!(s!=null&&s.length)&&Promise.reject(u),Qe(this,Ti,"f").call(this,u),Qe(this,Ci,"f").call(this,u),this._emit("end");return}if(t==="error"){const u=a[0];!Qe(this,cs,"f")&&!(s!=null&&s.length)&&Promise.reject(u),Qe(this,Ti,"f").call(this,u),Qe(this,Ci,"f").call(this,u),this._emit("end")}}_emitFinal(){}}Uu=new WeakMap,Lu=new WeakMap,Ti=new WeakMap,Ri=new WeakMap,Bu=new WeakMap,Ci=new WeakMap,ea=new WeakMap,Oi=new WeakMap,Vu=new WeakMap,Yu=new WeakMap,cs=new WeakMap,vd=new WeakSet,w0=function(t){if(mn(this,Vu,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new sn),t instanceof sn)return mn(this,Yu,!0,"f"),this._emit("abort",t);if(t instanceof se)return this._emit("error",t);if(t instanceof Error){const a=new se(t.message);return a.cause=t,this._emit("error",a)}return this._emit("error",new se(String(t)))};var re=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},Gt=function(r,t,a,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!u:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(r,a):u?u.value=a:t.set(r,a),a},vt,bd,jn,Zu,pn,or,fs,ur,Gu,Qt,Pu,$u,Ui,ji,ki,Qy,Iy,Ky,Fy,Jy,Wy,ev;class gn extends Xd{constructor(){super(...arguments),vt.add(this),bd.set(this,[]),jn.set(this,{}),Zu.set(this,{}),pn.set(this,void 0),or.set(this,void 0),fs.set(this,void 0),ur.set(this,void 0),Gu.set(this,void 0),Qt.set(this,void 0),Pu.set(this,void 0),$u.set(this,void 0),Ui.set(this,void 0)}[(bd=new WeakMap,jn=new WeakMap,Zu=new WeakMap,pn=new WeakMap,or=new WeakMap,fs=new WeakMap,ur=new WeakMap,Gu=new WeakMap,Qt=new WeakMap,Pu=new WeakMap,$u=new WeakMap,Ui=new WeakMap,vt=new WeakSet,Symbol.asyncIterator)](){const t=[],a=[];let s=!1;return this.on("event",u=>{const o=a.shift();o?o.resolve(u):t.push(u)}),this.on("end",()=>{s=!0;for(const u of a)u.resolve(void 0);a.length=0}),this.on("abort",u=>{s=!0;for(const o of a)o.reject(u);a.length=0}),this.on("error",u=>{s=!0;for(const o of a)o.reject(u);a.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((o,d)=>a.push({resolve:o,reject:d})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const a=new gn;return a._run(()=>a._fromReadableStream(t)),a}async _fromReadableStream(t,a){var o;const s=a==null?void 0:a.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const u=Mn.fromReadableStream(t,this.controller);for await(const d of u)re(this,vt,"m",ji).call(this,d);if((o=u.controller.signal)!=null&&o.aborted)throw new sn;return this._addRun(re(this,vt,"m",ki).call(this))}toReadableStream(){return new Mn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,a,s,u,o){const d=new gn;return d._run(()=>d._runToolAssistantStream(t,a,s,u,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),d}async _createToolAssistantStream(t,a,s,u,o){var m;const d=o==null?void 0:o.signal;d&&(d.aborted&&this.controller.abort(),d.addEventListener("abort",()=>this.controller.abort()));const h={...u,stream:!0},p=await t.submitToolOutputs(a,s,h,{...o,signal:this.controller.signal});this._connected();for await(const b of p)re(this,vt,"m",ji).call(this,b);if((m=p.controller.signal)!=null&&m.aborted)throw new sn;return this._addRun(re(this,vt,"m",ki).call(this))}static createThreadAssistantStream(t,a,s){const u=new gn;return u._run(()=>u._threadAssistantStream(t,a,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),u}static createAssistantStream(t,a,s,u){const o=new gn;return o._run(()=>o._runAssistantStream(t,a,s,{...u,headers:{...u==null?void 0:u.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return re(this,Pu,"f")}currentRun(){return re(this,$u,"f")}currentMessageSnapshot(){return re(this,pn,"f")}currentRunStepSnapshot(){return re(this,Ui,"f")}async finalRunSteps(){return await this.done(),Object.values(re(this,jn,"f"))}async finalMessages(){return await this.done(),Object.values(re(this,Zu,"f"))}async finalRun(){if(await this.done(),!re(this,or,"f"))throw Error("Final run was not received.");return re(this,or,"f")}async _createThreadAssistantStream(t,a,s){var h;const u=s==null?void 0:s.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const o={...a,stream:!0},d=await t.createAndRun(o,{...s,signal:this.controller.signal});this._connected();for await(const p of d)re(this,vt,"m",ji).call(this,p);if((h=d.controller.signal)!=null&&h.aborted)throw new sn;return this._addRun(re(this,vt,"m",ki).call(this))}async _createAssistantStream(t,a,s,u){var p;const o=u==null?void 0:u.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const d={...s,stream:!0},h=await t.create(a,d,{...u,signal:this.controller.signal});this._connected();for await(const m of h)re(this,vt,"m",ji).call(this,m);if((p=h.controller.signal)!=null&&p.aborted)throw new sn;return this._addRun(re(this,vt,"m",ki).call(this))}static accumulateDelta(t,a){for(const[s,u]of Object.entries(a)){if(!t.hasOwnProperty(s)){t[s]=u;continue}let o=t[s];if(o==null){t[s]=u;continue}if(s==="index"||s==="type"){t[s]=u;continue}if(typeof o=="string"&&typeof u=="string")o+=u;else if(typeof o=="number"&&typeof u=="number")o+=u;else if(zu(o)&&zu(u))o=this.accumulateDelta(o,u);else if(Array.isArray(o)&&Array.isArray(u)){if(o.every(d=>typeof d=="string"||typeof d=="number")){o.push(...u);continue}for(const d of u){if(!zu(d))throw new Error(`Expected array delta entry to be an object but got: ${d}`);const h=d.index;if(h==null)throw console.error(d),new Error("Expected array delta entry to have an `index` property");if(typeof h!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${h}`);const p=o[h];p==null?o.push(d):o[h]=this.accumulateDelta(p,d)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${u}, accValue: ${o}`);t[s]=o}return t}_addRun(t){return t}async _threadAssistantStream(t,a,s){return await this._createThreadAssistantStream(a,t,s)}async _runAssistantStream(t,a,s,u){return await this._createAssistantStream(a,t,s,u)}async _runToolAssistantStream(t,a,s,u,o){return await this._createToolAssistantStream(s,t,a,u,o)}}ji=function(t){if(!this.ended)switch(Gt(this,Pu,t,"f"),re(this,vt,"m",Ky).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":re(this,vt,"m",ev).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":re(this,vt,"m",Iy).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":re(this,vt,"m",Qy).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},ki=function(){if(this.ended)throw new se("stream has ended, this shouldn't happen");if(!re(this,or,"f"))throw Error("Final run has not been received");return re(this,or,"f")},Qy=function(t){const[a,s]=re(this,vt,"m",Jy).call(this,t,re(this,pn,"f"));Gt(this,pn,a,"f"),re(this,Zu,"f")[a.id]=a;for(const u of s){const o=a.content[u.index];(o==null?void 0:o.type)=="text"&&this._emit("textCreated",o.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,a),t.data.delta.content)for(const u of t.data.delta.content){if(u.type=="text"&&u.text){let o=u.text,d=a.content[u.index];if(d&&d.type=="text")this._emit("textDelta",o,d.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(u.index!=re(this,fs,"f")){if(re(this,ur,"f"))switch(re(this,ur,"f").type){case"text":this._emit("textDone",re(this,ur,"f").text,re(this,pn,"f"));break;case"image_file":this._emit("imageFileDone",re(this,ur,"f").image_file,re(this,pn,"f"));break}Gt(this,fs,u.index,"f")}Gt(this,ur,a.content[u.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(re(this,fs,"f")!==void 0){const u=t.data.content[re(this,fs,"f")];if(u)switch(u.type){case"image_file":this._emit("imageFileDone",u.image_file,re(this,pn,"f"));break;case"text":this._emit("textDone",u.text,re(this,pn,"f"));break}}re(this,pn,"f")&&this._emit("messageDone",t.data),Gt(this,pn,void 0,"f")}},Iy=function(t){const a=re(this,vt,"m",Fy).call(this,t);switch(Gt(this,Ui,a,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const s=t.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&a.step_details.type=="tool_calls")for(const o of s.step_details.tool_calls)o.index==re(this,Gu,"f")?this._emit("toolCallDelta",o,a.step_details.tool_calls[o.index]):(re(this,Qt,"f")&&this._emit("toolCallDone",re(this,Qt,"f")),Gt(this,Gu,o.index,"f"),Gt(this,Qt,a.step_details.tool_calls[o.index],"f"),re(this,Qt,"f")&&this._emit("toolCallCreated",re(this,Qt,"f")));this._emit("runStepDelta",t.data.delta,a);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Gt(this,Ui,void 0,"f"),t.data.step_details.type=="tool_calls"&&re(this,Qt,"f")&&(this._emit("toolCallDone",re(this,Qt,"f")),Gt(this,Qt,void 0,"f")),this._emit("runStepDone",t.data,a);break}},Ky=function(t){re(this,bd,"f").push(t),this._emit("event",t)},Fy=function(t){switch(t.event){case"thread.run.step.created":return re(this,jn,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let a=re(this,jn,"f")[t.data.id];if(!a)throw Error("Received a RunStepDelta before creation of a snapshot");let s=t.data;if(s.delta){const u=gn.accumulateDelta(a,s.delta);re(this,jn,"f")[t.data.id]=u}return re(this,jn,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":re(this,jn,"f")[t.data.id]=t.data;break}if(re(this,jn,"f")[t.data.id])return re(this,jn,"f")[t.data.id];throw new Error("No snapshot available")},Jy=function(t,a){let s=[];switch(t.event){case"thread.message.created":return[t.data,s];case"thread.message.delta":if(!a)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let u=t.data;if(u.delta.content)for(const o of u.delta.content)if(o.index in a.content){let d=a.content[o.index];a.content[o.index]=re(this,vt,"m",Wy).call(this,o,d)}else a.content[o.index]=o,s.push(o);return[a,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(a)return[a,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Wy=function(t,a){return gn.accumulateDelta(a,t)},ev=function(t){switch(Gt(this,$u,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Gt(this,or,t.data,"f"),re(this,Qt,"f")&&(this._emit("toolCallDone",re(this,Qt,"f")),Gt(this,Qt,void 0,"f"));break}};class Qd extends me{create(t,a){return this._client.post("/assistants",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(t,a){return this._client.get(`/assistants/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(t,a,s){return this._client.post(`/assistants/${t}`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t={},a){return We(t)?this.list({},t):this._client.getAPIList("/assistants",Id,{query:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}del(t,a){return this._client.delete(`/assistants/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class Id extends _t{}Qd.AssistantsPage=Id;function tv(r){return typeof r.parse=="function"}const ms=r=>(r==null?void 0:r.role)==="assistant",S0=r=>(r==null?void 0:r.role)==="function",A0=r=>(r==null?void 0:r.role)==="tool";function OS(r,t){const a={...r};return Object.defineProperties(a,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),a}function Kd(r){return(r==null?void 0:r.$brand)==="auto-parseable-response-format"}function rl(r){return(r==null?void 0:r.$brand)==="auto-parseable-tool"}function jS(r,t){return!t||!E0(t)?{...r,choices:r.choices.map(a=>({...a,message:{...a.message,parsed:null,...a.message.tool_calls?{tool_calls:a.message.tool_calls}:void 0}}))}:Fd(r,t)}function Fd(r,t){const a=r.choices.map(s=>{var u;if(s.finish_reason==="length")throw new i0;if(s.finish_reason==="content_filter")throw new l0;return{...s,message:{...s.message,...s.message.tool_calls?{tool_calls:((u=s.message.tool_calls)==null?void 0:u.map(o=>MS(t,o)))??void 0}:void 0,parsed:s.message.content&&!s.message.refusal?kS(t,s.message.content):null}}});return{...r,choices:a}}function kS(r,t){var a,s;return((a=r.response_format)==null?void 0:a.type)!=="json_schema"?null:((s=r.response_format)==null?void 0:s.type)==="json_schema"?"$parseRaw"in r.response_format?r.response_format.$parseRaw(t):JSON.parse(t):null}function MS(r,t){var s;const a=(s=r.tools)==null?void 0:s.find(u=>{var o;return((o=u.function)==null?void 0:o.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:rl(a)?a.$parseRaw(t.function.arguments):a!=null&&a.function.strict?JSON.parse(t.function.arguments):null}}}function DS(r,t){var s;if(!r)return!1;const a=(s=r.tools)==null?void 0:s.find(u=>{var o;return((o=u.function)==null?void 0:o.name)===t.function.name});return rl(a)||(a==null?void 0:a.function.strict)||!1}function E0(r){var t;return Kd(r.response_format)?!0:((t=r.tools)==null?void 0:t.some(a=>rl(a)||a.type==="function"&&a.function.strict===!0))??!1}function zS(r){for(const t of r??[]){if(t.type!=="function")throw new se(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new se(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var zt=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},At,_d,Xu,xd,wd,Sd,N0,Ad;const nv=10;class T0 extends Xd{constructor(){super(...arguments),At.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var s;this._chatCompletions.push(t),this._emit("chatCompletion",t);const a=(s=t.choices[0])==null?void 0:s.message;return a&&this._addMessage(a),t}_addMessage(t,a=!0){if("content"in t||(t.content=null),this.messages.push(t),a){if(this._emit("message",t),(S0(t)||A0(t))&&t.content)this._emit("functionCallResult",t.content);else if(ms(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(ms(t)&&t.tool_calls)for(const s of t.tool_calls)s.type==="function"&&this._emit("functionCall",s.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new se("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),zt(this,At,"m",_d).call(this)}async finalMessage(){return await this.done(),zt(this,At,"m",Xu).call(this)}async finalFunctionCall(){return await this.done(),zt(this,At,"m",xd).call(this)}async finalFunctionCallResult(){return await this.done(),zt(this,At,"m",wd).call(this)}async totalUsage(){return await this.done(),zt(this,At,"m",Sd).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const a=zt(this,At,"m",Xu).call(this);a&&this._emit("finalMessage",a);const s=zt(this,At,"m",_d).call(this);s&&this._emit("finalContent",s);const u=zt(this,At,"m",xd).call(this);u&&this._emit("finalFunctionCall",u);const o=zt(this,At,"m",wd).call(this);o!=null&&this._emit("finalFunctionCallResult",o),this._chatCompletions.some(d=>d.usage)&&this._emit("totalUsage",zt(this,At,"m",Sd).call(this))}async _createChatCompletion(t,a,s){const u=s==null?void 0:s.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort())),zt(this,At,"m",N0).call(this,a);const o=await t.chat.completions.create({...a,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Fd(o,a))}async _runChatCompletion(t,a,s){for(const u of a.messages)this._addMessage(u,!1);return await this._createChatCompletion(t,a,s)}async _runFunctions(t,a,s){var w;const u="function",{function_call:o="auto",stream:d,...h}=a,p=typeof o!="string"&&(o==null?void 0:o.name),{maxChatCompletions:m=nv}=s||{},b={};for(const O of a.functions)b[O.name||O.function.name]=O;const _=a.functions.map(O=>({name:O.name||O.function.name,parameters:O.parameters,description:O.description}));for(const O of a.messages)this._addMessage(O,!1);for(let O=0;O<m;++O){const z=(w=(await this._createChatCompletion(t,{...h,function_call:o,functions:_,messages:[...this.messages]},s)).choices[0])==null?void 0:w.message;if(!z)throw new se("missing message in ChatCompletion response");if(!z.function_call)return;const{name:R,arguments:U}=z.function_call,C=b[R];if(C){if(p&&p!==R){const ie=`Invalid function_call: ${JSON.stringify(R)}. ${JSON.stringify(p)} requested. Please try again`;this._addMessage({role:u,name:R,content:ie});continue}}else{const ie=`Invalid function_call: ${JSON.stringify(R)}. Available options are: ${_.map(W=>JSON.stringify(W.name)).join(", ")}. Please try again`;this._addMessage({role:u,name:R,content:ie});continue}let Z;try{Z=tv(C)?await C.parse(U):U}catch(ie){this._addMessage({role:u,name:R,content:ie instanceof Error?ie.message:String(ie)});continue}const G=await C.function(Z,this),Q=zt(this,At,"m",Ad).call(this,G);if(this._addMessage({role:u,name:R,content:Q}),p)return}}async _runTools(t,a,s){var O,N,z;const u="tool",{tool_choice:o="auto",stream:d,...h}=a,p=typeof o!="string"&&((O=o==null?void 0:o.function)==null?void 0:O.name),{maxChatCompletions:m=nv}=s||{},b=a.tools.map(R=>{if(rl(R)){if(!R.$callback)throw new se("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:R.$callback,name:R.function.name,description:R.function.description||"",parameters:R.function.parameters,parse:R.$parseRaw,strict:!0}}}return R}),_={};for(const R of b)R.type==="function"&&(_[R.function.name||R.function.function.name]=R.function);const w="tools"in a?b.map(R=>R.type==="function"?{type:"function",function:{name:R.function.name||R.function.function.name,parameters:R.function.parameters,description:R.function.description,strict:R.function.strict}}:R):void 0;for(const R of a.messages)this._addMessage(R,!1);for(let R=0;R<m;++R){const C=(N=(await this._createChatCompletion(t,{...h,tool_choice:o,tools:w,messages:[...this.messages]},s)).choices[0])==null?void 0:N.message;if(!C)throw new se("missing message in ChatCompletion response");if(!((z=C.tool_calls)!=null&&z.length))return;for(const Z of C.tool_calls){if(Z.type!=="function")continue;const G=Z.id,{name:Q,arguments:ie}=Z.function,W=_[Q];if(W){if(p&&p!==Q){const te=`Invalid tool_call: ${JSON.stringify(Q)}. ${JSON.stringify(p)} requested. Please try again`;this._addMessage({role:u,tool_call_id:G,content:te});continue}}else{const te=`Invalid tool_call: ${JSON.stringify(Q)}. Available options are: ${Object.keys(_).map(ge=>JSON.stringify(ge)).join(", ")}. Please try again`;this._addMessage({role:u,tool_call_id:G,content:te});continue}let we;try{we=tv(W)?await W.parse(ie):ie}catch(te){const ge=te instanceof Error?te.message:String(te);this._addMessage({role:u,tool_call_id:G,content:ge});continue}const V=await W.function(we,this),le=zt(this,At,"m",Ad).call(this,V);if(this._addMessage({role:u,tool_call_id:G,content:le}),p)return}}}}At=new WeakSet,_d=function(){return zt(this,At,"m",Xu).call(this).content??null},Xu=function(){let t=this.messages.length;for(;t-- >0;){const a=this.messages[t];if(ms(a)){const{function_call:s,...u}=a,o={...u,content:a.content??null,refusal:a.refusal??null};return s&&(o.function_call=s),o}}throw new se("stream ended without producing a ChatCompletionMessage with role=assistant")},xd=function(){var t,a;for(let s=this.messages.length-1;s>=0;s--){const u=this.messages[s];if(ms(u)&&(u!=null&&u.function_call))return u.function_call;if(ms(u)&&((t=u==null?void 0:u.tool_calls)!=null&&t.length))return(a=u.tool_calls.at(-1))==null?void 0:a.function}},wd=function(){for(let t=this.messages.length-1;t>=0;t--){const a=this.messages[t];if(S0(a)&&a.content!=null||A0(a)&&a.content!=null&&typeof a.content=="string"&&this.messages.some(s=>{var u;return s.role==="assistant"&&((u=s.tool_calls)==null?void 0:u.some(o=>o.type==="function"&&o.id===a.tool_call_id))}))return a.content}},Sd=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:a}of this._chatCompletions)a&&(t.completion_tokens+=a.completion_tokens,t.prompt_tokens+=a.prompt_tokens,t.total_tokens+=a.total_tokens);return t},N0=function(t){if(t.n!=null&&t.n>1)throw new se("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Ad=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class Bi extends T0{static runFunctions(t,a,s){const u=new Bi,o={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return u._run(()=>u._runFunctions(t,a,o)),u}static runTools(t,a,s){const u=new Bi,o={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return u._run(()=>u._runTools(t,a,o)),u}_addMessage(t,a=!0){super._addMessage(t,a),ms(t)&&t.content&&this._emit("content",t.content)}}const R0=1,C0=2,O0=4,j0=8,k0=16,M0=32,D0=64,z0=128,U0=256,L0=z0|U0,B0=k0|M0|L0|D0,Z0=R0|C0|B0,P0=O0|j0,US=Z0|P0,ht={STR:R0,NUM:C0,ARR:O0,OBJ:j0,NULL:k0,BOOL:M0,NAN:D0,INFINITY:z0,MINUS_INFINITY:U0,INF:L0,SPECIAL:B0,ATOM:Z0,COLLECTION:P0,ALL:US};class LS extends Error{}class BS extends Error{}function ZS(r,t=ht.ALL){if(typeof r!="string")throw new TypeError(`expecting str, got ${typeof r}`);if(!r.trim())throw new Error(`${r} is empty`);return PS(r.trim(),t)}const PS=(r,t)=>{const a=r.length;let s=0;const u=w=>{throw new LS(`${w} at position ${s}`)},o=w=>{throw new BS(`${w} at position ${s}`)},d=()=>(_(),s>=a&&u("Unexpected end of input"),r[s]==='"'?h():r[s]==="{"?p():r[s]==="["?m():r.substring(s,s+4)==="null"||ht.NULL&t&&a-s<4&&"null".startsWith(r.substring(s))?(s+=4,null):r.substring(s,s+4)==="true"||ht.BOOL&t&&a-s<4&&"true".startsWith(r.substring(s))?(s+=4,!0):r.substring(s,s+5)==="false"||ht.BOOL&t&&a-s<5&&"false".startsWith(r.substring(s))?(s+=5,!1):r.substring(s,s+8)==="Infinity"||ht.INFINITY&t&&a-s<8&&"Infinity".startsWith(r.substring(s))?(s+=8,1/0):r.substring(s,s+9)==="-Infinity"||ht.MINUS_INFINITY&t&&1<a-s&&a-s<9&&"-Infinity".startsWith(r.substring(s))?(s+=9,-1/0):r.substring(s,s+3)==="NaN"||ht.NAN&t&&a-s<3&&"NaN".startsWith(r.substring(s))?(s+=3,NaN):b()),h=()=>{const w=s;let O=!1;for(s++;s<a&&(r[s]!=='"'||O&&r[s-1]==="\\");)O=r[s]==="\\"?!O:!1,s++;if(r.charAt(s)=='"')try{return JSON.parse(r.substring(w,++s-Number(O)))}catch(N){o(String(N))}else if(ht.STR&t)try{return JSON.parse(r.substring(w,s-Number(O))+'"')}catch{return JSON.parse(r.substring(w,r.lastIndexOf("\\"))+'"')}u("Unterminated string literal")},p=()=>{s++,_();const w={};try{for(;r[s]!=="}";){if(_(),s>=a&&ht.OBJ&t)return w;const O=h();_(),s++;try{const N=d();Object.defineProperty(w,O,{value:N,writable:!0,enumerable:!0,configurable:!0})}catch(N){if(ht.OBJ&t)return w;throw N}_(),r[s]===","&&s++}}catch{if(ht.OBJ&t)return w;u("Expected '}' at end of object")}return s++,w},m=()=>{s++;const w=[];try{for(;r[s]!=="]";)w.push(d()),_(),r[s]===","&&s++}catch{if(ht.ARR&t)return w;u("Expected ']' at end of array")}return s++,w},b=()=>{if(s===0){r==="-"&&ht.NUM&t&&u("Not sure what '-' is");try{return JSON.parse(r)}catch(O){if(ht.NUM&t)try{return r[r.length-1]==="."?JSON.parse(r.substring(0,r.lastIndexOf("."))):JSON.parse(r.substring(0,r.lastIndexOf("e")))}catch{}o(String(O))}}const w=s;for(r[s]==="-"&&s++;r[s]&&!",]}".includes(r[s]);)s++;s==a&&!(ht.NUM&t)&&u("Unterminated number literal");try{return JSON.parse(r.substring(w,s))}catch{r.substring(w,s)==="-"&&ht.NUM&t&&u("Not sure what '-' is");try{return JSON.parse(r.substring(w,r.lastIndexOf("e")))}catch(N){o(String(N))}}},_=()=>{for(;s<a&&` 
\r	`.includes(r[s]);)s++};return d()},av=r=>ZS(r,ht.ALL^ht.NUM);var rs=function(r,t,a,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!u:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(r,a):u?u.value=a:t.set(r,a),a},Pe=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},it,Wn,ss,ja,Jf,Ru,Wf,ed,td,Cu,nd,rv;class Zi extends T0{constructor(t){super(),it.add(this),Wn.set(this,void 0),ss.set(this,void 0),ja.set(this,void 0),rs(this,Wn,t,"f"),rs(this,ss,[],"f")}get currentChatCompletionSnapshot(){return Pe(this,ja,"f")}static fromReadableStream(t){const a=new Zi(null);return a._run(()=>a._fromReadableStream(t)),a}static createChatCompletion(t,a,s){const u=new Zi(a);return u._run(()=>u._runChatCompletion(t,{...a,stream:!0},{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),u}async _createChatCompletion(t,a,s){var d;super._createChatCompletion;const u=s==null?void 0:s.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort())),Pe(this,it,"m",Jf).call(this);const o=await t.chat.completions.create({...a,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const h of o)Pe(this,it,"m",Wf).call(this,h);if((d=o.controller.signal)!=null&&d.aborted)throw new sn;return this._addChatCompletion(Pe(this,it,"m",Cu).call(this))}async _fromReadableStream(t,a){var d;const s=a==null?void 0:a.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Pe(this,it,"m",Jf).call(this),this._connected();const u=Mn.fromReadableStream(t,this.controller);let o;for await(const h of u)o&&o!==h.id&&this._addChatCompletion(Pe(this,it,"m",Cu).call(this)),Pe(this,it,"m",Wf).call(this,h),o=h.id;if((d=u.controller.signal)!=null&&d.aborted)throw new sn;return this._addChatCompletion(Pe(this,it,"m",Cu).call(this))}[(Wn=new WeakMap,ss=new WeakMap,ja=new WeakMap,it=new WeakSet,Jf=function(){this.ended||rs(this,ja,void 0,"f")},Ru=function(a){let s=Pe(this,ss,"f")[a.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Pe(this,ss,"f")[a.index]=s,s)},Wf=function(a){var u,o,d,h,p,m,b,_,w,O,N,z,R,U,C;if(this.ended)return;const s=Pe(this,it,"m",rv).call(this,a);this._emit("chunk",a,s);for(const Z of a.choices){const G=s.choices[Z.index];Z.delta.content!=null&&((u=G.message)==null?void 0:u.role)==="assistant"&&((o=G.message)!=null&&o.content)&&(this._emit("content",Z.delta.content,G.message.content),this._emit("content.delta",{delta:Z.delta.content,snapshot:G.message.content,parsed:G.message.parsed})),Z.delta.refusal!=null&&((d=G.message)==null?void 0:d.role)==="assistant"&&((h=G.message)!=null&&h.refusal)&&this._emit("refusal.delta",{delta:Z.delta.refusal,snapshot:G.message.refusal}),((p=Z.logprobs)==null?void 0:p.content)!=null&&((m=G.message)==null?void 0:m.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(b=Z.logprobs)==null?void 0:b.content,snapshot:((_=G.logprobs)==null?void 0:_.content)??[]}),((w=Z.logprobs)==null?void 0:w.refusal)!=null&&((O=G.message)==null?void 0:O.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(N=Z.logprobs)==null?void 0:N.refusal,snapshot:((z=G.logprobs)==null?void 0:z.refusal)??[]});const Q=Pe(this,it,"m",Ru).call(this,G);G.finish_reason&&(Pe(this,it,"m",td).call(this,G),Q.current_tool_call_index!=null&&Pe(this,it,"m",ed).call(this,G,Q.current_tool_call_index));for(const ie of Z.delta.tool_calls??[])Q.current_tool_call_index!==ie.index&&(Pe(this,it,"m",td).call(this,G),Q.current_tool_call_index!=null&&Pe(this,it,"m",ed).call(this,G,Q.current_tool_call_index)),Q.current_tool_call_index=ie.index;for(const ie of Z.delta.tool_calls??[]){const W=(R=G.message.tool_calls)==null?void 0:R[ie.index];W!=null&&W.type&&((W==null?void 0:W.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(U=W.function)==null?void 0:U.name,index:ie.index,arguments:W.function.arguments,parsed_arguments:W.function.parsed_arguments,arguments_delta:((C=ie.function)==null?void 0:C.arguments)??""}):(W==null||W.type,void 0))}}},ed=function(a,s){var d,h,p;if(Pe(this,it,"m",Ru).call(this,a).done_tool_calls.has(s))return;const o=(d=a.message.tool_calls)==null?void 0:d[s];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if(o.type==="function"){const m=(p=(h=Pe(this,Wn,"f"))==null?void 0:h.tools)==null?void 0:p.find(b=>b.type==="function"&&b.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:s,arguments:o.function.arguments,parsed_arguments:rl(m)?m.$parseRaw(o.function.arguments):m!=null&&m.function.strict?JSON.parse(o.function.arguments):null})}else o.type},td=function(a){var u,o;const s=Pe(this,it,"m",Ru).call(this,a);if(a.message.content&&!s.content_done){s.content_done=!0;const d=Pe(this,it,"m",nd).call(this);this._emit("content.done",{content:a.message.content,parsed:d?d.$parseRaw(a.message.content):null})}a.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:a.message.refusal})),(u=a.logprobs)!=null&&u.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:a.logprobs.content})),(o=a.logprobs)!=null&&o.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:a.logprobs.refusal}))},Cu=function(){if(this.ended)throw new se("stream has ended, this shouldn't happen");const a=Pe(this,ja,"f");if(!a)throw new se("request ended without sending any chunks");return rs(this,ja,void 0,"f"),rs(this,ss,[],"f"),$S(a,Pe(this,Wn,"f"))},nd=function(){var s;const a=(s=Pe(this,Wn,"f"))==null?void 0:s.response_format;return Kd(a)?a:null},rv=function(a){var s,u,o,d;let h=Pe(this,ja,"f");const{choices:p,...m}=a;h?Object.assign(h,m):h=rs(this,ja,{...m,choices:[]},"f");for(const{delta:b,finish_reason:_,index:w,logprobs:O=null,...N}of a.choices){let z=h.choices[w];if(z||(z=h.choices[w]={finish_reason:_,index:w,message:{},logprobs:O,...N}),O)if(!z.logprobs)z.logprobs=Object.assign({},O);else{const{content:ie,refusal:W,...we}=O;Object.assign(z.logprobs,we),ie&&((s=z.logprobs).content??(s.content=[]),z.logprobs.content.push(...ie)),W&&((u=z.logprobs).refusal??(u.refusal=[]),z.logprobs.refusal.push(...W))}if(_&&(z.finish_reason=_,Pe(this,Wn,"f")&&E0(Pe(this,Wn,"f")))){if(_==="length")throw new i0;if(_==="content_filter")throw new l0}if(Object.assign(z,N),!b)continue;const{content:R,refusal:U,function_call:C,role:Z,tool_calls:G,...Q}=b;if(Object.assign(z.message,Q),U&&(z.message.refusal=(z.message.refusal||"")+U),Z&&(z.message.role=Z),C&&(z.message.function_call?(C.name&&(z.message.function_call.name=C.name),C.arguments&&((o=z.message.function_call).arguments??(o.arguments=""),z.message.function_call.arguments+=C.arguments)):z.message.function_call=C),R&&(z.message.content=(z.message.content||"")+R,!z.message.refusal&&Pe(this,it,"m",nd).call(this)&&(z.message.parsed=av(z.message.content))),G){z.message.tool_calls||(z.message.tool_calls=[]);for(const{index:ie,id:W,type:we,function:V,...le}of G){const te=(d=z.message.tool_calls)[ie]??(d[ie]={});Object.assign(te,le),W&&(te.id=W),we&&(te.type=we),V&&(te.function??(te.function={name:V.name??"",arguments:""})),V!=null&&V.name&&(te.function.name=V.name),V!=null&&V.arguments&&(te.function.arguments+=V.arguments,DS(Pe(this,Wn,"f"),te)&&(te.function.parsed_arguments=av(te.function.arguments)))}}}return h},Symbol.asyncIterator)](){const t=[],a=[];let s=!1;return this.on("chunk",u=>{const o=a.shift();o?o.resolve(u):t.push(u)}),this.on("end",()=>{s=!0;for(const u of a)u.resolve(void 0);a.length=0}),this.on("abort",u=>{s=!0;for(const o of a)o.reject(u);a.length=0}),this.on("error",u=>{s=!0;for(const o of a)o.reject(u);a.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((o,d)=>a.push({resolve:o,reject:d})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Mn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function $S(r,t){const{id:a,choices:s,created:u,model:o,system_fingerprint:d,...h}=r,p={...h,id:a,choices:s.map(({message:m,finish_reason:b,index:_,logprobs:w,...O})=>{if(!b)throw new se(`missing finish_reason for choice ${_}`);const{content:N=null,function_call:z,tool_calls:R,...U}=m,C=m.role;if(!C)throw new se(`missing role for choice ${_}`);if(z){const{arguments:Z,name:G}=z;if(Z==null)throw new se(`missing function_call.arguments for choice ${_}`);if(!G)throw new se(`missing function_call.name for choice ${_}`);return{...O,message:{content:N,function_call:{arguments:Z,name:G},role:C,refusal:m.refusal??null},finish_reason:b,index:_,logprobs:w}}return R?{...O,index:_,finish_reason:b,logprobs:w,message:{...U,role:C,content:N,refusal:m.refusal??null,tool_calls:R.map((Z,G)=>{const{function:Q,type:ie,id:W,...we}=Z,{arguments:V,name:le,...te}=Q||{};if(W==null)throw new se(`missing choices[${_}].tool_calls[${G}].id
${Ou(r)}`);if(ie==null)throw new se(`missing choices[${_}].tool_calls[${G}].type
${Ou(r)}`);if(le==null)throw new se(`missing choices[${_}].tool_calls[${G}].function.name
${Ou(r)}`);if(V==null)throw new se(`missing choices[${_}].tool_calls[${G}].function.arguments
${Ou(r)}`);return{...we,id:W,type:ie,function:{...te,name:le,arguments:V}}})}}:{...O,message:{...U,content:N,role:C,refusal:m.refusal??null},finish_reason:b,index:_,logprobs:w}}),created:u,model:o,object:"chat.completion",...d?{system_fingerprint:d}:{}};return jS(p,t)}function Ou(r){return JSON.stringify(r)}class ps extends Zi{static fromReadableStream(t){const a=new ps(null);return a._run(()=>a._fromReadableStream(t)),a}static runFunctions(t,a,s){const u=new ps(null),o={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return u._run(()=>u._runFunctions(t,a,o)),u}static runTools(t,a,s){const u=new ps(a),o={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return u._run(()=>u._runTools(t,a,o)),u}}let $0=class extends me{parse(t,a){return zS(t.tools),this._client.chat.completions.create(t,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(s=>Fd(s,t))}runFunctions(t,a){return t.stream?ps.runFunctions(this._client,t,a):Bi.runFunctions(this._client,t,a)}runTools(t,a){return t.stream?ps.runTools(this._client,t,a):Bi.runTools(this._client,t,a)}stream(t,a){return Zi.createChatCompletion(this._client,t,a)}};class Ed extends me{constructor(){super(...arguments),this.completions=new $0(this._client)}}(function(r){r.Completions=$0})(Ed||(Ed={}));class H0 extends me{create(t,a){return this._client.post("/realtime/sessions",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class q0 extends me{create(t,a){return this._client.post("/realtime/transcription_sessions",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class pc extends me{constructor(){super(...arguments),this.sessions=new H0(this._client),this.transcriptionSessions=new q0(this._client)}}pc.Sessions=H0;pc.TranscriptionSessions=q0;class Jd extends me{create(t,a,s){return this._client.post(`/threads/${t}/messages`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,a,s){return this._client.get(`/threads/${t}/messages/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,a,s,u){return this._client.post(`/threads/${t}/messages/${a}`,{body:s,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}list(t,a={},s){return We(a)?this.list(t,{},a):this._client.getAPIList(`/threads/${t}/messages`,Wd,{query:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,a,s){return this._client.delete(`/threads/${t}/messages/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Wd extends _t{}Jd.MessagesPage=Wd;class eh extends me{retrieve(t,a,s,u={},o){return We(u)?this.retrieve(t,a,s,{},u):this._client.get(`/threads/${t}/runs/${a}/steps/${s}`,{query:u,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(t,a,s={},u){return We(s)?this.list(t,a,{},s):this._client.getAPIList(`/threads/${t}/runs/${a}/steps`,th,{query:s,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}}class th extends _t{}eh.RunStepsPage=th;let sl=class extends me{constructor(){super(...arguments),this.steps=new eh(this._client)}create(t,a,s){const{include:u,...o}=a;return this._client.post(`/threads/${t}/runs`,{query:{include:u},body:o,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:a.stream??!1})}retrieve(t,a,s){return this._client.get(`/threads/${t}/runs/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,a,s,u){return this._client.post(`/threads/${t}/runs/${a}`,{body:s,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}list(t,a={},s){return We(a)?this.list(t,{},a):this._client.getAPIList(`/threads/${t}/runs`,nh,{query:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(t,a,s){return this._client.post(`/threads/${t}/runs/${a}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,a,s){const u=await this.create(t,a,s);return await this.poll(t,u.id,s)}createAndStream(t,a,s){return gn.createAssistantStream(t,this._client.beta.threads.runs,a,s)}async poll(t,a,s){const u={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(u["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:o,response:d}=await this.retrieve(t,a,{...s,headers:{...s==null?void 0:s.headers,...u}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let h=5e3;if(s!=null&&s.pollIntervalMs)h=s.pollIntervalMs;else{const p=d.headers.get("openai-poll-after-ms");if(p){const m=parseInt(p);isNaN(m)||(h=m)}}await nl(h);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(t,a,s){return gn.createAssistantStream(t,this._client.beta.threads.runs,a,s)}submitToolOutputs(t,a,s,u){return this._client.post(`/threads/${t}/runs/${a}/submit_tool_outputs`,{body:s,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers},stream:s.stream??!1})}async submitToolOutputsAndPoll(t,a,s,u){const o=await this.submitToolOutputs(t,a,s,u);return await this.poll(t,o.id,u)}submitToolOutputsStream(t,a,s,u){return gn.createToolAssistantStream(t,a,this._client.beta.threads.runs,s,u)}};class nh extends _t{}sl.RunsPage=nh;sl.Steps=eh;sl.RunStepsPage=th;class ws extends me{constructor(){super(...arguments),this.runs=new sl(this._client),this.messages=new Jd(this._client)}create(t={},a){return We(t)?this.create({},t):this._client.post("/threads",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(t,a){return this._client.get(`/threads/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(t,a,s){return this._client.post(`/threads/${t}`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,a){return this._client.delete(`/threads/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}createAndRun(t,a){return this._client.post("/threads/runs",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers},stream:t.stream??!1})}async createAndRunPoll(t,a){const s=await this.createAndRun(t,a);return await this.runs.poll(s.thread_id,s.id,a)}createAndRunStream(t,a){return gn.createThreadAssistantStream(t,this._client.beta.threads,a)}}ws.Runs=sl;ws.RunsPage=nh;ws.Messages=Jd;ws.MessagesPage=Wd;class Ss extends me{constructor(){super(...arguments),this.realtime=new pc(this._client),this.chat=new Ed(this._client),this.assistants=new Qd(this._client),this.threads=new ws(this._client)}}Ss.Realtime=pc;Ss.Assistants=Qd;Ss.AssistantsPage=Id;Ss.Threads=ws;class V0 extends me{create(t,a){return this._client.post("/completions",{body:t,...a,stream:t.stream??!1})}}class Y0 extends me{create(t,a){const s=!!t.encoding_format;let u=s?t.encoding_format:"base64";s&&Da("Request","User defined encoding_format:",t.encoding_format);const o=this._client.post("/embeddings",{body:{...t,encoding_format:u},...a});return s?o:(Da("response","Decoding base64 embeddings to float32 array"),o._thenUnwrap(d=>(d&&d.data&&d.data.forEach(h=>{const p=h.embedding;h.embedding=RS(p)}),d)))}}class ah extends me{retrieve(t,a,s,u){return this._client.get(`/evals/${t}/runs/${a}/output_items/${s}`,u)}list(t,a,s={},u){return We(s)?this.list(t,a,{},s):this._client.getAPIList(`/evals/${t}/runs/${a}/output_items`,rh,{query:s,...u})}}class rh extends _t{}ah.OutputItemListResponsesPage=rh;class il extends me{constructor(){super(...arguments),this.outputItems=new ah(this._client)}create(t,a,s){return this._client.post(`/evals/${t}/runs`,{body:a,...s})}retrieve(t,a,s){return this._client.get(`/evals/${t}/runs/${a}`,s)}list(t,a={},s){return We(a)?this.list(t,{},a):this._client.getAPIList(`/evals/${t}/runs`,sh,{query:a,...s})}del(t,a,s){return this._client.delete(`/evals/${t}/runs/${a}`,s)}cancel(t,a,s){return this._client.post(`/evals/${t}/runs/${a}`,s)}}class sh extends _t{}il.RunListResponsesPage=sh;il.OutputItems=ah;il.OutputItemListResponsesPage=rh;class ll extends me{constructor(){super(...arguments),this.runs=new il(this._client)}create(t,a){return this._client.post("/evals",{body:t,...a})}retrieve(t,a){return this._client.get(`/evals/${t}`,a)}update(t,a,s){return this._client.post(`/evals/${t}`,{body:a,...s})}list(t={},a){return We(t)?this.list({},t):this._client.getAPIList("/evals",ih,{query:t,...a})}del(t,a){return this._client.delete(`/evals/${t}`,a)}}class ih extends _t{}ll.EvalListResponsesPage=ih;ll.Runs=il;ll.RunListResponsesPage=sh;let lh=class extends me{create(t,a){return this._client.post("/files",ys({body:t,...a}))}retrieve(t,a){return this._client.get(`/files/${t}`,a)}list(t={},a){return We(t)?this.list({},t):this._client.getAPIList("/files",uh,{query:t,...a})}del(t,a){return this._client.delete(`/files/${t}`,a)}content(t,a){return this._client.get(`/files/${t}/content`,{...a,headers:{Accept:"application/binary",...a==null?void 0:a.headers},__binaryResponse:!0})}retrieveContent(t,a){return this._client.get(`/files/${t}/content`,a)}async waitForProcessing(t,{pollInterval:a=5e3,maxWait:s=30*60*1e3}={}){const u=new Set(["processed","error","deleted"]),o=Date.now();let d=await this.retrieve(t);for(;!d.status||!u.has(d.status);)if(await nl(a),d=await this.retrieve(t),Date.now()-o>s)throw new Vd({message:`Giving up on waiting for file ${t} to finish processing after ${s} milliseconds.`});return d}};class uh extends _t{}lh.FileObjectsPage=uh;class G0 extends me{}let X0=class extends me{run(t,a){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...a})}validate(t,a){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...a})}};class ch extends me{constructor(){super(...arguments),this.graders=new X0(this._client)}}ch.Graders=X0;class oh extends me{create(t,a,s){return this._client.getAPIList(`/fine_tuning/checkpoints/${t}/permissions`,fh,{body:a,method:"post",...s})}retrieve(t,a={},s){return We(a)?this.retrieve(t,{},a):this._client.get(`/fine_tuning/checkpoints/${t}/permissions`,{query:a,...s})}del(t,a,s){return this._client.delete(`/fine_tuning/checkpoints/${t}/permissions/${a}`,s)}}class fh extends fc{}oh.PermissionCreateResponsesPage=fh;let gc=class extends me{constructor(){super(...arguments),this.permissions=new oh(this._client)}};gc.Permissions=oh;gc.PermissionCreateResponsesPage=fh;class dh extends me{list(t,a={},s){return We(a)?this.list(t,{},a):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,hh,{query:a,...s})}}class hh extends _t{}dh.FineTuningJobCheckpointsPage=hh;class As extends me{constructor(){super(...arguments),this.checkpoints=new dh(this._client)}create(t,a){return this._client.post("/fine_tuning/jobs",{body:t,...a})}retrieve(t,a){return this._client.get(`/fine_tuning/jobs/${t}`,a)}list(t={},a){return We(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",mh,{query:t,...a})}cancel(t,a){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,a)}listEvents(t,a={},s){return We(a)?this.listEvents(t,{},a):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,ph,{query:a,...s})}pause(t,a){return this._client.post(`/fine_tuning/jobs/${t}/pause`,a)}resume(t,a){return this._client.post(`/fine_tuning/jobs/${t}/resume`,a)}}class mh extends _t{}class ph extends _t{}As.FineTuningJobsPage=mh;As.FineTuningJobEventsPage=ph;As.Checkpoints=dh;As.FineTuningJobCheckpointsPage=hh;class Za extends me{constructor(){super(...arguments),this.methods=new G0(this._client),this.jobs=new As(this._client),this.checkpoints=new gc(this._client),this.alpha=new ch(this._client)}}Za.Methods=G0;Za.Jobs=As;Za.FineTuningJobsPage=mh;Za.FineTuningJobEventsPage=ph;Za.Checkpoints=gc;Za.Alpha=ch;class Q0 extends me{}class gh extends me{constructor(){super(...arguments),this.graderModels=new Q0(this._client)}}gh.GraderModels=Q0;class I0 extends me{createVariation(t,a){return this._client.post("/images/variations",ys({body:t,...a}))}edit(t,a){return this._client.post("/images/edits",ys({body:t,...a}))}generate(t,a){return this._client.post("/images/generations",{body:t,...a})}}class yh extends me{retrieve(t,a){return this._client.get(`/models/${t}`,a)}list(t){return this._client.getAPIList("/models",vh,t)}del(t,a){return this._client.delete(`/models/${t}`,a)}}class vh extends fc{}yh.ModelsPage=vh;class K0 extends me{create(t,a){return this._client.post("/moderations",{body:t,...a})}}function HS(r,t){return!t||!VS(t)?{...r,output_parsed:null,output:r.output.map(a=>a.type==="function_call"?{...a,parsed_arguments:null}:a.type==="message"?{...a,content:a.content.map(s=>({...s,parsed:null}))}:a)}:F0(r,t)}function F0(r,t){const a=r.output.map(u=>{if(u.type==="function_call")return{...u,parsed_arguments:XS(t,u)};if(u.type==="message"){const o=u.content.map(d=>d.type==="output_text"?{...d,parsed:qS(t,d.text)}:d);return{...u,content:o}}return u}),s=Object.assign({},r,{output:a});return Object.getOwnPropertyDescriptor(r,"output_text")||J0(s),Object.defineProperty(s,"output_parsed",{enumerable:!0,get(){for(const u of s.output)if(u.type==="message"){for(const o of u.content)if(o.type==="output_text"&&o.parsed!==null)return o.parsed}return null}}),s}function qS(r,t){var a,s,u,o;return((s=(a=r.text)==null?void 0:a.format)==null?void 0:s.type)!=="json_schema"?null:"$parseRaw"in((u=r.text)==null?void 0:u.format)?((o=r.text)==null?void 0:o.format).$parseRaw(t):JSON.parse(t)}function VS(r){var t;return!!Kd((t=r.text)==null?void 0:t.format)}function YS(r){return(r==null?void 0:r.$brand)==="auto-parseable-tool"}function GS(r,t){return r.find(a=>a.type==="function"&&a.name===t)}function XS(r,t){const a=GS(r.tools??[],t.name);return{...t,...t,parsed_arguments:YS(a)?a.$parseRaw(t.arguments):a!=null&&a.strict?JSON.parse(t.arguments):null}}function J0(r){const t=[];for(const a of r.output)if(a.type==="message")for(const s of a.content)s.type==="output_text"&&t.push(s.text);r.output_text=t.join("")}class W0 extends me{list(t,a={},s){return We(a)?this.list(t,{},a):this._client.getAPIList(`/responses/${t}/input_items`,IS,{query:a,...s})}}var is=function(r,t,a,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!u:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(r,a):u?u.value=a:t.set(r,a),a},ka=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},ls,ju,Ma,ku,sv,iv,lv,uv;class bh extends Xd{constructor(t){super(),ls.add(this),ju.set(this,void 0),Ma.set(this,void 0),ku.set(this,void 0),is(this,ju,t,"f")}static createResponse(t,a,s){const u=new bh(a);return u._run(()=>u._createResponse(t,a,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),u}async _createResponse(t,a,s){var d;const u=s==null?void 0:s.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort())),ka(this,ls,"m",sv).call(this);const o=await t.responses.create({...a,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const h of o)ka(this,ls,"m",iv).call(this,h);if((d=o.controller.signal)!=null&&d.aborted)throw new sn;return ka(this,ls,"m",lv).call(this)}[(ju=new WeakMap,Ma=new WeakMap,ku=new WeakMap,ls=new WeakSet,sv=function(){this.ended||is(this,Ma,void 0,"f")},iv=function(a){if(this.ended)return;const s=ka(this,ls,"m",uv).call(this,a);switch(this._emit("event",a),a.type){case"response.output_text.delta":{const u=s.output[a.output_index];if(!u)throw new se(`missing output at index ${a.output_index}`);if(u.type==="message"){const o=u.content[a.content_index];if(!o)throw new se(`missing content at index ${a.content_index}`);if(o.type!=="output_text")throw new se(`expected content to be 'output_text', got ${o.type}`);this._emit("response.output_text.delta",{...a,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const u=s.output[a.output_index];if(!u)throw new se(`missing output at index ${a.output_index}`);u.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...a,snapshot:u.arguments});break}default:this._emit(a.type,a);break}},lv=function(){if(this.ended)throw new se("stream has ended, this shouldn't happen");const a=ka(this,Ma,"f");if(!a)throw new se("request ended without sending any events");is(this,Ma,void 0,"f");const s=QS(a,ka(this,ju,"f"));return is(this,ku,s,"f"),s},uv=function(a){let s=ka(this,Ma,"f");if(!s){if(a.type!=="response.created")throw new se(`When snapshot hasn't been set yet, expected 'response.created' event, got ${a.type}`);return s=is(this,Ma,a.response,"f"),s}switch(a.type){case"response.output_item.added":{s.output.push(a.item);break}case"response.content_part.added":{const u=s.output[a.output_index];if(!u)throw new se(`missing output at index ${a.output_index}`);u.type==="message"&&u.content.push(a.part);break}case"response.output_text.delta":{const u=s.output[a.output_index];if(!u)throw new se(`missing output at index ${a.output_index}`);if(u.type==="message"){const o=u.content[a.content_index];if(!o)throw new se(`missing content at index ${a.content_index}`);if(o.type!=="output_text")throw new se(`expected content to be 'output_text', got ${o.type}`);o.text+=a.delta}break}case"response.function_call_arguments.delta":{const u=s.output[a.output_index];if(!u)throw new se(`missing output at index ${a.output_index}`);u.type==="function_call"&&(u.arguments+=a.delta);break}case"response.completed":{is(this,Ma,a.response,"f");break}}return s},Symbol.asyncIterator)](){const t=[],a=[];let s=!1;return this.on("event",u=>{const o=a.shift();o?o.resolve(u):t.push(u)}),this.on("end",()=>{s=!0;for(const u of a)u.resolve(void 0);a.length=0}),this.on("abort",u=>{s=!0;for(const o of a)o.reject(u);a.length=0}),this.on("error",u=>{s=!0;for(const o of a)o.reject(u);a.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((o,d)=>a.push({resolve:o,reject:d})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=ka(this,ku,"f");if(!t)throw new se("stream ended without producing a ChatCompletion");return t}}function QS(r,t){return HS(r,t)}class _h extends me{constructor(){super(...arguments),this.inputItems=new W0(this._client)}create(t,a){return this._client.post("/responses",{body:t,...a,stream:t.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&J0(s),s))}retrieve(t,a={},s){return We(a)?this.retrieve(t,{},a):this._client.get(`/responses/${t}`,{query:a,...s})}del(t,a){return this._client.delete(`/responses/${t}`,{...a,headers:{Accept:"*/*",...a==null?void 0:a.headers}})}parse(t,a){return this._client.responses.create(t,a)._thenUnwrap(s=>F0(s,t))}stream(t,a){return bh.createResponse(this._client,t,a)}}class IS extends _t{}_h.InputItems=W0;class eb extends me{create(t,a,s){return this._client.post(`/uploads/${t}/parts`,ys({body:a,...s}))}}class xh extends me{constructor(){super(...arguments),this.parts=new eb(this._client)}create(t,a){return this._client.post("/uploads",{body:t,...a})}cancel(t,a){return this._client.post(`/uploads/${t}/cancel`,a)}complete(t,a,s){return this._client.post(`/uploads/${t}/complete`,{body:a,...s})}}xh.Parts=eb;const KS=async r=>{const t=await Promise.allSettled(r),a=t.filter(u=>u.status==="rejected");if(a.length){for(const u of a)console.error(u.reason);throw new Error(`${a.length} promise(s) failed - see the above errors`)}const s=[];for(const u of t)u.status==="fulfilled"&&s.push(u.value);return s};class yc extends me{create(t,a,s){return this._client.post(`/vector_stores/${t}/files`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,a,s){return this._client.get(`/vector_stores/${t}/files/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,a,s,u){return this._client.post(`/vector_stores/${t}/files/${a}`,{body:s,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}list(t,a={},s){return We(a)?this.list(t,{},a):this._client.getAPIList(`/vector_stores/${t}/files`,vc,{query:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,a,s){return this._client.delete(`/vector_stores/${t}/files/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,a,s){const u=await this.create(t,a,s);return await this.poll(t,u.id,s)}async poll(t,a,s){const u={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(u["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const o=await this.retrieve(t,a,{...s,headers:u}).withResponse(),d=o.data;switch(d.status){case"in_progress":let h=5e3;if(s!=null&&s.pollIntervalMs)h=s.pollIntervalMs;else{const p=o.response.headers.get("openai-poll-after-ms");if(p){const m=parseInt(p);isNaN(m)||(h=m)}}await nl(h);break;case"failed":case"completed":return d}}}async upload(t,a,s){const u=await this._client.files.create({file:a,purpose:"assistants"},s);return this.create(t,{file_id:u.id},s)}async uploadAndPoll(t,a,s){const u=await this.upload(t,a,s);return await this.poll(t,u.id,s)}content(t,a,s){return this._client.getAPIList(`/vector_stores/${t}/files/${a}/content`,wh,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class vc extends _t{}class wh extends fc{}yc.VectorStoreFilesPage=vc;yc.FileContentResponsesPage=wh;class tb extends me{create(t,a,s){return this._client.post(`/vector_stores/${t}/file_batches`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,a,s){return this._client.get(`/vector_stores/${t}/file_batches/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(t,a,s){return this._client.post(`/vector_stores/${t}/file_batches/${a}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,a,s){const u=await this.create(t,a);return await this.poll(t,u.id,s)}listFiles(t,a,s={},u){return We(s)?this.listFiles(t,a,{},s):this._client.getAPIList(`/vector_stores/${t}/file_batches/${a}/files`,vc,{query:s,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}async poll(t,a,s){const u={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(u["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:o,response:d}=await this.retrieve(t,a,{...s,headers:u}).withResponse();switch(o.status){case"in_progress":let h=5e3;if(s!=null&&s.pollIntervalMs)h=s.pollIntervalMs;else{const p=d.headers.get("openai-poll-after-ms");if(p){const m=parseInt(p);isNaN(m)||(h=m)}}await nl(h);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(t,{files:a,fileIds:s=[]},u){if(a==null||a.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=(u==null?void 0:u.maxConcurrency)??5,d=Math.min(o,a.length),h=this._client,p=a.values(),m=[...s];async function b(w){for(let O of w){const N=await h.files.create({file:O,purpose:"assistants"},u);m.push(N.id)}}const _=Array(d).fill(p).map(b);return await KS(_),await this.createAndPoll(t,{file_ids:m})}}class Pa extends me{constructor(){super(...arguments),this.files=new yc(this._client),this.fileBatches=new tb(this._client)}create(t,a){return this._client.post("/vector_stores",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(t,a){return this._client.get(`/vector_stores/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(t,a,s){return this._client.post(`/vector_stores/${t}`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t={},a){return We(t)?this.list({},t):this._client.getAPIList("/vector_stores",Sh,{query:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}del(t,a){return this._client.delete(`/vector_stores/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}search(t,a,s){return this._client.getAPIList(`/vector_stores/${t}/search`,Ah,{body:a,method:"post",...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Sh extends _t{}class Ah extends fc{}Pa.VectorStoresPage=Sh;Pa.VectorStoreSearchResponsesPage=Ah;Pa.Files=yc;Pa.VectorStoreFilesPage=vc;Pa.FileContentResponsesPage=wh;Pa.FileBatches=tb;var FS={},nb;class ve extends gS{constructor({baseURL:t=cr("OPENAI_BASE_URL"),apiKey:a=cr("OPENAI_API_KEY"),organization:s=cr("OPENAI_ORG_ID")??null,project:u=cr("OPENAI_PROJECT_ID")??null,...o}={}){if(a===void 0)throw new se("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const d={apiKey:a,organization:s,project:u,...o,baseURL:t||"https://api.openai.com/v1"};if(!d.dangerouslyAllowBrowser&&NS())throw new se(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:d.baseURL,timeout:d.timeout??6e5,httpAgent:d.httpAgent,maxRetries:d.maxRetries,fetch:d.fetch}),this.completions=new V0(this),this.chat=new mc(this),this.embeddings=new Y0(this),this.files=new lh(this),this.images=new I0(this),this.audio=new al(this),this.moderations=new K0(this),this.models=new yh(this),this.fineTuning=new Za(this),this.graders=new gh(this),this.vectorStores=new Pa(this),this.beta=new Ss(this),this.batches=new Yd(this),this.uploads=new xh(this),this.responses=new _h(this),this.evals=new ll(this),this._options=d,this.apiKey=a,this.organization=s,this.project=u}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return Jw(t,{arrayFormat:"brackets"})}}nb=ve;ve.OpenAI=nb;ve.DEFAULT_TIMEOUT=6e5;ve.OpenAIError=se;ve.APIError=bt;ve.APIConnectionError=lc;ve.APIConnectionTimeoutError=Vd;ve.APIUserAbortError=sn;ve.NotFoundError=t0;ve.ConflictError=n0;ve.RateLimitError=r0;ve.BadRequestError=Jv;ve.AuthenticationError=Wv;ve.InternalServerError=s0;ve.PermissionDeniedError=e0;ve.UnprocessableEntityError=a0;ve.toFile=f0;ve.fileFromPath=Iv;ve.Completions=V0;ve.Chat=mc;ve.ChatCompletionsPage=hc;ve.Embeddings=Y0;ve.Files=lh;ve.FileObjectsPage=uh;ve.Images=I0;ve.Audio=al;ve.Moderations=K0;ve.Models=yh;ve.ModelsPage=vh;ve.FineTuning=Za;ve.Graders=gh;ve.VectorStores=Pa;ve.VectorStoresPage=Sh;ve.VectorStoreSearchResponsesPage=Ah;ve.Beta=Ss;ve.Batches=Yd;ve.BatchesPage=Gd;ve.Uploads=xh;ve.Responses=_h;ve.Evals=ll;ve.EvalListResponsesPage=ih;class JS extends ve{constructor({baseURL:t=cr("OPENAI_BASE_URL"),apiKey:a=cr("AZURE_OPENAI_API_KEY"),apiVersion:s=cr("OPENAI_API_VERSION"),endpoint:u,deployment:o,azureADTokenProvider:d,dangerouslyAllowBrowser:h,...p}={}){if(!s)throw new se("The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).");if(typeof d=="function"&&(h=!0),!d&&!a)throw new se("Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.");if(d&&a)throw new se("The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.");if(a??(a=cv),p.defaultQuery={...p.defaultQuery,"api-version":s},t){if(u)throw new se("baseURL and endpoint are mutually exclusive")}else{if(u||(u=FS.AZURE_OPENAI_ENDPOINT),!u)throw new se("Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable");t=`${u}/openai`}super({apiKey:a,baseURL:t,...p,...h!==void 0?{dangerouslyAllowBrowser:h}:{}}),this.apiVersion="",this._azureADTokenProvider=d,this.apiVersion=s,this.deploymentName=o}buildRequest(t,a={}){var s;if(WS.has(t.path)&&t.method==="post"&&t.body!==void 0){if(!zu(t.body))throw new Error("Expected request body to be an object");const u=this.deploymentName||t.body.model||((s=t.__metadata)==null?void 0:s.model);u!==void 0&&!this.baseURL.includes("/deployments")&&(t.path=`/deployments/${u}${t.path}`)}return super.buildRequest(t,a)}async _getAzureADToken(){if(typeof this._azureADTokenProvider=="function"){const t=await this._azureADTokenProvider();if(!t||typeof t!="string")throw new se(`Expected 'azureADTokenProvider' argument to return a string but it returned ${t}`);return t}}authHeaders(t){return{}}async prepareOptions(t){var s;if((s=t.headers)!=null&&s["api-key"])return super.prepareOptions(t);const a=await this._getAzureADToken();if(t.headers??(t.headers={}),a)t.headers.Authorization=`Bearer ${a}`;else if(this.apiKey!==cv)t.headers["api-key"]=this.apiKey;else throw new se("Unable to handle auth");return super.prepareOptions(t)}}const WS=new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations"]),cv="<Missing Key>",eA=Symbol("Let zodToJsonSchema decide on which parser to use"),ov={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},tA=r=>typeof r=="string"?{...ov,basePath:["#"],definitions:{},name:r}:{...ov,basePath:["#"],definitions:{},...r},Nd=r=>"_def"in r?r._def:r;function nA(r){if(!r)return!0;for(const t in r)return!1;return!0}const aA=r=>{const t=tA(r),a=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:a,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(t.definitions).map(([s,u])=>[Nd(u),{def:Nd(u),path:[...t.basePath,t.definitionPath,s],jsonSchema:void 0}]))}};function ab(r,t,a,s){s!=null&&s.errorMessages&&a&&(r.errorMessage={...r.errorMessage,[t]:a})}function ze(r,t,a,s,u){r[t]=a,ab(r,t,s,u)}var Te;(function(r){r.assertEqual=u=>u;function t(u){}r.assertIs=t;function a(u){throw new Error}r.assertNever=a,r.arrayToEnum=u=>{const o={};for(const d of u)o[d]=d;return o},r.getValidEnumValues=u=>{const o=r.objectKeys(u).filter(h=>typeof u[u[h]]!="number"),d={};for(const h of o)d[h]=u[h];return r.objectValues(d)},r.objectValues=u=>r.objectKeys(u).map(function(o){return u[o]}),r.objectKeys=typeof Object.keys=="function"?u=>Object.keys(u):u=>{const o=[];for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&o.push(d);return o},r.find=(u,o)=>{for(const d of u)if(o(d))return d},r.isInteger=typeof Number.isInteger=="function"?u=>Number.isInteger(u):u=>typeof u=="number"&&isFinite(u)&&Math.floor(u)===u;function s(u,o=" | "){return u.map(d=>typeof d=="string"?`'${d}'`:d).join(o)}r.joinValues=s,r.jsonStringifyReplacer=(u,o)=>typeof o=="bigint"?o.toString():o})(Te||(Te={}));var Td;(function(r){r.mergeShapes=(t,a)=>({...t,...a})})(Td||(Td={}));const F=Te.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),na=r=>{switch(typeof r){case"undefined":return F.undefined;case"string":return F.string;case"number":return isNaN(r)?F.nan:F.number;case"boolean":return F.boolean;case"function":return F.function;case"bigint":return F.bigint;case"symbol":return F.symbol;case"object":return Array.isArray(r)?F.array:r===null?F.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?F.promise:typeof Map<"u"&&r instanceof Map?F.map:typeof Set<"u"&&r instanceof Set?F.set:typeof Date<"u"&&r instanceof Date?F.date:F.object;default:return F.unknown}},Y=Te.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),rA=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");class It extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=t}format(t){const a=t||function(o){return o.message},s={_errors:[]},u=o=>{for(const d of o.issues)if(d.code==="invalid_union")d.unionErrors.map(u);else if(d.code==="invalid_return_type")u(d.returnTypeError);else if(d.code==="invalid_arguments")u(d.argumentsError);else if(d.path.length===0)s._errors.push(a(d));else{let h=s,p=0;for(;p<d.path.length;){const m=d.path[p];p===d.path.length-1?(h[m]=h[m]||{_errors:[]},h[m]._errors.push(a(d))):h[m]=h[m]||{_errors:[]},h=h[m],p++}}};return u(this),s}static assert(t){if(!(t instanceof It))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Te.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=a=>a.message){const a={},s=[];for(const u of this.issues)u.path.length>0?(a[u.path[0]]=a[u.path[0]]||[],a[u.path[0]].push(t(u))):s.push(t(u));return{formErrors:s,fieldErrors:a}}get formErrors(){return this.flatten()}}It.create=r=>new It(r);const vs=(r,t)=>{let a;switch(r.code){case Y.invalid_type:r.received===F.undefined?a="Required":a=`Expected ${r.expected}, received ${r.received}`;break;case Y.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(r.expected,Te.jsonStringifyReplacer)}`;break;case Y.unrecognized_keys:a=`Unrecognized key(s) in object: ${Te.joinValues(r.keys,", ")}`;break;case Y.invalid_union:a="Invalid input";break;case Y.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${Te.joinValues(r.options)}`;break;case Y.invalid_enum_value:a=`Invalid enum value. Expected ${Te.joinValues(r.options)}, received '${r.received}'`;break;case Y.invalid_arguments:a="Invalid function arguments";break;case Y.invalid_return_type:a="Invalid function return type";break;case Y.invalid_date:a="Invalid date";break;case Y.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(a=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?a=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?a=`Invalid input: must end with "${r.validation.endsWith}"`:Te.assertNever(r.validation):r.validation!=="regex"?a=`Invalid ${r.validation}`:a="Invalid";break;case Y.too_small:r.type==="array"?a=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?a=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?a=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?a=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:a="Invalid input";break;case Y.too_big:r.type==="array"?a=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?a=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?a=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?a=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?a=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:a="Invalid input";break;case Y.custom:a="Invalid input";break;case Y.invalid_intersection_types:a="Intersection results could not be merged";break;case Y.not_multiple_of:a=`Number must be a multiple of ${r.multipleOf}`;break;case Y.not_finite:a="Number must be finite";break;default:a=t.defaultError,Te.assertNever(r)}return{message:a}};let rb=vs;function sA(r){rb=r}function Qu(){return rb}const Iu=r=>{const{data:t,path:a,errorMaps:s,issueData:u}=r,o=[...a,...u.path||[]],d={...u,path:o};if(u.message!==void 0)return{...u,path:o,message:u.message};let h="";const p=s.filter(m=>!!m).slice().reverse();for(const m of p)h=m(d,{data:t,defaultError:h}).message;return{...u,path:o,message:h}},iA=[];function X(r,t){const a=Qu(),s=Iu({issueData:t,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,a,a===vs?void 0:vs].filter(u=>!!u)});r.common.issues.push(s)}class Et{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,a){const s=[];for(const u of a){if(u.status==="aborted")return he;u.status==="dirty"&&t.dirty(),s.push(u.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,a){const s=[];for(const u of a){const o=await u.key,d=await u.value;s.push({key:o,value:d})}return Et.mergeObjectSync(t,s)}static mergeObjectSync(t,a){const s={};for(const u of a){const{key:o,value:d}=u;if(o.status==="aborted"||d.status==="aborted")return he;o.status==="dirty"&&t.dirty(),d.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof d.value<"u"||u.alwaysSet)&&(s[o.value]=d.value)}return{status:t.value,value:s}}}const he=Object.freeze({status:"aborted"}),ds=r=>({status:"dirty",value:r}),Rt=r=>({status:"valid",value:r}),Rd=r=>r.status==="aborted",Cd=r=>r.status==="dirty",hr=r=>r.status==="valid",Pi=r=>typeof Promise<"u"&&r instanceof Promise;function Ku(r,t,a,s){if(typeof t=="function"?r!==t||!0:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(r)}function sb(r,t,a,s,u){if(typeof t=="function"?r!==t||!0:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(r,a),a}var ne;(function(r){r.errToObj=t=>typeof t=="string"?{message:t}:t||{},r.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ne||(ne={}));var Mi,Di;class Dn{constructor(t,a,s,u){this._cachedPath=[],this.parent=t,this.data=a,this._path=s,this._key=u}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fv=(r,t)=>{if(hr(t))return{success:!0,data:t.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new It(r.common.issues);return this._error=a,this._error}}};function ye(r){if(!r)return{};const{errorMap:t,invalid_type_error:a,required_error:s,description:u}=r;if(t&&(a||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:u}:{errorMap:(d,h)=>{var p,m;const{message:b}=r;return d.code==="invalid_enum_value"?{message:b??h.defaultError}:typeof h.data>"u"?{message:(p=b??s)!==null&&p!==void 0?p:h.defaultError}:d.code!=="invalid_type"?{message:h.defaultError}:{message:(m=b??a)!==null&&m!==void 0?m:h.defaultError}},description:u}}class _e{get description(){return this._def.description}_getType(t){return na(t.data)}_getOrReturnCtx(t,a){return a||{common:t.parent.common,data:t.data,parsedType:na(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Et,ctx:{common:t.parent.common,data:t.data,parsedType:na(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const a=this._parse(t);if(Pi(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(t){const a=this._parse(t);return Promise.resolve(a)}parse(t,a){const s=this.safeParse(t,a);if(s.success)return s.data;throw s.error}safeParse(t,a){var s;const u={common:{issues:[],async:(s=a==null?void 0:a.async)!==null&&s!==void 0?s:!1,contextualErrorMap:a==null?void 0:a.errorMap},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:na(t)},o=this._parseSync({data:t,path:u.path,parent:u});return fv(u,o)}"~validate"(t){var a,s;const u={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:na(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:u});return hr(o)?{value:o.value}:{issues:u.common.issues}}catch(o){!((s=(a=o==null?void 0:o.message)===null||a===void 0?void 0:a.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),u.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:u}).then(o=>hr(o)?{value:o.value}:{issues:u.common.issues})}async parseAsync(t,a){const s=await this.safeParseAsync(t,a);if(s.success)return s.data;throw s.error}async safeParseAsync(t,a){const s={common:{issues:[],contextualErrorMap:a==null?void 0:a.errorMap,async:!0},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:na(t)},u=this._parse({data:t,path:s.path,parent:s}),o=await(Pi(u)?u:Promise.resolve(u));return fv(s,o)}refine(t,a){const s=u=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(u):a;return this._refinement((u,o)=>{const d=t(u),h=()=>o.addIssue({code:Y.custom,...s(u)});return typeof Promise<"u"&&d instanceof Promise?d.then(p=>p?!0:(h(),!1)):d?!0:(h(),!1)})}refinement(t,a){return this._refinement((s,u)=>t(s)?!0:(u.addIssue(typeof a=="function"?a(s,u):a),!1))}_refinement(t){return new xn({schema:this,typeName:L.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return bn.create(this,this._def)}nullable(){return Ba.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vn.create(this)}promise(){return _s.create(this,this._def)}or(t){return Vi.create([this,t],this._def)}and(t){return Yi.create(this,t,this._def)}transform(t){return new xn({...ye(this._def),schema:this,typeName:L.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const a=typeof t=="function"?t:()=>t;return new Ki({...ye(this._def),innerType:this,defaultValue:a,typeName:L.ZodDefault})}brand(){return new Eh({typeName:L.ZodBranded,type:this,...ye(this._def)})}catch(t){const a=typeof t=="function"?t:()=>t;return new Fi({...ye(this._def),innerType:this,catchValue:a,typeName:L.ZodCatch})}describe(t){const a=this.constructor;return new a({...this._def,description:t})}pipe(t){return ul.create(this,t)}readonly(){return Ji.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const lA=/^c[^\s-]{8,}$/i,uA=/^[0-9a-z]+$/,cA=/^[0-9A-HJKMNP-TV-Z]{26}$/i,oA=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,fA=/^[a-z0-9_-]{21}$/i,dA=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,hA=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,mA=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ad;const gA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,vA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,bA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_A=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xA=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ib="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",wA=new RegExp(`^${ib}$`);function lb(r){let t="[0-5]\\d";r.precision?t=`${t}\\.\\d{${r.precision}}`:r.precision==null&&(t=`${t}(\\.\\d+)?`);const a=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${a}`}function SA(r){return new RegExp(`^${lb(r)}$`)}function ub(r){let t=`${ib}T${lb(r)}`;const a=[];return a.push(r.local?"Z?":"Z"),r.offset&&a.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${a.join("|")})`,new RegExp(`^${t}$`)}function AA(r,t){return!!((t==="v4"||!t)&&gA.test(r)||(t==="v6"||!t)&&vA.test(r))}function EA(r,t){if(!dA.test(r))return!1;try{const[a]=r.split("."),s=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),u=JSON.parse(atob(s));return!(typeof u!="object"||u===null||!u.typ||!u.alg||t&&u.alg!==t)}catch{return!1}}function NA(r,t){return!!((t==="v4"||!t)&&yA.test(r)||(t==="v6"||!t)&&bA.test(r))}class yn extends _e{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==F.string){const o=this._getOrReturnCtx(t);return X(o,{code:Y.invalid_type,expected:F.string,received:o.parsedType}),he}const s=new Et;let u;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(u=this._getOrReturnCtx(t,u),X(u,{code:Y.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="max")t.data.length>o.value&&(u=this._getOrReturnCtx(t,u),X(u,{code:Y.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="length"){const d=t.data.length>o.value,h=t.data.length<o.value;(d||h)&&(u=this._getOrReturnCtx(t,u),d?X(u,{code:Y.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):h&&X(u,{code:Y.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),s.dirty())}else if(o.kind==="email")mA.test(t.data)||(u=this._getOrReturnCtx(t,u),X(u,{validation:"email",code:Y.invalid_string,message:o.message}),s.dirty());else if(o.kind==="emoji")ad||(ad=new RegExp(pA,"u")),ad.test(t.data)||(u=this._getOrReturnCtx(t,u),X(u,{validation:"emoji",code:Y.invalid_string,message:o.message}),s.dirty());else if(o.kind==="uuid")oA.test(t.data)||(u=this._getOrReturnCtx(t,u),X(u,{validation:"uuid",code:Y.invalid_string,message:o.message}),s.dirty());else if(o.kind==="nanoid")fA.test(t.data)||(u=this._getOrReturnCtx(t,u),X(u,{validation:"nanoid",code:Y.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid")lA.test(t.data)||(u=this._getOrReturnCtx(t,u),X(u,{validation:"cuid",code:Y.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid2")uA.test(t.data)||(u=this._getOrReturnCtx(t,u),X(u,{validation:"cuid2",code:Y.invalid_string,message:o.message}),s.dirty());else if(o.kind==="ulid")cA.test(t.data)||(u=this._getOrReturnCtx(t,u),X(u,{validation:"ulid",code:Y.invalid_string,message:o.message}),s.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{u=this._getOrReturnCtx(t,u),X(u,{validation:"url",code:Y.invalid_string,message:o.message}),s.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(u=this._getOrReturnCtx(t,u),X(u,{validation:"regex",code:Y.invalid_string,message:o.message}),s.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(u=this._getOrReturnCtx(t,u),X(u,{code:Y.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),s.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(u=this._getOrReturnCtx(t,u),X(u,{code:Y.invalid_string,validation:{startsWith:o.value},message:o.message}),s.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(u=this._getOrReturnCtx(t,u),X(u,{code:Y.invalid_string,validation:{endsWith:o.value},message:o.message}),s.dirty()):o.kind==="datetime"?ub(o).test(t.data)||(u=this._getOrReturnCtx(t,u),X(u,{code:Y.invalid_string,validation:"datetime",message:o.message}),s.dirty()):o.kind==="date"?wA.test(t.data)||(u=this._getOrReturnCtx(t,u),X(u,{code:Y.invalid_string,validation:"date",message:o.message}),s.dirty()):o.kind==="time"?SA(o).test(t.data)||(u=this._getOrReturnCtx(t,u),X(u,{code:Y.invalid_string,validation:"time",message:o.message}),s.dirty()):o.kind==="duration"?hA.test(t.data)||(u=this._getOrReturnCtx(t,u),X(u,{validation:"duration",code:Y.invalid_string,message:o.message}),s.dirty()):o.kind==="ip"?AA(t.data,o.version)||(u=this._getOrReturnCtx(t,u),X(u,{validation:"ip",code:Y.invalid_string,message:o.message}),s.dirty()):o.kind==="jwt"?EA(t.data,o.alg)||(u=this._getOrReturnCtx(t,u),X(u,{validation:"jwt",code:Y.invalid_string,message:o.message}),s.dirty()):o.kind==="cidr"?NA(t.data,o.version)||(u=this._getOrReturnCtx(t,u),X(u,{validation:"cidr",code:Y.invalid_string,message:o.message}),s.dirty()):o.kind==="base64"?_A.test(t.data)||(u=this._getOrReturnCtx(t,u),X(u,{validation:"base64",code:Y.invalid_string,message:o.message}),s.dirty()):o.kind==="base64url"?xA.test(t.data)||(u=this._getOrReturnCtx(t,u),X(u,{validation:"base64url",code:Y.invalid_string,message:o.message}),s.dirty()):Te.assertNever(o);return{status:s.value,value:t.data}}_regex(t,a,s){return this.refinement(u=>t.test(u),{validation:a,code:Y.invalid_string,...ne.errToObj(s)})}_addCheck(t){return new yn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ne.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ne.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ne.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ne.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ne.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ne.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ne.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ne.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ne.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ne.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ne.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ne.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ne.errToObj(t)})}datetime(t){var a,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(a=t==null?void 0:t.offset)!==null&&a!==void 0?a:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...ne.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ne.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ne.errToObj(t)})}regex(t,a){return this._addCheck({kind:"regex",regex:t,...ne.errToObj(a)})}includes(t,a){return this._addCheck({kind:"includes",value:t,position:a==null?void 0:a.position,...ne.errToObj(a==null?void 0:a.message)})}startsWith(t,a){return this._addCheck({kind:"startsWith",value:t,...ne.errToObj(a)})}endsWith(t,a){return this._addCheck({kind:"endsWith",value:t,...ne.errToObj(a)})}min(t,a){return this._addCheck({kind:"min",value:t,...ne.errToObj(a)})}max(t,a){return this._addCheck({kind:"max",value:t,...ne.errToObj(a)})}length(t,a){return this._addCheck({kind:"length",value:t,...ne.errToObj(a)})}nonempty(t){return this.min(1,ne.errToObj(t))}trim(){return new yn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxLength(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}}yn.create=r=>{var t;return new yn({checks:[],typeName:L.ZodString,coerce:(t=r==null?void 0:r.coerce)!==null&&t!==void 0?t:!1,...ye(r)})};function TA(r,t){const a=(r.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,u=a>s?a:s,o=parseInt(r.toFixed(u).replace(".","")),d=parseInt(t.toFixed(u).replace(".",""));return o%d/Math.pow(10,u)}class za extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==F.number){const o=this._getOrReturnCtx(t);return X(o,{code:Y.invalid_type,expected:F.number,received:o.parsedType}),he}let s;const u=new Et;for(const o of this._def.checks)o.kind==="int"?Te.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),X(s,{code:Y.invalid_type,expected:"integer",received:"float",message:o.message}),u.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(s=this._getOrReturnCtx(t,s),X(s,{code:Y.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),u.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(s=this._getOrReturnCtx(t,s),X(s,{code:Y.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),u.dirty()):o.kind==="multipleOf"?TA(t.data,o.value)!==0&&(s=this._getOrReturnCtx(t,s),X(s,{code:Y.not_multiple_of,multipleOf:o.value,message:o.message}),u.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),X(s,{code:Y.not_finite,message:o.message}),u.dirty()):Te.assertNever(o);return{status:u.value,value:t.data}}gte(t,a){return this.setLimit("min",t,!0,ne.toString(a))}gt(t,a){return this.setLimit("min",t,!1,ne.toString(a))}lte(t,a){return this.setLimit("max",t,!0,ne.toString(a))}lt(t,a){return this.setLimit("max",t,!1,ne.toString(a))}setLimit(t,a,s,u){return new za({...this._def,checks:[...this._def.checks,{kind:t,value:a,inclusive:s,message:ne.toString(u)}]})}_addCheck(t){return new za({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ne.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ne.toString(t)})}multipleOf(t,a){return this._addCheck({kind:"multipleOf",value:t,message:ne.toString(a)})}finite(t){return this._addCheck({kind:"finite",message:ne.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ne.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ne.toString(t)})}get minValue(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxValue(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Te.isInteger(t.value))}get isFinite(){let t=null,a=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(a===null||s.value>a)&&(a=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(a)&&Number.isFinite(t)}}za.create=r=>new za({checks:[],typeName:L.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...ye(r)});class Ua extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==F.bigint)return this._getInvalidInput(t);let s;const u=new Et;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(s=this._getOrReturnCtx(t,s),X(s,{code:Y.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),u.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(s=this._getOrReturnCtx(t,s),X(s,{code:Y.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),u.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),X(s,{code:Y.not_multiple_of,multipleOf:o.value,message:o.message}),u.dirty()):Te.assertNever(o);return{status:u.value,value:t.data}}_getInvalidInput(t){const a=this._getOrReturnCtx(t);return X(a,{code:Y.invalid_type,expected:F.bigint,received:a.parsedType}),he}gte(t,a){return this.setLimit("min",t,!0,ne.toString(a))}gt(t,a){return this.setLimit("min",t,!1,ne.toString(a))}lte(t,a){return this.setLimit("max",t,!0,ne.toString(a))}lt(t,a){return this.setLimit("max",t,!1,ne.toString(a))}setLimit(t,a,s,u){return new Ua({...this._def,checks:[...this._def.checks,{kind:t,value:a,inclusive:s,message:ne.toString(u)}]})}_addCheck(t){return new Ua({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ne.toString(t)})}multipleOf(t,a){return this._addCheck({kind:"multipleOf",value:t,message:ne.toString(a)})}get minValue(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxValue(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}}Ua.create=r=>{var t;return new Ua({checks:[],typeName:L.ZodBigInt,coerce:(t=r==null?void 0:r.coerce)!==null&&t!==void 0?t:!1,...ye(r)})};class $i extends _e{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==F.boolean){const s=this._getOrReturnCtx(t);return X(s,{code:Y.invalid_type,expected:F.boolean,received:s.parsedType}),he}return Rt(t.data)}}$i.create=r=>new $i({typeName:L.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...ye(r)});class mr extends _e{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==F.date){const o=this._getOrReturnCtx(t);return X(o,{code:Y.invalid_type,expected:F.date,received:o.parsedType}),he}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return X(o,{code:Y.invalid_date}),he}const s=new Et;let u;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(u=this._getOrReturnCtx(t,u),X(u,{code:Y.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),s.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(u=this._getOrReturnCtx(t,u),X(u,{code:Y.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),s.dirty()):Te.assertNever(o);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new mr({...this._def,checks:[...this._def.checks,t]})}min(t,a){return this._addCheck({kind:"min",value:t.getTime(),message:ne.toString(a)})}max(t,a){return this._addCheck({kind:"max",value:t.getTime(),message:ne.toString(a)})}get minDate(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t!=null?new Date(t):null}}mr.create=r=>new mr({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:L.ZodDate,...ye(r)});class Fu extends _e{_parse(t){if(this._getType(t)!==F.symbol){const s=this._getOrReturnCtx(t);return X(s,{code:Y.invalid_type,expected:F.symbol,received:s.parsedType}),he}return Rt(t.data)}}Fu.create=r=>new Fu({typeName:L.ZodSymbol,...ye(r)});class Hi extends _e{_parse(t){if(this._getType(t)!==F.undefined){const s=this._getOrReturnCtx(t);return X(s,{code:Y.invalid_type,expected:F.undefined,received:s.parsedType}),he}return Rt(t.data)}}Hi.create=r=>new Hi({typeName:L.ZodUndefined,...ye(r)});class qi extends _e{_parse(t){if(this._getType(t)!==F.null){const s=this._getOrReturnCtx(t);return X(s,{code:Y.invalid_type,expected:F.null,received:s.parsedType}),he}return Rt(t.data)}}qi.create=r=>new qi({typeName:L.ZodNull,...ye(r)});class bs extends _e{constructor(){super(...arguments),this._any=!0}_parse(t){return Rt(t.data)}}bs.create=r=>new bs({typeName:L.ZodAny,...ye(r)});class fr extends _e{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Rt(t.data)}}fr.create=r=>new fr({typeName:L.ZodUnknown,...ye(r)});class sa extends _e{_parse(t){const a=this._getOrReturnCtx(t);return X(a,{code:Y.invalid_type,expected:F.never,received:a.parsedType}),he}}sa.create=r=>new sa({typeName:L.ZodNever,...ye(r)});class Ju extends _e{_parse(t){if(this._getType(t)!==F.undefined){const s=this._getOrReturnCtx(t);return X(s,{code:Y.invalid_type,expected:F.void,received:s.parsedType}),he}return Rt(t.data)}}Ju.create=r=>new Ju({typeName:L.ZodVoid,...ye(r)});class vn extends _e{_parse(t){const{ctx:a,status:s}=this._processInputParams(t),u=this._def;if(a.parsedType!==F.array)return X(a,{code:Y.invalid_type,expected:F.array,received:a.parsedType}),he;if(u.exactLength!==null){const d=a.data.length>u.exactLength.value,h=a.data.length<u.exactLength.value;(d||h)&&(X(a,{code:d?Y.too_big:Y.too_small,minimum:h?u.exactLength.value:void 0,maximum:d?u.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:u.exactLength.message}),s.dirty())}if(u.minLength!==null&&a.data.length<u.minLength.value&&(X(a,{code:Y.too_small,minimum:u.minLength.value,type:"array",inclusive:!0,exact:!1,message:u.minLength.message}),s.dirty()),u.maxLength!==null&&a.data.length>u.maxLength.value&&(X(a,{code:Y.too_big,maximum:u.maxLength.value,type:"array",inclusive:!0,exact:!1,message:u.maxLength.message}),s.dirty()),a.common.async)return Promise.all([...a.data].map((d,h)=>u.type._parseAsync(new Dn(a,d,a.path,h)))).then(d=>Et.mergeArray(s,d));const o=[...a.data].map((d,h)=>u.type._parseSync(new Dn(a,d,a.path,h)));return Et.mergeArray(s,o)}get element(){return this._def.type}min(t,a){return new vn({...this._def,minLength:{value:t,message:ne.toString(a)}})}max(t,a){return new vn({...this._def,maxLength:{value:t,message:ne.toString(a)}})}length(t,a){return new vn({...this._def,exactLength:{value:t,message:ne.toString(a)}})}nonempty(t){return this.min(1,t)}}vn.create=(r,t)=>new vn({type:r,minLength:null,maxLength:null,exactLength:null,typeName:L.ZodArray,...ye(t)});function os(r){if(r instanceof Ie){const t={};for(const a in r.shape){const s=r.shape[a];t[a]=bn.create(os(s))}return new Ie({...r._def,shape:()=>t})}else return r instanceof vn?new vn({...r._def,type:os(r.element)}):r instanceof bn?bn.create(os(r.unwrap())):r instanceof Ba?Ba.create(os(r.unwrap())):r instanceof zn?zn.create(r.items.map(t=>os(t))):r}class Ie extends _e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),a=Te.objectKeys(t);return this._cached={shape:t,keys:a}}_parse(t){if(this._getType(t)!==F.object){const m=this._getOrReturnCtx(t);return X(m,{code:Y.invalid_type,expected:F.object,received:m.parsedType}),he}const{status:s,ctx:u}=this._processInputParams(t),{shape:o,keys:d}=this._getCached(),h=[];if(!(this._def.catchall instanceof sa&&this._def.unknownKeys==="strip"))for(const m in u.data)d.includes(m)||h.push(m);const p=[];for(const m of d){const b=o[m],_=u.data[m];p.push({key:{status:"valid",value:m},value:b._parse(new Dn(u,_,u.path,m)),alwaysSet:m in u.data})}if(this._def.catchall instanceof sa){const m=this._def.unknownKeys;if(m==="passthrough")for(const b of h)p.push({key:{status:"valid",value:b},value:{status:"valid",value:u.data[b]}});else if(m==="strict")h.length>0&&(X(u,{code:Y.unrecognized_keys,keys:h}),s.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const b of h){const _=u.data[b];p.push({key:{status:"valid",value:b},value:m._parse(new Dn(u,_,u.path,b)),alwaysSet:b in u.data})}}return u.common.async?Promise.resolve().then(async()=>{const m=[];for(const b of p){const _=await b.key,w=await b.value;m.push({key:_,value:w,alwaysSet:b.alwaysSet})}return m}).then(m=>Et.mergeObjectSync(s,m)):Et.mergeObjectSync(s,p)}get shape(){return this._def.shape()}strict(t){return ne.errToObj,new Ie({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(a,s)=>{var u,o,d,h;const p=(d=(o=(u=this._def).errorMap)===null||o===void 0?void 0:o.call(u,a,s).message)!==null&&d!==void 0?d:s.defaultError;return a.code==="unrecognized_keys"?{message:(h=ne.errToObj(t).message)!==null&&h!==void 0?h:p}:{message:p}}}:{}})}strip(){return new Ie({...this._def,unknownKeys:"strip"})}passthrough(){return new Ie({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ie({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ie({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:L.ZodObject})}setKey(t,a){return this.augment({[t]:a})}catchall(t){return new Ie({...this._def,catchall:t})}pick(t){const a={};return Te.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(a[s]=this.shape[s])}),new Ie({...this._def,shape:()=>a})}omit(t){const a={};return Te.objectKeys(this.shape).forEach(s=>{t[s]||(a[s]=this.shape[s])}),new Ie({...this._def,shape:()=>a})}deepPartial(){return os(this)}partial(t){const a={};return Te.objectKeys(this.shape).forEach(s=>{const u=this.shape[s];t&&!t[s]?a[s]=u:a[s]=u.optional()}),new Ie({...this._def,shape:()=>a})}required(t){const a={};return Te.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])a[s]=this.shape[s];else{let o=this.shape[s];for(;o instanceof bn;)o=o._def.innerType;a[s]=o}}),new Ie({...this._def,shape:()=>a})}keyof(){return cb(Te.objectKeys(this.shape))}}Ie.create=(r,t)=>new Ie({shape:()=>r,unknownKeys:"strip",catchall:sa.create(),typeName:L.ZodObject,...ye(t)});Ie.strictCreate=(r,t)=>new Ie({shape:()=>r,unknownKeys:"strict",catchall:sa.create(),typeName:L.ZodObject,...ye(t)});Ie.lazycreate=(r,t)=>new Ie({shape:r,unknownKeys:"strip",catchall:sa.create(),typeName:L.ZodObject,...ye(t)});class Vi extends _e{_parse(t){const{ctx:a}=this._processInputParams(t),s=this._def.options;function u(o){for(const h of o)if(h.result.status==="valid")return h.result;for(const h of o)if(h.result.status==="dirty")return a.common.issues.push(...h.ctx.common.issues),h.result;const d=o.map(h=>new It(h.ctx.common.issues));return X(a,{code:Y.invalid_union,unionErrors:d}),he}if(a.common.async)return Promise.all(s.map(async o=>{const d={...a,common:{...a.common,issues:[]},parent:null};return{result:await o._parseAsync({data:a.data,path:a.path,parent:d}),ctx:d}})).then(u);{let o;const d=[];for(const p of s){const m={...a,common:{...a.common,issues:[]},parent:null},b=p._parseSync({data:a.data,path:a.path,parent:m});if(b.status==="valid")return b;b.status==="dirty"&&!o&&(o={result:b,ctx:m}),m.common.issues.length&&d.push(m.common.issues)}if(o)return a.common.issues.push(...o.ctx.common.issues),o.result;const h=d.map(p=>new It(p));return X(a,{code:Y.invalid_union,unionErrors:h}),he}}get options(){return this._def.options}}Vi.create=(r,t)=>new Vi({options:r,typeName:L.ZodUnion,...ye(t)});const ta=r=>r instanceof Xi?ta(r.schema):r instanceof xn?ta(r.innerType()):r instanceof Qi?[r.value]:r instanceof La?r.options:r instanceof Ii?Te.objectValues(r.enum):r instanceof Ki?ta(r._def.innerType):r instanceof Hi?[void 0]:r instanceof qi?[null]:r instanceof bn?[void 0,...ta(r.unwrap())]:r instanceof Ba?[null,...ta(r.unwrap())]:r instanceof Eh||r instanceof Ji?ta(r.unwrap()):r instanceof Fi?ta(r._def.innerType):[];class bc extends _e{_parse(t){const{ctx:a}=this._processInputParams(t);if(a.parsedType!==F.object)return X(a,{code:Y.invalid_type,expected:F.object,received:a.parsedType}),he;const s=this.discriminator,u=a.data[s],o=this.optionsMap.get(u);return o?a.common.async?o._parseAsync({data:a.data,path:a.path,parent:a}):o._parseSync({data:a.data,path:a.path,parent:a}):(X(a,{code:Y.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),he)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,a,s){const u=new Map;for(const o of a){const d=ta(o.shape[t]);if(!d.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const h of d){if(u.has(h))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(h)}`);u.set(h,o)}}return new bc({typeName:L.ZodDiscriminatedUnion,discriminator:t,options:a,optionsMap:u,...ye(s)})}}function Od(r,t){const a=na(r),s=na(t);if(r===t)return{valid:!0,data:r};if(a===F.object&&s===F.object){const u=Te.objectKeys(t),o=Te.objectKeys(r).filter(h=>u.indexOf(h)!==-1),d={...r,...t};for(const h of o){const p=Od(r[h],t[h]);if(!p.valid)return{valid:!1};d[h]=p.data}return{valid:!0,data:d}}else if(a===F.array&&s===F.array){if(r.length!==t.length)return{valid:!1};const u=[];for(let o=0;o<r.length;o++){const d=r[o],h=t[o],p=Od(d,h);if(!p.valid)return{valid:!1};u.push(p.data)}return{valid:!0,data:u}}else return a===F.date&&s===F.date&&+r==+t?{valid:!0,data:r}:{valid:!1}}class Yi extends _e{_parse(t){const{status:a,ctx:s}=this._processInputParams(t),u=(o,d)=>{if(Rd(o)||Rd(d))return he;const h=Od(o.value,d.value);return h.valid?((Cd(o)||Cd(d))&&a.dirty(),{status:a.value,value:h.data}):(X(s,{code:Y.invalid_intersection_types}),he)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([o,d])=>u(o,d)):u(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Yi.create=(r,t,a)=>new Yi({left:r,right:t,typeName:L.ZodIntersection,...ye(a)});class zn extends _e{_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.parsedType!==F.array)return X(s,{code:Y.invalid_type,expected:F.array,received:s.parsedType}),he;if(s.data.length<this._def.items.length)return X(s,{code:Y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),he;!this._def.rest&&s.data.length>this._def.items.length&&(X(s,{code:Y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const o=[...s.data].map((d,h)=>{const p=this._def.items[h]||this._def.rest;return p?p._parse(new Dn(s,d,s.path,h)):null}).filter(d=>!!d);return s.common.async?Promise.all(o).then(d=>Et.mergeArray(a,d)):Et.mergeArray(a,o)}get items(){return this._def.items}rest(t){return new zn({...this._def,rest:t})}}zn.create=(r,t)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zn({items:r,typeName:L.ZodTuple,rest:null,...ye(t)})};class Gi extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.parsedType!==F.object)return X(s,{code:Y.invalid_type,expected:F.object,received:s.parsedType}),he;const u=[],o=this._def.keyType,d=this._def.valueType;for(const h in s.data)u.push({key:o._parse(new Dn(s,h,s.path,h)),value:d._parse(new Dn(s,s.data[h],s.path,h)),alwaysSet:h in s.data});return s.common.async?Et.mergeObjectAsync(a,u):Et.mergeObjectSync(a,u)}get element(){return this._def.valueType}static create(t,a,s){return a instanceof _e?new Gi({keyType:t,valueType:a,typeName:L.ZodRecord,...ye(s)}):new Gi({keyType:yn.create(),valueType:t,typeName:L.ZodRecord,...ye(a)})}}class Wu extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.parsedType!==F.map)return X(s,{code:Y.invalid_type,expected:F.map,received:s.parsedType}),he;const u=this._def.keyType,o=this._def.valueType,d=[...s.data.entries()].map(([h,p],m)=>({key:u._parse(new Dn(s,h,s.path,[m,"key"])),value:o._parse(new Dn(s,p,s.path,[m,"value"]))}));if(s.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const p of d){const m=await p.key,b=await p.value;if(m.status==="aborted"||b.status==="aborted")return he;(m.status==="dirty"||b.status==="dirty")&&a.dirty(),h.set(m.value,b.value)}return{status:a.value,value:h}})}else{const h=new Map;for(const p of d){const m=p.key,b=p.value;if(m.status==="aborted"||b.status==="aborted")return he;(m.status==="dirty"||b.status==="dirty")&&a.dirty(),h.set(m.value,b.value)}return{status:a.value,value:h}}}}Wu.create=(r,t,a)=>new Wu({valueType:t,keyType:r,typeName:L.ZodMap,...ye(a)});class pr extends _e{_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.parsedType!==F.set)return X(s,{code:Y.invalid_type,expected:F.set,received:s.parsedType}),he;const u=this._def;u.minSize!==null&&s.data.size<u.minSize.value&&(X(s,{code:Y.too_small,minimum:u.minSize.value,type:"set",inclusive:!0,exact:!1,message:u.minSize.message}),a.dirty()),u.maxSize!==null&&s.data.size>u.maxSize.value&&(X(s,{code:Y.too_big,maximum:u.maxSize.value,type:"set",inclusive:!0,exact:!1,message:u.maxSize.message}),a.dirty());const o=this._def.valueType;function d(p){const m=new Set;for(const b of p){if(b.status==="aborted")return he;b.status==="dirty"&&a.dirty(),m.add(b.value)}return{status:a.value,value:m}}const h=[...s.data.values()].map((p,m)=>o._parse(new Dn(s,p,s.path,m)));return s.common.async?Promise.all(h).then(p=>d(p)):d(h)}min(t,a){return new pr({...this._def,minSize:{value:t,message:ne.toString(a)}})}max(t,a){return new pr({...this._def,maxSize:{value:t,message:ne.toString(a)}})}size(t,a){return this.min(t,a).max(t,a)}nonempty(t){return this.min(1,t)}}pr.create=(r,t)=>new pr({valueType:r,minSize:null,maxSize:null,typeName:L.ZodSet,...ye(t)});class gs extends _e{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:a}=this._processInputParams(t);if(a.parsedType!==F.function)return X(a,{code:Y.invalid_type,expected:F.function,received:a.parsedType}),he;function s(h,p){return Iu({data:h,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,Qu(),vs].filter(m=>!!m),issueData:{code:Y.invalid_arguments,argumentsError:p}})}function u(h,p){return Iu({data:h,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,Qu(),vs].filter(m=>!!m),issueData:{code:Y.invalid_return_type,returnTypeError:p}})}const o={errorMap:a.common.contextualErrorMap},d=a.data;if(this._def.returns instanceof _s){const h=this;return Rt(async function(...p){const m=new It([]),b=await h._def.args.parseAsync(p,o).catch(O=>{throw m.addIssue(s(p,O)),m}),_=await Reflect.apply(d,this,b);return await h._def.returns._def.type.parseAsync(_,o).catch(O=>{throw m.addIssue(u(_,O)),m})})}else{const h=this;return Rt(function(...p){const m=h._def.args.safeParse(p,o);if(!m.success)throw new It([s(p,m.error)]);const b=Reflect.apply(d,this,m.data),_=h._def.returns.safeParse(b,o);if(!_.success)throw new It([u(b,_.error)]);return _.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new gs({...this._def,args:zn.create(t).rest(fr.create())})}returns(t){return new gs({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,a,s){return new gs({args:t||zn.create([]).rest(fr.create()),returns:a||fr.create(),typeName:L.ZodFunction,...ye(s)})}}class Xi extends _e{get schema(){return this._def.getter()}_parse(t){const{ctx:a}=this._processInputParams(t);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}Xi.create=(r,t)=>new Xi({getter:r,typeName:L.ZodLazy,...ye(t)});class Qi extends _e{_parse(t){if(t.data!==this._def.value){const a=this._getOrReturnCtx(t);return X(a,{received:a.data,code:Y.invalid_literal,expected:this._def.value}),he}return{status:"valid",value:t.data}}get value(){return this._def.value}}Qi.create=(r,t)=>new Qi({value:r,typeName:L.ZodLiteral,...ye(t)});function cb(r,t){return new La({values:r,typeName:L.ZodEnum,...ye(t)})}class La extends _e{constructor(){super(...arguments),Mi.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const a=this._getOrReturnCtx(t),s=this._def.values;return X(a,{expected:Te.joinValues(s),received:a.parsedType,code:Y.invalid_type}),he}if(Ku(this,Mi)||sb(this,Mi,new Set(this._def.values)),!Ku(this,Mi).has(t.data)){const a=this._getOrReturnCtx(t),s=this._def.values;return X(a,{received:a.data,code:Y.invalid_enum_value,options:s}),he}return Rt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const a of this._def.values)t[a]=a;return t}get Values(){const t={};for(const a of this._def.values)t[a]=a;return t}get Enum(){const t={};for(const a of this._def.values)t[a]=a;return t}extract(t,a=this._def){return La.create(t,{...this._def,...a})}exclude(t,a=this._def){return La.create(this.options.filter(s=>!t.includes(s)),{...this._def,...a})}}Mi=new WeakMap;La.create=cb;class Ii extends _e{constructor(){super(...arguments),Di.set(this,void 0)}_parse(t){const a=Te.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==F.string&&s.parsedType!==F.number){const u=Te.objectValues(a);return X(s,{expected:Te.joinValues(u),received:s.parsedType,code:Y.invalid_type}),he}if(Ku(this,Di)||sb(this,Di,new Set(Te.getValidEnumValues(this._def.values))),!Ku(this,Di).has(t.data)){const u=Te.objectValues(a);return X(s,{received:s.data,code:Y.invalid_enum_value,options:u}),he}return Rt(t.data)}get enum(){return this._def.values}}Di=new WeakMap;Ii.create=(r,t)=>new Ii({values:r,typeName:L.ZodNativeEnum,...ye(t)});class _s extends _e{unwrap(){return this._def.type}_parse(t){const{ctx:a}=this._processInputParams(t);if(a.parsedType!==F.promise&&a.common.async===!1)return X(a,{code:Y.invalid_type,expected:F.promise,received:a.parsedType}),he;const s=a.parsedType===F.promise?a.data:Promise.resolve(a.data);return Rt(s.then(u=>this._def.type.parseAsync(u,{path:a.path,errorMap:a.common.contextualErrorMap})))}}_s.create=(r,t)=>new _s({type:r,typeName:L.ZodPromise,...ye(t)});class xn extends _e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===L.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:a,ctx:s}=this._processInputParams(t),u=this._def.effect||null,o={addIssue:d=>{X(s,d),d.fatal?a.abort():a.dirty()},get path(){return s.path}};if(o.addIssue=o.addIssue.bind(o),u.type==="preprocess"){const d=u.transform(s.data,o);if(s.common.async)return Promise.resolve(d).then(async h=>{if(a.value==="aborted")return he;const p=await this._def.schema._parseAsync({data:h,path:s.path,parent:s});return p.status==="aborted"?he:p.status==="dirty"||a.value==="dirty"?ds(p.value):p});{if(a.value==="aborted")return he;const h=this._def.schema._parseSync({data:d,path:s.path,parent:s});return h.status==="aborted"?he:h.status==="dirty"||a.value==="dirty"?ds(h.value):h}}if(u.type==="refinement"){const d=h=>{const p=u.refinement(h,o);if(s.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(s.common.async===!1){const h=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return h.status==="aborted"?he:(h.status==="dirty"&&a.dirty(),d(h.value),{status:a.value,value:h.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(h=>h.status==="aborted"?he:(h.status==="dirty"&&a.dirty(),d(h.value).then(()=>({status:a.value,value:h.value}))))}if(u.type==="transform")if(s.common.async===!1){const d=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!hr(d))return d;const h=u.transform(d.value,o);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:h}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(d=>hr(d)?Promise.resolve(u.transform(d.value,o)).then(h=>({status:a.value,value:h})):d);Te.assertNever(u)}}xn.create=(r,t,a)=>new xn({schema:r,typeName:L.ZodEffects,effect:t,...ye(a)});xn.createWithPreprocess=(r,t,a)=>new xn({schema:t,effect:{type:"preprocess",transform:r},typeName:L.ZodEffects,...ye(a)});class bn extends _e{_parse(t){return this._getType(t)===F.undefined?Rt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}bn.create=(r,t)=>new bn({innerType:r,typeName:L.ZodOptional,...ye(t)});class Ba extends _e{_parse(t){return this._getType(t)===F.null?Rt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ba.create=(r,t)=>new Ba({innerType:r,typeName:L.ZodNullable,...ye(t)});class Ki extends _e{_parse(t){const{ctx:a}=this._processInputParams(t);let s=a.data;return a.parsedType===F.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}Ki.create=(r,t)=>new Ki({innerType:r,typeName:L.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ye(t)});class Fi extends _e{_parse(t){const{ctx:a}=this._processInputParams(t),s={...a,common:{...a.common,issues:[]}},u=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Pi(u)?u.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new It(s.common.issues)},input:s.data})})):{status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new It(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Fi.create=(r,t)=>new Fi({innerType:r,typeName:L.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ye(t)});class ec extends _e{_parse(t){if(this._getType(t)!==F.nan){const s=this._getOrReturnCtx(t);return X(s,{code:Y.invalid_type,expected:F.nan,received:s.parsedType}),he}return{status:"valid",value:t.data}}}ec.create=r=>new ec({typeName:L.ZodNaN,...ye(r)});const RA=Symbol("zod_brand");class Eh extends _e{_parse(t){const{ctx:a}=this._processInputParams(t),s=a.data;return this._def.type._parse({data:s,path:a.path,parent:a})}unwrap(){return this._def.type}}class ul extends _e{_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?he:o.status==="dirty"?(a.dirty(),ds(o.value)):this._def.out._parseAsync({data:o.value,path:s.path,parent:s})})();{const u=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return u.status==="aborted"?he:u.status==="dirty"?(a.dirty(),{status:"dirty",value:u.value}):this._def.out._parseSync({data:u.value,path:s.path,parent:s})}}static create(t,a){return new ul({in:t,out:a,typeName:L.ZodPipeline})}}class Ji extends _e{_parse(t){const a=this._def.innerType._parse(t),s=u=>(hr(u)&&(u.value=Object.freeze(u.value)),u);return Pi(a)?a.then(u=>s(u)):s(a)}unwrap(){return this._def.innerType}}Ji.create=(r,t)=>new Ji({innerType:r,typeName:L.ZodReadonly,...ye(t)});function dv(r,t){const a=typeof r=="function"?r(t):typeof r=="string"?{message:r}:r;return typeof a=="string"?{message:a}:a}function ob(r,t={},a){return r?bs.create().superRefine((s,u)=>{var o,d;const h=r(s);if(h instanceof Promise)return h.then(p=>{var m,b;if(!p){const _=dv(t,s),w=(b=(m=_.fatal)!==null&&m!==void 0?m:a)!==null&&b!==void 0?b:!0;u.addIssue({code:"custom",..._,fatal:w})}});if(!h){const p=dv(t,s),m=(d=(o=p.fatal)!==null&&o!==void 0?o:a)!==null&&d!==void 0?d:!0;u.addIssue({code:"custom",...p,fatal:m})}}):bs.create()}const CA={object:Ie.lazycreate};var L;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(L||(L={}));const OA=(r,t={message:`Input not instance of ${r.name}`})=>ob(a=>a instanceof r,t),fb=yn.create,db=za.create,jA=ec.create,kA=Ua.create,hb=$i.create,MA=mr.create,DA=Fu.create,zA=Hi.create,UA=qi.create,LA=bs.create,BA=fr.create,ZA=sa.create,PA=Ju.create,$A=vn.create,HA=Ie.create,qA=Ie.strictCreate,VA=Vi.create,YA=bc.create,GA=Yi.create,XA=zn.create,QA=Gi.create,IA=Wu.create,KA=pr.create,FA=gs.create,JA=Xi.create,WA=Qi.create,eE=La.create,tE=Ii.create,nE=_s.create,hv=xn.create,aE=bn.create,rE=Ba.create,sE=xn.createWithPreprocess,iE=ul.create,lE=()=>fb().optional(),uE=()=>db().optional(),cE=()=>hb().optional(),oE={string:r=>yn.create({...r,coerce:!0}),number:r=>za.create({...r,coerce:!0}),boolean:r=>$i.create({...r,coerce:!0}),bigint:r=>Ua.create({...r,coerce:!0}),date:r=>mr.create({...r,coerce:!0})},fE=he;var Cn=Object.freeze({__proto__:null,defaultErrorMap:vs,setErrorMap:sA,getErrorMap:Qu,makeIssue:Iu,EMPTY_PATH:iA,addIssueToContext:X,ParseStatus:Et,INVALID:he,DIRTY:ds,OK:Rt,isAborted:Rd,isDirty:Cd,isValid:hr,isAsync:Pi,get util(){return Te},get objectUtil(){return Td},ZodParsedType:F,getParsedType:na,ZodType:_e,datetimeRegex:ub,ZodString:yn,ZodNumber:za,ZodBigInt:Ua,ZodBoolean:$i,ZodDate:mr,ZodSymbol:Fu,ZodUndefined:Hi,ZodNull:qi,ZodAny:bs,ZodUnknown:fr,ZodNever:sa,ZodVoid:Ju,ZodArray:vn,ZodObject:Ie,ZodUnion:Vi,ZodDiscriminatedUnion:bc,ZodIntersection:Yi,ZodTuple:zn,ZodRecord:Gi,ZodMap:Wu,ZodSet:pr,ZodFunction:gs,ZodLazy:Xi,ZodLiteral:Qi,ZodEnum:La,ZodNativeEnum:Ii,ZodPromise:_s,ZodEffects:xn,ZodTransformer:xn,ZodOptional:bn,ZodNullable:Ba,ZodDefault:Ki,ZodCatch:Fi,ZodNaN:ec,BRAND:RA,ZodBranded:Eh,ZodPipeline:ul,ZodReadonly:Ji,custom:ob,Schema:_e,ZodSchema:_e,late:CA,get ZodFirstPartyTypeKind(){return L},coerce:oE,any:LA,array:$A,bigint:kA,boolean:hb,date:MA,discriminatedUnion:YA,effect:hv,enum:eE,function:FA,instanceof:OA,intersection:GA,lazy:JA,literal:WA,map:IA,nan:jA,nativeEnum:tE,never:ZA,null:UA,nullable:rE,number:db,object:HA,oboolean:cE,onumber:uE,optional:aE,ostring:lE,pipeline:iE,preprocess:sE,promise:nE,record:QA,set:KA,strictObject:qA,string:fb,symbol:DA,transformer:hv,tuple:XA,undefined:zA,union:VA,unknown:BA,void:PA,NEVER:fE,ZodIssueCode:Y,quotelessJson:rA,ZodError:It});function dE(){return{}}function hE(r,t){var s,u;const a={type:"array"};return((u=(s=r.type)==null?void 0:s._def)==null?void 0:u.typeName)!==L.ZodAny&&(a.items=Oe(r.type._def,{...t,currentPath:[...t.currentPath,"items"]})),r.minLength&&ze(a,"minItems",r.minLength.value,r.minLength.message,t),r.maxLength&&ze(a,"maxItems",r.maxLength.value,r.maxLength.message,t),r.exactLength&&(ze(a,"minItems",r.exactLength.value,r.exactLength.message,t),ze(a,"maxItems",r.exactLength.value,r.exactLength.message,t)),a}function mE(r,t){const a={type:"integer",format:"int64"};if(!r.checks)return a;for(const s of r.checks)switch(s.kind){case"min":t.target==="jsonSchema7"?s.inclusive?ze(a,"minimum",s.value,s.message,t):ze(a,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(a.exclusiveMinimum=!0),ze(a,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?ze(a,"maximum",s.value,s.message,t):ze(a,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(a.exclusiveMaximum=!0),ze(a,"maximum",s.value,s.message,t));break;case"multipleOf":ze(a,"multipleOf",s.value,s.message,t);break}return a}function pE(){return{type:"boolean"}}function gE(r,t){return Oe(r.type._def,t)}const yE=(r,t)=>Oe(r.innerType._def,t);function mb(r,t,a){const s=a??t.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((u,o)=>mb(r,t,u))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return vE(r,t)}}const vE=(r,t)=>{const a={type:"integer",format:"unix-time"};if(t.target==="openApi3")return a;for(const s of r.checks)switch(s.kind){case"min":ze(a,"minimum",s.value,s.message,t);break;case"max":ze(a,"maximum",s.value,s.message,t);break}return a};function bE(r,t){return{...Oe(r.innerType._def,t),default:r.defaultValue()}}function _E(r,t,a){return t.effectStrategy==="input"?Oe(r.schema._def,t,a):{}}function xE(r){return{type:"string",enum:[...r.values]}}const wE=r=>"type"in r&&r.type==="string"?!1:"allOf"in r;function SE(r,t){const a=[Oe(r.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Oe(r.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o);let s=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const u=[];return a.forEach(o=>{if(wE(o))u.push(...o.allOf),o.unevaluatedProperties===void 0&&(s=void 0);else{let d=o;if("additionalProperties"in o&&o.additionalProperties===!1){const{additionalProperties:h,...p}=o;d=p}else s=void 0;u.push(d)}}),u.length?{allOf:u,...s}:void 0}function AE(r,t){const a=typeof r.value;return a!=="bigint"&&a!=="number"&&a!=="boolean"&&a!=="string"?{type:Array.isArray(r.value)?"array":"object"}:t.target==="openApi3"?{type:a==="bigint"?"integer":a,enum:[r.value]}:{type:a==="bigint"?"integer":a,const:r.value}}let rd;const lr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(rd===void 0&&(rd=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),rd),base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function pb(r,t){const a={type:"string"};function s(u){return t.patternStrategy==="escape"?EE(u):u}if(r.checks)for(const u of r.checks)switch(u.kind){case"min":ze(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,u.value):u.value,u.message,t);break;case"max":ze(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,u.value):u.value,u.message,t);break;case"email":switch(t.emailStrategy){case"format:email":on(a,"email",u.message,t);break;case"format:idn-email":on(a,"idn-email",u.message,t);break;case"pattern:zod":fn(a,lr.email,u.message,t);break}break;case"url":on(a,"uri",u.message,t);break;case"uuid":on(a,"uuid",u.message,t);break;case"regex":fn(a,u.regex,u.message,t);break;case"cuid":fn(a,lr.cuid,u.message,t);break;case"cuid2":fn(a,lr.cuid2,u.message,t);break;case"startsWith":fn(a,RegExp(`^${s(u.value)}`),u.message,t);break;case"endsWith":fn(a,RegExp(`${s(u.value)}$`),u.message,t);break;case"datetime":on(a,"date-time",u.message,t);break;case"date":on(a,"date",u.message,t);break;case"time":on(a,"time",u.message,t);break;case"duration":on(a,"duration",u.message,t);break;case"length":ze(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,u.value):u.value,u.message,t),ze(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,u.value):u.value,u.message,t);break;case"includes":{fn(a,RegExp(s(u.value)),u.message,t);break}case"ip":{u.version!=="v6"&&on(a,"ipv4",u.message,t),u.version!=="v4"&&on(a,"ipv6",u.message,t);break}case"emoji":fn(a,lr.emoji,u.message,t);break;case"ulid":{fn(a,lr.ulid,u.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{on(a,"binary",u.message,t);break}case"contentEncoding:base64":{ze(a,"contentEncoding","base64",u.message,t);break}case"pattern:zod":{fn(a,lr.base64,u.message,t);break}}break}case"nanoid":fn(a,lr.nanoid,u.message,t)}return a}const EE=r=>Array.from(r).map(t=>/[a-zA-Z0-9]/.test(t)?t:`\\${t}`).join(""),on=(r,t,a,s)=>{var u;r.format||(u=r.anyOf)!=null&&u.some(o=>o.format)?(r.anyOf||(r.anyOf=[]),r.format&&(r.anyOf.push({format:r.format,...r.errorMessage&&s.errorMessages&&{errorMessage:{format:r.errorMessage.format}}}),delete r.format,r.errorMessage&&(delete r.errorMessage.format,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.anyOf.push({format:t,...a&&s.errorMessages&&{errorMessage:{format:a}}})):ze(r,"format",t,a,s)},fn=(r,t,a,s)=>{var u;r.pattern||(u=r.allOf)!=null&&u.some(o=>o.pattern)?(r.allOf||(r.allOf=[]),r.pattern&&(r.allOf.push({pattern:r.pattern,...r.errorMessage&&s.errorMessages&&{errorMessage:{pattern:r.errorMessage.pattern}}}),delete r.pattern,r.errorMessage&&(delete r.errorMessage.pattern,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.allOf.push({pattern:mv(t,s),...a&&s.errorMessages&&{errorMessage:{pattern:a}}})):ze(r,"pattern",mv(t,s),a,s)},mv=(r,t)=>{var m;const a=typeof r=="function"?r():r;if(!t.applyRegexFlags||!a.flags)return a.source;const s={i:a.flags.includes("i"),m:a.flags.includes("m"),s:a.flags.includes("s")},u=s.i?a.source.toLowerCase():a.source;let o="",d=!1,h=!1,p=!1;for(let b=0;b<u.length;b++){if(d){o+=u[b],d=!1;continue}if(s.i){if(h){if(u[b].match(/[a-z]/)){p?(o+=u[b],o+=`${u[b-2]}-${u[b]}`.toUpperCase(),p=!1):u[b+1]==="-"&&((m=u[b+2])!=null&&m.match(/[a-z]/))?(o+=u[b],p=!0):o+=`${u[b]}${u[b].toUpperCase()}`;continue}}else if(u[b].match(/[a-z]/)){o+=`[${u[b]}${u[b].toUpperCase()}]`;continue}}if(s.m){if(u[b]==="^"){o+=`(^|(?<=[\r
]))`;continue}else if(u[b]==="$"){o+=`($|(?=[\r
]))`;continue}}if(s.s&&u[b]==="."){o+=h?`${u[b]}\r
`:`[${u[b]}\r
]`;continue}o+=u[b],u[b]==="\\"?d=!0:h&&u[b]==="]"?h=!1:!h&&u[b]==="["&&(h=!0)}try{const b=new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),a.source}return o};function gb(r,t){var s,u,o,d;if(t.target==="openApi3"&&((s=r.keyType)==null?void 0:s._def.typeName)===L.ZodEnum)return{type:"object",required:r.keyType._def.values,properties:r.keyType._def.values.reduce((h,p)=>({...h,[p]:Oe(r.valueType._def,{...t,currentPath:[...t.currentPath,"properties",p]})??{}}),{}),additionalProperties:!1};const a={type:"object",additionalProperties:Oe(r.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if(t.target==="openApi3")return a;if(((u=r.keyType)==null?void 0:u._def.typeName)===L.ZodString&&((o=r.keyType._def.checks)!=null&&o.length)){const h=Object.entries(pb(r.keyType._def,t)).reduce((p,[m,b])=>m==="type"?p:{...p,[m]:b},{});return{...a,propertyNames:h}}else if(((d=r.keyType)==null?void 0:d._def.typeName)===L.ZodEnum)return{...a,propertyNames:{enum:r.keyType._def.values}};return a}function NE(r,t){if(t.mapStrategy==="record")return gb(r,t);const a=Oe(r.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},s=Oe(r.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[a,s],minItems:2,maxItems:2}}}function TE(r){const t=r.values,s=Object.keys(r.values).filter(o=>typeof t[t[o]]!="number").map(o=>t[o]),u=Array.from(new Set(s.map(o=>typeof o)));return{type:u.length===1?u[0]==="string"?"string":"number":["string","number"],enum:s}}function RE(){return{not:{}}}function CE(r){return r.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const tc={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function OE(r,t){if(t.target==="openApi3")return pv(r,t);const a=r.options instanceof Map?Array.from(r.options.values()):r.options;if(a.every(s=>s._def.typeName in tc&&(!s._def.checks||!s._def.checks.length))){const s=a.reduce((u,o)=>{const d=tc[o._def.typeName];return d&&!u.includes(d)?[...u,d]:u},[]);return{type:s.length>1?s:s[0]}}else if(a.every(s=>s._def.typeName==="ZodLiteral"&&!s.description)){const s=a.reduce((u,o)=>{const d=typeof o._def.value;switch(d){case"string":case"number":case"boolean":return[...u,d];case"bigint":return[...u,"integer"];case"object":if(o._def.value===null)return[...u,"null"];case"symbol":case"undefined":case"function":default:return u}},[]);if(s.length===a.length){const u=s.filter((o,d,h)=>h.indexOf(o)===d);return{type:u.length>1?u:u[0],enum:a.reduce((o,d)=>o.includes(d._def.value)?o:[...o,d._def.value],[])}}}else if(a.every(s=>s._def.typeName==="ZodEnum"))return{type:"string",enum:a.reduce((s,u)=>[...s,...u._def.values.filter(o=>!s.includes(o))],[])};return pv(r,t)}const pv=(r,t)=>{const a=(r.options instanceof Map?Array.from(r.options.values()):r.options).map((s,u)=>Oe(s._def,{...t,currentPath:[...t.currentPath,"anyOf",`${u}`]})).filter(s=>!!s&&(!t.strictUnions||typeof s=="object"&&Object.keys(s).length>0));return a.length?{anyOf:a}:void 0};function jE(r,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(r.innerType._def.typeName)&&(!r.innerType._def.checks||!r.innerType._def.checks.length))return t.target==="openApi3"||t.nullableStrategy==="property"?{type:tc[r.innerType._def.typeName],nullable:!0}:{type:[tc[r.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const s=Oe(r.innerType._def,{...t,currentPath:[...t.currentPath]});return s&&"$ref"in s?{allOf:[s],nullable:!0}:s&&{...s,nullable:!0}}const a=Oe(r.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return a&&{anyOf:[a,{type:"null"}]}}function kE(r,t){const a={type:"number"};if(!r.checks)return a;for(const s of r.checks)switch(s.kind){case"int":a.type="integer",ab(a,"type",s.message,t);break;case"min":t.target==="jsonSchema7"?s.inclusive?ze(a,"minimum",s.value,s.message,t):ze(a,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(a.exclusiveMinimum=!0),ze(a,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?ze(a,"maximum",s.value,s.message,t):ze(a,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(a.exclusiveMaximum=!0),ze(a,"maximum",s.value,s.message,t));break;case"multipleOf":ze(a,"multipleOf",s.value,s.message,t);break}return a}function ME(r,t){return t.removeAdditionalStrategy==="strict"?r.catchall._def.typeName==="ZodNever"?r.unknownKeys!=="strict":Oe(r.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:r.catchall._def.typeName==="ZodNever"?r.unknownKeys==="passthrough":Oe(r.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function DE(r,t){const a={type:"object",...Object.entries(r.shape()).reduce((s,[u,o])=>{if(o===void 0||o._def===void 0)return s;const d=[...t.currentPath,"properties",u],h=Oe(o._def,{...t,currentPath:d,propertyPath:d});return h===void 0?s:(t.openaiStrictMode&&o.isOptional()&&!o.isNullable()&&console.warn(`Zod field at \`${d.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required
This will become an error in a future version of the SDK.`),{properties:{...s.properties,[u]:h},required:o.isOptional()&&!t.openaiStrictMode?s.required:[...s.required,u]})},{properties:{},required:[]}),additionalProperties:ME(r,t)};return a.required.length||delete a.required,a}const zE=(r,t)=>{var s;if(t.currentPath.toString()===((s=t.propertyPath)==null?void 0:s.toString()))return Oe(r.innerType._def,t);const a=Oe(r.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return a?{anyOf:[{not:{}},a]}:{}},UE=(r,t)=>{if(t.pipeStrategy==="input")return Oe(r.in._def,t);if(t.pipeStrategy==="output")return Oe(r.out._def,t);const a=Oe(r.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),s=Oe(r.out._def,{...t,currentPath:[...t.currentPath,"allOf",a?"1":"0"]});return{allOf:[a,s].filter(u=>u!==void 0)}};function LE(r,t){return Oe(r.type._def,t)}function BE(r,t){const s={type:"array",uniqueItems:!0,items:Oe(r.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return r.minSize&&ze(s,"minItems",r.minSize.value,r.minSize.message,t),r.maxSize&&ze(s,"maxItems",r.maxSize.value,r.maxSize.message,t),s}function ZE(r,t){return r.rest?{type:"array",minItems:r.items.length,items:r.items.map((a,s)=>Oe(a._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((a,s)=>s===void 0?a:[...a,s],[]),additionalItems:Oe(r.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:r.items.length,maxItems:r.items.length,items:r.items.map((a,s)=>Oe(a._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((a,s)=>s===void 0?a:[...a,s],[])}}function PE(){return{not:{}}}function $E(){return{}}const HE=(r,t)=>Oe(r.innerType._def,t);function Oe(r,t,a=!1){var d;const s=t.seen.get(r);if(t.override){const h=(d=t.override)==null?void 0:d.call(t,r,t,s,a);if(h!==eA)return h}if(s&&!a){const h=qE(s,t);if(h!==void 0)return"$ref"in h&&t.seenRefs.add(h.$ref),h}const u={def:r,path:t.currentPath,jsonSchema:void 0};t.seen.set(r,u);const o=YE(r,r.typeName,t,a);return o&&GE(r,t,o),u.jsonSchema=o,o}const qE=(r,t)=>{switch(t.$refStrategy){case"root":return{$ref:r.path.join("/")};case"extract-to-root":const a=r.path.slice(t.basePath.length+1).join("_");return a!==t.name&&t.nameStrategy==="duplicate-ref"&&(t.definitions[a]=r.def),{$ref:[...t.basePath,t.definitionPath,a].join("/")};case"relative":return{$ref:VE(t.currentPath,r.path)};case"none":case"seen":return r.path.length<t.currentPath.length&&r.path.every((s,u)=>t.currentPath[u]===s)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},VE=(r,t)=>{let a=0;for(;a<r.length&&a<t.length&&r[a]===t[a];a++);return[(r.length-a).toString(),...t.slice(a)].join("/")},YE=(r,t,a,s)=>{switch(t){case L.ZodString:return pb(r,a);case L.ZodNumber:return kE(r,a);case L.ZodObject:return DE(r,a);case L.ZodBigInt:return mE(r,a);case L.ZodBoolean:return pE();case L.ZodDate:return mb(r,a);case L.ZodUndefined:return PE();case L.ZodNull:return CE(a);case L.ZodArray:return hE(r,a);case L.ZodUnion:case L.ZodDiscriminatedUnion:return OE(r,a);case L.ZodIntersection:return SE(r,a);case L.ZodTuple:return ZE(r,a);case L.ZodRecord:return gb(r,a);case L.ZodLiteral:return AE(r,a);case L.ZodEnum:return xE(r);case L.ZodNativeEnum:return TE(r);case L.ZodNullable:return jE(r,a);case L.ZodOptional:return zE(r,a);case L.ZodMap:return NE(r,a);case L.ZodSet:return BE(r,a);case L.ZodLazy:return Oe(r.getter()._def,a);case L.ZodPromise:return LE(r,a);case L.ZodNaN:case L.ZodNever:return RE();case L.ZodEffects:return _E(r,a,s);case L.ZodAny:return dE();case L.ZodUnknown:return $E();case L.ZodDefault:return bE(r,a);case L.ZodBranded:return gE(r,a);case L.ZodReadonly:return HE(r,a);case L.ZodCatch:return yE(r,a);case L.ZodPipeline:return UE(r,a);case L.ZodFunction:case L.ZodVoid:case L.ZodSymbol:return;default:return(u=>{})()}},GE=(r,t,a)=>(r.description&&(a.description=r.description,t.markdownDescription&&(a.markdownDescription=r.description)),a),XE=(r,t)=>{const a=aA(t),s=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,u=Oe(r._def,s===void 0?a:{...a,currentPath:[...a.basePath,a.definitionPath,s]},!1)??{},o=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;o!==void 0&&(u.title=o);const d=(()=>{if(nA(a.definitions))return;const p={},m=new Set;for(let b=0;b<500;b++){const _=Object.entries(a.definitions).filter(([w])=>!m.has(w));if(_.length===0)break;for(const[w,O]of _)p[w]=Oe(Nd(O),{...a,currentPath:[...a.basePath,a.definitionPath,w]},!0)??{},m.add(w)}return p})(),h=s===void 0?d?{...u,[a.definitionPath]:d}:u:a.nameStrategy==="duplicate-ref"?{...u,...d||a.seenRefs.size?{[a.definitionPath]:{...d,...a.seenRefs.size?{[s]:u}:void 0}}:void 0}:{$ref:[...a.$refStrategy==="relative"?[]:a.basePath,a.definitionPath,s].join("/"),[a.definitionPath]:{...d,[s]:u}};return a.target==="jsonSchema7"?h.$schema="http://json-schema.org/draft-07/schema#":a.target==="jsonSchema2019-09"&&(h.$schema="https://json-schema.org/draft/2019-09/schema#"),h};function QE(r,t){return XE(r,{openaiStrictMode:!0,name:t.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}function IE(r,t,a){return OS({type:"json_schema",json_schema:{...a,name:t,strict:!0,schema:QE(r,{name:t})}},s=>r.parse(JSON.parse(s)))}const KE=Symbol("Let zodToJsonSchema decide on which parser to use"),gv={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},FE=r=>typeof r=="string"?{...gv,name:r}:{...gv,...r},JE=r=>{const t=FE(r),a=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:a,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([s,u])=>[u._def,{def:u._def,path:[...t.basePath,t.definitionPath,s],jsonSchema:void 0}]))}};function yb(r,t,a,s){s!=null&&s.errorMessages&&a&&(r.errorMessage={...r.errorMessage,[t]:a})}function Ue(r,t,a,s,u){r[t]=a,yb(r,t,s,u)}function WE(){return{}}function e2(r,t){var s,u,o;const a={type:"array"};return(s=r.type)!=null&&s._def&&((o=(u=r.type)==null?void 0:u._def)==null?void 0:o.typeName)!==L.ZodAny&&(a.items=ke(r.type._def,{...t,currentPath:[...t.currentPath,"items"]})),r.minLength&&Ue(a,"minItems",r.minLength.value,r.minLength.message,t),r.maxLength&&Ue(a,"maxItems",r.maxLength.value,r.maxLength.message,t),r.exactLength&&(Ue(a,"minItems",r.exactLength.value,r.exactLength.message,t),Ue(a,"maxItems",r.exactLength.value,r.exactLength.message,t)),a}function t2(r,t){const a={type:"integer",format:"int64"};if(!r.checks)return a;for(const s of r.checks)switch(s.kind){case"min":t.target==="jsonSchema7"?s.inclusive?Ue(a,"minimum",s.value,s.message,t):Ue(a,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(a.exclusiveMinimum=!0),Ue(a,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?Ue(a,"maximum",s.value,s.message,t):Ue(a,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(a.exclusiveMaximum=!0),Ue(a,"maximum",s.value,s.message,t));break;case"multipleOf":Ue(a,"multipleOf",s.value,s.message,t);break}return a}function n2(){return{type:"boolean"}}function vb(r,t){return ke(r.type._def,t)}const a2=(r,t)=>ke(r.innerType._def,t);function bb(r,t,a){const s=a??t.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((u,o)=>bb(r,t,u))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return r2(r,t)}}const r2=(r,t)=>{const a={type:"integer",format:"unix-time"};if(t.target==="openApi3")return a;for(const s of r.checks)switch(s.kind){case"min":Ue(a,"minimum",s.value,s.message,t);break;case"max":Ue(a,"maximum",s.value,s.message,t);break}return a};function s2(r,t){return{...ke(r.innerType._def,t),default:r.defaultValue()}}function i2(r,t){return t.effectStrategy==="input"?ke(r.schema._def,t):{}}function l2(r){return{type:"string",enum:Array.from(r.values)}}const u2=r=>"type"in r&&r.type==="string"?!1:"allOf"in r;function c2(r,t){const a=[ke(r.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),ke(r.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o);let s=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const u=[];return a.forEach(o=>{if(u2(o))u.push(...o.allOf),o.unevaluatedProperties===void 0&&(s=void 0);else{let d=o;if("additionalProperties"in o&&o.additionalProperties===!1){const{additionalProperties:h,...p}=o;d=p}else s=void 0;u.push(d)}}),u.length?{allOf:u,...s}:void 0}function o2(r,t){const a=typeof r.value;return a!=="bigint"&&a!=="number"&&a!=="boolean"&&a!=="string"?{type:Array.isArray(r.value)?"array":"object"}:t.target==="openApi3"?{type:a==="bigint"?"integer":a,enum:[r.value]}:{type:a==="bigint"?"integer":a,const:r.value}}let sd;const dn={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(sd===void 0&&(sd=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),sd),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function _b(r,t){const a={type:"string"};if(r.checks)for(const s of r.checks)switch(s.kind){case"min":Ue(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,s.value):s.value,s.message,t);break;case"max":Ue(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,s.value):s.value,s.message,t);break;case"email":switch(t.emailStrategy){case"format:email":hn(a,"email",s.message,t);break;case"format:idn-email":hn(a,"idn-email",s.message,t);break;case"pattern:zod":Tt(a,dn.email,s.message,t);break}break;case"url":hn(a,"uri",s.message,t);break;case"uuid":hn(a,"uuid",s.message,t);break;case"regex":Tt(a,s.regex,s.message,t);break;case"cuid":Tt(a,dn.cuid,s.message,t);break;case"cuid2":Tt(a,dn.cuid2,s.message,t);break;case"startsWith":Tt(a,RegExp(`^${id(s.value,t)}`),s.message,t);break;case"endsWith":Tt(a,RegExp(`${id(s.value,t)}$`),s.message,t);break;case"datetime":hn(a,"date-time",s.message,t);break;case"date":hn(a,"date",s.message,t);break;case"time":hn(a,"time",s.message,t);break;case"duration":hn(a,"duration",s.message,t);break;case"length":Ue(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,s.value):s.value,s.message,t),Ue(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,s.value):s.value,s.message,t);break;case"includes":{Tt(a,RegExp(id(s.value,t)),s.message,t);break}case"ip":{s.version!=="v6"&&hn(a,"ipv4",s.message,t),s.version!=="v4"&&hn(a,"ipv6",s.message,t);break}case"base64url":Tt(a,dn.base64url,s.message,t);break;case"jwt":Tt(a,dn.jwt,s.message,t);break;case"cidr":{s.version!=="v6"&&Tt(a,dn.ipv4Cidr,s.message,t),s.version!=="v4"&&Tt(a,dn.ipv6Cidr,s.message,t);break}case"emoji":Tt(a,dn.emoji(),s.message,t);break;case"ulid":{Tt(a,dn.ulid,s.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{hn(a,"binary",s.message,t);break}case"contentEncoding:base64":{Ue(a,"contentEncoding","base64",s.message,t);break}case"pattern:zod":{Tt(a,dn.base64,s.message,t);break}}break}case"nanoid":Tt(a,dn.nanoid,s.message,t)}return a}function id(r,t){return t.patternStrategy==="escape"?d2(r):r}const f2=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function d2(r){let t="";for(let a=0;a<r.length;a++)f2.has(r[a])||(t+="\\"),t+=r[a];return t}function hn(r,t,a,s){var u;r.format||(u=r.anyOf)!=null&&u.some(o=>o.format)?(r.anyOf||(r.anyOf=[]),r.format&&(r.anyOf.push({format:r.format,...r.errorMessage&&s.errorMessages&&{errorMessage:{format:r.errorMessage.format}}}),delete r.format,r.errorMessage&&(delete r.errorMessage.format,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.anyOf.push({format:t,...a&&s.errorMessages&&{errorMessage:{format:a}}})):Ue(r,"format",t,a,s)}function Tt(r,t,a,s){var u;r.pattern||(u=r.allOf)!=null&&u.some(o=>o.pattern)?(r.allOf||(r.allOf=[]),r.pattern&&(r.allOf.push({pattern:r.pattern,...r.errorMessage&&s.errorMessages&&{errorMessage:{pattern:r.errorMessage.pattern}}}),delete r.pattern,r.errorMessage&&(delete r.errorMessage.pattern,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.allOf.push({pattern:yv(t,s),...a&&s.errorMessages&&{errorMessage:{pattern:a}}})):Ue(r,"pattern",yv(t,s),a,s)}function yv(r,t){var p;if(!t.applyRegexFlags||!r.flags)return r.source;const a={i:r.flags.includes("i"),m:r.flags.includes("m"),s:r.flags.includes("s")},s=a.i?r.source.toLowerCase():r.source;let u="",o=!1,d=!1,h=!1;for(let m=0;m<s.length;m++){if(o){u+=s[m],o=!1;continue}if(a.i){if(d){if(s[m].match(/[a-z]/)){h?(u+=s[m],u+=`${s[m-2]}-${s[m]}`.toUpperCase(),h=!1):s[m+1]==="-"&&((p=s[m+2])!=null&&p.match(/[a-z]/))?(u+=s[m],h=!0):u+=`${s[m]}${s[m].toUpperCase()}`;continue}}else if(s[m].match(/[a-z]/)){u+=`[${s[m]}${s[m].toUpperCase()}]`;continue}}if(a.m){if(s[m]==="^"){u+=`(^|(?<=[\r
]))`;continue}else if(s[m]==="$"){u+=`($|(?=[\r
]))`;continue}}if(a.s&&s[m]==="."){u+=d?`${s[m]}\r
`:`[${s[m]}\r
]`;continue}u+=s[m],s[m]==="\\"?o=!0:d&&s[m]==="]"?d=!1:!d&&s[m]==="["&&(d=!0)}try{new RegExp(u)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),r.source}return u}function xb(r,t){var s,u,o,d,h,p;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((s=r.keyType)==null?void 0:s._def.typeName)===L.ZodEnum)return{type:"object",required:r.keyType._def.values,properties:r.keyType._def.values.reduce((m,b)=>({...m,[b]:ke(r.valueType._def,{...t,currentPath:[...t.currentPath,"properties",b]})??{}}),{}),additionalProperties:t.rejectedAdditionalProperties};const a={type:"object",additionalProperties:ke(r.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return a;if(((u=r.keyType)==null?void 0:u._def.typeName)===L.ZodString&&((o=r.keyType._def.checks)!=null&&o.length)){const{type:m,...b}=_b(r.keyType._def,t);return{...a,propertyNames:b}}else{if(((d=r.keyType)==null?void 0:d._def.typeName)===L.ZodEnum)return{...a,propertyNames:{enum:r.keyType._def.values}};if(((h=r.keyType)==null?void 0:h._def.typeName)===L.ZodBranded&&r.keyType._def.type._def.typeName===L.ZodString&&((p=r.keyType._def.type._def.checks)!=null&&p.length)){const{type:m,...b}=vb(r.keyType._def,t);return{...a,propertyNames:b}}}return a}function h2(r,t){if(t.mapStrategy==="record")return xb(r,t);const a=ke(r.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},s=ke(r.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[a,s],minItems:2,maxItems:2}}}function m2(r){const t=r.values,s=Object.keys(r.values).filter(o=>typeof t[t[o]]!="number").map(o=>t[o]),u=Array.from(new Set(s.map(o=>typeof o)));return{type:u.length===1?u[0]==="string"?"string":"number":["string","number"],enum:s}}function p2(){return{not:{}}}function g2(r){return r.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const nc={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function y2(r,t){if(t.target==="openApi3")return vv(r,t);const a=r.options instanceof Map?Array.from(r.options.values()):r.options;if(a.every(s=>s._def.typeName in nc&&(!s._def.checks||!s._def.checks.length))){const s=a.reduce((u,o)=>{const d=nc[o._def.typeName];return d&&!u.includes(d)?[...u,d]:u},[]);return{type:s.length>1?s:s[0]}}else if(a.every(s=>s._def.typeName==="ZodLiteral"&&!s.description)){const s=a.reduce((u,o)=>{const d=typeof o._def.value;switch(d){case"string":case"number":case"boolean":return[...u,d];case"bigint":return[...u,"integer"];case"object":if(o._def.value===null)return[...u,"null"];case"symbol":case"undefined":case"function":default:return u}},[]);if(s.length===a.length){const u=s.filter((o,d,h)=>h.indexOf(o)===d);return{type:u.length>1?u:u[0],enum:a.reduce((o,d)=>o.includes(d._def.value)?o:[...o,d._def.value],[])}}}else if(a.every(s=>s._def.typeName==="ZodEnum"))return{type:"string",enum:a.reduce((s,u)=>[...s,...u._def.values.filter(o=>!s.includes(o))],[])};return vv(r,t)}const vv=(r,t)=>{const a=(r.options instanceof Map?Array.from(r.options.values()):r.options).map((s,u)=>ke(s._def,{...t,currentPath:[...t.currentPath,"anyOf",`${u}`]})).filter(s=>!!s&&(!t.strictUnions||typeof s=="object"&&Object.keys(s).length>0));return a.length?{anyOf:a}:void 0};function v2(r,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(r.innerType._def.typeName)&&(!r.innerType._def.checks||!r.innerType._def.checks.length))return t.target==="openApi3"?{type:nc[r.innerType._def.typeName],nullable:!0}:{type:[nc[r.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const s=ke(r.innerType._def,{...t,currentPath:[...t.currentPath]});return s&&"$ref"in s?{allOf:[s],nullable:!0}:s&&{...s,nullable:!0}}const a=ke(r.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return a&&{anyOf:[a,{type:"null"}]}}function b2(r,t){const a={type:"number"};if(!r.checks)return a;for(const s of r.checks)switch(s.kind){case"int":a.type="integer",yb(a,"type",s.message,t);break;case"min":t.target==="jsonSchema7"?s.inclusive?Ue(a,"minimum",s.value,s.message,t):Ue(a,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(a.exclusiveMinimum=!0),Ue(a,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?Ue(a,"maximum",s.value,s.message,t):Ue(a,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(a.exclusiveMaximum=!0),Ue(a,"maximum",s.value,s.message,t));break;case"multipleOf":Ue(a,"multipleOf",s.value,s.message,t);break}return a}function _2(r,t){const a=t.target==="openAi",s={type:"object",properties:{}},u=[],o=r.shape();for(const h in o){let p=o[h];if(p===void 0||p._def===void 0)continue;let m=w2(p);m&&a&&(p instanceof bn&&(p=p._def.innerType),p.isNullable()||(p=p.nullable()),m=!1);const b=ke(p._def,{...t,currentPath:[...t.currentPath,"properties",h],propertyPath:[...t.currentPath,"properties",h]});b!==void 0&&(s.properties[h]=b,m||u.push(h))}u.length&&(s.required=u);const d=x2(r,t);return d!==void 0&&(s.additionalProperties=d),s}function x2(r,t){if(r.catchall._def.typeName!=="ZodNever")return ke(r.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(r.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function w2(r){try{return r.isOptional()}catch{return!0}}const S2=(r,t)=>{var s;if(t.currentPath.toString()===((s=t.propertyPath)==null?void 0:s.toString()))return ke(r.innerType._def,t);const a=ke(r.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return a?{anyOf:[{not:{}},a]}:{}},A2=(r,t)=>{if(t.pipeStrategy==="input")return ke(r.in._def,t);if(t.pipeStrategy==="output")return ke(r.out._def,t);const a=ke(r.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),s=ke(r.out._def,{...t,currentPath:[...t.currentPath,"allOf",a?"1":"0"]});return{allOf:[a,s].filter(u=>u!==void 0)}};function E2(r,t){return ke(r.type._def,t)}function N2(r,t){const s={type:"array",uniqueItems:!0,items:ke(r.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return r.minSize&&Ue(s,"minItems",r.minSize.value,r.minSize.message,t),r.maxSize&&Ue(s,"maxItems",r.maxSize.value,r.maxSize.message,t),s}function T2(r,t){return r.rest?{type:"array",minItems:r.items.length,items:r.items.map((a,s)=>ke(a._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((a,s)=>s===void 0?a:[...a,s],[]),additionalItems:ke(r.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:r.items.length,maxItems:r.items.length,items:r.items.map((a,s)=>ke(a._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((a,s)=>s===void 0?a:[...a,s],[])}}function R2(){return{not:{}}}function C2(){return{}}const O2=(r,t)=>ke(r.innerType._def,t),j2=(r,t,a)=>{switch(t){case L.ZodString:return _b(r,a);case L.ZodNumber:return b2(r,a);case L.ZodObject:return _2(r,a);case L.ZodBigInt:return t2(r,a);case L.ZodBoolean:return n2();case L.ZodDate:return bb(r,a);case L.ZodUndefined:return R2();case L.ZodNull:return g2(a);case L.ZodArray:return e2(r,a);case L.ZodUnion:case L.ZodDiscriminatedUnion:return y2(r,a);case L.ZodIntersection:return c2(r,a);case L.ZodTuple:return T2(r,a);case L.ZodRecord:return xb(r,a);case L.ZodLiteral:return o2(r,a);case L.ZodEnum:return l2(r);case L.ZodNativeEnum:return m2(r);case L.ZodNullable:return v2(r,a);case L.ZodOptional:return S2(r,a);case L.ZodMap:return h2(r,a);case L.ZodSet:return N2(r,a);case L.ZodLazy:return()=>r.getter()._def;case L.ZodPromise:return E2(r,a);case L.ZodNaN:case L.ZodNever:return p2();case L.ZodEffects:return i2(r,a);case L.ZodAny:return WE();case L.ZodUnknown:return C2();case L.ZodDefault:return s2(r,a);case L.ZodBranded:return vb(r,a);case L.ZodReadonly:return O2(r,a);case L.ZodCatch:return a2(r,a);case L.ZodPipeline:return A2(r,a);case L.ZodFunction:case L.ZodVoid:case L.ZodSymbol:return;default:return(s=>{})()}};function ke(r,t,a=!1){var h;const s=t.seen.get(r);if(t.override){const p=(h=t.override)==null?void 0:h.call(t,r,t,s,a);if(p!==KE)return p}if(s&&!a){const p=k2(s,t);if(p!==void 0)return p}const u={def:r,path:t.currentPath,jsonSchema:void 0};t.seen.set(r,u);const o=j2(r,r.typeName,t),d=typeof o=="function"?ke(o(),t):o;if(d&&D2(r,t,d),t.postProcess){const p=t.postProcess(d,r,t);return u.jsonSchema=d,p}return u.jsonSchema=d,d}const k2=(r,t)=>{switch(t.$refStrategy){case"root":return{$ref:r.path.join("/")};case"relative":return{$ref:M2(t.currentPath,r.path)};case"none":case"seen":return r.path.length<t.currentPath.length&&r.path.every((a,s)=>t.currentPath[s]===a)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},M2=(r,t)=>{let a=0;for(;a<r.length&&a<t.length&&r[a]===t[a];a++);return[(r.length-a).toString(),...t.slice(a)].join("/")},D2=(r,t,a)=>(r.description&&(a.description=r.description,t.markdownDescription&&(a.markdownDescription=r.description)),a),z2=(r,t)=>{const a=JE(t),s=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((p,[m,b])=>({...p,[m]:ke(b._def,{...a,currentPath:[...a.basePath,a.definitionPath,m]},!0)??{}}),{}):void 0,u=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,o=ke(r._def,u===void 0?a:{...a,currentPath:[...a.basePath,a.definitionPath,u]},!1)??{},d=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;d!==void 0&&(o.title=d);const h=u===void 0?s?{...o,[a.definitionPath]:s}:o:{$ref:[...a.$refStrategy==="relative"?[]:a.basePath,a.definitionPath,u].join("/"),[a.definitionPath]:{...s,[u]:o}};return a.target==="jsonSchema7"?h.$schema="http://json-schema.org/draft-07/schema#":(a.target==="jsonSchema2019-09"||a.target==="openAi")&&(h.$schema="https://json-schema.org/draft/2019-09/schema#"),a.target==="openAi"&&("anyOf"in h||"oneOf"in h||"allOf"in h||"type"in h&&Array.isArray(h.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),h},jd=Cn.object({text:Cn.string().describe("A verbatim, HTML representation of the page, including captions/descriptions of images"),page:Cn.string().optional().describe("The page number, if available"),chapter_name:Cn.string().optional().describe("The chapter name, if available"),title:Cn.string().optional().describe("The book title, if available"),figures:Cn.array(Cn.object({number:Cn.string().optional().describe("Figure number if available"),description:Cn.string().describe("Detailed description of the figure content")})).optional().describe("Descriptions of any figures on the page"),error:Cn.boolean().optional().describe("Flag to indicate if there was an error extracting text from the image")}),U2=z2(jd,{target:"openApi3"});function L2(r){const t=[],a=r.matchAll(/Figure (\d+)(?:[.:])?\s*(.*?)(?:\n\n|\n(?=Figure)|\n$)/gis);for(const s of a)s&&s[2]&&t.push({number:s[1],description:s[2].trim()});return t}async function B2(r,t){var a;try{let s="gpt-4";const u="2024-10-21",o=new JS({apiKey:t.apiKey,endpoint:t.endpoint,deployment:s,apiVersion:u,dangerouslyAllowBrowser:!0});console.log("Using Azure OpenAI client with endpoint:",t.endpoint);try{const h=(a=(await o.beta.chat.completions.parse({model:s,messages:[{role:"system",content:`You are a skilled assistant that analyzes images of textbook pages. 
                        Extract all text content from the page verbatim, and provide any metadata available such as page numbers, 
                        chapter names, and book titles. Also identify and describe all figures, tables, and images on the page.
                        If you cannot extract meaningful text from the image, set the error flag to true.`},{role:"user",content:[{type:"text",text:"Please analyze this textbook page and provide the information in the structured format."},{type:"image_url",image_url:{url:`data:image/jpeg;base64,${r}`}}]}],temperature:0,max_tokens:16384,response_format:IE(jd,"textbookPage")})).choices[0])==null?void 0:a.message;if(!h)throw new Error("Invalid response from Azure OpenAI API");if(h.parsed){const p=h.parsed,m=!p.text||p.text.trim().length===0;return{text:p.text,metadata:{pageNumber:p.page,chapter:p.chapter_name,bookTitle:p.title,figures:p.figures||[],error:p.error===!0||m}}}else{if(h.refusal)throw console.warn("The model refused to process the request:",h.refusal),new Error(`The model refused to process the request: ${h.refusal}`);if(console.warn("No parsed data available from the response"),h.content)return ld(h.content);throw new Error("No usable content received from Azure OpenAI API")}}catch(d){console.error("Error with beta structured output:",d),console.log("Falling back to legacy approach...");const h=await o.chat.completions.create({model:s,messages:[{role:"system",content:`You are a skilled assistant that analyzes images of textbook pages. 
                        Extract the following information in a structured format following this JSON schema:
                        ${JSON.stringify(U2,null,2)}
                        
                        Always provide output exactly according to this schema.
                        If you cannot extract meaningful text from the image, set the error flag to true.`},{role:"user",content:[{type:"text",text:"Please analyze this textbook page and provide the information in the structured format."},{type:"image_url",image_url:{url:`data:image/jpeg;base64,${r}`}}]}],temperature:0,max_tokens:16384,response_format:{type:"json_object"}});if(!h||!h.choices||!h.choices[0]||!h.choices[0].message)throw new Error("Invalid response format from Azure OpenAI API");const p=h.choices[0].message.content||"";if(!p)throw new Error("No content received from Azure OpenAI API");try{const m=JSON.parse(p),b=jd.safeParse(m);if(!b.success)return console.warn("Response didn't match expected schema:",b.error),ld(p);const _=b.data,w=!_.text||_.text.trim().length===0;return{text:_.text,metadata:{pageNumber:_.page,chapter:_.chapter_name,bookTitle:_.title,figures:_.figures||[],rawContent:p,error:_.error===!0||w}}}catch(m){return console.error("Error parsing structured output:",m),ld(p)}}}catch(s){throw console.warn("Failed to analyze image:",s),s}}function ld(r){const t=r.match(/Page (\d+)/i)||r.match(/p\. (\d+)/i),a=r.match(/Chapter (\d+|[IVX]+)/i),s=r.match(/Title: (.*?)(?:\n|$)/i)||r.match(/Book: (.*?)(?:\n|$)/i),u=L2(r),o=!r||r.trim().length<10;return{text:r,metadata:{pageNumber:t?t[1]:void 0,chapter:a?a[1]:void 0,bookTitle:s?s[1]:void 0,figures:u.length>0?u:void 0,rawContent:r,error:o}}}async function Z2(r){try{const t=atob(r),a=JSON.parse(t);if(!a.endpoint||!a.apiKey)throw new Error("Invalid connection key format: missing endpoint or apiKey");return console.log("Decoded connection key successfully"),a}catch(t){throw console.error("Failed to decode connection key:",t),new Error("Failed to decode connection key. Please check the format.")}}const kd=(r,t)=>t.some(a=>r instanceof a);let bv,_v;function P2(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $2(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Md=new WeakMap,ud=new WeakMap,_c=new WeakMap;function H2(r){const t=new Promise((a,s)=>{const u=()=>{r.removeEventListener("success",o),r.removeEventListener("error",d)},o=()=>{a(dr(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",o),r.addEventListener("error",d)});return _c.set(t,r),t}function q2(r){if(Md.has(r))return;const t=new Promise((a,s)=>{const u=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",d),r.removeEventListener("abort",d)},o=()=>{a(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",o),r.addEventListener("error",d),r.addEventListener("abort",d)});Md.set(r,t)}let Dd={get(r,t,a){if(r instanceof IDBTransaction){if(t==="done")return Md.get(r);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return dr(r[t])},set(r,t,a){return r[t]=a,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function wb(r){Dd=r(Dd)}function V2(r){return $2().includes(r)?function(...t){return r.apply(zd(this),t),dr(this.request)}:function(...t){return dr(r.apply(zd(this),t))}}function Y2(r){return typeof r=="function"?V2(r):(r instanceof IDBTransaction&&q2(r),kd(r,P2())?new Proxy(r,Dd):r)}function dr(r){if(r instanceof IDBRequest)return H2(r);if(ud.has(r))return ud.get(r);const t=Y2(r);return t!==r&&(ud.set(r,t),_c.set(t,r)),t}const zd=r=>_c.get(r);function G2(r,t,{blocked:a,upgrade:s,blocking:u,terminated:o}={}){const d=indexedDB.open(r,t),h=dr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(dr(d.result),p.oldVersion,p.newVersion,dr(d.transaction),p)}),a&&d.addEventListener("blocked",p=>a(p.oldVersion,p.newVersion,p)),h.then(p=>{o&&p.addEventListener("close",()=>o()),u&&p.addEventListener("versionchange",m=>u(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const X2=["get","getKey","getAll","getAllKeys","count"],Q2=["put","add","delete","clear"],cd=new Map;function xv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(cd.get(t))return cd.get(t);const a=t.replace(/FromIndex$/,""),s=t!==a,u=Q2.includes(a);if(!(a in(s?IDBIndex:IDBObjectStore).prototype)||!(u||X2.includes(a)))return;const o=async function(d,...h){const p=this.transaction(d,u?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[a](...h),u&&p.done]))[0]};return cd.set(t,o),o}wb(r=>({...r,get:(t,a,s)=>xv(t,a)||r.get(t,a,s),has:(t,a)=>!!xv(t,a)||r.has(t,a)}));const I2=["continue","continuePrimaryKey","advance"],wv={},Ud=new WeakMap,Sb=new WeakMap,K2={get(r,t){if(!I2.includes(t))return r[t];let a=wv[t];return a||(a=wv[t]=function(...s){Ud.set(this,Sb.get(this)[t](...s))}),a}};async function*F2(...r){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...r)),!t)return;t=t;const a=new Proxy(t,K2);for(Sb.set(a,t),_c.set(a,zd(t));t;)yield a,t=await(Ud.get(a)||t.continue()),Ud.delete(a)}function Sv(r,t){return t===Symbol.asyncIterator&&kd(r,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&kd(r,[IDBIndex,IDBObjectStore])}wb(r=>({...r,get(t,a,s){return Sv(t,a)?F2:r.get(t,a,s)},has(t,a){return Sv(t,a)||r.has(t,a)}}));const J2="ascension-db",W2=2;async function eN(){return G2(J2,W2,{upgrade(r,t){t<1&&(r.createObjectStore("series",{keyPath:"id"}).createIndex("by-date","createdAt"),r.createObjectStore("settings",{keyPath:"id"})),t<2&&console.log("Upgrading database to version 2: Adding flashcards support")}})}let od;function vr(){return od||(od=eN()),od}async function xc(r){await(await vr()).put("series",r)}async function Ab(){return(await vr()).getAllFromIndex("series","by-date")}async function Eb(r){return(await vr()).get("series",r)}async function Nb(r){await(await vr()).delete("series",r)}async function ac(r){await(await vr()).put("settings",{id:"connection",connectionKey:r})}async function Nh(){const t=await(await vr()).get("settings","connection");return t==null?void 0:t.connectionKey}async function Tb(){try{return await vr(),!1}catch{return!0}}const tN=Object.freeze(Object.defineProperty({__proto__:null,deleteSeries:Nb,getAllSeries:Ab,getConnectionKey:Nh,getSeries:Eb,isPrivateMode:Tb,saveConnectionKey:ac,saveSeries:xc},Symbol.toStringTag,{value:"Module"})),Rb=S.createContext({endpoint:null,apiKey:null,isLoading:!0,error:null});function nN({children:r}){const[t,a]=S.useState(null),[s,u]=S.useState(null),[o,d]=S.useState(!0),[h,p]=S.useState(null);return S.useEffect(()=>{async function m(){try{const b=await Nh();if(b){const _=await Z2(b);a(_.endpoint),u(_.apiKey)}else p("Connection key not found")}catch(b){p("Failed to decode connection key"),console.error("Error loading Azure credentials:",b)}finally{d(!1)}}m()},[]),y.jsx(Rb.Provider,{value:{endpoint:t,apiKey:s,isLoading:o,error:h},children:r})}function Th(){return S.useContext(Rb)}const Cb=S.createContext({draft:null,initializeDraft:()=>{},addPage:()=>"",updatePage:()=>{},removePage:()=>{},setSeriesName:()=>{},clearDraft:()=>{}});function aN({children:r}){const[t,a]=S.useState(null),s=S.useCallback(()=>{a({pages:[]})},[]),u=S.useCallback(m=>{const b=qd();return a(_=>_?{..._,pages:[..._.pages,{...m,id:b}]}:{pages:[{...m,id:b}]}),b},[]),o=S.useCallback((m,b)=>{console.log("Updating page:",m,"with data:",b),a(_=>_?_.pages.some(N=>N.id===m)?{..._,pages:_.pages.map(N=>{if(N.id===m){const z={...N,...b};return console.log("Page updated from:",N,"to:",z),z}return N})}:(console.error(`Cannot update page: page with ID ${m} not found`),console.log("Available pages:",_.pages.map(N=>N.id)),_):(console.error("Cannot update page: draft is null"),null))},[]),d=S.useCallback(m=>{a(b=>b?{...b,pages:b.pages.filter(_=>_.id!==m)}:null)},[]),h=S.useCallback(m=>{a(b=>b?{...b,name:m}:null)},[]),p=S.useCallback(()=>{a(null)},[]);return y.jsx(Cb.Provider,{value:{draft:t,initializeDraft:s,addPage:u,updatePage:o,removePage:d,setSeriesName:h,clearDraft:p},children:r})}function Rh(){return S.useContext(Cb)}class rN{constructor(){sr(this,"processingQueue",[]);sr(this,"isProcessing",!1);sr(this,"maxConcurrent",2);sr(this,"maxRetries",3);sr(this,"currentlyProcessing",0)}enqueue(t,a,s,u,o,d){const h={id:t,imageData:a,retries:0,config:s,onComplete:u,onError:o,onStatusChange:d,status:"queued"};this.processingQueue.push(h),this.isProcessing||this.processQueue()}getStatus(){const t={queued:0,processing:0,completed:0,error:0};for(const a of this.processingQueue)a.status==="queued"&&t.queued++,a.status==="processing"&&t.processing++,a.status==="complete"&&t.completed++,a.status==="error"&&t.error++;return{...t,total:this.processingQueue.length}}retry(t){const a=this.processingQueue.findIndex(u=>u.id===t&&u.status==="error");if(a===-1)return!1;const s=this.processingQueue[a];return s.status="queued",s.onStatusChange&&s.onStatusChange(s.id,"queued"),s.retries=0,s.error=void 0,this.isProcessing||this.processQueue(),!0}clearCompleted(){this.processingQueue=this.processingQueue.filter(t=>t.status!=="complete")}async processQueue(){if(this.currentlyProcessing>=this.maxConcurrent)return;this.isProcessing=!0;const t=this.processingQueue.findIndex(s=>s.status==="queued");if(t===-1){this.currentlyProcessing===0&&(this.isProcessing=!1);return}const a=this.processingQueue[t];a.status="processing",a.onStatusChange&&a.onStatusChange(a.id,"processing"),this.currentlyProcessing++;try{const s=await B2(a.imageData,a.config),u=[];if(s.metadata&&s.metadata.figures){const o=s.metadata.figures;for(const d of o)d.description&&u.push(d.description)}a.status="complete",a.onStatusChange&&a.onStatusChange(a.id,"complete"),a.onComplete({id:a.id,text:s.text,imageDescriptions:u,meta:s.metadata||{}})}catch(s){console.error("Image processing error:",s);const u=s instanceof Error?s.message:"Unknown error";if(a.retries<this.maxRetries){a.retries++,a.status="queued",a.onStatusChange&&a.onStatusChange(a.id,"queued"),a.error=`Error: ${u}. Retry ${a.retries} of ${this.maxRetries}.`;const o=Math.pow(2,a.retries)*1e3;setTimeout(()=>{this.processQueue()},o)}else a.status="error",a.error=`Failed after ${this.maxRetries} attempts: ${u}`,a.onStatusChange&&a.onStatusChange(a.id,"error"),s instanceof Error?a.onError(s,a.id):a.onError(new Error(u),a.id)}finally{this.currentlyProcessing--,this.processQueue()}}}const Ch=new rN;function sN({onCapture:r,onError:t}){const a=S.useRef(null),s=S.useRef(null),[u,o]=S.useState(null),[d,h]=S.useState("environment"),[p,m]=S.useState("prompt"),[b,_]=S.useState(!1);S.useEffect(()=>{async function z(){try{u&&u.getTracks().forEach(U=>U.stop());const R=await navigator.mediaDevices.getUserMedia({video:{facingMode:d,width:{ideal:1920},height:{ideal:1080}},audio:!1});o(R),m("granted"),a.current&&(a.current.srcObject=R)}catch(R){m("denied"),t(R instanceof Error?R:new Error("Failed to access camera"))}}return z(),()=>{u&&u.getTracks().forEach(R=>R.stop())}},[d,t]);const w=S.useCallback(()=>{h(z=>z==="user"?"environment":"user")},[]),O=S.useCallback(async()=>{if(u)try{const z=u.getVideoTracks()[0];if(!z.getCapabilities().torch){console.log("Flashlight not supported on this device");return}const U=!b;await z.applyConstraints({advanced:[{torch:U}]}),_(U)}catch(z){console.error("Error toggling flashlight:",z)}},[u,b]),N=S.useCallback(()=>{if(!a.current||!s.current)return;const z=a.current,R=s.current;R.width=z.videoWidth,R.height=z.videoHeight;const U=R.getContext("2d");if(U){U.drawImage(z,0,0);try{const C=R.toDataURL("image/jpeg",.95).split(",")[1];r(C)}catch(C){t(C instanceof Error?C:new Error("Failed to capture image"))}}},[r,t]);return y.jsxs("div",{className:"camera-container w-full",children:[y.jsxs("div",{className:"relative rounded-lg overflow-hidden shadow-lg bg-gray-900",style:{height:"70vh",minHeight:"400px",position:"relative"},children:[y.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",style:{transform:d==="user"?"scaleX(-1)":"none"}}),"            ","                ",y.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex justify-center items-center space-x-8 py-6 px-4 bg-black bg-opacity-40 z-50",children:[y.jsx("button",{onClick:w,className:"flex items-center justify-center p-5 bg-blue-600 rounded-full hover:bg-blue-700 shadow-lg border-2 border-white transition-transform hover:scale-105 w-16 h-16 min-w-16 min-h-16","aria-label":"Switch camera",style:{boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),"                    ",y.jsx("button",{onClick:N,className:"flex items-center justify-center p-3 bg-white rounded-full hover:bg-gray-100 shadow-lg transform transition-transform hover:scale-105 w-28 h-28","aria-label":"Take photo",style:{boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:y.jsx("div",{className:"h-20 w-20 rounded-full border-4 border-gray-800 flex items-center justify-center",children:y.jsx("div",{className:"h-16 w-16 rounded-full bg-red-600"})})}),"                    ",y.jsx("button",{onClick:O,className:`flex items-center justify-center p-5 rounded-full shadow-lg transition-all hover:scale-105 border-2 border-white w-16 h-16 min-w-16 min-h-16 ${b?"bg-yellow-400 text-black":"bg-gray-800 text-white"}`,"aria-label":"Toggle flashlight",style:{boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})]})]}),p==="denied"&&y.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-md",children:[y.jsx("p",{className:"font-medium mb-2",children:"Camera Access Denied"}),y.jsx("p",{className:"mb-4",children:"Please allow camera access to use this feature."})]}),y.jsx("canvas",{ref:s,className:"hidden"})]})}function iN(){const{draft:r}=Rh(),[t,a]=S.useState({queued:0,processing:0,completed:0,error:0,total:0});return S.useEffect(()=>{const s=setInterval(()=>{a(Ch.getStatus())},1e3);return()=>clearInterval(s)},[]),!r||t.queued===0&&t.processing===0&&t.error===0?null:y.jsxs("div",{className:"fixed top-4 right-4 bg-gray-800 text-white p-3 rounded-lg shadow-lg max-w-xs opacity-80",children:[y.jsx("h4",{className:"font-medium text-sm mb-1",children:"Processing Status"}),y.jsxs("div",{className:"space-y-1 text-xs",children:[t.processing>0&&y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-t-2 border-b-2 border-blue-400 mr-2"}),y.jsxs("span",{children:["Processing: ",t.processing]})]}),t.queued>0&&y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full mr-2"}),y.jsxs("span",{children:["Queued: ",t.queued]})]}),t.completed>0&&y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full mr-2"}),y.jsxs("span",{children:["Completed: ",t.completed]})]}),t.error>0&&y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full mr-2"}),y.jsxs("span",{children:["Failed: ",t.error]})]})]}),t.processing>0||t.queued>0?y.jsx("p",{className:"text-xs mt-2 text-gray-300",children:"Processing images in the background. You can continue capturing more pages."}):null]})}function lN(){const r=sc(),[t,a]=S.useState("camera"),[s,u]=S.useState(null),[o,d]=S.useState(""),{draft:h,initializeDraft:p,addPage:m,updatePage:b}=Rh(),{endpoint:_,apiKey:w}=Th();S.useEffect(()=>{h||p()},[h,p]);const O=S.useCallback(C=>{u(C),a("preview")},[]),N=S.useCallback(()=>{u(null),a("camera")},[]),z=S.useCallback(C=>{d(`Camera error: ${C.message}`),a("error")},[]),R=S.useCallback(()=>{if(!s||!_||!w){d("Missing image data or Azure configuration"),a("error");return}const C=atob(s),Z=new Array(C.length);for(let V=0;V<C.length;V++)Z[V]=C.charCodeAt(V);const G=new Uint8Array(Z),Q=new Blob([G],{type:"image/jpeg"}),ie=qd(),W=m({imageBlob:Q,text:"",imageDescriptions:[],meta:{},status:"queued"});console.log("Added page with ID:",W,"Generated ID was:",ie);const we={endpoint:_,apiKey:w};Ch.enqueue(W,s,we,V=>{console.log("Page processed successfully:",V),b(W,{text:V.text,imageDescriptions:V.imageDescriptions,meta:V.meta,status:"complete"})},(V,le)=>{console.error("Error processing page:",V),b(le,{error:V.message,status:"error"})},(V,le)=>{console.log(`Status change for page ${V}: ${le}`),b(W,{status:le})}),u(null),a("camera")},[s,_,w,m,b]),U=S.useCallback(()=>{r("/review")},[r]);return y.jsxs("div",{className:"max-w-2xl mx-auto w-full px-2",children:[y.jsx(iN,{}),t==="camera"&&y.jsx("div",{className:"w-full",children:y.jsx(sN,{onCapture:O,onError:z})}),t==="preview"&&s&&y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-lg bg-gray-900 w-full",children:y.jsx("img",{src:`data:image/jpeg;base64,${s}`,alt:"Captured",className:"w-full object-contain"})}),y.jsxs("div",{className:"flex space-x-4",children:["                        ",y.jsx("button",{onClick:N,className:"flex-1 py-2 px-4 bg-gray-200 rounded-md hover:bg-gray-300",children:"Retake"}),y.jsx("button",{onClick:R,className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Use Photo"})]})]}),t==="processing"&&y.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[y.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary mb-4"}),y.jsx("p",{children:"Processing image with Azure GPT-4o..."})]}),t==="error"&&y.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-md",children:[y.jsx("p",{className:"font-medium mb-2",children:"Error"}),y.jsx("p",{className:"mb-4",children:o}),y.jsxs("div",{className:"mb-4",children:[y.jsx("p",{className:"text-sm text-gray-600 mb-2",children:y.jsx("strong",{children:"Troubleshooting:"})}),y.jsxs("ul",{className:"text-sm list-disc pl-5 text-gray-600",children:[y.jsx("li",{children:"Check if the connection key is valid"}),y.jsx("li",{children:"Verify the Azure OpenAI service is properly configured"}),y.jsx("li",{children:"Make sure your Azure OpenAI service has the GPT-4 model deployed"})]})]}),y.jsx("button",{onClick:()=>a("camera"),className:"py-2 px-4 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]}),h&&h.pages.length>0&&t!=="processing"&&y.jsx("div",{className:"mt-8 flex space-x-4",children:y.jsxs("button",{onClick:U,className:"flex-1 py-3 px-4 bg-green-600 text-white rounded-md hover:bg-green-700",children:["Finish Series (",h.pages.length," ",h.pages.length===1?"page":"pages",")"]})})]})}function uN(){const[r,t]=S.useState([]),[a,s]=S.useState(!0),[u,o]=S.useState(null),d=S.useCallback(async()=>{s(!0),o(null);try{const p=await Ab();p.sort((m,b)=>new Date(b.createdAt).getTime()-new Date(m.createdAt).getTime()),t(p)}catch(p){o("Failed to load your series. Please try again."),console.error("Error loading series:",p)}finally{s(!1)}},[]);S.useEffect(()=>{d()},[d]);const h=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return y.jsxs("div",{className:"pb-20",children:[" ",y.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-6",children:"Your Series"}),a&&y.jsx("div",{className:"flex justify-center my-12",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}),u&&y.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:[y.jsx("p",{children:u}),y.jsx("button",{onClick:d,className:"mt-2 text-sm font-medium text-red-700 underline",children:"Try Again"})]}),!a&&r.length===0&&!u&&y.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 px-4 py-8 rounded-md text-center",children:[y.jsx("p",{className:"mb-4",children:"You don't have any series yet."}),y.jsx("p",{children:'Tap the "New Series" button below to get started!'})]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(p=>y.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:y.jsxs(qu,{to:`/series/${p.id}`,className:"block",children:[y.jsx("div",{className:"aspect-[4/3] bg-gray-200 relative",children:p.pages.length>0&&p.pages[0].imageBlob&&y.jsx("img",{src:URL.createObjectURL(p.pages[0].imageBlob),alt:`First page of ${p.name}`,className:"w-full h-full object-cover",onLoad:m=>{const b=m.target;setTimeout(()=>{b.src.startsWith("blob:")&&URL.revokeObjectURL(b.src)},1e3)}})}),y.jsxs("div",{className:"p-4",children:["                                ",y.jsx("h3",{className:"font-semibold text-lg mb-1 truncate",children:p.name}),y.jsxs("div",{className:"text-sm text-gray-500",children:[y.jsxs("div",{className:"flex justify-between mb-1",children:[y.jsxs("span",{children:[p.pages.length," ",p.pages.length===1?"page":"pages"]}),y.jsx("span",{children:h(p.createdAt)})]}),p.flashcards&&p.flashcards.length>0&&y.jsxs("div",{className:"text-primary-600 font-medium",children:[p.flashcards.length," flash card",p.flashcards.length!==1?"s":""]})]})]})]})},p.id))}),"            ",y.jsxs(qu,{to:"/capture",className:"fixed right-6 bottom-6 sm:right-8 sm:bottom-8 bg-primary text-white rounded-full shadow-xl p-5 sm:p-6 flex items-center justify-center hover:bg-primary-dark focus:outline-none focus:ring-3 focus:ring-primary focus:ring-offset-2 transition-transform hover:scale-105",style:{minWidth:"60px",minHeight:"60px"},"aria-label":"Create new series",children:[y.jsx("span",{className:"text-3xl",children:""}),y.jsx("span",{className:"ml-3 hidden sm:inline text-lg font-medium",children:"New Series"})]})]})}const kn=new Map;async function cN(r,t,a,s,u,o){if(kn.has(r.id)){const d=kn.get(r.id);d==null||d.terminate(),kn.delete(r.id)}try{const d=new Worker(new URL("/ursa-minor-ascension/assets/flashCardWorker-CGX__ywy.js",import.meta.url),{type:"module"});console.log("Worker created successfully"),kn.set(r.id,d),d.onmessage=p=>{var b;const m=p.data;switch(console.log("Worker response received:",m),m.type){case"status":m.status&&(console.log("Status update:",m.status),s(m.status));break;case"complete":console.log("Generation complete, received cards:",(b=m.flashcards)==null?void 0:b.length),m.flashcards&&(u(m.flashcards),d.terminate(),kn.delete(r.id));break;case"error":o(m.error||"Unknown error occurred"),d.terminate(),kn.delete(r.id);break}},d.onerror=p=>{console.error("Worker error:",p),o(`Worker error: ${p.message||"Unknown worker error"}`),d.terminate(),kn.delete(r.id)};const h={type:"generate",series:r,config:t,request:a};console.log("Sending message to worker:",h.type),d.postMessage(h),console.log("Message sent to worker")}catch(d){o(d instanceof Error?d.message:"Failed to start flash card generation")}}async function oN(r,t,a){const{getSeries:s}=await Av(async()=>{const{getSeries:d}=await Promise.resolve().then(()=>tN);return{getSeries:d}},[]),u=await s(r);if(!u)throw new Error("Series not found");const o={...u,flashcards:t,flashcardStatus:a};return await xc(o),o}function fN(r){if(kn.has(r)){const t=kn.get(r);t==null||t.terminate(),kn.delete(r),console.log(`Canceled flash card generation for series ${r}`)}}function dN({series:r,status:t,onStartGeneration:a,onCancel:s}){const[u,o]=S.useState(10),[d,h]=S.useState(null),[p,m]=S.useState(!1),[b,_]=S.useState(!1);S.useEffect(()=>{h(null),m(!1),_(!1)},[r.id]),S.useEffect(()=>{let N=null;return t.status==="estimating"&&!b&&(N=setTimeout(()=>{console.log("Estimation timeout reached"),_(!0);const z=Math.min(Math.max(r.pages.length*4,5),50);h(z),m(!0)},1e4)),()=>{N&&clearTimeout(N)}},[t.status,b,r.pages.length]),S.useEffect(()=>{t.estimatedCount!==void 0&&t.estimatedCount!==null&&(h(t.estimatedCount),m(!0))},[t.estimatedCount]);const w=S.useCallback(N=>{const z=parseInt(N.target.value,10);!isNaN(z)&&z>=5&&z<=50&&o(z)},[]),O=S.useCallback(N=>{N.preventDefault(),a(u)},[u,a]);if(t.status==="error")return y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:y.jsxs("div",{className:"flex",children:[y.jsx("div",{className:"flex-shrink-0",children:y.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),y.jsxs("div",{className:"ml-3",children:[y.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Flash Card Generation Failed"}),y.jsx("div",{className:"mt-2 text-sm text-red-700",children:y.jsx("p",{children:t.error||"An unknown error occurred"})})]})]})}),y.jsx("button",{onClick:()=>a(u),className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Try Again"})]});if(t.status==="generating"){const N=t.progress&&t.total?Math.round(t.progress/t.total*100):0;return y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Generating Flash Cards"}),y.jsxs("div",{className:"mb-4",children:[y.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:y.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-in-out",style:{width:`${N}%`}})}),y.jsx("p",{className:"text-sm text-gray-600 mt-2",children:t.progress!==void 0&&t.total!==void 0?`${t.progress} of ${t.total} steps complete (${N}%)`:"Processing..."})]}),y.jsx("button",{onClick:s,className:"py-2 px-4 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})}return y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Generate Flash Cards"}),y.jsxs("div",{className:"mb-6",children:[y.jsx("p",{className:"text-gray-600 mb-2",children:"Create flash cards from your series content to help with studying and retention."}),t.status==="estimating"&&!b?y.jsxs("div",{className:"flex items-center mt-4 text-gray-600",children:[y.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full"}),y.jsx("p",{children:"Estimating optimal number of flash cards..."})]}):p&&d!==null?y.jsx("div",{className:"mt-4 bg-blue-50 border-l-4 border-blue-400 p-3",children:y.jsxs("p",{className:"text-blue-700",children:["Based on your content, we recommend generating approximately ",d," flash cards."]})}):null]}),y.jsxs("form",{onSubmit:O,children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"cardCount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Flash Cards"}),y.jsx("input",{type:"range",id:"cardCount",min:"5",max:"50",step:"1",value:u,onChange:w,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),y.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[y.jsx("span",{children:"5"}),y.jsx("span",{children:u}),y.jsx("span",{children:"50"})]})]}),y.jsxs("button",{type:"submit",className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex justify-center items-center",children:["Generate ",u," Flash Cards"]})]})]})}function hN({card:r,series:t,isSelected:a,onClick:s,onDelete:u}){const[o,d]=S.useState(!1),[h,p]=S.useState(!1),[m,b]=S.useState(r.question),[_,w]=S.useState(r.answer),O=r.sourcePages.map(R=>{const U=t.pages.find(C=>C.id===R);return(U==null?void 0:U.meta.pageNumber)||"unknown"}),N=()=>{switch(r.difficulty){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},z=()=>{p(!1)};return h?y.jsx("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border-2 ${a?"border-primary":"border-transparent"}`,children:y.jsxs("div",{className:"p-4",children:[y.jsxs("div",{className:"mb-3",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question"}),y.jsx("textarea",{value:m,onChange:R=>b(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:2})]}),y.jsxs("div",{className:"mb-3",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer"}),y.jsx("textarea",{value:_,onChange:R=>w(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3})]}),y.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[y.jsx("button",{onClick:()=>p(!1),className:"py-1 px-3 border border-gray-300 rounded-md",children:"Cancel"}),y.jsx("button",{onClick:z,className:"py-1 px-3 bg-primary text-white rounded-md",children:"Save"})]})]})}):y.jsx("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border-2 ${a?"border-primary":"border-transparent"}`,onClick:s,children:y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:`transition-all duration-500 ${o?"rotateY-180 opacity-0 h-0 overflow-hidden":"rotateY-0 opacity-100"}`,children:y.jsxs("div",{className:"p-4",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${N()}`,children:r.difficulty}),y.jsxs("div",{className:"flex space-x-1",children:[y.jsx("button",{onClick:R=>{R.stopPropagation(),p(!0)},className:"text-gray-400 hover:text-gray-600 p-1",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),y.jsx("button",{onClick:R=>{R.stopPropagation(),u()},className:"text-gray-400 hover:text-red-600 p-1",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),y.jsx("p",{className:"text-gray-800 font-medium",dangerouslySetInnerHTML:{__html:r.question}}),y.jsx("button",{onClick:R=>{R.stopPropagation(),d(!o)},className:"mt-4 text-primary text-sm hover:underline",children:"Show Answer"})]})}),y.jsx("div",{className:`transition-all duration-500 ${o?"rotateY-0 opacity-100":"rotateY-180 opacity-0 h-0 overflow-hidden"}`,children:y.jsxs("div",{className:"p-4",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${N()}`,children:r.difficulty}),y.jsxs("div",{className:"flex space-x-1",children:[y.jsx("button",{onClick:R=>{R.stopPropagation(),p(!0)},className:"text-gray-400 hover:text-gray-600 p-1",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),y.jsx("button",{onClick:R=>{R.stopPropagation(),u()},className:"text-gray-400 hover:text-red-600 p-1",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),y.jsx("p",{className:"text-gray-800",dangerouslySetInnerHTML:{__html:r.answer}}),y.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:O.map((R,U)=>y.jsxs("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:["Page ",R]},U))}),y.jsx("button",{onClick:R=>{R.stopPropagation(),d(!o)},className:"mt-4 text-primary text-sm hover:underline",children:"Show Question"})]})})]})})}function mN({series:r,onSeriesUpdate:t}){const{endpoint:a,apiKey:s}=Th(),[u,o]=S.useState(null),[d,h]=S.useState("all"),[p,m]=S.useState("all"),[b,_]=S.useState(r.flashcardStatus||{status:"idle"}),w=r.pages.filter(C=>C.meta.pageNumber!==void 0).map(C=>({id:C.id,label:`Page ${C.meta.pageNumber}`})).reduce((C,Z)=>(C.find(G=>G.label===Z.label)||C.push(Z),C),[]);S.useEffect(()=>{o(null)},[d,p]);const O=(r.flashcards||[]).filter(C=>d!=="all"&&C.difficulty!==d?!1:p!=="all"?C.sourcePages.includes(p):!0),N=S.useCallback(async C=>{try{const Z=await oN(r.id,C,{status:"complete"});t(Z),_({status:"complete"})}catch(Z){console.error("Failed to update series with flash cards:",Z),_({status:"error",error:Z instanceof Error?Z.message:"Failed to save flash cards"})}},[r.id,t]),z=S.useCallback(C=>{_({status:"error",error:C})},[]),R=S.useCallback(async C=>{if(!a||!s){console.error("Cannot generate flash cards: Azure configuration is missing"),_({status:"error",error:"Azure configuration is missing. Please configure your Azure OpenAI settings."});return}try{console.log("Starting flash card generation with count:",C),_({status:"generating",progress:0,total:1}),t({...r,flashcardStatus:{status:"generating",progress:0,total:1}}),await cN(r,{endpoint:a,apiKey:s},{count:C,difficulty:"mixed"},G=>{console.log("Flash card generation status update:",G),_(G),t({...r,flashcardStatus:G})},N,z)}catch(Z){console.error("Error starting flash card generation:",Z),_({status:"error",error:Z instanceof Error?Z.message:"Failed to start generation"})}},[a,s,r,t,N,z]),U=S.useCallback(()=>{fN(r.id),_({status:"idle"})},[r.id]);return!r.flashcards||r.flashcards.length===0?y.jsx(y.Fragment,{children:y.jsx(dN,{series:r,status:b,onStartGeneration:R,onCancel:U})}):y.jsxs("div",{className:"mt-8",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("h3",{className:"text-xl font-semibold",children:["Flash Cards (",r.flashcards.length,")"]}),"                ",y.jsx("button",{onClick:()=>R(10),className:"py-2 px-4 bg-blue-500 text-white rounded-md",children:"Regenerate Cards"})]}),y.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),y.jsxs("select",{value:d,onChange:C=>h(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[y.jsx("option",{value:"all",children:"All Difficulties"}),y.jsx("option",{value:"easy",children:"Easy"}),y.jsx("option",{value:"medium",children:"Medium"}),y.jsx("option",{value:"hard",children:"Hard"})]})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source Page"}),y.jsxs("select",{value:p,onChange:C=>m(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[y.jsx("option",{value:"all",children:"All Pages"}),w.map(C=>y.jsx("option",{value:C.id,children:C.label},C.id))]})]})]}),y.jsx("div",{className:"space-y-4",children:O.length>0?O.map(C=>y.jsx(hN,{card:C,series:r,isSelected:u===C.id,onClick:()=>o(u===C.id?null:C.id),onDelete:()=>{var G;const Z=((G=r.flashcards)==null?void 0:G.filter(Q=>Q.id!==C.id))||[];t({...r,flashcards:Z})}},C.id)):y.jsx("div",{className:"bg-gray-50 p-6 rounded-lg text-center text-gray-500",children:"No flash cards match the selected filters"})})]})}function pN(){const{seriesId:r}=V1(),t=sc(),[a,s]=S.useState(null),[u,o]=S.useState(!0),[d,h]=S.useState(null),[p,m]=S.useState(!1),[b,_]=S.useState(0);S.useEffect(()=>{async function U(){if(!r){h("No series ID provided"),o(!1);return}try{const C=await Eb(r);C?s(C):h("Series not found")}catch(C){h("Failed to load series"),console.error("Error loading series:",C)}finally{o(!1)}}U()},[r]);const w=S.useCallback(async()=>{if(r)try{await Nb(r),t("/")}catch(U){h("Failed to delete series"),console.error("Error deleting series:",U)}},[r,t]),O=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),N=S.useCallback(()=>{a&&_(U=>Math.min(U+1,a.pages.length-1))},[a]),z=S.useCallback(()=>{_(U=>Math.max(U-1,0))},[]);if(u)return y.jsx("div",{className:"flex justify-center my-12",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})});if(d||!a)return y.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-md",children:[y.jsx("p",{className:"font-medium mb-2",children:"Error"}),y.jsx("p",{children:d||"Failed to load series"}),y.jsx("button",{onClick:()=>t("/"),className:"mt-4 py-2 px-4 bg-primary text-white rounded-md",children:"Return to Dashboard"})]});const R=a.pages[b];return y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl sm:text-2xl font-semibold",children:a.name}),y.jsxs("p",{className:"text-gray-500",children:[a.pages.length," ",a.pages.length===1?"page":"pages","  Created on ",O(a.createdAt)]})]}),y.jsx("button",{onClick:()=>m(!0),className:"text-red-600 py-1 px-3 border border-red-200 rounded-md hover:bg-red-50",children:"Delete"})]}),y.jsx("div",{className:"flex justify-center mb-4",children:y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("button",{onClick:z,disabled:b===0,className:"py-1 px-3 border border-gray-300 rounded-md disabled:opacity-40",children:"Previous"}),y.jsxs("span",{className:"text-sm",children:["Page ",b+1," of ",a.pages.length]}),y.jsx("button",{onClick:N,disabled:b===a.pages.length-1,className:"py-1 px-3 border border-gray-300 rounded-md disabled:opacity-40",children:"Next"})]})}),y.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:y.jsxs("div",{className:"sm:flex sm:gap-8",children:[y.jsx("div",{className:"sm:w-1/2 mb-6 sm:mb-0",children:y.jsx("div",{className:"bg-gray-100 rounded-md overflow-hidden",children:y.jsx("img",{src:URL.createObjectURL(R.imageBlob),alt:`Page ${b+1}`,className:"w-full object-contain",onLoad:U=>{const C=U.target;setTimeout(()=>{C.src.startsWith("blob:")&&URL.revokeObjectURL(C.src)},1e3)}})})}),y.jsxs("div",{className:"sm:w-1/2",children:[y.jsx("h3",{className:"text-lg font-medium mb-4",children:"Text Content"}),"                        ",y.jsx("div",{className:"bg-gray-50 p-4 rounded-md max-h-96 overflow-y-auto",children:R.text?y.jsx("div",{dangerouslySetInnerHTML:{__html:R.text}}):y.jsx("em",{children:"No text content available"})}),R.imageDescriptions&&R.imageDescriptions.length>0&&y.jsxs("div",{className:"mt-6",children:[y.jsx("h3",{className:"text-lg font-medium mb-2",children:"Image Descriptions"}),y.jsx("ul",{className:"bg-gray-50 p-4 rounded-md text-sm space-y-2",children:R.imageDescriptions.map((U,C)=>y.jsx("li",{children:U},C))})]}),Object.keys(R.meta).length>0&&y.jsxs("div",{className:"mt-6",children:[y.jsx("h3",{className:"text-lg font-medium mb-2",children:"Metadata"}),y.jsx("dl",{className:"bg-gray-50 p-4 rounded-md grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:Object.entries(R.meta).map(([U,C])=>C!=null&&U!=="figures"&&y.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[y.jsxs("dt",{className:"font-medium",children:[U,":"]}),y.jsx("dd",{children:String(C)})]},U))})]})]})]})}),"            ",y.jsx("div",{className:"mt-12",children:y.jsx("div",{className:"border-t border-gray-200 pt-8",children:y.jsx(mN,{series:a,onSeriesUpdate:U=>{s(U),xc(U).catch(C=>{console.error("Failed to save series updates:",C),h("Failed to update series")})}})})}),y.jsx("div",{className:"mt-8",children:y.jsx("button",{onClick:()=>t("/"),className:"py-2 px-4 border border-gray-300 rounded-md hover:bg-gray-50",children:" Back to Dashboard"})}),p&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:y.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[y.jsx("h3",{className:"text-lg font-medium mb-3",children:"Delete Series?"}),y.jsxs("p",{className:"mb-6",children:['Are you sure you want to delete "',a.name,'"? This action cannot be undone.']}),y.jsxs("div",{className:"flex justify-end gap-3",children:[y.jsx("button",{onClick:()=>m(!1),className:"py-2 px-4 border border-gray-300 rounded-md",children:"Cancel"}),y.jsx("button",{onClick:w,className:"py-2 px-4 bg-red-600 text-white rounded-md",children:"Delete"})]})]})})]})}function gN(){const r=sc(),{draft:t,updatePage:a,removePage:s,setSeriesName:u,clearDraft:o}=Rh(),{endpoint:d,apiKey:h}=Th(),[p,m]=S.useState(!1),[b,_]=S.useState({}),[w,O]=S.useState(null),[N,z]=S.useState(!1),[R,U]=S.useState(!1);if(!t)return r("/"),null;const C=S.useCallback(V=>{O(V)},[]),Z=S.useCallback((V,le)=>{a(V,{text:le}),O(null)},[a]),G=S.useCallback(V=>{s(V)},[s]),Q=S.useCallback(V=>{s(V),r("/capture")},[s,r]),ie=S.useCallback(V=>{if(!t||!d||!h)return;const le=t.pages.find(ge=>ge.id===V);if(!le)return;const te=new FileReader;te.onloadend=()=>{var Ct;const ge=(Ct=te.result)==null?void 0:Ct.toString().split(",")[1];ge&&(a(V,{status:"pending",error:void 0}),Ch.enqueue(V,ge,{endpoint:d,apiKey:h},ut=>{a(V,{text:ut.text,imageDescriptions:ut.imageDescriptions,meta:ut.meta,status:"complete"})},(ut,Ve)=>{a(Ve,{error:ut.message,status:"error"})},(ut,Ve)=>{console.log(`Status update in SeriesReview: ${ut}  ${Ve}`),a(ut,{status:Ve})}))},te.readAsDataURL(le.imageBlob)},[t,d,h,a]);S.useCallback(async()=>{U(!0)},[]),S.useCallback(()=>{U(!0)},[]);const W=S.useCallback(V=>{V.preventDefault();const te=new FormData(V.currentTarget).get("name");if(!(te!=null&&te.trim())){_({name:"Please enter a series name"});return}u(te),U(!1),_({}),m(!0),setTimeout(async()=>{try{const ge={id:qd(),name:te,createdAt:new Date().toISOString(),pages:t.pages};await xc(ge),o(),r("/")}catch(ge){console.error("Error saving series:",ge),m(!1)}},50)},[u,t,o,r]),we=S.useCallback(()=>{o(),r("/")},[o,r]);return y.jsxs("div",{className:"max-w-4xl mx-auto pb-16",children:[y.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-6",children:"Review Series"}),t.pages.length===0?y.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 p-4 rounded-md mb-6",children:[y.jsx("p",{children:"No pages in this series. Please add at least one page."}),y.jsx("button",{onClick:()=>r("/capture"),className:"mt-4 py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Capture Pages"})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"space-y-8",children:t.pages.map((V,le)=>y.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:y.jsxs("div",{className:"sm:flex sm:gap-6",children:[y.jsxs("div",{className:"sm:w-1/3 mb-4 sm:mb-0",children:[y.jsxs("div",{className:"bg-gray-200 rounded-md overflow-hidden relative",children:[V.status==="queued"&&y.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white px-3 py-2 rounded-md",children:[y.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 border-t-blue-500 rounded-full mx-auto"}),y.jsx("p",{className:"text-sm mt-1",children:"Queued"})]})}),V.status==="pending"&&y.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white px-3 py-2 rounded-md",children:[y.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full mx-auto"}),y.jsx("p",{className:"text-sm mt-1",children:"Pending"})]})}),V.status==="processing"&&y.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white px-3 py-2 rounded-md",children:[y.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-primary mx-auto"}),y.jsx("p",{className:"text-sm mt-1",children:"Processing"})]})}),V.status==="error"&&y.jsx("div",{className:"absolute inset-0 bg-red-500 bg-opacity-20 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white p-3 rounded-md max-w-[90%]",children:[y.jsx("p",{className:"text-sm text-red-600 mb-2",children:V.error||"Processing failed"}),y.jsx("button",{onClick:()=>ie(V.id),className:"text-sm bg-blue-600 text-white py-1 px-2 rounded-md w-full hover:bg-blue-700",children:"Retry Processing"})]})}),y.jsx("img",{src:URL.createObjectURL(V.imageBlob),alt:`Page ${le+1}`,className:"w-full object-contain",onLoad:te=>{const ge=te.target;setTimeout(()=>{ge.src.startsWith("blob:")&&URL.revokeObjectURL(ge.src)},1e3)}})]}),y.jsxs("div",{className:"mt-2 flex justify-between",children:[y.jsx("button",{onClick:()=>Q(V.id),className:"text-sm text-gray-600 hover:text-primary",children:"Retake"}),y.jsx("button",{onClick:()=>G(V.id),className:"text-sm text-red-600 hover:text-red-700",children:"Delete"})]})]}),y.jsxs("div",{className:"sm:w-2/3",children:[y.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[y.jsxs("h3",{className:"font-medium",children:["Page ",le+1]}),w!==V.id&&y.jsx("button",{onClick:()=>C(V.id),className:"text-sm text-blue-600 hover:text-blue-700",children:"Edit Text"})]}),w===V.id?y.jsxs("div",{className:"mt-2",children:[y.jsx("textarea",{className:"w-full border border-gray-300 rounded-md p-2 h-48",defaultValue:V.text}),y.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[y.jsx("button",{onClick:()=>O(null),className:"py-1 px-3 border border-gray-300 rounded",children:"Cancel"}),y.jsx("button",{onClick:()=>{const te=document.querySelector("textarea");te&&Z(V.id,te.value)},className:"py-1 px-3 bg-blue-600 text-white rounded",children:"Save"})]})]}):y.jsx(y.Fragment,{children:V.meta&&V.meta.error?y.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 rounded-md text-sm",children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),y.jsx("h4",{className:"font-medium",children:"Text Extraction Problem"})]}),y.jsx("p",{children:"The image could not be properly analyzed. This might be due to:"}),y.jsxs("ul",{className:"list-disc pl-5 mt-1",children:[y.jsx("li",{children:"Low image quality or poor lighting"}),y.jsx("li",{children:"Non-text content or unrecognizable text"}),y.jsx("li",{children:"Complex formatting that wasn't properly recognized"})]}),y.jsx("p",{className:"mt-2",children:"Try retaking the photo with better lighting and a clearer view."})]}):y.jsx("div",{className:"bg-gray-50 p-3 rounded-md text-sm max-h-48 overflow-y-auto",dangerouslySetInnerHTML:{__html:V.text||"<em>No text extracted</em>"}})}),V.imageDescriptions&&V.imageDescriptions.length>0&&y.jsxs("div",{className:"mt-4",children:[y.jsx("h4",{className:"text-sm font-medium mb-1",children:"Image Descriptions:"}),y.jsx("ul",{className:"text-sm text-gray-600",children:V.imageDescriptions.map((te,ge)=>y.jsx("li",{className:"mb-1",children:te},ge))})]}),"                                        ",Object.keys(V.meta).length>0&&y.jsxs("div",{className:"mt-4",children:[y.jsx("h4",{className:"text-sm font-medium mb-1",children:"Metadata:"}),y.jsx("dl",{className:"text-sm grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(V.meta).filter(([te,ge])=>ge!=null&&ge!==""&&te!=="figures"&&te!=="error"&&String(ge).trim()!=="").map(([te,ge])=>y.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[y.jsxs("dt",{className:"font-medium",children:[te,":"]}),y.jsx("dd",{children:String(ge)})]},te))})]})]})]})},V.id))}),y.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4",children:y.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between",children:[y.jsx("button",{onClick:()=>z(!0),className:"py-2 px-4 border border-gray-300 rounded-md hover:bg-gray-50",children:"Discard"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("button",{onClick:()=>r("/capture"),className:"py-2 px-4 border border-blue-600 text-blue-600 rounded-md hover:bg-blue-50",children:"Add More Pages"}),"                                ",y.jsx("button",{onClick:()=>U(!0),disabled:t.pages.length===0||p,className:"py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:p?"Saving...":"Save Series"})]})]})})]}),N&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:y.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[y.jsx("h3",{className:"text-lg font-medium mb-3",children:"Discard Series?"}),y.jsx("p",{className:"mb-6",children:"Are you sure you want to discard this series? All captured pages will be lost."}),y.jsxs("div",{className:"flex justify-end gap-3",children:[y.jsx("button",{onClick:()=>z(!1),className:"py-2 px-4 border border-gray-300 rounded-md",children:"Cancel"}),y.jsx("button",{onClick:we,className:"py-2 px-4 bg-red-600 text-white rounded-md",children:"Discard"})]})]})}),R&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:y.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[y.jsx("h3",{className:"text-lg font-medium mb-3",children:"Name Your Series"}),y.jsxs("form",{onSubmit:W,children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"name",className:"block mb-1 text-sm font-medium",children:"Series Name"}),y.jsx("input",{type:"text",id:"name",name:"name",defaultValue:t.name||"",className:"w-full border border-gray-300 rounded-md p-2",autoFocus:!0}),b.name&&y.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.name})]}),y.jsxs("div",{className:"flex justify-end gap-3",children:[y.jsx("button",{type:"button",onClick:()=>{U(!1),_({})},className:"py-2 px-4 border border-gray-300 rounded-md",children:"Cancel"}),y.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save"})]})]})]})})]})}function yN(){return y.jsxs(sw,{children:[y.jsx(Ni,{path:"/",element:y.jsx(uN,{})}),y.jsx(Ni,{path:"/capture",element:y.jsx(lN,{})}),y.jsx(Ni,{path:"/review",element:y.jsx(gN,{})}),y.jsx(Ni,{path:"/series/:seriesId",element:y.jsx(pN,{})})]})}function vN({onSetup:r}){const[t,a]=S.useState(),[s,u]=S.useState(!1),[o,d]=S.useState(!1);S.useEffect(()=>{async function p(){try{const m=new URLSearchParams(window.location.search);let b=new URLSearchParams;const _=window.location.hash.split("?");_.length>1&&(b=new URLSearchParams(_[1]));const w=m.get("key")||b.get("key");if(w){console.log("ConnectionSetup: Key found in URL"),d(!0),u(!0);try{const O=atob(w),N=JSON.parse(O);if(N.endpoint&&N.apiKey)await ac(w),console.log("ConnectionSetup: Key saved successfully"),r();else throw new Error("Invalid key structure")}catch(O){console.error("Invalid Base64 JSON key format:",O),a("The URL contains an invalid connection key format. Please use the Base64-encoded JSON format."),u(!1),d(!1)}}}catch(m){console.error("Error processing URL parameters:",m),u(!1),d(!1)}}p()},[r]);const h=S.useCallback(async p=>{p.preventDefault(),a(void 0),u(!0);const b=new FormData(p.currentTarget).get("key");console.log("ConnectionSetup: Submitting key");try{const _=atob(b),w=JSON.parse(_);if(w.endpoint&&w.apiKey)await ac(b),console.log("ConnectionSetup: Key saved successfully"),r();else throw new Error("Invalid key structure")}catch(_){console.error("ConnectionSetup: Error processing key",_),a("Invalid connection key. Please use a Base64-encoded JSON format.")}finally{u(!1)}},[r]);return o&&s?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:y.jsxs("div",{className:"w-full max-w-sm sm:max-w-md px-6 py-8 bg-white rounded-lg shadow-md text-center",children:[y.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Setting Up Connection"}),y.jsx("div",{className:"flex justify-center",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}),y.jsx("p",{className:"mt-4 text-gray-600",children:"Validating connection key from URL..."})]})}):y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4 sm:px-6",children:y.jsxs("div",{className:"w-full max-w-sm sm:max-w-md lg:max-w-lg px-6 py-8 bg-white rounded-lg shadow-md",children:[y.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-6 text-center",children:"Welcome to Ascension"}),y.jsx("p",{className:"mb-4 text-gray-600 sm:text-lg",children:"To get started, please enter your connection key. This is required to connect to Azure's GPT-4 Vision API."}),y.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:y.jsxs("p",{className:"text-sm text-blue-800",children:[y.jsx("span",{className:"font-medium",children:"Required format:"}),y.jsx("br",{}),"Base64-encoded JSON with endpoint and apiKey fields"]})}),y.jsxs("form",{onSubmit:h,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"key",className:"block text-sm font-medium text-gray-700",children:"Connection Key"}),y.jsx("textarea",{id:"key",name:"key",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",rows:3,placeholder:"Paste your Base64-encoded JSON connection key..."})]}),t&&y.jsx("p",{className:"text-red-600 text-sm",children:t}),"                    ",y.jsx("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:y.jsx("button",{type:"submit",disabled:s,className:"w-full bg-primary text-white py-2 px-4 rounded-md hover:bg-primary-dark disabled:opacity-50",children:s?"Validating...":"Continue"})}),y.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[y.jsx("p",{children:"How to generate a connection key:"}),y.jsxs("ol",{className:"list-decimal list-inside mt-1 space-y-1",children:[y.jsx("li",{children:"Run the following command in your terminal:"}),y.jsx("pre",{className:"mt-1 bg-gray-100 p-2 rounded overflow-auto text-xs",children:"npm run share-link -- YOUR_ENDPOINT YOUR_API_KEY"}),y.jsx("li",{children:"Copy the generated Base64-encoded connection key"})]}),"                        ",y.jsx("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded-md",children:y.jsxs("p",{className:"text-green-800",children:[y.jsx("span",{className:"font-medium",children:"Pro tip:"})," You can also share the app with your key included:",y.jsx("code",{className:"mt-1 block bg-white p-1 text-xs overflow-x-auto",children:"https://abuursaminor.github.io/ursa-minor-ascension/?key=YOUR_BASE64_JSON_KEY"}),y.jsx("span",{className:"block mt-1",children:"The share-link command will generate this URL for you."})]})})]})]})]})})}class Ob extends S.Component{constructor(){super(...arguments);sr(this,"state",{hasError:!1})}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,s){console.error("Uncaught error:",a,s)}render(){var a;return this.state.hasError?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50",children:y.jsxs("div",{className:"max-w-md p-6 bg-white rounded-lg shadow-lg",children:[y.jsx("h1",{className:"text-xl font-bold text-red-600 mb-4",children:"Something went wrong"}),y.jsx("p",{className:"text-gray-600 mb-4",children:((a=this.state.error)==null?void 0:a.message)||"An unexpected error occurred"}),y.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:()=>window.location.reload(),children:"Reload page"})]})}):this.props.children}}const bN=Cw;function _N(){const[r,t]=S.useState(null),[a,s]=S.useState(!1),[u,o]=S.useState(!0);return console.log("App render state:",{hasKey:r,isPrivate:a,isLoading:u}),S.useEffect(()=>{async function d(){try{const h=await Tb();if(s(h),h)t(!1);else{const p=new URLSearchParams(window.location.search),m=window.location.hash.split("?"),b=m.length>1?new URLSearchParams(m[1]):new URLSearchParams,_=p.get("key")||b.get("key");let w=!1;if(_){console.log("Key parameter found in URL");try{const O=atob(_),N=JSON.parse(O);if(N.endpoint&&N.apiKey)console.log("URL key is valid, saving to storage"),await ac(_),w=!0;else throw new Error("Invalid key structure")}catch(O){console.error("Invalid key format in URL parameter:",O)}}if(!w){const O=await Nh();console.log("Connection key found in storage:",!!O),w=!!O}t(w)}}catch(h){console.error("Error checking for connection key:",h),t(!1)}finally{o(!1)}}d()},[]),u?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):a?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-yellow-50",children:y.jsxs("div",{className:"max-w-md p-6 bg-white rounded-lg shadow-md",children:[y.jsx("h1",{className:"text-xl font-bold mb-4",children:"Private Browsing Detected"}),y.jsx("p",{className:"text-gray-600",children:"Ascension requires IndexedDB support, which is not available in private browsing mode. Please switch to normal browsing mode to use all features."})]})}):r===!1?y.jsx(vN,{onSetup:()=>t(!0)}):y.jsx(Ob,{children:y.jsx(nN,{children:y.jsx(aN,{children:y.jsx(bN,{children:y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsx("header",{className:"bg-white shadow",children:y.jsx("div",{className:"max-w-7xl mx-auto py-4 px-4 sm:py-6 sm:px-6 lg:px-8 flex items-center justify-between",children:y.jsx("h1",{className:"!text-xs font-bold text-gray-900",children:"Ursa Minor Ascension"})})}),y.jsx("main",{className:"container mx-auto py-4 px-4 sm:py-6 sm:px-6 lg:px-8",children:y.jsx("div",{className:"max-w-screen-2xl mx-auto",children:y.jsx(yN,{})})})]})})})})})}navigator.storage&&navigator.storage.persist&&navigator.storage.persist().then(r=>{console.log(`Storage persistence is ${r?"enabled":"not enabled"}`)});const xN=/iPad|iPhone|iPod/.test(navigator.userAgent),wN=Intl.NumberFormat().resolvedOptions().locale.startsWith("en-GB");if(xN&&wN){const t=navigator.userAgent.match(/OS (\d+)_(\d+)/);t&&t[1]==="17"&&t[2]==="4"&&alert("Note: If you are using iOS 17.4 beta, PWA functionality might be limited. Please update to the latest iOS version.")}const SN=h1({onNeedRefresh(){confirm("New content available. Reload to update?")&&SN(!0)},onOfflineReady(){console.log("App ready to work offline")}});o1.createRoot(document.getElementById("root")).render(y.jsx(S.StrictMode,{children:y.jsx(Ob,{children:y.jsx(_N,{})})}));
