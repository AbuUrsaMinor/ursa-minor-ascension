var Xx=Object.defineProperty;var Gx=(r,t,a)=>t in r?Xx(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a;var rr=(r,t,a)=>Gx(r,typeof t!="symbol"?t+"":t,a);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function a(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerPolicy&&(o.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?o.credentials="include":u.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(u){if(u.ep)return;u.ep=!0;const o=a(u);fetch(u.href,o)}})();var Uf={exports:{}},xi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function Qx(){if(vy)return xi;vy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(s,u,o){var d=null;if(o!==void 0&&(d=""+o),u.key!==void 0&&(d=""+u.key),"key"in u){o={};for(var h in u)h!=="key"&&(o[h]=u[h])}else o=u;return u=o.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:o}}return xi.Fragment=t,xi.jsx=a,xi.jsxs=a,xi}var by;function Ix(){return by||(by=1,Uf.exports=Qx()),Uf.exports}var b=Ix(),Lf={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function Kx(){if(_y)return ve;_y=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function w(S){return S===null||typeof S!="object"?null:(S=_&&S[_]||S["@@iterator"],typeof S=="function"?S:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function M(S,q,F){this.props=S,this.context=q,this.refs=k,this.updater=F||C}M.prototype.isReactComponent={},M.prototype.setState=function(S,q){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,q,"setState")},M.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function L(){}L.prototype=M.prototype;function z(S,q,F){this.props=S,this.context=q,this.refs=k,this.updater=F||C}var H=z.prototype=new L;H.constructor=z,R(H,M.prototype),H.isPureReactComponent=!0;var X=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function W(S,q,F,K,le,Ne){return F=Ne.ref,{$$typeof:r,type:S,key:q,ref:F!==void 0?F:null,props:Ne}}function xe(S,q){return W(S.type,q,void 0,void 0,void 0,S.props)}function te(S){return typeof S=="object"&&S!==null&&S.$$typeof===r}function he(S){var q={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(F){return q[F]})}var Y=/\/+/g;function Re(S,q){return typeof S=="object"&&S!==null&&S.key!=null?he(""+S.key):q.toString(36)}function je(){}function Je(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(je,je):(S.status="pending",S.then(function(q){S.status==="pending"&&(S.status="fulfilled",S.value=q)},function(q){S.status==="pending"&&(S.status="rejected",S.reason=q)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function Fe(S,q,F,K,le){var Ne=typeof S;(Ne==="undefined"||Ne==="boolean")&&(S=null);var pe=!1;if(S===null)pe=!0;else switch(Ne){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(S.$$typeof){case r:case t:pe=!0;break;case v:return pe=S._init,Fe(pe(S._payload),q,F,K,le)}}if(pe)return le=le(S),pe=K===""?"."+Re(S,0):K,X(le)?(F="",pe!=null&&(F=pe.replace(Y,"$&/")+"/"),Fe(le,q,F,"",function(sa){return sa})):le!=null&&(te(le)&&(le=xe(le,F+(le.key==null||S&&S.key===le.key?"":(""+le.key).replace(Y,"$&/")+"/")+pe)),q.push(le)),1;pe=0;var Ut=K===""?".":K+":";if(X(S))for(var Ye=0;Ye<S.length;Ye++)K=S[Ye],Ne=Ut+Re(K,Ye),pe+=Fe(K,q,F,Ne,le);else if(Ye=w(S),typeof Ye=="function")for(S=Ye.call(S),Ye=0;!(K=S.next()).done;)K=K.value,Ne=Ut+Re(K,Ye++),pe+=Fe(K,q,F,Ne,le);else if(Ne==="object"){if(typeof S.then=="function")return Fe(Je(S),q,F,K,le);throw q=String(S),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return pe}function B(S,q,F){if(S==null)return S;var K=[],le=0;return Fe(S,K,"","",function(Ne){return q.call(F,Ne,le++)}),K}function G(S){if(S._status===-1){var q=S._result;q=q(),q.then(function(F){(S._status===0||S._status===-1)&&(S._status=1,S._result=F)},function(F){(S._status===0||S._status===-1)&&(S._status=2,S._result=F)}),S._status===-1&&(S._status=0,S._result=q)}if(S._status===1)return S._result.default;throw S._result}var oe=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function He(){}return ve.Children={map:B,forEach:function(S,q,F){B(S,function(){q.apply(this,arguments)},F)},count:function(S){var q=0;return B(S,function(){q++}),q},toArray:function(S){return B(S,function(q){return q})||[]},only:function(S){if(!te(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ve.Component=M,ve.Fragment=a,ve.Profiler=u,ve.PureComponent=z,ve.StrictMode=s,ve.Suspense=g,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ve.__COMPILER_RUNTIME={__proto__:null,c:function(S){return I.H.useMemoCache(S)}},ve.cache=function(S){return function(){return S.apply(null,arguments)}},ve.cloneElement=function(S,q,F){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var K=R({},S.props),le=S.key,Ne=void 0;if(q!=null)for(pe in q.ref!==void 0&&(Ne=void 0),q.key!==void 0&&(le=""+q.key),q)!ie.call(q,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&q.ref===void 0||(K[pe]=q[pe]);var pe=arguments.length-2;if(pe===1)K.children=F;else if(1<pe){for(var Ut=Array(pe),Ye=0;Ye<pe;Ye++)Ut[Ye]=arguments[Ye+2];K.children=Ut}return W(S.type,le,void 0,void 0,Ne,K)},ve.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:o,_context:S},S},ve.createElement=function(S,q,F){var K,le={},Ne=null;if(q!=null)for(K in q.key!==void 0&&(Ne=""+q.key),q)ie.call(q,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(le[K]=q[K]);var pe=arguments.length-2;if(pe===1)le.children=F;else if(1<pe){for(var Ut=Array(pe),Ye=0;Ye<pe;Ye++)Ut[Ye]=arguments[Ye+2];le.children=Ut}if(S&&S.defaultProps)for(K in pe=S.defaultProps,pe)le[K]===void 0&&(le[K]=pe[K]);return W(S,Ne,void 0,void 0,null,le)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(S){return{$$typeof:h,render:S}},ve.isValidElement=te,ve.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:G}},ve.memo=function(S,q){return{$$typeof:m,type:S,compare:q===void 0?null:q}},ve.startTransition=function(S){var q=I.T,F={};I.T=F;try{var K=S(),le=I.S;le!==null&&le(F,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(He,oe)}catch(Ne){oe(Ne)}finally{I.T=q}},ve.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ve.use=function(S){return I.H.use(S)},ve.useActionState=function(S,q,F){return I.H.useActionState(S,q,F)},ve.useCallback=function(S,q){return I.H.useCallback(S,q)},ve.useContext=function(S){return I.H.useContext(S)},ve.useDebugValue=function(){},ve.useDeferredValue=function(S,q){return I.H.useDeferredValue(S,q)},ve.useEffect=function(S,q,F){var K=I.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(S,q)},ve.useId=function(){return I.H.useId()},ve.useImperativeHandle=function(S,q,F){return I.H.useImperativeHandle(S,q,F)},ve.useInsertionEffect=function(S,q){return I.H.useInsertionEffect(S,q)},ve.useLayoutEffect=function(S,q){return I.H.useLayoutEffect(S,q)},ve.useMemo=function(S,q){return I.H.useMemo(S,q)},ve.useOptimistic=function(S,q){return I.H.useOptimistic(S,q)},ve.useReducer=function(S,q,F){return I.H.useReducer(S,q,F)},ve.useRef=function(S){return I.H.useRef(S)},ve.useState=function(S){return I.H.useState(S)},ve.useSyncExternalStore=function(S,q,F){return I.H.useSyncExternalStore(S,q,F)},ve.useTransition=function(){return I.H.useTransition()},ve.version="19.1.0",ve}var xy;function zd(){return xy||(xy=1,Lf.exports=Kx()),Lf.exports}var E=zd(),Bf={exports:{}},Si={},Zf={exports:{}},Pf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function Jx(){return Sy||(Sy=1,function(r){function t(B,G){var oe=B.length;B.push(G);e:for(;0<oe;){var He=oe-1>>>1,S=B[He];if(0<u(S,G))B[He]=G,B[oe]=S,oe=He;else break e}}function a(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var G=B[0],oe=B.pop();if(oe!==G){B[0]=oe;e:for(var He=0,S=B.length,q=S>>>1;He<q;){var F=2*(He+1)-1,K=B[F],le=F+1,Ne=B[le];if(0>u(K,oe))le<S&&0>u(Ne,K)?(B[He]=Ne,B[le]=oe,He=le):(B[He]=K,B[F]=oe,He=F);else if(le<S&&0>u(Ne,oe))B[He]=Ne,B[le]=oe,He=le;else break e}}return G}function u(B,G){var oe=B.sortIndex-G.sortIndex;return oe!==0?oe:B.id-G.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var d=Date,h=d.now();r.unstable_now=function(){return d.now()-h}}var g=[],m=[],v=1,_=null,w=3,C=!1,R=!1,k=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function X(B){for(var G=a(m);G!==null;){if(G.callback===null)s(m);else if(G.startTime<=B)s(m),G.sortIndex=G.expirationTime,t(g,G);else break;G=a(m)}}function I(B){if(k=!1,X(B),!R)if(a(g)!==null)R=!0,ie||(ie=!0,Re());else{var G=a(m);G!==null&&Fe(I,G.startTime-B)}}var ie=!1,W=-1,xe=5,te=-1;function he(){return M?!0:!(r.unstable_now()-te<xe)}function Y(){if(M=!1,ie){var B=r.unstable_now();te=B;var G=!0;try{e:{R=!1,k&&(k=!1,z(W),W=-1),C=!0;var oe=w;try{t:{for(X(B),_=a(g);_!==null&&!(_.expirationTime>B&&he());){var He=_.callback;if(typeof He=="function"){_.callback=null,w=_.priorityLevel;var S=He(_.expirationTime<=B);if(B=r.unstable_now(),typeof S=="function"){_.callback=S,X(B),G=!0;break t}_===a(g)&&s(g),X(B)}else s(g);_=a(g)}if(_!==null)G=!0;else{var q=a(m);q!==null&&Fe(I,q.startTime-B),G=!1}}break e}finally{_=null,w=oe,C=!1}G=void 0}}finally{G?Re():ie=!1}}}var Re;if(typeof H=="function")Re=function(){H(Y)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Je=je.port2;je.port1.onmessage=Y,Re=function(){Je.postMessage(null)}}else Re=function(){L(Y,0)};function Fe(B,G){W=L(function(){B(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(B){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var oe=w;w=G;try{return B()}finally{w=oe}},r.unstable_requestPaint=function(){M=!0},r.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var oe=w;w=B;try{return G()}finally{w=oe}},r.unstable_scheduleCallback=function(B,G,oe){var He=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?He+oe:He):oe=He,B){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=oe+S,B={id:v++,callback:G,priorityLevel:B,startTime:oe,expirationTime:S,sortIndex:-1},oe>He?(B.sortIndex=oe,t(m,B),a(g)===null&&B===a(m)&&(k?(z(W),W=-1):k=!0,Fe(I,oe-He))):(B.sortIndex=S,t(g,B),R||C||(R=!0,ie||(ie=!0,Re()))),B},r.unstable_shouldYield=he,r.unstable_wrapCallback=function(B){var G=w;return function(){var oe=w;w=G;try{return B.apply(this,arguments)}finally{w=oe}}}}(Pf)),Pf}var wy;function Fx(){return wy||(wy=1,Zf.exports=Jx()),Zf.exports}var $f={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function Wx(){if(Ay)return At;Ay=1;var r=zd();function t(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function o(g,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:_==null?null:""+_,children:g,containerInfo:m,implementation:v}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,At.createPortal=function(g,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(g,m,null,v)},At.flushSync=function(g){var m=d.T,v=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=m,s.p=v,s.d.f()}},At.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(g,m))},At.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},At.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:C}):v==="script"&&s.d.X(g,{crossOrigin:_,integrity:w,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},At.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);s.d.M(g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(g)},At.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin);s.d.L(g,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},At.preloadModule=function(g,m){if(typeof g=="string")if(m){var v=h(m.as,m.crossOrigin);s.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(g)},At.requestFormReset=function(g){s.d.r(g)},At.unstable_batchedUpdates=function(g,m){return g(m)},At.useFormState=function(g,m,v){return d.H.useFormState(g,m,v)},At.useFormStatus=function(){return d.H.useHostTransitionStatus()},At.version="19.1.0",At}var Ey;function eS(){if(Ey)return $f.exports;Ey=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),$f.exports=Wx(),$f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function tS(){if(Ty)return Si;Ty=1;var r=Fx(),t=zd(),a=eS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(o(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=o(e),n===null)throw Error(s(188));return n!==e?null:e}for(var i=e,l=n;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){i=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return h(c),e;if(f===l)return h(c),n;f=f.sibling}throw Error(s(188))}if(i.return!==l.return)i=c,l=f;else{for(var p=!1,y=c.child;y;){if(y===i){p=!0,i=c,l=f;break}if(y===l){p=!0,l=c,i=f;break}y=y.sibling}if(!p){for(y=f.child;y;){if(y===i){p=!0,i=f,l=c;break}if(y===l){p=!0,l=f,i=c;break}y=y.sibling}if(!p)throw Error(s(189))}}if(i.alternate!==l)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),H=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function Re(e){return e===null||typeof e!="object"?null:(e=Y&&e[Y]||e["@@iterator"],typeof e=="function"?e:null)}var je=Symbol.for("react.client.reference");function Je(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===je?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case M:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case ie:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case H:return(e.displayName||"Context")+".Provider";case z:return(e._context.displayName||"Context")+".Consumer";case X:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return n=e.displayName||null,n!==null?n:Je(e.type)||"Memo";case xe:n=e._payload,e=e._init;try{return Je(e(n))}catch{}}return null}var Fe=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},He=[],S=-1;function q(e){return{current:e}}function F(e){0>S||(e.current=He[S],He[S]=null,S--)}function K(e,n){S++,He[S]=e.current,e.current=n}var le=q(null),Ne=q(null),pe=q(null),Ut=q(null);function Ye(e,n){switch(K(pe,n),K(Ne,e),K(le,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Xg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Xg(n),e=Gg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(le),K(le,e)}function sa(){F(le),F(Ne),F(pe)}function bc(e){e.memoizedState!==null&&K(Ut,e);var n=le.current,i=Gg(n,e.type);n!==i&&(K(Ne,e),K(le,i))}function ul(e){Ne.current===e&&(F(le),F(Ne)),Ut.current===e&&(F(Ut),gi._currentValue=oe)}var _c=Object.prototype.hasOwnProperty,xc=r.unstable_scheduleCallback,Sc=r.unstable_cancelCallback,Ab=r.unstable_shouldYield,Eb=r.unstable_requestPaint,Sn=r.unstable_now,Tb=r.unstable_getCurrentPriorityLevel,Th=r.unstable_ImmediatePriority,Rh=r.unstable_UserBlockingPriority,cl=r.unstable_NormalPriority,Rb=r.unstable_LowPriority,Nh=r.unstable_IdlePriority,Nb=r.log,Ob=r.unstable_setDisableYieldValue,As=null,Lt=null;function ia(e){if(typeof Nb=="function"&&Ob(e),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(As,e)}catch{}}var Bt=Math.clz32?Math.clz32:Db,Cb=Math.log,jb=Math.LN2;function Db(e){return e>>>=0,e===0?32:31-(Cb(e)/jb|0)|0}var ol=256,fl=4194304;function Pa(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function dl(e,n,i){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var y=l&134217727;return y!==0?(l=y&~f,l!==0?c=Pa(l):(p&=y,p!==0?c=Pa(p):i||(i=y&~e,i!==0&&(c=Pa(i))))):(y=l&~f,y!==0?c=Pa(y):p!==0?c=Pa(p):i||(i=l&~e,i!==0&&(c=Pa(i)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,i=n&-n,f>=i||f===32&&(i&4194048)!==0)?n:c}function Es(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mb(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oh(){var e=ol;return ol<<=1,(ol&4194048)===0&&(ol=256),e}function Ch(){var e=fl;return fl<<=1,(fl&62914560)===0&&(fl=4194304),e}function wc(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Ts(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kb(e,n,i,l,c,f){var p=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var y=e.entanglements,x=e.expirationTimes,O=e.hiddenUpdates;for(i=p&~i;0<i;){var Z=31-Bt(i),$=1<<Z;y[Z]=0,x[Z]=-1;var j=O[Z];if(j!==null)for(O[Z]=null,Z=0;Z<j.length;Z++){var D=j[Z];D!==null&&(D.lane&=-536870913)}i&=~$}l!==0&&jh(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function jh(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Bt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|i&4194090}function Dh(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-Bt(i),c=1<<l;c&n|e[l]&n&&(e[l]|=n),i&=~c}}function Ac(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ec(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mh(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:dy(e.type))}function zb(e,n){var i=G.p;try{return G.p=e,n()}finally{G.p=i}}var la=Math.random().toString(36).slice(2),St="__reactFiber$"+la,Ct="__reactProps$"+la,vr="__reactContainer$"+la,Tc="__reactEvents$"+la,Ub="__reactListeners$"+la,Lb="__reactHandles$"+la,kh="__reactResources$"+la,Rs="__reactMarker$"+la;function Rc(e){delete e[St],delete e[Ct],delete e[Tc],delete e[Ub],delete e[Lb]}function br(e){var n=e[St];if(n)return n;for(var i=e.parentNode;i;){if(n=i[vr]||i[St]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Jg(e);e!==null;){if(i=e[St])return i;e=Jg(e)}return n}e=i,i=e.parentNode}return null}function _r(e){if(e=e[St]||e[vr]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Ns(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function xr(e){var n=e[kh];return n||(n=e[kh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ot(e){e[Rs]=!0}var zh=new Set,Uh={};function $a(e,n){Sr(e,n),Sr(e+"Capture",n)}function Sr(e,n){for(Uh[e]=n,e=0;e<n.length;e++)zh.add(n[e])}var Bb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lh={},Bh={};function Zb(e){return _c.call(Bh,e)?!0:_c.call(Lh,e)?!1:Bb.test(e)?Bh[e]=!0:(Lh[e]=!0,!1)}function hl(e,n,i){if(Zb(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function ml(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Un(e,n,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+l)}}var Nc,Zh;function wr(e){if(Nc===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Nc=n&&n[1]||"",Zh=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nc+e+Zh}var Oc=!1;function Cc(e,n){if(!e||Oc)return"";Oc=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(D){var j=D}Reflect.construct(e,[],$)}else{try{$.call()}catch(D){j=D}e.call($.prototype)}}else{try{throw Error()}catch(D){j=D}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(D){if(D&&j&&typeof D.stack=="string")return[D.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],y=f[1];if(p&&y){var x=p.split(`
`),O=y.split(`
`);for(c=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;if(l===x.length||c===O.length)for(l=x.length-1,c=O.length-1;1<=l&&0<=c&&x[l]!==O[c];)c--;for(;1<=l&&0<=c;l--,c--)if(x[l]!==O[c]){if(l!==1||c!==1)do if(l--,c--,0>c||x[l]!==O[c]){var Z=`
`+x[l].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=l&&0<=c);break}}}finally{Oc=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?wr(i):""}function Pb(e){switch(e.tag){case 26:case 27:case 5:return wr(e.type);case 16:return wr("Lazy");case 13:return wr("Suspense");case 19:return wr("SuspenseList");case 0:case 15:return Cc(e.type,!1);case 11:return Cc(e.type.render,!1);case 1:return Cc(e.type,!0);case 31:return wr("Activity");default:return""}}function Ph(e){try{var n="";do n+=Pb(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $h(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $b(e){var n=$h(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function pl(e){e._valueTracker||(e._valueTracker=$b(e))}function Hh(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return e&&(l=$h(e)?e.checked?"true":"false":e.value),e=l,e!==i?(n.setValue(e),!0):!1}function gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hb=/[\n"\\]/g;function Jt(e){return e.replace(Hb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function jc(e,n,i,l,c,f,p,y){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Kt(n)):e.value!==""+Kt(n)&&(e.value=""+Kt(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Dc(e,p,Kt(n)):i!=null?Dc(e,p,Kt(i)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Kt(y):e.removeAttribute("name")}function qh(e,n,i,l,c,f,p,y){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;i=i!=null?""+Kt(i):"",n=n!=null?""+Kt(n):i,y||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=y?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p)}function Dc(e,n,i){n==="number"&&gl(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ar(e,n,i,l){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&l&&(e[i].defaultSelected=!0)}else{for(i=""+Kt(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Vh(e,n,i){if(n!=null&&(n=""+Kt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Kt(i):""}function Yh(e,n,i,l){if(n==null){if(l!=null){if(i!=null)throw Error(s(92));if(Fe(l)){if(1<l.length)throw Error(s(93));l=l[0]}i=l}i==null&&(i=""),n=i}i=Kt(n),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l)}function Er(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var qb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xh(e,n,i){var l=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,i):typeof i!="number"||i===0||qb.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Gh(e,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&i[c]!==l&&Xh(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Xh(e,f,n[f])}function Mc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yl(e){return Yb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var kc=null;function zc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tr=null,Rr=null;function Qh(e){var n=_r(e);if(n&&(e=n.stateNode)){var i=e[Ct]||null;e:switch(e=n.stateNode,n.type){case"input":if(jc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Jt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==e&&l.form===e.form){var c=l[Ct]||null;if(!c)throw Error(s(90));jc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<i.length;n++)l=i[n],l.form===e.form&&Hh(l)}break e;case"textarea":Vh(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Ar(e,!!i.multiple,n,!1)}}}var Uc=!1;function Ih(e,n,i){if(Uc)return e(n,i);Uc=!0;try{var l=e(n);return l}finally{if(Uc=!1,(Tr!==null||Rr!==null)&&(nu(),Tr&&(n=Tr,e=Rr,Rr=Tr=null,Qh(n),e)))for(n=0;n<e.length;n++)Qh(e[n])}}function Os(e,n){var i=e.stateNode;if(i===null)return null;var l=i[Ct]||null;if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lc=!1;if(Ln)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Lc=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Lc=!1}var ua=null,Bc=null,vl=null;function Kh(){if(vl)return vl;var e,n=Bc,i=n.length,l,c="value"in ua?ua.value:ua.textContent,f=c.length;for(e=0;e<i&&n[e]===c[e];e++);var p=i-e;for(l=1;l<=p&&n[i-l]===c[f-l];l++);return vl=c.slice(e,1<l?1-l:void 0)}function bl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function _l(){return!0}function Jh(){return!1}function jt(e){function n(i,l,c,f,p){this._reactName=i,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?_l:Jh,this.isPropagationStopped=Jh,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=_l)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=_l)},persist:function(){},isPersistent:_l}),n}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xl=jt(Ha),js=v({},Ha,{view:0,detail:0}),Xb=jt(js),Zc,Pc,Ds,Sl=v({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ds&&(Ds&&e.type==="mousemove"?(Zc=e.screenX-Ds.screenX,Pc=e.screenY-Ds.screenY):Pc=Zc=0,Ds=e),Zc)},movementY:function(e){return"movementY"in e?e.movementY:Pc}}),Fh=jt(Sl),Gb=v({},Sl,{dataTransfer:0}),Qb=jt(Gb),Ib=v({},js,{relatedTarget:0}),$c=jt(Ib),Kb=v({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),Jb=jt(Kb),Fb=v({},Ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wb=jt(Fb),e_=v({},Ha,{data:0}),Wh=jt(e_),t_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r_(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=a_[e])?!!n[e]:!1}function Hc(){return r_}var s_=v({},js,{key:function(e){if(e.key){var n=t_[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?n_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hc,charCode:function(e){return e.type==="keypress"?bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),i_=jt(s_),l_=v({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),em=jt(l_),u_=v({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hc}),c_=jt(u_),o_=v({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),f_=jt(o_),d_=v({},Sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),h_=jt(d_),m_=v({},Ha,{newState:0,oldState:0}),p_=jt(m_),g_=[9,13,27,32],qc=Ln&&"CompositionEvent"in window,Ms=null;Ln&&"documentMode"in document&&(Ms=document.documentMode);var y_=Ln&&"TextEvent"in window&&!Ms,tm=Ln&&(!qc||Ms&&8<Ms&&11>=Ms),nm=" ",am=!1;function rm(e,n){switch(e){case"keyup":return g_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nr=!1;function v_(e,n){switch(e){case"compositionend":return sm(n);case"keypress":return n.which!==32?null:(am=!0,nm);case"textInput":return e=n.data,e===nm&&am?null:e;default:return null}}function b_(e,n){if(Nr)return e==="compositionend"||!qc&&rm(e,n)?(e=Kh(),vl=Bc=ua=null,Nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return tm&&n.locale!=="ko"?null:n.data;default:return null}}var __={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!__[e.type]:n==="textarea"}function lm(e,n,i,l){Tr?Rr?Rr.push(l):Rr=[l]:Tr=l,n=uu(n,"onChange"),0<n.length&&(i=new xl("onChange","change",null,i,l),e.push({event:i,listeners:n}))}var ks=null,zs=null;function x_(e){$g(e,0)}function wl(e){var n=Ns(e);if(Hh(n))return e}function um(e,n){if(e==="change")return n}var cm=!1;if(Ln){var Vc;if(Ln){var Yc="oninput"in document;if(!Yc){var om=document.createElement("div");om.setAttribute("oninput","return;"),Yc=typeof om.oninput=="function"}Vc=Yc}else Vc=!1;cm=Vc&&(!document.documentMode||9<document.documentMode)}function fm(){ks&&(ks.detachEvent("onpropertychange",dm),zs=ks=null)}function dm(e){if(e.propertyName==="value"&&wl(zs)){var n=[];lm(n,zs,e,zc(e)),Ih(x_,n)}}function S_(e,n,i){e==="focusin"?(fm(),ks=n,zs=i,ks.attachEvent("onpropertychange",dm)):e==="focusout"&&fm()}function w_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wl(zs)}function A_(e,n){if(e==="click")return wl(n)}function E_(e,n){if(e==="input"||e==="change")return wl(n)}function T_(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Zt=typeof Object.is=="function"?Object.is:T_;function Us(e,n){if(Zt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var c=i[l];if(!_c.call(n,c)||!Zt(e[c],n[c]))return!1}return!0}function hm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mm(e,n){var i=hm(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=n&&l>=n)return{node:i,offset:n-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=hm(i)}}function pm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?pm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function gm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=gl(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=gl(e.document)}return n}function Xc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var R_=Ln&&"documentMode"in document&&11>=document.documentMode,Or=null,Gc=null,Ls=null,Qc=!1;function ym(e,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Qc||Or==null||Or!==gl(l)||(l=Or,"selectionStart"in l&&Xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ls&&Us(Ls,l)||(Ls=l,l=uu(Gc,"onSelect"),0<l.length&&(n=new xl("onSelect","select",null,n,i),e.push({event:n,listeners:l}),n.target=Or)))}function qa(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Cr={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},Ic={},vm={};Ln&&(vm=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function Va(e){if(Ic[e])return Ic[e];if(!Cr[e])return e;var n=Cr[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in vm)return Ic[e]=n[i];return e}var bm=Va("animationend"),_m=Va("animationiteration"),xm=Va("animationstart"),N_=Va("transitionrun"),O_=Va("transitionstart"),C_=Va("transitioncancel"),Sm=Va("transitionend"),wm=new Map,Kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kc.push("scrollEnd");function ln(e,n){wm.set(e,n),$a(n,[e])}var Am=new WeakMap;function Ft(e,n){if(typeof e=="object"&&e!==null){var i=Am.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Ph(n)},Am.set(e,n),n)}return{value:e,source:n,stack:Ph(n)}}var Wt=[],jr=0,Jc=0;function Al(){for(var e=jr,n=Jc=jr=0;n<e;){var i=Wt[n];Wt[n++]=null;var l=Wt[n];Wt[n++]=null;var c=Wt[n];Wt[n++]=null;var f=Wt[n];if(Wt[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}f!==0&&Em(i,c,f)}}function El(e,n,i,l){Wt[jr++]=e,Wt[jr++]=n,Wt[jr++]=i,Wt[jr++]=l,Jc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Fc(e,n,i,l){return El(e,n,i,l),Tl(e)}function Dr(e,n){return El(e,null,null,n),Tl(e)}function Em(e,n,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var c=!1,f=e.return;f!==null;)f.childLanes|=i,l=f.alternate,l!==null&&(l.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-Bt(i),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=i|536870912),f):null}function Tl(e){if(50<ui)throw ui=0,sf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Mr={};function j_(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,n,i,l){return new j_(e,n,i,l)}function Wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bn(e,n){var i=e.alternate;return i===null?(i=Pt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Tm(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Rl(e,n,i,l,c,f){var p=0;if(l=e,typeof e=="function")Wc(e)&&(p=1);else if(typeof e=="string")p=Mx(e,i,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=Pt(31,i,n,c),e.elementType=te,e.lanes=f,e;case R:return Ya(i.children,c,f,n);case k:p=8,c|=24;break;case M:return e=Pt(12,i,n,c|2),e.elementType=M,e.lanes=f,e;case I:return e=Pt(13,i,n,c),e.elementType=I,e.lanes=f,e;case ie:return e=Pt(19,i,n,c),e.elementType=ie,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:case H:p=10;break e;case z:p=9;break e;case X:p=11;break e;case W:p=14;break e;case xe:p=16,l=null;break e}p=29,i=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=Pt(p,i,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function Ya(e,n,i,l){return e=Pt(7,e,l,n),e.lanes=i,e}function eo(e,n,i){return e=Pt(6,e,null,n),e.lanes=i,e}function to(e,n,i){return n=Pt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var kr=[],zr=0,Nl=null,Ol=0,en=[],tn=0,Xa=null,Zn=1,Pn="";function Ga(e,n){kr[zr++]=Ol,kr[zr++]=Nl,Nl=e,Ol=n}function Rm(e,n,i){en[tn++]=Zn,en[tn++]=Pn,en[tn++]=Xa,Xa=e;var l=Zn;e=Pn;var c=32-Bt(l)-1;l&=~(1<<c),i+=1;var f=32-Bt(n)+c;if(30<f){var p=c-c%5;f=(l&(1<<p)-1).toString(32),l>>=p,c-=p,Zn=1<<32-Bt(n)+c|i<<c|l,Pn=f+e}else Zn=1<<f|i<<c|l,Pn=e}function no(e){e.return!==null&&(Ga(e,1),Rm(e,1,0))}function ao(e){for(;e===Nl;)Nl=kr[--zr],kr[zr]=null,Ol=kr[--zr],kr[zr]=null;for(;e===Xa;)Xa=en[--tn],en[tn]=null,Pn=en[--tn],en[tn]=null,Zn=en[--tn],en[tn]=null}var Rt=null,We=null,De=!1,Qa=null,wn=!1,ro=Error(s(519));function Ia(e){var n=Error(s(418,""));throw Ps(Ft(n,e)),ro}function Nm(e){var n=e.stateNode,i=e.type,l=e.memoizedProps;switch(n[St]=e,n[Ct]=l,i){case"dialog":Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":case"embed":Ae("load",n);break;case"video":case"audio":for(i=0;i<oi.length;i++)Ae(oi[i],n);break;case"source":Ae("error",n);break;case"img":case"image":case"link":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"input":Ae("invalid",n),qh(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),pl(n);break;case"select":Ae("invalid",n);break;case"textarea":Ae("invalid",n),Yh(n,l.value,l.defaultValue,l.children),pl(n)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||l.suppressHydrationWarning===!0||Yg(n.textContent,i)?(l.popover!=null&&(Ae("beforetoggle",n),Ae("toggle",n)),l.onScroll!=null&&Ae("scroll",n),l.onScrollEnd!=null&&Ae("scrollend",n),l.onClick!=null&&(n.onclick=cu),n=!0):n=!1,n||Ia(e)}function Om(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Rt=Rt.return}}function Bs(e){if(e!==Rt)return!1;if(!De)return Om(e),De=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Sf(e.type,e.memoizedProps)),i=!i),i&&We&&Ia(e),Om(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){We=cn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}We=null}}else n===27?(n=We,Aa(e.type)?(e=Tf,Tf=null,We=e):We=n):We=Rt?cn(e.stateNode.nextSibling):null;return!0}function Zs(){We=Rt=null,De=!1}function Cm(){var e=Qa;return e!==null&&(kt===null?kt=e:kt.push.apply(kt,e),Qa=null),e}function Ps(e){Qa===null?Qa=[e]:Qa.push(e)}var so=q(null),Ka=null,$n=null;function ca(e,n,i){K(so,n._currentValue),n._currentValue=i}function Hn(e){e._currentValue=so.current,F(so)}function io(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function lo(e,n,i,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;e:for(;f!==null;){var y=f;f=c;for(var x=0;x<n.length;x++)if(y.context===n[x]){f.lanes|=i,y=f.alternate,y!==null&&(y.lanes|=i),io(f.return,i,e),l||(p=null);break e}f=y.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(s(341));p.lanes|=i,f=p.alternate,f!==null&&(f.lanes|=i),io(p,i,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function $s(e,n,i,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var y=c.type;Zt(c.pendingProps.value,p.value)||(e!==null?e.push(y):e=[y])}}else if(c===Ut.current){if(p=c.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(gi):e=[gi])}c=c.return}e!==null&&lo(n,e,i,l),n.flags|=262144}function Cl(e){for(e=e.firstContext;e!==null;){if(!Zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ja(e){Ka=e,$n=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function wt(e){return jm(Ka,e)}function jl(e,n){return Ka===null&&Ja(e),jm(e,n)}function jm(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},$n===null){if(e===null)throw Error(s(308));$n=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else $n=$n.next=n;return i}var D_=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},M_=r.unstable_scheduleCallback,k_=r.unstable_NormalPriority,it={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uo(){return{controller:new D_,data:new Map,refCount:0}}function Hs(e){e.refCount--,e.refCount===0&&M_(k_,function(){e.controller.abort()})}var qs=null,co=0,Ur=0,Lr=null;function z_(e,n){if(qs===null){var i=qs=[];co=0,Ur=hf(),Lr={status:"pending",value:void 0,then:function(l){i.push(l)}}}return co++,n.then(Dm,Dm),n}function Dm(){if(--co===0&&qs!==null){Lr!==null&&(Lr.status="fulfilled");var e=qs;qs=null,Ur=0,Lr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function U_(e,n){var i=[],l={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<i.length;c++)(0,i[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),l}var Mm=B.S;B.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&z_(e,n),Mm!==null&&Mm(e,n)};var Fa=q(null);function oo(){var e=Fa.current;return e!==null?e:Ve.pooledCache}function Dl(e,n){n===null?K(Fa,Fa.current):K(Fa,n.pool)}function km(){var e=oo();return e===null?null:{parent:it._currentValue,pool:e}}var Vs=Error(s(460)),zm=Error(s(474)),Ml=Error(s(542)),fo={then:function(){}};function Um(e){return e=e.status,e==="fulfilled"||e==="rejected"}function kl(){}function Lm(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(kl,kl),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zm(e),e;default:if(typeof n.status=="string")n.then(kl,kl);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zm(e),e}throw Ys=n,Vs}}var Ys=null;function Bm(){if(Ys===null)throw Error(s(459));var e=Ys;return Ys=null,e}function Zm(e){if(e===Vs||e===Ml)throw Error(s(483))}var oa=!1;function ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mo(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function da(e,n,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ke&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Tl(e),Em(e,null,i),n}return El(e,l,n,i),Tl(e)}function Xs(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,Dh(e,i)}}function po(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var p={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,i=i.next}while(i!==null);f===null?c=f=n:f=f.next=n}else c=f=n;i={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var go=!1;function Gs(){if(go){var e=Lr;if(e!==null)throw e}}function Qs(e,n,i,l){go=!1;var c=e.updateQueue;oa=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var x=y,O=x.next;x.next=null,p===null?f=O:p.next=O,p=x;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,y=Z.lastBaseUpdate,y!==p&&(y===null?Z.firstBaseUpdate=O:y.next=O,Z.lastBaseUpdate=x))}if(f!==null){var $=c.baseState;p=0,Z=O=x=null,y=f;do{var j=y.lane&-536870913,D=j!==y.lane;if(D?(Ee&j)===j:(l&j)===j){j!==0&&j===Ur&&(go=!0),Z!==null&&(Z=Z.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var fe=e,ue=y;j=n;var Pe=i;switch(ue.tag){case 1:if(fe=ue.payload,typeof fe=="function"){$=fe.call(Pe,$,j);break e}$=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ue.payload,j=typeof fe=="function"?fe.call(Pe,$,j):fe,j==null)break e;$=v({},$,j);break e;case 2:oa=!0}}j=y.callback,j!==null&&(e.flags|=64,D&&(e.flags|=8192),D=c.callbacks,D===null?c.callbacks=[j]:D.push(j))}else D={lane:j,tag:y.tag,payload:y.payload,callback:y.callback,next:null},Z===null?(O=Z=D,x=$):Z=Z.next=D,p|=j;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;D=y,y=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);Z===null&&(x=$),c.baseState=x,c.firstBaseUpdate=O,c.lastBaseUpdate=Z,f===null&&(c.shared.lanes=0),_a|=p,e.lanes=p,e.memoizedState=$}}function Pm(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function $m(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Pm(i[e],n)}var Br=q(null),zl=q(0);function Hm(e,n){e=In,K(zl,e),K(Br,n),In=e|n.baseLanes}function yo(){K(zl,In),K(Br,Br.current)}function vo(){In=zl.current,F(Br),F(zl)}var ha=0,_e=null,Be=null,rt=null,Ul=!1,Zr=!1,Wa=!1,Ll=0,Is=0,Pr=null,L_=0;function nt(){throw Error(s(321))}function bo(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Zt(e[i],n[i]))return!1;return!0}function _o(e,n,i,l,c,f){return ha=f,_e=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=e===null||e.memoizedState===null?Ep:Tp,Wa=!1,f=i(l,c),Wa=!1,Zr&&(f=Vm(n,i,l,c)),qm(e),f}function qm(e){B.H=ql;var n=Be!==null&&Be.next!==null;if(ha=0,rt=Be=_e=null,Ul=!1,Is=0,Pr=null,n)throw Error(s(300));e===null||ft||(e=e.dependencies,e!==null&&Cl(e)&&(ft=!0))}function Vm(e,n,i,l){_e=e;var c=0;do{if(Zr&&(Pr=null),Is=0,Zr=!1,25<=c)throw Error(s(301));if(c+=1,rt=Be=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=V_,f=n(i,l)}while(Zr);return f}function B_(){var e=B.H,n=e.useState()[0];return n=typeof n.then=="function"?Ks(n):n,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(_e.flags|=1024),n}function xo(){var e=Ll!==0;return Ll=0,e}function So(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function wo(e){if(Ul){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ul=!1}ha=0,rt=Be=_e=null,Zr=!1,Is=Ll=0,Pr=null}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?_e.memoizedState=rt=e:rt=rt.next=e,rt}function st(){if(Be===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var n=rt===null?_e.memoizedState:rt.next;if(n!==null)rt=n,Be=e;else{if(e===null)throw _e.alternate===null?Error(s(467)):Error(s(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},rt===null?_e.memoizedState=rt=e:rt=rt.next=e}return rt}function Ao(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ks(e){var n=Is;return Is+=1,Pr===null&&(Pr=[]),e=Lm(Pr,e,n),n=_e,(rt===null?n.memoizedState:rt.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?Ep:Tp),e}function Bl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ks(e);if(e.$$typeof===H)return wt(e)}throw Error(s(438,String(e)))}function Eo(e){var n=null,i=_e.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var l=_e.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Ao(),_e.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),l=0;l<e;l++)i[l]=he;return n.index++,i}function qn(e,n){return typeof n=="function"?n(e):n}function Zl(e){var n=st();return To(n,Be,e)}function To(e,n,i){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var y=p=null,x=null,O=n,Z=!1;do{var $=O.lane&-536870913;if($!==O.lane?(Ee&$)===$:(ha&$)===$){var j=O.revertLane;if(j===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),$===Ur&&(Z=!0);else if((ha&j)===j){O=O.next,j===Ur&&(Z=!0);continue}else $={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},x===null?(y=x=$,p=f):x=x.next=$,_e.lanes|=j,_a|=j;$=O.action,Wa&&i(f,$),f=O.hasEagerState?O.eagerState:i(f,$)}else j={lane:$,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},x===null?(y=x=j,p=f):x=x.next=j,_e.lanes|=$,_a|=$;O=O.next}while(O!==null&&O!==n);if(x===null?p=f:x.next=y,!Zt(f,e.memoizedState)&&(ft=!0,Z&&(i=Lr,i!==null)))throw i;e.memoizedState=f,e.baseState=p,e.baseQueue=x,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ro(e){var n=st(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var l=i.dispatch,c=i.pending,f=n.memoizedState;if(c!==null){i.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);Zt(f,n.memoizedState)||(ft=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,l]}function Ym(e,n,i){var l=_e,c=st(),f=De;if(f){if(i===void 0)throw Error(s(407));i=i()}else i=n();var p=!Zt((Be||c).memoizedState,i);p&&(c.memoizedState=i,ft=!0),c=c.queue;var y=Qm.bind(null,l,c,e);if(Js(2048,8,y,[e]),c.getSnapshot!==n||p||rt!==null&&rt.memoizedState.tag&1){if(l.flags|=2048,$r(9,Pl(),Gm.bind(null,l,c,i,n),null),Ve===null)throw Error(s(349));f||(ha&124)!==0||Xm(l,n,i)}return i}function Xm(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=_e.updateQueue,n===null?(n=Ao(),_e.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Gm(e,n,i,l){n.value=i,n.getSnapshot=l,Im(n)&&Km(e)}function Qm(e,n,i){return i(function(){Im(n)&&Km(e)})}function Im(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Zt(e,i)}catch{return!0}}function Km(e){var n=Dr(e,2);n!==null&&Yt(n,e,2)}function No(e){var n=Dt();if(typeof e=="function"){var i=e;if(e=i(),Wa){ia(!0);try{i()}finally{ia(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:e},n}function Jm(e,n,i,l){return e.baseState=i,To(e,Be,typeof l=="function"?l:qn)}function Z_(e,n,i,l,c){if(Hl(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};B.T!==null?i(!0):f.isTransition=!1,l(f),i=n.pending,i===null?(f.next=n.pending=f,Fm(n,f)):(f.next=i.next,n.pending=i.next=f)}}function Fm(e,n){var i=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=B.T,p={};B.T=p;try{var y=i(c,l),x=B.S;x!==null&&x(p,y),Wm(e,n,y)}catch(O){Oo(e,n,O)}finally{B.T=f}}else try{f=i(c,l),Wm(e,n,f)}catch(O){Oo(e,n,O)}}function Wm(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){ep(e,n,l)},function(l){return Oo(e,n,l)}):ep(e,n,i)}function ep(e,n,i){n.status="fulfilled",n.value=i,tp(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Fm(e,i)))}function Oo(e,n,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=i,tp(n),n=n.next;while(n!==l)}e.action=null}function tp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function np(e,n){return n}function ap(e,n){if(De){var i=Ve.formState;if(i!==null){e:{var l=_e;if(De){if(We){t:{for(var c=We,f=wn;c.nodeType!==8;){if(!f){c=null;break t}if(c=cn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){We=cn(c.nextSibling),l=c.data==="F!";break e}}Ia(l)}l=!1}l&&(n=i[0])}}return i=Dt(),i.memoizedState=i.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:np,lastRenderedState:n},i.queue=l,i=Sp.bind(null,_e,l),l.dispatch=i,l=No(!1),f=ko.bind(null,_e,!1,l.queue),l=Dt(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,i=Z_.bind(null,_e,c,f,i),c.dispatch=i,l.memoizedState=e,[n,i,!1]}function rp(e){var n=st();return sp(n,Be,e)}function sp(e,n,i){if(n=To(e,n,np)[0],e=Zl(qn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ks(n)}catch(p){throw p===Vs?Ml:p}else l=n;n=st();var c=n.queue,f=c.dispatch;return i!==n.memoizedState&&(_e.flags|=2048,$r(9,Pl(),P_.bind(null,c,i),null)),[l,f,e]}function P_(e,n){e.action=n}function ip(e){var n=st(),i=Be;if(i!==null)return sp(n,i,e);st(),n=n.memoizedState,i=st();var l=i.queue.dispatch;return i.memoizedState=e,[n,l,!1]}function $r(e,n,i,l){return e={tag:e,create:i,deps:l,inst:n,next:null},n=_e.updateQueue,n===null&&(n=Ao(),_e.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e),e}function Pl(){return{destroy:void 0,resource:void 0}}function lp(){return st().memoizedState}function $l(e,n,i,l){var c=Dt();l=l===void 0?null:l,_e.flags|=e,c.memoizedState=$r(1|n,Pl(),i,l)}function Js(e,n,i,l){var c=st();l=l===void 0?null:l;var f=c.memoizedState.inst;Be!==null&&l!==null&&bo(l,Be.memoizedState.deps)?c.memoizedState=$r(n,f,i,l):(_e.flags|=e,c.memoizedState=$r(1|n,f,i,l))}function up(e,n){$l(8390656,8,e,n)}function cp(e,n){Js(2048,8,e,n)}function op(e,n){return Js(4,2,e,n)}function fp(e,n){return Js(4,4,e,n)}function dp(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function hp(e,n,i){i=i!=null?i.concat([e]):null,Js(4,4,dp.bind(null,n,e),i)}function Co(){}function mp(e,n){var i=st();n=n===void 0?null:n;var l=i.memoizedState;return n!==null&&bo(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function pp(e,n){var i=st();n=n===void 0?null:n;var l=i.memoizedState;if(n!==null&&bo(n,l[1]))return l[0];if(l=e(),Wa){ia(!0);try{e()}finally{ia(!1)}}return i.memoizedState=[l,n],l}function jo(e,n,i){return i===void 0||(ha&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=vg(),_e.lanes|=e,_a|=e,i)}function gp(e,n,i,l){return Zt(i,n)?i:Br.current!==null?(e=jo(e,i,l),Zt(e,n)||(ft=!0),e):(ha&42)===0?(ft=!0,e.memoizedState=i):(e=vg(),_e.lanes|=e,_a|=e,n)}function yp(e,n,i,l,c){var f=G.p;G.p=f!==0&&8>f?f:8;var p=B.T,y={};B.T=y,ko(e,!1,n,i);try{var x=c(),O=B.S;if(O!==null&&O(y,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Z=U_(x,l);Fs(e,n,Z,Vt(e))}else Fs(e,n,l,Vt(e))}catch($){Fs(e,n,{then:function(){},status:"rejected",reason:$},Vt())}finally{G.p=f,B.T=p}}function $_(){}function Do(e,n,i,l){if(e.tag!==5)throw Error(s(476));var c=vp(e).queue;yp(e,c,n,oe,i===null?$_:function(){return bp(e),i(l)})}function vp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:oe},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function bp(e){var n=vp(e).next.queue;Fs(e,n,{},Vt())}function Mo(){return wt(gi)}function _p(){return st().memoizedState}function xp(){return st().memoizedState}function H_(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Vt();e=fa(i);var l=da(n,e,i);l!==null&&(Yt(l,n,i),Xs(l,n,i)),n={cache:uo()},e.payload=n;return}n=n.return}}function q_(e,n,i){var l=Vt();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Hl(e)?wp(n,i):(i=Fc(e,n,i,l),i!==null&&(Yt(i,e,l),Ap(i,n,l)))}function Sp(e,n,i){var l=Vt();Fs(e,n,i,l)}function Fs(e,n,i,l){var c={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Hl(e))wp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,y=f(p,i);if(c.hasEagerState=!0,c.eagerState=y,Zt(y,p))return El(e,n,c,0),Ve===null&&Al(),!1}catch{}finally{}if(i=Fc(e,n,c,l),i!==null)return Yt(i,e,l),Ap(i,n,l),!0}return!1}function ko(e,n,i,l){if(l={lane:2,revertLane:hf(),action:l,hasEagerState:!1,eagerState:null,next:null},Hl(e)){if(n)throw Error(s(479))}else n=Fc(e,i,l,2),n!==null&&Yt(n,e,2)}function Hl(e){var n=e.alternate;return e===_e||n!==null&&n===_e}function wp(e,n){Zr=Ul=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Ap(e,n,i){if((i&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,Dh(e,i)}}var ql={readContext:wt,use:Bl,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt},Ep={readContext:wt,use:Bl,useCallback:function(e,n){return Dt().memoizedState=[e,n===void 0?null:n],e},useContext:wt,useEffect:up,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,$l(4194308,4,dp.bind(null,n,e),i)},useLayoutEffect:function(e,n){return $l(4194308,4,e,n)},useInsertionEffect:function(e,n){$l(4,2,e,n)},useMemo:function(e,n){var i=Dt();n=n===void 0?null:n;var l=e();if(Wa){ia(!0);try{e()}finally{ia(!1)}}return i.memoizedState=[l,n],l},useReducer:function(e,n,i){var l=Dt();if(i!==void 0){var c=i(n);if(Wa){ia(!0);try{i(n)}finally{ia(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=q_.bind(null,_e,e),[l.memoizedState,e]},useRef:function(e){var n=Dt();return e={current:e},n.memoizedState=e},useState:function(e){e=No(e);var n=e.queue,i=Sp.bind(null,_e,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Co,useDeferredValue:function(e,n){var i=Dt();return jo(i,e,n)},useTransition:function(){var e=No(!1);return e=yp.bind(null,_e,e.queue,!0,!1),Dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var l=_e,c=Dt();if(De){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),Ve===null)throw Error(s(349));(Ee&124)!==0||Xm(l,n,i)}c.memoizedState=i;var f={value:i,getSnapshot:n};return c.queue=f,up(Qm.bind(null,l,f,e),[e]),l.flags|=2048,$r(9,Pl(),Gm.bind(null,l,f,i,n),null),i},useId:function(){var e=Dt(),n=Ve.identifierPrefix;if(De){var i=Pn,l=Zn;i=(l&~(1<<32-Bt(l)-1)).toString(32)+i,n=""+n+"R"+i,i=Ll++,0<i&&(n+="H"+i.toString(32)),n+=""}else i=L_++,n=""+n+"r"+i.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Mo,useFormState:ap,useActionState:ap,useOptimistic:function(e){var n=Dt();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=ko.bind(null,_e,!0,i),i.dispatch=n,[e,n]},useMemoCache:Eo,useCacheRefresh:function(){return Dt().memoizedState=H_.bind(null,_e)}},Tp={readContext:wt,use:Bl,useCallback:mp,useContext:wt,useEffect:cp,useImperativeHandle:hp,useInsertionEffect:op,useLayoutEffect:fp,useMemo:pp,useReducer:Zl,useRef:lp,useState:function(){return Zl(qn)},useDebugValue:Co,useDeferredValue:function(e,n){var i=st();return gp(i,Be.memoizedState,e,n)},useTransition:function(){var e=Zl(qn)[0],n=st().memoizedState;return[typeof e=="boolean"?e:Ks(e),n]},useSyncExternalStore:Ym,useId:_p,useHostTransitionStatus:Mo,useFormState:rp,useActionState:rp,useOptimistic:function(e,n){var i=st();return Jm(i,Be,e,n)},useMemoCache:Eo,useCacheRefresh:xp},V_={readContext:wt,use:Bl,useCallback:mp,useContext:wt,useEffect:cp,useImperativeHandle:hp,useInsertionEffect:op,useLayoutEffect:fp,useMemo:pp,useReducer:Ro,useRef:lp,useState:function(){return Ro(qn)},useDebugValue:Co,useDeferredValue:function(e,n){var i=st();return Be===null?jo(i,e,n):gp(i,Be.memoizedState,e,n)},useTransition:function(){var e=Ro(qn)[0],n=st().memoizedState;return[typeof e=="boolean"?e:Ks(e),n]},useSyncExternalStore:Ym,useId:_p,useHostTransitionStatus:Mo,useFormState:ip,useActionState:ip,useOptimistic:function(e,n){var i=st();return Be!==null?Jm(i,Be,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Eo,useCacheRefresh:xp},Hr=null,Ws=0;function Vl(e){var n=Ws;return Ws+=1,Hr===null&&(Hr=[]),Lm(Hr,e,n)}function ei(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Yl(e,n){throw n.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Rp(e){var n=e._init;return n(e._payload)}function Np(e){function n(T,A){if(e){var N=T.deletions;N===null?(T.deletions=[A],T.flags|=16):N.push(A)}}function i(T,A){if(!e)return null;for(;A!==null;)n(T,A),A=A.sibling;return null}function l(T){for(var A=new Map;T!==null;)T.key!==null?A.set(T.key,T):A.set(T.index,T),T=T.sibling;return A}function c(T,A){return T=Bn(T,A),T.index=0,T.sibling=null,T}function f(T,A,N){return T.index=N,e?(N=T.alternate,N!==null?(N=N.index,N<A?(T.flags|=67108866,A):N):(T.flags|=67108866,A)):(T.flags|=1048576,A)}function p(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function y(T,A,N,P){return A===null||A.tag!==6?(A=eo(N,T.mode,P),A.return=T,A):(A=c(A,N),A.return=T,A)}function x(T,A,N,P){var ee=N.type;return ee===R?Z(T,A,N.props.children,P,N.key):A!==null&&(A.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===xe&&Rp(ee)===A.type)?(A=c(A,N.props),ei(A,N),A.return=T,A):(A=Rl(N.type,N.key,N.props,null,T.mode,P),ei(A,N),A.return=T,A)}function O(T,A,N,P){return A===null||A.tag!==4||A.stateNode.containerInfo!==N.containerInfo||A.stateNode.implementation!==N.implementation?(A=to(N,T.mode,P),A.return=T,A):(A=c(A,N.children||[]),A.return=T,A)}function Z(T,A,N,P,ee){return A===null||A.tag!==7?(A=Ya(N,T.mode,P,ee),A.return=T,A):(A=c(A,N),A.return=T,A)}function $(T,A,N){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=eo(""+A,T.mode,N),A.return=T,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case w:return N=Rl(A.type,A.key,A.props,null,T.mode,N),ei(N,A),N.return=T,N;case C:return A=to(A,T.mode,N),A.return=T,A;case xe:var P=A._init;return A=P(A._payload),$(T,A,N)}if(Fe(A)||Re(A))return A=Ya(A,T.mode,N,null),A.return=T,A;if(typeof A.then=="function")return $(T,Vl(A),N);if(A.$$typeof===H)return $(T,jl(T,A),N);Yl(T,A)}return null}function j(T,A,N,P){var ee=A!==null?A.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return ee!==null?null:y(T,A,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case w:return N.key===ee?x(T,A,N,P):null;case C:return N.key===ee?O(T,A,N,P):null;case xe:return ee=N._init,N=ee(N._payload),j(T,A,N,P)}if(Fe(N)||Re(N))return ee!==null?null:Z(T,A,N,P,null);if(typeof N.then=="function")return j(T,A,Vl(N),P);if(N.$$typeof===H)return j(T,A,jl(T,N),P);Yl(T,N)}return null}function D(T,A,N,P,ee){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return T=T.get(N)||null,y(A,T,""+P,ee);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case w:return T=T.get(P.key===null?N:P.key)||null,x(A,T,P,ee);case C:return T=T.get(P.key===null?N:P.key)||null,O(A,T,P,ee);case xe:var Se=P._init;return P=Se(P._payload),D(T,A,N,P,ee)}if(Fe(P)||Re(P))return T=T.get(N)||null,Z(A,T,P,ee,null);if(typeof P.then=="function")return D(T,A,N,Vl(P),ee);if(P.$$typeof===H)return D(T,A,N,jl(A,P),ee);Yl(A,P)}return null}function fe(T,A,N,P){for(var ee=null,Se=null,ae=A,ce=A=0,ht=null;ae!==null&&ce<N.length;ce++){ae.index>ce?(ht=ae,ae=null):ht=ae.sibling;var Oe=j(T,ae,N[ce],P);if(Oe===null){ae===null&&(ae=ht);break}e&&ae&&Oe.alternate===null&&n(T,ae),A=f(Oe,A,ce),Se===null?ee=Oe:Se.sibling=Oe,Se=Oe,ae=ht}if(ce===N.length)return i(T,ae),De&&Ga(T,ce),ee;if(ae===null){for(;ce<N.length;ce++)ae=$(T,N[ce],P),ae!==null&&(A=f(ae,A,ce),Se===null?ee=ae:Se.sibling=ae,Se=ae);return De&&Ga(T,ce),ee}for(ae=l(ae);ce<N.length;ce++)ht=D(ae,T,ce,N[ce],P),ht!==null&&(e&&ht.alternate!==null&&ae.delete(ht.key===null?ce:ht.key),A=f(ht,A,ce),Se===null?ee=ht:Se.sibling=ht,Se=ht);return e&&ae.forEach(function(Oa){return n(T,Oa)}),De&&Ga(T,ce),ee}function ue(T,A,N,P){if(N==null)throw Error(s(151));for(var ee=null,Se=null,ae=A,ce=A=0,ht=null,Oe=N.next();ae!==null&&!Oe.done;ce++,Oe=N.next()){ae.index>ce?(ht=ae,ae=null):ht=ae.sibling;var Oa=j(T,ae,Oe.value,P);if(Oa===null){ae===null&&(ae=ht);break}e&&ae&&Oa.alternate===null&&n(T,ae),A=f(Oa,A,ce),Se===null?ee=Oa:Se.sibling=Oa,Se=Oa,ae=ht}if(Oe.done)return i(T,ae),De&&Ga(T,ce),ee;if(ae===null){for(;!Oe.done;ce++,Oe=N.next())Oe=$(T,Oe.value,P),Oe!==null&&(A=f(Oe,A,ce),Se===null?ee=Oe:Se.sibling=Oe,Se=Oe);return De&&Ga(T,ce),ee}for(ae=l(ae);!Oe.done;ce++,Oe=N.next())Oe=D(ae,T,ce,Oe.value,P),Oe!==null&&(e&&Oe.alternate!==null&&ae.delete(Oe.key===null?ce:Oe.key),A=f(Oe,A,ce),Se===null?ee=Oe:Se.sibling=Oe,Se=Oe);return e&&ae.forEach(function(Yx){return n(T,Yx)}),De&&Ga(T,ce),ee}function Pe(T,A,N,P){if(typeof N=="object"&&N!==null&&N.type===R&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case w:e:{for(var ee=N.key;A!==null;){if(A.key===ee){if(ee=N.type,ee===R){if(A.tag===7){i(T,A.sibling),P=c(A,N.props.children),P.return=T,T=P;break e}}else if(A.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===xe&&Rp(ee)===A.type){i(T,A.sibling),P=c(A,N.props),ei(P,N),P.return=T,T=P;break e}i(T,A);break}else n(T,A);A=A.sibling}N.type===R?(P=Ya(N.props.children,T.mode,P,N.key),P.return=T,T=P):(P=Rl(N.type,N.key,N.props,null,T.mode,P),ei(P,N),P.return=T,T=P)}return p(T);case C:e:{for(ee=N.key;A!==null;){if(A.key===ee)if(A.tag===4&&A.stateNode.containerInfo===N.containerInfo&&A.stateNode.implementation===N.implementation){i(T,A.sibling),P=c(A,N.children||[]),P.return=T,T=P;break e}else{i(T,A);break}else n(T,A);A=A.sibling}P=to(N,T.mode,P),P.return=T,T=P}return p(T);case xe:return ee=N._init,N=ee(N._payload),Pe(T,A,N,P)}if(Fe(N))return fe(T,A,N,P);if(Re(N)){if(ee=Re(N),typeof ee!="function")throw Error(s(150));return N=ee.call(N),ue(T,A,N,P)}if(typeof N.then=="function")return Pe(T,A,Vl(N),P);if(N.$$typeof===H)return Pe(T,A,jl(T,N),P);Yl(T,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,A!==null&&A.tag===6?(i(T,A.sibling),P=c(A,N),P.return=T,T=P):(i(T,A),P=eo(N,T.mode,P),P.return=T,T=P),p(T)):i(T,A)}return function(T,A,N,P){try{Ws=0;var ee=Pe(T,A,N,P);return Hr=null,ee}catch(ae){if(ae===Vs||ae===Ml)throw ae;var Se=Pt(29,ae,null,T.mode);return Se.lanes=P,Se.return=T,Se}finally{}}}var qr=Np(!0),Op=Np(!1),nn=q(null),An=null;function ma(e){var n=e.alternate;K(lt,lt.current&1),K(nn,e),An===null&&(n===null||Br.current!==null||n.memoizedState!==null)&&(An=e)}function Cp(e){if(e.tag===22){if(K(lt,lt.current),K(nn,e),An===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(An=e)}}else pa()}function pa(){K(lt,lt.current),K(nn,nn.current)}function Vn(e){F(nn),An===e&&(An=null),F(lt)}var lt=q(0);function Xl(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Ef(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function zo(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:v({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Uo={enqueueSetState:function(e,n,i){e=e._reactInternals;var l=Vt(),c=fa(l);c.payload=n,i!=null&&(c.callback=i),n=da(e,c,l),n!==null&&(Yt(n,e,l),Xs(n,e,l))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=Vt(),c=fa(l);c.tag=1,c.payload=n,i!=null&&(c.callback=i),n=da(e,c,l),n!==null&&(Yt(n,e,l),Xs(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Vt(),l=fa(i);l.tag=2,n!=null&&(l.callback=n),n=da(e,l,i),n!==null&&(Yt(n,e,i),Xs(n,e,i))}};function jp(e,n,i,l,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Us(i,l)||!Us(c,f):!0}function Dp(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&Uo.enqueueReplaceState(n,n.state,null)}function er(e,n){var i=n;if("ref"in n){i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}if(e=e.defaultProps){i===n&&(i=v({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}var Gl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Mp(e){Gl(e)}function kp(e){console.error(e)}function zp(e){Gl(e)}function Ql(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Up(e,n,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Lo(e,n,i){return i=fa(i),i.tag=3,i.payload={element:null},i.callback=function(){Ql(e,n)},i}function Lp(e){return e=fa(e),e.tag=3,e}function Bp(e,n,i,l){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){Up(n,i,l)}}var p=i.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Up(n,i,l),typeof c!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var y=l.stack;this.componentDidCatch(l.value,{componentStack:y!==null?y:""})})}function Y_(e,n,i,l,c){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=i.alternate,n!==null&&$s(n,i,c,!0),i=nn.current,i!==null){switch(i.tag){case 13:return An===null?uf():i.alternate===null&&et===0&&(et=3),i.flags&=-257,i.flags|=65536,i.lanes=c,l===fo?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([l]):n.add(l),of(e,l,c)),!1;case 22:return i.flags|=65536,l===fo?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([l]):i.add(l)),of(e,l,c)),!1}throw Error(s(435,i.tag))}return of(e,l,c),uf(),!1}if(De)return n=nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==ro&&(e=Error(s(422),{cause:l}),Ps(Ft(e,i)))):(l!==ro&&(n=Error(s(423),{cause:l}),Ps(Ft(n,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Ft(l,i),c=Lo(e.stateNode,l,c),po(e,c),et!==4&&(et=2)),!1;var f=Error(s(520),{cause:l});if(f=Ft(f,i),li===null?li=[f]:li.push(f),et!==4&&(et=2),n===null)return!0;l=Ft(l,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=Lo(i.stateNode,l,e),po(i,e),!1;case 1:if(n=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(xa===null||!xa.has(f))))return i.flags|=65536,c&=-c,i.lanes|=c,c=Lp(c),Bp(c,e,i,l),po(i,c),!1}i=i.return}while(i!==null);return!1}var Zp=Error(s(461)),ft=!1;function pt(e,n,i,l){n.child=e===null?Op(n,null,i,l):qr(n,e.child,i,l)}function Pp(e,n,i,l,c){i=i.render;var f=n.ref;if("ref"in l){var p={};for(var y in l)y!=="ref"&&(p[y]=l[y])}else p=l;return Ja(n),l=_o(e,n,i,p,f,c),y=xo(),e!==null&&!ft?(So(e,n,c),Yn(e,n,c)):(De&&y&&no(n),n.flags|=1,pt(e,n,l,c),n.child)}function $p(e,n,i,l,c){if(e===null){var f=i.type;return typeof f=="function"&&!Wc(f)&&f.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=f,Hp(e,n,f,l,c)):(e=Rl(i.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Yo(e,c)){var p=f.memoizedProps;if(i=i.compare,i=i!==null?i:Us,i(p,l)&&e.ref===n.ref)return Yn(e,n,c)}return n.flags|=1,e=Bn(f,l),e.ref=n.ref,e.return=n,n.child=e}function Hp(e,n,i,l,c){if(e!==null){var f=e.memoizedProps;if(Us(f,l)&&e.ref===n.ref)if(ft=!1,n.pendingProps=l=f,Yo(e,c))(e.flags&131072)!==0&&(ft=!0);else return n.lanes=e.lanes,Yn(e,n,c)}return Bo(e,n,i,l,c)}function qp(e,n,i){var l=n.pendingProps,c=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|i:i,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Vp(e,n,l,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Dl(n,f!==null?f.cachePool:null),f!==null?Hm(n,f):yo(),Cp(n);else return n.lanes=n.childLanes=536870912,Vp(e,n,f!==null?f.baseLanes|i:i,i)}else f!==null?(Dl(n,f.cachePool),Hm(n,f),pa(),n.memoizedState=null):(e!==null&&Dl(n,null),yo(),pa());return pt(e,n,c,i),n.child}function Vp(e,n,i,l){var c=oo();return c=c===null?null:{parent:it._currentValue,pool:c},n.memoizedState={baseLanes:i,cachePool:c},e!==null&&Dl(n,null),yo(),Cp(n),e!==null&&$s(e,n,l,!0),null}function Il(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function Bo(e,n,i,l,c){return Ja(n),i=_o(e,n,i,l,void 0,c),l=xo(),e!==null&&!ft?(So(e,n,c),Yn(e,n,c)):(De&&l&&no(n),n.flags|=1,pt(e,n,i,c),n.child)}function Yp(e,n,i,l,c,f){return Ja(n),n.updateQueue=null,i=Vm(n,l,i,c),qm(e),l=xo(),e!==null&&!ft?(So(e,n,f),Yn(e,n,f)):(De&&l&&no(n),n.flags|=1,pt(e,n,i,f),n.child)}function Xp(e,n,i,l,c){if(Ja(n),n.stateNode===null){var f=Mr,p=i.contextType;typeof p=="object"&&p!==null&&(f=wt(p)),f=new i(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uo,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ho(n),p=i.contextType,f.context=typeof p=="object"&&p!==null?wt(p):Mr,f.state=n.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(zo(n,i,p,l),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Uo.enqueueReplaceState(f,f.state,null),Qs(n,l,f,c),Gs(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var y=n.memoizedProps,x=er(i,y);f.props=x;var O=f.context,Z=i.contextType;p=Mr,typeof Z=="object"&&Z!==null&&(p=wt(Z));var $=i.getDerivedStateFromProps;Z=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",y=n.pendingProps!==y,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y||O!==p)&&Dp(n,f,l,p),oa=!1;var j=n.memoizedState;f.state=j,Qs(n,l,f,c),Gs(),O=n.memoizedState,y||j!==O||oa?(typeof $=="function"&&(zo(n,i,$,l),O=n.memoizedState),(x=oa||jp(n,i,x,l,j,O,p))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=O),f.props=l,f.state=O,f.context=p,l=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,mo(e,n),p=n.memoizedProps,Z=er(i,p),f.props=Z,$=n.pendingProps,j=f.context,O=i.contextType,x=Mr,typeof O=="object"&&O!==null&&(x=wt(O)),y=i.getDerivedStateFromProps,(O=typeof y=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||j!==x)&&Dp(n,f,l,x),oa=!1,j=n.memoizedState,f.state=j,Qs(n,l,f,c),Gs();var D=n.memoizedState;p!==$||j!==D||oa||e!==null&&e.dependencies!==null&&Cl(e.dependencies)?(typeof y=="function"&&(zo(n,i,y,l),D=n.memoizedState),(Z=oa||jp(n,i,Z,l,j,D,x)||e!==null&&e.dependencies!==null&&Cl(e.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,D,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,D,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=D),f.props=l,f.state=D,f.context=x,l=Z):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Il(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=qr(n,e.child,null,c),n.child=qr(n,null,i,c)):pt(e,n,i,c),n.memoizedState=f.state,e=n.child):e=Yn(e,n,c),e}function Gp(e,n,i,l){return Zs(),n.flags|=256,pt(e,n,i,l),n.child}var Zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Po(e){return{baseLanes:e,cachePool:km()}}function $o(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=an),e}function Qp(e,n,i){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(lt.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(De){if(c?ma(n):pa(),De){var y=We,x;if(x=y){e:{for(x=y,y=wn;x.nodeType!==8;){if(!y){y=null;break e}if(x=cn(x.nextSibling),x===null){y=null;break e}}y=x}y!==null?(n.memoizedState={dehydrated:y,treeContext:Xa!==null?{id:Zn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},x=Pt(18,null,null,0),x.stateNode=y,x.return=n,n.child=x,Rt=n,We=null,x=!0):x=!1}x||Ia(n)}if(y=n.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return Ef(y)?n.lanes=32:n.lanes=536870912,null;Vn(n)}return y=l.children,l=l.fallback,c?(pa(),c=n.mode,y=Kl({mode:"hidden",children:y},c),l=Ya(l,c,i,null),y.return=n,l.return=n,y.sibling=l,n.child=y,c=n.child,c.memoizedState=Po(i),c.childLanes=$o(e,p,i),n.memoizedState=Zo,l):(ma(n),Ho(n,y))}if(x=e.memoizedState,x!==null&&(y=x.dehydrated,y!==null)){if(f)n.flags&256?(ma(n),n.flags&=-257,n=qo(e,n,i)):n.memoizedState!==null?(pa(),n.child=e.child,n.flags|=128,n=null):(pa(),c=l.fallback,y=n.mode,l=Kl({mode:"visible",children:l.children},y),c=Ya(c,y,i,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,qr(n,e.child,null,i),l=n.child,l.memoizedState=Po(i),l.childLanes=$o(e,p,i),n.memoizedState=Zo,n=c);else if(ma(n),Ef(y)){if(p=y.nextSibling&&y.nextSibling.dataset,p)var O=p.dgst;p=O,l=Error(s(419)),l.stack="",l.digest=p,Ps({value:l,source:null,stack:null}),n=qo(e,n,i)}else if(ft||$s(e,n,i,!1),p=(i&e.childLanes)!==0,ft||p){if(p=Ve,p!==null&&(l=i&-i,l=(l&42)!==0?1:Ac(l),l=(l&(p.suspendedLanes|i))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,Dr(e,l),Yt(p,e,l),Zp;y.data==="$?"||uf(),n=qo(e,n,i)}else y.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,We=cn(y.nextSibling),Rt=n,De=!0,Qa=null,wn=!1,e!==null&&(en[tn++]=Zn,en[tn++]=Pn,en[tn++]=Xa,Zn=e.id,Pn=e.overflow,Xa=n),n=Ho(n,l.children),n.flags|=4096);return n}return c?(pa(),c=l.fallback,y=n.mode,x=e.child,O=x.sibling,l=Bn(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,O!==null?c=Bn(O,c):(c=Ya(c,y,i,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,y=e.child.memoizedState,y===null?y=Po(i):(x=y.cachePool,x!==null?(O=it._currentValue,x=x.parent!==O?{parent:O,pool:O}:x):x=km(),y={baseLanes:y.baseLanes|i,cachePool:x}),c.memoizedState=y,c.childLanes=$o(e,p,i),n.memoizedState=Zo,l):(ma(n),i=e.child,e=i.sibling,i=Bn(i,{mode:"visible",children:l.children}),i.return=n,i.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=i,n.memoizedState=null,i)}function Ho(e,n){return n=Kl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Kl(e,n){return e=Pt(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qo(e,n,i){return qr(n,e.child,null,i),e=Ho(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ip(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),io(e.return,n,i)}function Vo(e,n,i,l,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=c)}function Kp(e,n,i){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(pt(e,n,l.children,i),l=lt.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ip(e,i,n);else if(e.tag===19)Ip(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(K(lt,l),c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&Xl(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),Vo(n,!1,c,i,f);break;case"backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Xl(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Vo(n,!0,i,null,f);break;case"together":Vo(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Yn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),_a|=n.lanes,(i&n.childLanes)===0)if(e!==null){if($s(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,i=Bn(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Bn(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Yo(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Cl(e)))}function X_(e,n,i){switch(n.tag){case 3:Ye(n,n.stateNode.containerInfo),ca(n,it,e.memoizedState.cache),Zs();break;case 27:case 5:bc(n);break;case 4:Ye(n,n.stateNode.containerInfo);break;case 10:ca(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ma(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Qp(e,n,i):(ma(n),e=Yn(e,n,i),e!==null?e.sibling:null);ma(n);break;case 19:var c=(e.flags&128)!==0;if(l=(i&n.childLanes)!==0,l||($s(e,n,i,!1),l=(i&n.childLanes)!==0),c){if(l)return Kp(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),K(lt,lt.current),l)break;return null;case 22:case 23:return n.lanes=0,qp(e,n,i);case 24:ca(n,it,e.memoizedState.cache)}return Yn(e,n,i)}function Jp(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)ft=!0;else{if(!Yo(e,i)&&(n.flags&128)===0)return ft=!1,X_(e,n,i);ft=(e.flags&131072)!==0}else ft=!1,De&&(n.flags&1048576)!==0&&Rm(n,Ol,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Wc(l)?(e=er(l,e),n.tag=1,n=Xp(null,n,l,e,i)):(n.tag=0,n=Bo(null,n,l,e,i));else{if(l!=null){if(c=l.$$typeof,c===X){n.tag=11,n=Pp(null,n,l,e,i);break e}else if(c===W){n.tag=14,n=$p(null,n,l,e,i);break e}}throw n=Je(l)||l,Error(s(306,n,""))}}return n;case 0:return Bo(e,n,n.type,n.pendingProps,i);case 1:return l=n.type,c=er(l,n.pendingProps),Xp(e,n,l,c,i);case 3:e:{if(Ye(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,mo(e,n),Qs(n,l,null,i);var p=n.memoizedState;if(l=p.cache,ca(n,it,l),l!==f.cache&&lo(n,[it],i,!0),Gs(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Gp(e,n,l,i);break e}else if(l!==c){c=Ft(Error(s(424)),n),Ps(c),n=Gp(e,n,l,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(We=cn(e.firstChild),Rt=n,De=!0,Qa=null,wn=!0,i=Op(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Zs(),l===c){n=Yn(e,n,i);break e}pt(e,n,l,i)}n=n.child}return n;case 26:return Il(e,n),e===null?(i=ty(n.type,null,n.pendingProps,null))?n.memoizedState=i:De||(i=n.type,e=n.pendingProps,l=ou(pe.current).createElement(i),l[St]=n,l[Ct]=e,yt(l,i,e),ot(l),n.stateNode=l):n.memoizedState=ty(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return bc(n),e===null&&De&&(l=n.stateNode=Fg(n.type,n.pendingProps,pe.current),Rt=n,wn=!0,c=We,Aa(n.type)?(Tf=c,We=cn(l.firstChild)):We=c),pt(e,n,n.pendingProps.children,i),Il(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&De&&((c=l=We)&&(l=_x(l,n.type,n.pendingProps,wn),l!==null?(n.stateNode=l,Rt=n,We=cn(l.firstChild),wn=!1,c=!0):c=!1),c||Ia(n)),bc(n),c=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,Sf(c,f)?l=null:p!==null&&Sf(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=_o(e,n,B_,null,null,i),gi._currentValue=c),Il(e,n),pt(e,n,l,i),n.child;case 6:return e===null&&De&&((e=i=We)&&(i=xx(i,n.pendingProps,wn),i!==null?(n.stateNode=i,Rt=n,We=null,e=!0):e=!1),e||Ia(n)),null;case 13:return Qp(e,n,i);case 4:return Ye(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=qr(n,null,l,i):pt(e,n,l,i),n.child;case 11:return Pp(e,n,n.type,n.pendingProps,i);case 7:return pt(e,n,n.pendingProps,i),n.child;case 8:return pt(e,n,n.pendingProps.children,i),n.child;case 12:return pt(e,n,n.pendingProps.children,i),n.child;case 10:return l=n.pendingProps,ca(n,n.type,l.value),pt(e,n,l.children,i),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Ja(n),c=wt(c),l=l(c),n.flags|=1,pt(e,n,l,i),n.child;case 14:return $p(e,n,n.type,n.pendingProps,i);case 15:return Hp(e,n,n.type,n.pendingProps,i);case 19:return Kp(e,n,i);case 31:return l=n.pendingProps,i=n.mode,l={mode:l.mode,children:l.children},e===null?(i=Kl(l,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=Bn(e.child,l),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return qp(e,n,i);case 24:return Ja(n),l=wt(it),e===null?(c=oo(),c===null&&(c=Ve,f=uo(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=i),c=f),n.memoizedState={parent:l,cache:c},ho(n),ca(n,it,c)):((e.lanes&i)!==0&&(mo(e,n),Qs(n,null,null,i),Gs()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ca(n,it,l)):(l=f.cache,ca(n,it,l),l!==c.cache&&lo(n,[it],i,!0))),pt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Xn(e){e.flags|=4}function Fp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!iy(n)){if(n=nn.current,n!==null&&((Ee&4194048)===Ee?An!==null:(Ee&62914560)!==Ee&&(Ee&536870912)===0||n!==An))throw Ys=fo,zm;e.flags|=8192}}function Jl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ch():536870912,e.lanes|=n,Gr|=n)}function ti(e,n){if(!De)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function G_(e,n,i){var l=n.pendingProps;switch(ao(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return Ge(n),null;case 3:return i=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Hn(it),sa(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Bs(n)?Xn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Cm())),Ge(n),null;case 26:return i=n.memoizedState,e===null?(Xn(n),i!==null?(Ge(n),Fp(n,i)):(Ge(n),n.flags&=-16777217)):i?i!==e.memoizedState?(Xn(n),Ge(n),Fp(n,i)):(Ge(n),n.flags&=-16777217):(e.memoizedProps!==l&&Xn(n),Ge(n),n.flags&=-16777217),null;case 27:ul(n),i=pe.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Xn(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Ge(n),null}e=le.current,Bs(n)?Nm(n):(e=Fg(c,l,i),n.stateNode=e,Xn(n))}return Ge(n),null;case 5:if(ul(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Xn(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Ge(n),null}if(e=le.current,Bs(n))Nm(n);else{switch(c=ou(pe.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?c.createElement(i,{is:l.is}):c.createElement(i)}}e[St]=n,e[Ct]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;e:switch(yt(e,i,l),i){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xn(n)}}return Ge(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Xn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=pe.current,Bs(n)){if(e=n.stateNode,i=n.memoizedProps,l=null,c=Rt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[St]=n,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Yg(e.nodeValue,i)),e||Ia(n)}else e=ou(e).createTextNode(l),e[St]=n,n.stateNode=e}return Ge(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Bs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[St]=n}else Zs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),c=!1}else c=Cm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Vn(n),n):(Vn(n),null)}if(Vn(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=l!==null,e=e!==null&&e.memoizedState!==null,i){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),Jl(n,n.updateQueue),Ge(n),null;case 4:return sa(),e===null&&yf(n.stateNode.containerInfo),Ge(n),null;case 10:return Hn(n.type),Ge(n),null;case 19:if(F(lt),c=n.memoizedState,c===null)return Ge(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)ti(c,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Xl(e),f!==null){for(n.flags|=128,ti(c,!1),e=f.updateQueue,n.updateQueue=e,Jl(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Tm(i,e),i=i.sibling;return K(lt,lt.current&1|2),n.child}e=e.sibling}c.tail!==null&&Sn()>eu&&(n.flags|=128,l=!0,ti(c,!1),n.lanes=4194304)}else{if(!l)if(e=Xl(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Jl(n,e),ti(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!De)return Ge(n),null}else 2*Sn()-c.renderingStartTime>eu&&i!==536870912&&(n.flags|=128,l=!0,ti(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Sn(),n.sibling=null,e=lt.current,K(lt,l?e&1|2:e&1),n):(Ge(n),null);case 22:case 23:return Vn(n),vo(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(i&536870912)!==0&&(n.flags&128)===0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),i=n.updateQueue,i!==null&&Jl(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048),e!==null&&F(Fa),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Hn(it),Ge(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Q_(e,n){switch(ao(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Hn(it),sa(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ul(n),null;case 13:if(Vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Zs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return F(lt),null;case 4:return sa(),null;case 10:return Hn(n.type),null;case 22:case 23:return Vn(n),vo(),e!==null&&F(Fa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Hn(it),null;case 25:return null;default:return null}}function Wp(e,n){switch(ao(n),n.tag){case 3:Hn(it),sa();break;case 26:case 27:case 5:ul(n);break;case 4:sa();break;case 13:Vn(n);break;case 19:F(lt);break;case 10:Hn(n.type);break;case 22:case 23:Vn(n),vo(),e!==null&&F(Fa);break;case 24:Hn(it)}}function ni(e,n){try{var i=n.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var c=l.next;i=c;do{if((i.tag&e)===e){l=void 0;var f=i.create,p=i.inst;l=f(),p.destroy=l}i=i.next}while(i!==c)}}catch(y){qe(n,n.return,y)}}function ga(e,n,i){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var p=l.inst,y=p.destroy;if(y!==void 0){p.destroy=void 0,c=n;var x=i,O=y;try{O()}catch(Z){qe(c,x,Z)}}}l=l.next}while(l!==f)}}catch(Z){qe(n,n.return,Z)}}function eg(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{$m(n,i)}catch(l){qe(e,e.return,l)}}}function tg(e,n,i){i.props=er(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){qe(e,n,l)}}function ai(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(c){qe(e,n,c)}}function En(e,n){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(c){qe(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){qe(e,n,c)}else i.current=null}function ng(e){var n=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(c){qe(e,e.return,c)}}function Xo(e,n,i){try{var l=e.stateNode;px(l,e.type,i,n),l[Ct]=n}catch(c){qe(e,e.return,c)}}function ag(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Aa(e.type)||e.tag===4}function Go(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ag(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Aa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qo(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=cu));else if(l!==4&&(l===27&&Aa(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Qo(e,n,i),e=e.sibling;e!==null;)Qo(e,n,i),e=e.sibling}function Fl(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(l!==4&&(l===27&&Aa(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Fl(e,n,i),e=e.sibling;e!==null;)Fl(e,n,i),e=e.sibling}function rg(e){var n=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);yt(n,l,i),n[St]=e,n[Ct]=i}catch(f){qe(e,e.return,f)}}var Gn=!1,at=!1,Io=!1,sg=typeof WeakSet=="function"?WeakSet:Set,dt=null;function I_(e,n){if(e=e.containerInfo,_f=gu,e=gm(e),Xc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var p=0,y=-1,x=-1,O=0,Z=0,$=e,j=null;t:for(;;){for(var D;$!==i||c!==0&&$.nodeType!==3||(y=p+c),$!==f||l!==0&&$.nodeType!==3||(x=p+l),$.nodeType===3&&(p+=$.nodeValue.length),(D=$.firstChild)!==null;)j=$,$=D;for(;;){if($===e)break t;if(j===i&&++O===c&&(y=p),j===f&&++Z===l&&(x=p),(D=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=D}i=y===-1||x===-1?null:{start:y,end:x}}else i=null}i=i||{start:0,end:0}}else i=null;for(xf={focusedElem:e,selectionRange:i},gu=!1,dt=n;dt!==null;)if(n=dt,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,dt=e;else for(;dt!==null;){switch(n=dt,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=n,c=f.memoizedProps,f=f.memoizedState,l=i.stateNode;try{var fe=er(i.type,c,i.elementType===i.type);e=l.getSnapshotBeforeUpdate(fe,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ue){qe(i,i.return,ue)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Af(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Af(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,dt=e;break}dt=n.return}}function ig(e,n,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:ya(e,i),l&4&&ni(5,i);break;case 1:if(ya(e,i),l&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(p){qe(i,i.return,p)}else{var c=er(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){qe(i,i.return,p)}}l&64&&eg(i),l&512&&ai(i,i.return);break;case 3:if(ya(e,i),l&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{$m(e,n)}catch(p){qe(i,i.return,p)}}break;case 27:n===null&&l&4&&rg(i);case 26:case 5:ya(e,i),n===null&&l&4&&ng(i),l&512&&ai(i,i.return);break;case 12:ya(e,i);break;case 13:ya(e,i),l&4&&cg(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=rx.bind(null,i),Sx(e,i))));break;case 22:if(l=i.memoizedState!==null||Gn,!l){n=n!==null&&n.memoizedState!==null||at,c=Gn;var f=at;Gn=l,(at=n)&&!f?va(e,i,(i.subtreeFlags&8772)!==0):ya(e,i),Gn=c,at=f}break;case 30:break;default:ya(e,i)}}function lg(e){var n=e.alternate;n!==null&&(e.alternate=null,lg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Rc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,Mt=!1;function Qn(e,n,i){for(i=i.child;i!==null;)ug(e,n,i),i=i.sibling}function ug(e,n,i){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(As,i)}catch{}switch(i.tag){case 26:at||En(i,n),Qn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:at||En(i,n);var l=Xe,c=Mt;Aa(i.type)&&(Xe=i.stateNode,Mt=!1),Qn(e,n,i),di(i.stateNode),Xe=l,Mt=c;break;case 5:at||En(i,n);case 6:if(l=Xe,c=Mt,Xe=null,Qn(e,n,i),Xe=l,Mt=c,Xe!==null)if(Mt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(i.stateNode)}catch(f){qe(i,n,f)}else try{Xe.removeChild(i.stateNode)}catch(f){qe(i,n,f)}break;case 18:Xe!==null&&(Mt?(e=Xe,Kg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),_i(e)):Kg(Xe,i.stateNode));break;case 4:l=Xe,c=Mt,Xe=i.stateNode.containerInfo,Mt=!0,Qn(e,n,i),Xe=l,Mt=c;break;case 0:case 11:case 14:case 15:at||ga(2,i,n),at||ga(4,i,n),Qn(e,n,i);break;case 1:at||(En(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"&&tg(i,n,l)),Qn(e,n,i);break;case 21:Qn(e,n,i);break;case 22:at=(l=at)||i.memoizedState!==null,Qn(e,n,i),at=l;break;default:Qn(e,n,i)}}function cg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_i(e)}catch(i){qe(n,n.return,i)}}function K_(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new sg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new sg),n;default:throw Error(s(435,e.tag))}}function Ko(e,n){var i=K_(e);n.forEach(function(l){var c=sx.bind(null,e,l);i.has(l)||(i.add(l),l.then(c,c))})}function $t(e,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var c=i[l],f=e,p=n,y=p;e:for(;y!==null;){switch(y.tag){case 27:if(Aa(y.type)){Xe=y.stateNode,Mt=!1;break e}break;case 5:Xe=y.stateNode,Mt=!1;break e;case 3:case 4:Xe=y.stateNode.containerInfo,Mt=!0;break e}y=y.return}if(Xe===null)throw Error(s(160));ug(f,p,c),Xe=null,Mt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)og(n,e),n=n.sibling}var un=null;function og(e,n){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(n,e),Ht(e),l&4&&(ga(3,e,e.return),ni(3,e),ga(5,e,e.return));break;case 1:$t(n,e),Ht(e),l&512&&(at||i===null||En(i,i.return)),l&64&&Gn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var c=un;if($t(n,e),Ht(e),l&512&&(at||i===null||En(i,i.return)),l&4){var f=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Rs]||f[St]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),yt(f,l,i),f[St]=e,ot(f),l=f;break e;case"link":var p=ry("link","href",c).get(l+(i.href||""));if(p){for(var y=0;y<p.length;y++)if(f=p[y],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){p.splice(y,1);break t}}f=c.createElement(l),yt(f,l,i),c.head.appendChild(f);break;case"meta":if(p=ry("meta","content",c).get(l+(i.content||""))){for(y=0;y<p.length;y++)if(f=p[y],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){p.splice(y,1);break t}}f=c.createElement(l),yt(f,l,i),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[St]=e,ot(f),l=f}e.stateNode=l}else sy(c,e.type,e.stateNode);else e.stateNode=ay(c,l,e.memoizedProps);else f!==l?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,l===null?sy(c,e.type,e.stateNode):ay(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Xo(e,e.memoizedProps,i.memoizedProps)}break;case 27:$t(n,e),Ht(e),l&512&&(at||i===null||En(i,i.return)),i!==null&&l&4&&Xo(e,e.memoizedProps,i.memoizedProps);break;case 5:if($t(n,e),Ht(e),l&512&&(at||i===null||En(i,i.return)),e.flags&32){c=e.stateNode;try{Er(c,"")}catch(D){qe(e,e.return,D)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Xo(e,c,i!==null?i.memoizedProps:c)),l&1024&&(Io=!0);break;case 6:if($t(n,e),Ht(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(D){qe(e,e.return,D)}}break;case 3:if(hu=null,c=un,un=fu(n.containerInfo),$t(n,e),un=c,Ht(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{_i(n.containerInfo)}catch(D){qe(e,e.return,D)}Io&&(Io=!1,fg(e));break;case 4:l=un,un=fu(e.stateNode.containerInfo),$t(n,e),Ht(e),un=l;break;case 12:$t(n,e),Ht(e);break;case 13:$t(n,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(nf=Sn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ko(e,l)));break;case 22:c=e.memoizedState!==null;var x=i!==null&&i.memoizedState!==null,O=Gn,Z=at;if(Gn=O||c,at=Z||x,$t(n,e),at=Z,Gn=O,Ht(e),l&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(i===null||x||Gn||at||tr(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){x=i=n;try{if(f=x.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{y=x.stateNode;var $=x.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;y.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(D){qe(x,x.return,D)}}}else if(n.tag===6){if(i===null){x=n;try{x.stateNode.nodeValue=c?"":x.memoizedProps}catch(D){qe(x,x.return,D)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,Ko(e,i))));break;case 19:$t(n,e),Ht(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ko(e,l)));break;case 30:break;case 21:break;default:$t(n,e),Ht(e)}}function Ht(e){var n=e.flags;if(n&2){try{for(var i,l=e.return;l!==null;){if(ag(l)){i=l;break}l=l.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var c=i.stateNode,f=Go(e);Fl(e,f,c);break;case 5:var p=i.stateNode;i.flags&32&&(Er(p,""),i.flags&=-33);var y=Go(e);Fl(e,y,p);break;case 3:case 4:var x=i.stateNode.containerInfo,O=Go(e);Qo(e,O,x);break;default:throw Error(s(161))}}catch(Z){qe(e,e.return,Z)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function fg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;fg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ya(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ig(e,n.alternate,n),n=n.sibling}function tr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ga(4,n,n.return),tr(n);break;case 1:En(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&tg(n,n.return,i),tr(n);break;case 27:di(n.stateNode);case 26:case 5:En(n,n.return),tr(n);break;case 22:n.memoizedState===null&&tr(n);break;case 30:tr(n);break;default:tr(n)}e=e.sibling}}function va(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:va(c,f,i),ni(4,f);break;case 1:if(va(c,f,i),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(O){qe(l,l.return,O)}if(l=f,c=l.updateQueue,c!==null){var y=l.stateNode;try{var x=c.shared.hiddenCallbacks;if(x!==null)for(c.shared.hiddenCallbacks=null,c=0;c<x.length;c++)Pm(x[c],y)}catch(O){qe(l,l.return,O)}}i&&p&64&&eg(f),ai(f,f.return);break;case 27:rg(f);case 26:case 5:va(c,f,i),i&&l===null&&p&4&&ng(f),ai(f,f.return);break;case 12:va(c,f,i);break;case 13:va(c,f,i),i&&p&4&&cg(c,f);break;case 22:f.memoizedState===null&&va(c,f,i),ai(f,f.return);break;case 30:break;default:va(c,f,i)}n=n.sibling}}function Jo(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Hs(i))}function Fo(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Hs(e))}function Tn(e,n,i,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dg(e,n,i,l),n=n.sibling}function dg(e,n,i,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Tn(e,n,i,l),c&2048&&ni(9,n);break;case 1:Tn(e,n,i,l);break;case 3:Tn(e,n,i,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Hs(e)));break;case 12:if(c&2048){Tn(e,n,i,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,y=f.onPostCommit;typeof y=="function"&&y(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){qe(n,n.return,x)}}else Tn(e,n,i,l);break;case 13:Tn(e,n,i,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Tn(e,n,i,l):ri(e,n):f._visibility&2?Tn(e,n,i,l):(f._visibility|=2,Vr(e,n,i,l,(n.subtreeFlags&10256)!==0)),c&2048&&Jo(p,n);break;case 24:Tn(e,n,i,l),c&2048&&Fo(n.alternate,n);break;default:Tn(e,n,i,l)}}function Vr(e,n,i,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,p=n,y=i,x=l,O=p.flags;switch(p.tag){case 0:case 11:case 15:Vr(f,p,y,x,c),ni(8,p);break;case 23:break;case 22:var Z=p.stateNode;p.memoizedState!==null?Z._visibility&2?Vr(f,p,y,x,c):ri(f,p):(Z._visibility|=2,Vr(f,p,y,x,c)),c&&O&2048&&Jo(p.alternate,p);break;case 24:Vr(f,p,y,x,c),c&&O&2048&&Fo(p.alternate,p);break;default:Vr(f,p,y,x,c)}n=n.sibling}}function ri(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,l=n,c=l.flags;switch(l.tag){case 22:ri(i,l),c&2048&&Jo(l.alternate,l);break;case 24:ri(i,l),c&2048&&Fo(l.alternate,l);break;default:ri(i,l)}n=n.sibling}}var si=8192;function Yr(e){if(e.subtreeFlags&si)for(e=e.child;e!==null;)hg(e),e=e.sibling}function hg(e){switch(e.tag){case 26:Yr(e),e.flags&si&&e.memoizedState!==null&&zx(un,e.memoizedState,e.memoizedProps);break;case 5:Yr(e);break;case 3:case 4:var n=un;un=fu(e.stateNode.containerInfo),Yr(e),un=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=si,si=16777216,Yr(e),si=n):Yr(e));break;default:Yr(e)}}function mg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ii(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];dt=l,gg(l,e)}mg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pg(e),e=e.sibling}function pg(e){switch(e.tag){case 0:case 11:case 15:ii(e),e.flags&2048&&ga(9,e,e.return);break;case 3:ii(e);break;case 12:ii(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wl(e)):ii(e);break;default:ii(e)}}function Wl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];dt=l,gg(l,e)}mg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ga(8,n,n.return),Wl(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Wl(n));break;default:Wl(n)}e=e.sibling}}function gg(e,n){for(;dt!==null;){var i=dt;switch(i.tag){case 0:case 11:case 15:ga(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Hs(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,dt=l;else e:for(i=e;dt!==null;){l=dt;var c=l.sibling,f=l.return;if(lg(l),l===i){dt=null;break e}if(c!==null){c.return=f,dt=c;break e}dt=f}}}var J_={getCacheForType:function(e){var n=wt(it),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},F_=typeof WeakMap=="function"?WeakMap:Map,ke=0,Ve=null,we=null,Ee=0,ze=0,qt=null,ba=!1,Xr=!1,Wo=!1,In=0,et=0,_a=0,nr=0,ef=0,an=0,Gr=0,li=null,kt=null,tf=!1,nf=0,eu=1/0,tu=null,xa=null,gt=0,Sa=null,Qr=null,Ir=0,af=0,rf=null,yg=null,ui=0,sf=null;function Vt(){if((ke&2)!==0&&Ee!==0)return Ee&-Ee;if(B.T!==null){var e=Ur;return e!==0?e:hf()}return Mh()}function vg(){an===0&&(an=(Ee&536870912)===0||De?Oh():536870912);var e=nn.current;return e!==null&&(e.flags|=32),an}function Yt(e,n,i){(e===Ve&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(Kr(e,0),wa(e,Ee,an,!1)),Ts(e,i),((ke&2)===0||e!==Ve)&&(e===Ve&&((ke&2)===0&&(nr|=i),et===4&&wa(e,Ee,an,!1)),Rn(e))}function bg(e,n,i){if((ke&6)!==0)throw Error(s(327));var l=!i&&(n&124)===0&&(n&e.expiredLanes)===0||Es(e,n),c=l?tx(e,n):cf(e,n,!0),f=l;do{if(c===0){Xr&&!l&&wa(e,n,0,!1);break}else{if(i=e.current.alternate,f&&!W_(i)){c=cf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var y=e;c=li;var x=y.current.memoizedState.isDehydrated;if(x&&(Kr(y,p).flags|=256),p=cf(y,p,!1),p!==2){if(Wo&&!x){y.errorRecoveryDisabledLanes|=f,nr|=f,c=4;break e}f=kt,kt=c,f!==null&&(kt===null?kt=f:kt.push.apply(kt,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){Kr(e,0),wa(e,n,0,!0);break}e:{switch(l=e,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:wa(l,n,an,!ba);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=nf+300-Sn(),10<c)){if(wa(l,n,an,!ba),dl(l,0,!0)!==0)break e;l.timeoutHandle=Qg(_g.bind(null,l,i,kt,tu,tf,n,an,nr,Gr,ba,f,2,-0,0),c);break e}_g(l,i,kt,tu,tf,n,an,nr,Gr,ba,f,0,-0,0)}}break}while(!0);Rn(e)}function _g(e,n,i,l,c,f,p,y,x,O,Z,$,j,D){if(e.timeoutHandle=-1,$=n.subtreeFlags,($&8192||($&16785408)===16785408)&&(pi={stylesheets:null,count:0,unsuspend:kx},hg(n),$=Ux(),$!==null)){e.cancelPendingCommit=$(Rg.bind(null,e,n,f,i,l,c,p,y,x,Z,1,j,D)),wa(e,f,p,!O);return}Rg(e,n,f,i,l,c,p,y,x)}function W_(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var c=i[l],f=c.getSnapshot;c=c.value;try{if(!Zt(f(),c))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function wa(e,n,i,l){n&=~ef,n&=~nr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-Bt(c),p=1<<f;l[f]=-1,c&=~p}i!==0&&jh(e,i,n)}function nu(){return(ke&6)===0?(ci(0),!1):!0}function lf(){if(we!==null){if(ze===0)var e=we.return;else e=we,$n=Ka=null,wo(e),Hr=null,Ws=0,e=we;for(;e!==null;)Wp(e.alternate,e),e=e.return;we=null}}function Kr(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,yx(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),lf(),Ve=e,we=i=Bn(e.current,null),Ee=n,ze=0,qt=null,ba=!1,Xr=Es(e,n),Wo=!1,Gr=an=ef=nr=_a=et=0,kt=li=null,tf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-Bt(l),f=1<<c;n|=e[c],l&=~f}return In=n,Al(),i}function xg(e,n){_e=null,B.H=ql,n===Vs||n===Ml?(n=Bm(),ze=3):n===zm?(n=Bm(),ze=4):ze=n===Zp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qt=n,we===null&&(et=1,Ql(e,Ft(n,e.current)))}function Sg(){var e=B.H;return B.H=ql,e===null?ql:e}function wg(){var e=B.A;return B.A=J_,e}function uf(){et=4,ba||(Ee&4194048)!==Ee&&nn.current!==null||(Xr=!0),(_a&134217727)===0&&(nr&134217727)===0||Ve===null||wa(Ve,Ee,an,!1)}function cf(e,n,i){var l=ke;ke|=2;var c=Sg(),f=wg();(Ve!==e||Ee!==n)&&(tu=null,Kr(e,n)),n=!1;var p=et;e:do try{if(ze!==0&&we!==null){var y=we,x=qt;switch(ze){case 8:lf(),p=6;break e;case 3:case 2:case 9:case 6:nn.current===null&&(n=!0);var O=ze;if(ze=0,qt=null,Jr(e,y,x,O),i&&Xr){p=0;break e}break;default:O=ze,ze=0,qt=null,Jr(e,y,x,O)}}ex(),p=et;break}catch(Z){xg(e,Z)}while(!0);return n&&e.shellSuspendCounter++,$n=Ka=null,ke=l,B.H=c,B.A=f,we===null&&(Ve=null,Ee=0,Al()),p}function ex(){for(;we!==null;)Ag(we)}function tx(e,n){var i=ke;ke|=2;var l=Sg(),c=wg();Ve!==e||Ee!==n?(tu=null,eu=Sn()+500,Kr(e,n)):Xr=Es(e,n);e:do try{if(ze!==0&&we!==null){n=we;var f=qt;t:switch(ze){case 1:ze=0,qt=null,Jr(e,n,f,1);break;case 2:case 9:if(Um(f)){ze=0,qt=null,Eg(n);break}n=function(){ze!==2&&ze!==9||Ve!==e||(ze=7),Rn(e)},f.then(n,n);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Um(f)?(ze=0,qt=null,Eg(n)):(ze=0,qt=null,Jr(e,n,f,7));break;case 5:var p=null;switch(we.tag){case 26:p=we.memoizedState;case 5:case 27:var y=we;if(!p||iy(p)){ze=0,qt=null;var x=y.sibling;if(x!==null)we=x;else{var O=y.return;O!==null?(we=O,au(O)):we=null}break t}}ze=0,qt=null,Jr(e,n,f,5);break;case 6:ze=0,qt=null,Jr(e,n,f,6);break;case 8:lf(),et=6;break e;default:throw Error(s(462))}}nx();break}catch(Z){xg(e,Z)}while(!0);return $n=Ka=null,B.H=l,B.A=c,ke=i,we!==null?0:(Ve=null,Ee=0,Al(),et)}function nx(){for(;we!==null&&!Ab();)Ag(we)}function Ag(e){var n=Jp(e.alternate,e,In);e.memoizedProps=e.pendingProps,n===null?au(e):we=n}function Eg(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=Yp(i,n,n.pendingProps,n.type,void 0,Ee);break;case 11:n=Yp(i,n,n.pendingProps,n.type.render,n.ref,Ee);break;case 5:wo(n);default:Wp(i,n),n=we=Tm(n,In),n=Jp(i,n,In)}e.memoizedProps=e.pendingProps,n===null?au(e):we=n}function Jr(e,n,i,l){$n=Ka=null,wo(n),Hr=null,Ws=0;var c=n.return;try{if(Y_(e,c,n,i,Ee)){et=1,Ql(e,Ft(i,e.current)),we=null;return}}catch(f){if(c!==null)throw we=c,f;et=1,Ql(e,Ft(i,e.current)),we=null;return}n.flags&32768?(De||l===1?e=!0:Xr||(Ee&536870912)!==0?e=!1:(ba=e=!0,(l===2||l===9||l===3||l===6)&&(l=nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tg(n,e)):au(n)}function au(e){var n=e;do{if((n.flags&32768)!==0){Tg(n,ba);return}e=n.return;var i=G_(n.alternate,n,In);if(i!==null){we=i;return}if(n=n.sibling,n!==null){we=n;return}we=n=e}while(n!==null);et===0&&(et=5)}function Tg(e,n){do{var i=Q_(e.alternate,e);if(i!==null){i.flags&=32767,we=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){we=e;return}we=e=i}while(e!==null);et=6,we=null}function Rg(e,n,i,l,c,f,p,y,x){e.cancelPendingCommit=null;do ru();while(gt!==0);if((ke&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Jc,kb(e,i,f,p,y,x),e===Ve&&(we=Ve=null,Ee=0),Qr=n,Sa=e,Ir=i,af=f,rf=c,yg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ix(cl,function(){return Dg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,c=G.p,G.p=2,p=ke,ke|=4;try{I_(e,n,i)}finally{ke=p,G.p=c,B.T=l}}gt=1,Ng(),Og(),Cg()}}function Ng(){if(gt===1){gt=0;var e=Sa,n=Qr,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=B.T,B.T=null;var l=G.p;G.p=2;var c=ke;ke|=4;try{og(n,e);var f=xf,p=gm(e.containerInfo),y=f.focusedElem,x=f.selectionRange;if(p!==y&&y&&y.ownerDocument&&pm(y.ownerDocument.documentElement,y)){if(x!==null&&Xc(y)){var O=x.start,Z=x.end;if(Z===void 0&&(Z=O),"selectionStart"in y)y.selectionStart=O,y.selectionEnd=Math.min(Z,y.value.length);else{var $=y.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var D=j.getSelection(),fe=y.textContent.length,ue=Math.min(x.start,fe),Pe=x.end===void 0?ue:Math.min(x.end,fe);!D.extend&&ue>Pe&&(p=Pe,Pe=ue,ue=p);var T=mm(y,ue),A=mm(y,Pe);if(T&&A&&(D.rangeCount!==1||D.anchorNode!==T.node||D.anchorOffset!==T.offset||D.focusNode!==A.node||D.focusOffset!==A.offset)){var N=$.createRange();N.setStart(T.node,T.offset),D.removeAllRanges(),ue>Pe?(D.addRange(N),D.extend(A.node,A.offset)):(N.setEnd(A.node,A.offset),D.addRange(N))}}}}for($=[],D=y;D=D.parentNode;)D.nodeType===1&&$.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<$.length;y++){var P=$[y];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}gu=!!_f,xf=_f=null}finally{ke=c,G.p=l,B.T=i}}e.current=n,gt=2}}function Og(){if(gt===2){gt=0;var e=Sa,n=Qr,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=B.T,B.T=null;var l=G.p;G.p=2;var c=ke;ke|=4;try{ig(e,n.alternate,n)}finally{ke=c,G.p=l,B.T=i}}gt=3}}function Cg(){if(gt===4||gt===3){gt=0,Eb();var e=Sa,n=Qr,i=Ir,l=yg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?gt=5:(gt=0,Qr=Sa=null,jg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(xa=null),Ec(i),n=n.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(As,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=B.T,c=G.p,G.p=2,B.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var y=l[p];f(y.value,{componentStack:y.stack})}}finally{B.T=n,G.p=c}}(Ir&3)!==0&&ru(),Rn(e),c=e.pendingLanes,(i&4194090)!==0&&(c&42)!==0?e===sf?ui++:(ui=0,sf=e):ui=0,ci(0)}}function jg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Hs(n)))}function ru(e){return Ng(),Og(),Cg(),Dg()}function Dg(){if(gt!==5)return!1;var e=Sa,n=af;af=0;var i=Ec(Ir),l=B.T,c=G.p;try{G.p=32>i?32:i,B.T=null,i=rf,rf=null;var f=Sa,p=Ir;if(gt=0,Qr=Sa=null,Ir=0,(ke&6)!==0)throw Error(s(331));var y=ke;if(ke|=4,pg(f.current),dg(f,f.current,p,i),ke=y,ci(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(As,f)}catch{}return!0}finally{G.p=c,B.T=l,jg(e,n)}}function Mg(e,n,i){n=Ft(i,n),n=Lo(e.stateNode,n,2),e=da(e,n,2),e!==null&&(Ts(e,2),Rn(e))}function qe(e,n,i){if(e.tag===3)Mg(e,e,i);else for(;n!==null;){if(n.tag===3){Mg(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xa===null||!xa.has(l))){e=Ft(i,e),i=Lp(2),l=da(n,i,2),l!==null&&(Bp(i,l,n,e),Ts(l,2),Rn(l));break}}n=n.return}}function of(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new F_;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(i)||(Wo=!0,c.add(i),e=ax.bind(null,e,n,i),n.then(e,e))}function ax(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ve===e&&(Ee&i)===i&&(et===4||et===3&&(Ee&62914560)===Ee&&300>Sn()-nf?(ke&2)===0&&Kr(e,0):ef|=i,Gr===Ee&&(Gr=0)),Rn(e)}function kg(e,n){n===0&&(n=Ch()),e=Dr(e,n),e!==null&&(Ts(e,n),Rn(e))}function rx(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),kg(e,i)}function sx(e,n){var i=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),kg(e,i)}function ix(e,n){return xc(e,n)}var su=null,Fr=null,ff=!1,iu=!1,df=!1,ar=0;function Rn(e){e!==Fr&&e.next===null&&(Fr===null?su=Fr=e:Fr=Fr.next=e),iu=!0,ff||(ff=!0,ux())}function ci(e,n){if(!df&&iu){df=!0;do for(var i=!1,l=su;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var p=l.suspendedLanes,y=l.pingedLanes;f=(1<<31-Bt(42|e)+1)-1,f&=c&~(p&~y),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Bg(l,f))}else f=Ee,f=dl(l,l===Ve?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Es(l,f)||(i=!0,Bg(l,f));l=l.next}while(i);df=!1}}function lx(){zg()}function zg(){iu=ff=!1;var e=0;ar!==0&&(gx()&&(e=ar),ar=0);for(var n=Sn(),i=null,l=su;l!==null;){var c=l.next,f=Ug(l,n);f===0?(l.next=null,i===null?su=c:i.next=c,c===null&&(Fr=i)):(i=l,(e!==0||(f&3)!==0)&&(iu=!0)),l=c}ci(e)}function Ug(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Bt(f),y=1<<p,x=c[p];x===-1?((y&i)===0||(y&l)!==0)&&(c[p]=Mb(y,n)):x<=n&&(e.expiredLanes|=y),f&=~y}if(n=Ve,i=Ee,i=dl(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===n&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Sc(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Es(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(l!==null&&Sc(l),Ec(i)){case 2:case 8:i=Rh;break;case 32:i=cl;break;case 268435456:i=Nh;break;default:i=cl}return l=Lg.bind(null,e),i=xc(i,l),e.callbackPriority=n,e.callbackNode=i,n}return l!==null&&l!==null&&Sc(l),e.callbackPriority=2,e.callbackNode=null,2}function Lg(e,n){if(gt!==0&&gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ru()&&e.callbackNode!==i)return null;var l=Ee;return l=dl(e,e===Ve?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(bg(e,l,n),Ug(e,Sn()),e.callbackNode!=null&&e.callbackNode===i?Lg.bind(null,e):null)}function Bg(e,n){if(ru())return null;bg(e,n,!0)}function ux(){vx(function(){(ke&6)!==0?xc(Th,lx):zg()})}function hf(){return ar===0&&(ar=Oh()),ar}function Zg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yl(""+e)}function Pg(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function cx(e,n,i,l,c){if(n==="submit"&&i&&i.stateNode===c){var f=Zg((c[Ct]||null).action),p=l.submitter;p&&(n=(n=p[Ct]||null)?Zg(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var y=new xl("action","action",null,l,c);e.push({event:y,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ar!==0){var x=p?Pg(c,p):new FormData(c);Do(i,{pending:!0,data:x,method:c.method,action:f},null,x)}}else typeof f=="function"&&(y.preventDefault(),x=p?Pg(c,p):new FormData(c),Do(i,{pending:!0,data:x,method:c.method,action:f},f,x))},currentTarget:c}]})}}for(var mf=0;mf<Kc.length;mf++){var pf=Kc[mf],ox=pf.toLowerCase(),fx=pf[0].toUpperCase()+pf.slice(1);ln(ox,"on"+fx)}ln(bm,"onAnimationEnd"),ln(_m,"onAnimationIteration"),ln(xm,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(N_,"onTransitionRun"),ln(O_,"onTransitionStart"),ln(C_,"onTransitionCancel"),ln(Sm,"onTransitionEnd"),Sr("onMouseEnter",["mouseout","mouseover"]),Sr("onMouseLeave",["mouseout","mouseover"]),Sr("onPointerEnter",["pointerout","pointerover"]),Sr("onPointerLeave",["pointerout","pointerover"]),$a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$a("onBeforeInput",["compositionend","keypress","textInput","paste"]),$a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oi));function $g(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],c=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var y=l[p],x=y.instance,O=y.currentTarget;if(y=y.listener,x!==f&&c.isPropagationStopped())break e;f=y,c.currentTarget=O;try{f(c)}catch(Z){Gl(Z)}c.currentTarget=null,f=x}else for(p=0;p<l.length;p++){if(y=l[p],x=y.instance,O=y.currentTarget,y=y.listener,x!==f&&c.isPropagationStopped())break e;f=y,c.currentTarget=O;try{f(c)}catch(Z){Gl(Z)}c.currentTarget=null,f=x}}}}function Ae(e,n){var i=n[Tc];i===void 0&&(i=n[Tc]=new Set);var l=e+"__bubble";i.has(l)||(Hg(n,e,2,!1),i.add(l))}function gf(e,n,i){var l=0;n&&(l|=4),Hg(i,e,l,n)}var lu="_reactListening"+Math.random().toString(36).slice(2);function yf(e){if(!e[lu]){e[lu]=!0,zh.forEach(function(i){i!=="selectionchange"&&(dx.has(i)||gf(i,!1,e),gf(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lu]||(n[lu]=!0,gf("selectionchange",!1,n))}}function Hg(e,n,i,l){switch(dy(n)){case 2:var c=Zx;break;case 8:c=Px;break;default:c=jf}i=c.bind(null,n,i,e),c=void 0,!Lc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function vf(e,n,i,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var y=l.stateNode.containerInfo;if(y===c)break;if(p===4)for(p=l.return;p!==null;){var x=p.tag;if((x===3||x===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;y!==null;){if(p=br(y),p===null)return;if(x=p.tag,x===5||x===6||x===26||x===27){l=f=p;continue e}y=y.parentNode}}l=l.return}Ih(function(){var O=f,Z=zc(i),$=[];e:{var j=wm.get(e);if(j!==void 0){var D=xl,fe=e;switch(e){case"keypress":if(bl(i)===0)break e;case"keydown":case"keyup":D=i_;break;case"focusin":fe="focus",D=$c;break;case"focusout":fe="blur",D=$c;break;case"beforeblur":case"afterblur":D=$c;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=Qb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=c_;break;case bm:case _m:case xm:D=Jb;break;case Sm:D=f_;break;case"scroll":case"scrollend":D=Xb;break;case"wheel":D=h_;break;case"copy":case"cut":case"paste":D=Wb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=em;break;case"toggle":case"beforetoggle":D=p_}var ue=(n&4)!==0,Pe=!ue&&(e==="scroll"||e==="scrollend"),T=ue?j!==null?j+"Capture":null:j;ue=[];for(var A=O,N;A!==null;){var P=A;if(N=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||N===null||T===null||(P=Os(A,T),P!=null&&ue.push(fi(A,P,N))),Pe)break;A=A.return}0<ue.length&&(j=new D(j,fe,null,i,Z),$.push({event:j,listeners:ue}))}}if((n&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",j&&i!==kc&&(fe=i.relatedTarget||i.fromElement)&&(br(fe)||fe[vr]))break e;if((D||j)&&(j=Z.window===Z?Z:(j=Z.ownerDocument)?j.defaultView||j.parentWindow:window,D?(fe=i.relatedTarget||i.toElement,D=O,fe=fe?br(fe):null,fe!==null&&(Pe=o(fe),ue=fe.tag,fe!==Pe||ue!==5&&ue!==27&&ue!==6)&&(fe=null)):(D=null,fe=O),D!==fe)){if(ue=Fh,P="onMouseLeave",T="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ue=em,P="onPointerLeave",T="onPointerEnter",A="pointer"),Pe=D==null?j:Ns(D),N=fe==null?j:Ns(fe),j=new ue(P,A+"leave",D,i,Z),j.target=Pe,j.relatedTarget=N,P=null,br(Z)===O&&(ue=new ue(T,A+"enter",fe,i,Z),ue.target=N,ue.relatedTarget=Pe,P=ue),Pe=P,D&&fe)t:{for(ue=D,T=fe,A=0,N=ue;N;N=Wr(N))A++;for(N=0,P=T;P;P=Wr(P))N++;for(;0<A-N;)ue=Wr(ue),A--;for(;0<N-A;)T=Wr(T),N--;for(;A--;){if(ue===T||T!==null&&ue===T.alternate)break t;ue=Wr(ue),T=Wr(T)}ue=null}else ue=null;D!==null&&qg($,j,D,ue,!1),fe!==null&&Pe!==null&&qg($,Pe,fe,ue,!0)}}e:{if(j=O?Ns(O):window,D=j.nodeName&&j.nodeName.toLowerCase(),D==="select"||D==="input"&&j.type==="file")var ee=um;else if(im(j))if(cm)ee=E_;else{ee=w_;var Se=S_}else D=j.nodeName,!D||D.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?O&&Mc(O.elementType)&&(ee=um):ee=A_;if(ee&&(ee=ee(e,O))){lm($,ee,i,Z);break e}Se&&Se(e,j,O),e==="focusout"&&O&&j.type==="number"&&O.memoizedProps.value!=null&&Dc(j,"number",j.value)}switch(Se=O?Ns(O):window,e){case"focusin":(im(Se)||Se.contentEditable==="true")&&(Or=Se,Gc=O,Ls=null);break;case"focusout":Ls=Gc=Or=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,ym($,i,Z);break;case"selectionchange":if(R_)break;case"keydown":case"keyup":ym($,i,Z)}var ae;if(qc)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Nr?rm(e,i)&&(ce="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ce="onCompositionStart");ce&&(tm&&i.locale!=="ko"&&(Nr||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Nr&&(ae=Kh()):(ua=Z,Bc="value"in ua?ua.value:ua.textContent,Nr=!0)),Se=uu(O,ce),0<Se.length&&(ce=new Wh(ce,e,null,i,Z),$.push({event:ce,listeners:Se}),ae?ce.data=ae:(ae=sm(i),ae!==null&&(ce.data=ae)))),(ae=y_?v_(e,i):b_(e,i))&&(ce=uu(O,"onBeforeInput"),0<ce.length&&(Se=new Wh("onBeforeInput","beforeinput",null,i,Z),$.push({event:Se,listeners:ce}),Se.data=ae)),cx($,e,O,i,Z)}$g($,n)})}function fi(e,n,i){return{instance:e,listener:n,currentTarget:i}}function uu(e,n){for(var i=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Os(e,i),c!=null&&l.unshift(fi(e,c,f)),c=Os(e,n),c!=null&&l.push(fi(e,c,f))),e.tag===3)return l;e=e.return}return[]}function Wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qg(e,n,i,l,c){for(var f=n._reactName,p=[];i!==null&&i!==l;){var y=i,x=y.alternate,O=y.stateNode;if(y=y.tag,x!==null&&x===l)break;y!==5&&y!==26&&y!==27||O===null||(x=O,c?(O=Os(i,f),O!=null&&p.unshift(fi(i,O,x))):c||(O=Os(i,f),O!=null&&p.push(fi(i,O,x)))),i=i.return}p.length!==0&&e.push({event:n,listeners:p})}var hx=/\r\n?/g,mx=/\u0000|\uFFFD/g;function Vg(e){return(typeof e=="string"?e:""+e).replace(hx,`
`).replace(mx,"")}function Yg(e,n){return n=Vg(n),Vg(e)===n}function cu(){}function Ze(e,n,i,l,c,f){switch(i){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Er(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Er(e,""+l);break;case"className":ml(e,"class",l);break;case"tabIndex":ml(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ml(e,i,l);break;case"style":Gh(e,l,f);break;case"data":if(n!=="object"){ml(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=yl(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(n!=="input"&&Ze(e,n,"name",c.name,c,null),Ze(e,n,"formEncType",c.formEncType,c,null),Ze(e,n,"formMethod",c.formMethod,c,null),Ze(e,n,"formTarget",c.formTarget,c,null)):(Ze(e,n,"encType",c.encType,c,null),Ze(e,n,"method",c.method,c,null),Ze(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=yl(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=cu);break;case"onScroll":l!=null&&Ae("scroll",e);break;case"onScrollEnd":l!=null&&Ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=yl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":Ae("beforetoggle",e),Ae("toggle",e),hl(e,"popover",l);break;case"xlinkActuate":Un(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Un(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Un(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Un(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Un(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Un(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Un(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Un(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Un(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hl(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Vb.get(i)||i,hl(e,i,l))}}function bf(e,n,i,l,c,f){switch(i){case"style":Gh(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof l=="string"?Er(e,l):(typeof l=="number"||typeof l=="bigint")&&Er(e,""+l);break;case"onScroll":l!=null&&Ae("scroll",e);break;case"onScrollEnd":l!=null&&Ae("scrollend",e);break;case"onClick":l!=null&&(e.onclick=cu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uh.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),n=i.slice(2,c?i.length-7:void 0),f=e[Ct]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,l,c);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):hl(e,i,l)}}}function yt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",e),Ae("load",e);var l=!1,c=!1,f;for(f in i)if(i.hasOwnProperty(f)){var p=i[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ze(e,n,f,p,i,null)}}c&&Ze(e,n,"srcSet",i.srcSet,i,null),l&&Ze(e,n,"src",i.src,i,null);return;case"input":Ae("invalid",e);var y=f=p=c=null,x=null,O=null;for(l in i)if(i.hasOwnProperty(l)){var Z=i[l];if(Z!=null)switch(l){case"name":c=Z;break;case"type":p=Z;break;case"checked":x=Z;break;case"defaultChecked":O=Z;break;case"value":f=Z;break;case"defaultValue":y=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:Ze(e,n,l,Z,i,null)}}qh(e,f,y,x,O,p,c,!1),pl(e);return;case"select":Ae("invalid",e),l=p=f=null;for(c in i)if(i.hasOwnProperty(c)&&(y=i[c],y!=null))switch(c){case"value":f=y;break;case"defaultValue":p=y;break;case"multiple":l=y;default:Ze(e,n,c,y,i,null)}n=f,i=p,e.multiple=!!l,n!=null?Ar(e,!!l,n,!1):i!=null&&Ar(e,!!l,i,!0);return;case"textarea":Ae("invalid",e),f=c=l=null;for(p in i)if(i.hasOwnProperty(p)&&(y=i[p],y!=null))switch(p){case"value":l=y;break;case"defaultValue":c=y;break;case"children":f=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:Ze(e,n,p,y,i,null)}Yh(e,l,c,f),pl(e);return;case"option":for(x in i)if(i.hasOwnProperty(x)&&(l=i[x],l!=null))switch(x){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(e,n,x,l,i,null)}return;case"dialog":Ae("beforetoggle",e),Ae("toggle",e),Ae("cancel",e),Ae("close",e);break;case"iframe":case"object":Ae("load",e);break;case"video":case"audio":for(l=0;l<oi.length;l++)Ae(oi[l],e);break;case"image":Ae("error",e),Ae("load",e);break;case"details":Ae("toggle",e);break;case"embed":case"source":case"link":Ae("error",e),Ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in i)if(i.hasOwnProperty(O)&&(l=i[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ze(e,n,O,l,i,null)}return;default:if(Mc(n)){for(Z in i)i.hasOwnProperty(Z)&&(l=i[Z],l!==void 0&&bf(e,n,Z,l,i,void 0));return}}for(y in i)i.hasOwnProperty(y)&&(l=i[y],l!=null&&Ze(e,n,y,l,i,null))}function px(e,n,i,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,y=null,x=null,O=null,Z=null;for(D in i){var $=i[D];if(i.hasOwnProperty(D)&&$!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":x=$;default:l.hasOwnProperty(D)||Ze(e,n,D,null,l,$)}}for(var j in l){var D=l[j];if($=i[j],l.hasOwnProperty(j)&&(D!=null||$!=null))switch(j){case"type":f=D;break;case"name":c=D;break;case"checked":O=D;break;case"defaultChecked":Z=D;break;case"value":p=D;break;case"defaultValue":y=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,n));break;default:D!==$&&Ze(e,n,j,D,l,$)}}jc(e,p,y,x,O,Z,f,c);return;case"select":D=p=y=j=null;for(f in i)if(x=i[f],i.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":D=x;default:l.hasOwnProperty(f)||Ze(e,n,f,null,l,x)}for(c in l)if(f=l[c],x=i[c],l.hasOwnProperty(c)&&(f!=null||x!=null))switch(c){case"value":j=f;break;case"defaultValue":y=f;break;case"multiple":p=f;default:f!==x&&Ze(e,n,c,f,l,x)}n=y,i=p,l=D,j!=null?Ar(e,!!i,j,!1):!!l!=!!i&&(n!=null?Ar(e,!!i,n,!0):Ar(e,!!i,i?[]:"",!1));return;case"textarea":D=j=null;for(y in i)if(c=i[y],i.hasOwnProperty(y)&&c!=null&&!l.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ze(e,n,y,null,l,c)}for(p in l)if(c=l[p],f=i[p],l.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":j=c;break;case"defaultValue":D=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Ze(e,n,p,c,l,f)}Vh(e,j,D);return;case"option":for(var fe in i)if(j=i[fe],i.hasOwnProperty(fe)&&j!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":e.selected=!1;break;default:Ze(e,n,fe,null,l,j)}for(x in l)if(j=l[x],D=i[x],l.hasOwnProperty(x)&&j!==D&&(j!=null||D!=null))switch(x){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ze(e,n,x,j,l,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in i)j=i[ue],i.hasOwnProperty(ue)&&j!=null&&!l.hasOwnProperty(ue)&&Ze(e,n,ue,null,l,j);for(O in l)if(j=l[O],D=i[O],l.hasOwnProperty(O)&&j!==D&&(j!=null||D!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Ze(e,n,O,j,l,D)}return;default:if(Mc(n)){for(var Pe in i)j=i[Pe],i.hasOwnProperty(Pe)&&j!==void 0&&!l.hasOwnProperty(Pe)&&bf(e,n,Pe,void 0,l,j);for(Z in l)j=l[Z],D=i[Z],!l.hasOwnProperty(Z)||j===D||j===void 0&&D===void 0||bf(e,n,Z,j,l,D);return}}for(var T in i)j=i[T],i.hasOwnProperty(T)&&j!=null&&!l.hasOwnProperty(T)&&Ze(e,n,T,null,l,j);for($ in l)j=l[$],D=i[$],!l.hasOwnProperty($)||j===D||j==null&&D==null||Ze(e,n,$,j,l,D)}var _f=null,xf=null;function ou(e){return e.nodeType===9?e:e.ownerDocument}function Xg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Sf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wf=null;function gx(){var e=window.event;return e&&e.type==="popstate"?e===wf?!1:(wf=e,!0):(wf=null,!1)}var Qg=typeof setTimeout=="function"?setTimeout:void 0,yx=typeof clearTimeout=="function"?clearTimeout:void 0,Ig=typeof Promise=="function"?Promise:void 0,vx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ig<"u"?function(e){return Ig.resolve(null).then(e).catch(bx)}:Qg;function bx(e){setTimeout(function(){throw e})}function Aa(e){return e==="head"}function Kg(e,n){var i=n,l=0,c=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(0<l&&8>l){i=l;var p=e.ownerDocument;if(i&1&&di(p.documentElement),i&2&&di(p.body),i&4)for(i=p.head,di(i),p=i.firstChild;p;){var y=p.nextSibling,x=p.nodeName;p[Rs]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=y}}if(c===0){e.removeChild(f),_i(n);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:l=i.charCodeAt(0)-48;else l=0;i=f}while(i);_i(n)}function Af(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Af(i),Rc(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function _x(e,n,i,l){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Rs])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=cn(e.nextSibling),e===null)break}return null}function xx(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=cn(e.nextSibling),e===null))return null;return e}function Ef(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Sx(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var l=function(){n(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function cn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Tf=null;function Jg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function Fg(e,n,i){switch(n=ou(i),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function di(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Rc(e)}var rn=new Map,Wg=new Set;function fu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Kn=G.d;G.d={f:wx,r:Ax,D:Ex,C:Tx,L:Rx,m:Nx,X:Cx,S:Ox,M:jx};function wx(){var e=Kn.f(),n=nu();return e||n}function Ax(e){var n=_r(e);n!==null&&n.tag===5&&n.type==="form"?bp(n):Kn.r(e)}var es=typeof document>"u"?null:document;function ey(e,n,i){var l=es;if(l&&typeof n=="string"&&n){var c=Jt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Wg.has(c)||(Wg.add(c),e={rel:e,crossOrigin:i,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),yt(n,"link",e),ot(n),l.head.appendChild(n)))}}function Ex(e){Kn.D(e),ey("dns-prefetch",e,null)}function Tx(e,n){Kn.C(e,n),ey("preconnect",e,n)}function Rx(e,n,i){Kn.L(e,n,i);var l=es;if(l&&e&&n){var c='link[rel="preload"][as="'+Jt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+Jt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+Jt(i.imageSizes)+'"]')):c+='[href="'+Jt(e)+'"]';var f=c;switch(n){case"style":f=ts(e);break;case"script":f=ns(e)}rn.has(f)||(e=v({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),rn.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(hi(f))||n==="script"&&l.querySelector(mi(f))||(n=l.createElement("link"),yt(n,"link",e),ot(n),l.head.appendChild(n)))}}function Nx(e,n){Kn.m(e,n);var i=es;if(i&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Jt(l)+'"][href="'+Jt(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ns(e)}if(!rn.has(f)&&(e=v({rel:"modulepreload",href:e},n),rn.set(f,e),i.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(mi(f)))return}l=i.createElement("link"),yt(l,"link",e),ot(l),i.head.appendChild(l)}}}function Ox(e,n,i){Kn.S(e,n,i);var l=es;if(l&&e){var c=xr(l).hoistableStyles,f=ts(e);n=n||"default";var p=c.get(f);if(!p){var y={loading:0,preload:null};if(p=l.querySelector(hi(f)))y.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":n},i),(i=rn.get(f))&&Rf(e,i);var x=p=l.createElement("link");ot(x),yt(x,"link",e),x._p=new Promise(function(O,Z){x.onload=O,x.onerror=Z}),x.addEventListener("load",function(){y.loading|=1}),x.addEventListener("error",function(){y.loading|=2}),y.loading|=4,du(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:y},c.set(f,p)}}}function Cx(e,n){Kn.X(e,n);var i=es;if(i&&e){var l=xr(i).hoistableScripts,c=ns(e),f=l.get(c);f||(f=i.querySelector(mi(c)),f||(e=v({src:e,async:!0},n),(n=rn.get(c))&&Nf(e,n),f=i.createElement("script"),ot(f),yt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function jx(e,n){Kn.M(e,n);var i=es;if(i&&e){var l=xr(i).hoistableScripts,c=ns(e),f=l.get(c);f||(f=i.querySelector(mi(c)),f||(e=v({src:e,async:!0,type:"module"},n),(n=rn.get(c))&&Nf(e,n),f=i.createElement("script"),ot(f),yt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ty(e,n,i,l){var c=(c=pe.current)?fu(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=ts(i.href),i=xr(c).hoistableStyles,l=i.get(n),l||(l={type:"style",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ts(i.href);var f=xr(c).hoistableStyles,p=f.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=c.querySelector(hi(e)))&&!f._p&&(p.instance=f,p.state.loading=5),rn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},rn.set(e,i),f||Dx(c,e,i,p.state))),n&&l===null)throw Error(s(528,""));return p}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ns(i),i=xr(c).hoistableScripts,l=i.get(n),l||(l={type:"script",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ts(e){return'href="'+Jt(e)+'"'}function hi(e){return'link[rel="stylesheet"]['+e+"]"}function ny(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Dx(e,n,i,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),yt(n,"link",i),ot(n),e.head.appendChild(n))}function ns(e){return'[src="'+Jt(e)+'"]'}function mi(e){return"script[async]"+e}function ay(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Jt(i.href)+'"]');if(l)return n.instance=l,ot(l),l;var c=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ot(l),yt(l,"style",c),du(l,i.precedence,e),n.instance=l;case"stylesheet":c=ts(i.href);var f=e.querySelector(hi(c));if(f)return n.state.loading|=4,n.instance=f,ot(f),f;l=ny(i),(c=rn.get(c))&&Rf(l,c),f=(e.ownerDocument||e).createElement("link"),ot(f);var p=f;return p._p=new Promise(function(y,x){p.onload=y,p.onerror=x}),yt(f,"link",l),n.state.loading|=4,du(f,i.precedence,e),n.instance=f;case"script":return f=ns(i.src),(c=e.querySelector(mi(f)))?(n.instance=c,ot(c),c):(l=i,(c=rn.get(f))&&(l=v({},i),Nf(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),ot(c),yt(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,du(l,i.precedence,e));return n.instance}function du(e,n,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,p=0;p<l.length;p++){var y=l[p];if(y.dataset.precedence===n)f=y;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Rf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Nf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var hu=null;function ry(e,n,i){if(hu===null){var l=new Map,c=hu=new Map;c.set(i,l)}else c=hu,l=c.get(i),l||(l=new Map,c.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var f=i[c];if(!(f[Rs]||f[St]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var y=l.get(p);y?y.push(f):l.set(p,[f])}}return l}function sy(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function Mx(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function iy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var pi=null;function kx(){}function zx(e,n,i){if(pi===null)throw Error(s(475));var l=pi;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ts(i.href),f=e.querySelector(hi(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=mu.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,ot(f);return}f=e.ownerDocument||e,i=ny(i),(c=rn.get(c))&&Rf(i,c),f=f.createElement("link"),ot(f);var p=f;p._p=new Promise(function(y,x){p.onload=y,p.onerror=x}),yt(f,"link",i),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=mu.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function Ux(){if(pi===null)throw Error(s(475));var e=pi;return e.stylesheets&&e.count===0&&Of(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&Of(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function mu(){if(this.count--,this.count===0){if(this.stylesheets)Of(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pu=null;function Of(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pu=new Map,n.forEach(Lx,e),pu=null,mu.call(e))}function Lx(e,n){if(!(n.state.loading&4)){var i=pu.get(e);if(i)var l=i.get(null);else{i=new Map,pu.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(i.set(p.dataset.precedence,p),l=p)}l&&i.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),f=i.get(p)||l,f===l&&i.set(null,c),i.set(p,c),this.count++,l=mu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var gi={$$typeof:H,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Bx(e,n,i,l,c,f,p,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wc(0),this.hiddenUpdates=wc(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function ly(e,n,i,l,c,f,p,y,x,O,Z,$){return e=new Bx(e,n,i,p,y,x,O,$),n=1,f===!0&&(n|=24),f=Pt(3,null,null,n),e.current=f,f.stateNode=e,n=uo(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:i,cache:n},ho(f),e}function uy(e){return e?(e=Mr,e):Mr}function cy(e,n,i,l,c,f){c=uy(c),l.context===null?l.context=c:l.pendingContext=c,l=fa(n),l.payload={element:i},f=f===void 0?null:f,f!==null&&(l.callback=f),i=da(e,l,n),i!==null&&(Yt(i,e,n),Xs(i,e,n))}function oy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Cf(e,n){oy(e,n),(e=e.alternate)&&oy(e,n)}function fy(e){if(e.tag===13){var n=Dr(e,67108864);n!==null&&Yt(n,e,67108864),Cf(e,67108864)}}var gu=!0;function Zx(e,n,i,l){var c=B.T;B.T=null;var f=G.p;try{G.p=2,jf(e,n,i,l)}finally{G.p=f,B.T=c}}function Px(e,n,i,l){var c=B.T;B.T=null;var f=G.p;try{G.p=8,jf(e,n,i,l)}finally{G.p=f,B.T=c}}function jf(e,n,i,l){if(gu){var c=Df(l);if(c===null)vf(e,n,l,yu,i),hy(e,l);else if(Hx(c,e,n,i,l))l.stopPropagation();else if(hy(e,l),n&4&&-1<$x.indexOf(e)){for(;c!==null;){var f=_r(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Pa(f.pendingLanes);if(p!==0){var y=f;for(y.pendingLanes|=2,y.entangledLanes|=2;p;){var x=1<<31-Bt(p);y.entanglements[1]|=x,p&=~x}Rn(f),(ke&6)===0&&(eu=Sn()+500,ci(0))}}break;case 13:y=Dr(f,2),y!==null&&Yt(y,f,2),nu(),Cf(f,2)}if(f=Df(l),f===null&&vf(e,n,l,yu,i),f===c)break;c=f}c!==null&&l.stopPropagation()}else vf(e,n,l,null,i)}}function Df(e){return e=zc(e),Mf(e)}var yu=null;function Mf(e){if(yu=null,e=br(e),e!==null){var n=o(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=d(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return yu=e,null}function dy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tb()){case Th:return 2;case Rh:return 8;case cl:case Rb:return 32;case Nh:return 268435456;default:return 32}default:return 32}}var kf=!1,Ea=null,Ta=null,Ra=null,yi=new Map,vi=new Map,Na=[],$x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hy(e,n){switch(e){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":yi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vi.delete(n.pointerId)}}function bi(e,n,i,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=_r(n),n!==null&&fy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function Hx(e,n,i,l,c){switch(n){case"focusin":return Ea=bi(Ea,e,n,i,l,c),!0;case"dragenter":return Ta=bi(Ta,e,n,i,l,c),!0;case"mouseover":return Ra=bi(Ra,e,n,i,l,c),!0;case"pointerover":var f=c.pointerId;return yi.set(f,bi(yi.get(f)||null,e,n,i,l,c)),!0;case"gotpointercapture":return f=c.pointerId,vi.set(f,bi(vi.get(f)||null,e,n,i,l,c)),!0}return!1}function my(e){var n=br(e.target);if(n!==null){var i=o(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){e.blockedOn=n,zb(e.priority,function(){if(i.tag===13){var l=Vt();l=Ac(l);var c=Dr(i,l);c!==null&&Yt(c,i,l),Cf(i,l)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Df(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);kc=l,i.target.dispatchEvent(l),kc=null}else return n=_r(i),n!==null&&fy(n),e.blockedOn=i,!1;n.shift()}return!0}function py(e,n,i){vu(e)&&i.delete(n)}function qx(){kf=!1,Ea!==null&&vu(Ea)&&(Ea=null),Ta!==null&&vu(Ta)&&(Ta=null),Ra!==null&&vu(Ra)&&(Ra=null),yi.forEach(py),vi.forEach(py)}function bu(e,n){e.blockedOn===n&&(e.blockedOn=null,kf||(kf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qx)))}var _u=null;function gy(e){_u!==e&&(_u=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_u===e&&(_u=null);for(var n=0;n<e.length;n+=3){var i=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(Mf(l||i)===null)continue;break}var f=_r(i);f!==null&&(e.splice(n,3),n-=3,Do(f,{pending:!0,data:c,method:i.method,action:l},l,c))}}))}function _i(e){function n(x){return bu(x,e)}Ea!==null&&bu(Ea,e),Ta!==null&&bu(Ta,e),Ra!==null&&bu(Ra,e),yi.forEach(n),vi.forEach(n);for(var i=0;i<Na.length;i++){var l=Na[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Na.length&&(i=Na[0],i.blockedOn===null);)my(i),i.blockedOn===null&&Na.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var c=i[l],f=i[l+1],p=c[Ct]||null;if(typeof f=="function")p||gy(i);else if(p){var y=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[Ct]||null)y=p.formAction;else if(Mf(c)!==null)continue}else y=p.action;typeof y=="function"?i[l+1]=y:(i.splice(l,3),l-=3),gy(i)}}}function zf(e){this._internalRoot=e}xu.prototype.render=zf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,l=Vt();cy(i,l,e,n,null,null)},xu.prototype.unmount=zf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;cy(e.current,2,null,e,null,null),nu(),n[vr]=null}};function xu(e){this._internalRoot=e}xu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Mh();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Na.length&&n!==0&&n<Na[i].priority;i++);Na.splice(i,0,e),i===0&&my(e)}};var yy=t.version;if(yy!=="19.1.0")throw Error(s(527,yy,"19.1.0"));G.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Vx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{As=Su.inject(Vx),Lt=Su}catch{}}return Si.createRoot=function(e,n){if(!u(e))throw Error(s(299));var i=!1,l="",c=Mp,f=kp,p=zp,y=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(y=n.unstable_transitionCallbacks)),n=ly(e,1,!1,null,null,i,l,c,f,p,y,null),e[vr]=n.current,yf(e),new zf(n)},Si.hydrateRoot=function(e,n,i){if(!u(e))throw Error(s(299));var l=!1,c="",f=Mp,p=kp,y=zp,x=null,O=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks),i.formState!==void 0&&(O=i.formState)),n=ly(e,1,!0,n,i??null,l,c,f,p,y,x,O),n.context=uy(null),i=n.current,l=Vt(),l=Ac(l),c=fa(l),c.callback=null,da(i,c,l),i=l,n.current.lanes=i,Ts(n,i),Rn(n),e[vr]=n.current,yf(e),new xu(n)},Si.version="19.1.0",Si}var Ry;function nS(){if(Ry)return Bf.exports;Ry=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bf.exports=tS(),Bf.exports}var aS=nS();const rS="modulepreload",sS=function(r){return"/ursa-minor-ascension/"+r},Ny={},iS=function(t,a,s){let u=Promise.resolve();if(a&&a.length>0){let d=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),g=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));u=d(a.map(m=>{if(m=sS(m),m in Ny)return;Ny[m]=!0;const v=m.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":rS,v||(w.as="script"),w.crossOrigin="",w.href=m,g&&w.setAttribute("nonce",g),document.head.appendChild(w),v)return new Promise((C,R)=>{w.addEventListener("load",C),w.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return u.then(d=>{for(const h of d||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})};function lS(r={}){const{immediate:t=!1,onNeedRefresh:a,onOfflineReady:s,onRegistered:u,onRegisteredSW:o,onRegisterError:d}=r;let h,g;const m=async(_=!0)=>{await g};async function v(){if("serviceWorker"in navigator){if(h=await iS(async()=>{const{Workbox:_}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:_}},[]).then(({Workbox:_})=>new _("/ursa-minor-ascension/sw.js",{scope:"/ursa-minor-ascension/",type:"classic"})).catch(_=>{d==null||d(_)}),!h)return;h.addEventListener("activated",_=>{(_.isUpdate||_.isExternal)&&window.location.reload()}),h.addEventListener("installed",_=>{_.isUpdate||s==null||s()}),h.register({immediate:t}).then(_=>{o?o("/ursa-minor-ascension/sw.js",_):u==null||u(_)}).catch(_=>{d==null||d(_)})}}return g=v(),m}var wi={},Oy;function uS(){if(Oy)return wi;Oy=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.parse=d,wi.serialize=m;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,u=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function d(w,C){const R=new o,k=w.length;if(k<2)return R;const M=(C==null?void 0:C.decode)||v;let L=0;do{const z=w.indexOf("=",L);if(z===-1)break;const H=w.indexOf(";",L),X=H===-1?k:H;if(z>X){L=w.lastIndexOf(";",z-1)+1;continue}const I=h(w,L,z),ie=g(w,z,I),W=w.slice(I,ie);if(R[W]===void 0){let xe=h(w,z+1,X),te=g(w,X,xe);const he=M(w.slice(xe,te));R[W]=he}L=X+1}while(L<k);return R}function h(w,C,R){do{const k=w.charCodeAt(C);if(k!==32&&k!==9)return C}while(++C<R);return R}function g(w,C,R){for(;C>R;){const k=w.charCodeAt(--C);if(k!==32&&k!==9)return C+1}return R}function m(w,C,R){const k=(R==null?void 0:R.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const M=k(C);if(!t.test(M))throw new TypeError(`argument val is invalid: ${C}`);let L=w+"="+M;if(!R)return L;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);L+="; Max-Age="+R.maxAge}if(R.domain){if(!a.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);L+="; Domain="+R.domain}if(R.path){if(!s.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);L+="; Path="+R.path}if(R.expires){if(!_(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);L+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(L+="; HttpOnly"),R.secure&&(L+="; Secure"),R.partitioned&&(L+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return L}function v(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return u.call(w)==="[object Date]"}return wi}uS();var Cy="popstate";function cS(r={}){function t(u,o){let{pathname:d="/",search:h="",hash:g=""}=pr(u.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),ud("",{pathname:d,search:h,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(u,o){let d=u.document.querySelector("base"),h="";if(d&&d.getAttribute("href")){let g=u.location.href,m=g.indexOf("#");h=m===-1?g:g.slice(0,m)}return h+"#"+(typeof o=="string"?o:Ui(o))}function s(u,o){_n(u.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return fS(t,a,s,r)}function Ke(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function _n(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oS(){return Math.random().toString(36).substring(2,10)}function jy(r,t){return{usr:r.state,key:r.key,idx:t}}function ud(r,t,a=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?pr(t):t,state:a,key:t&&t.key||s||oS()}}function Ui({pathname:r="/",search:t="",hash:a=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function pr(r){let t={};if(r){let a=r.indexOf("#");a>=0&&(t.hash=r.substring(a),r=r.substring(0,a));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function fS(r,t,a,s={}){let{window:u=document.defaultView,v5Compat:o=!1}=s,d=u.history,h="POP",g=null,m=v();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function v(){return(d.state||{idx:null}).idx}function _(){h="POP";let M=v(),L=M==null?null:M-m;m=M,g&&g({action:h,location:k.location,delta:L})}function w(M,L){h="PUSH";let z=ud(k.location,M,L);a&&a(z,M),m=v()+1;let H=jy(z,m),X=k.createHref(z);try{d.pushState(H,"",X)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;u.location.assign(X)}o&&g&&g({action:h,location:k.location,delta:1})}function C(M,L){h="REPLACE";let z=ud(k.location,M,L);a&&a(z,M),m=v();let H=jy(z,m),X=k.createHref(z);d.replaceState(H,"",X),o&&g&&g({action:h,location:k.location,delta:0})}function R(M){return dS(M)}let k={get action(){return h},get location(){return r(u,d)},listen(M){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(Cy,_),g=M,()=>{u.removeEventListener(Cy,_),g=null}},createHref(M){return t(u,M)},createURL:R,encodeLocation(M){let L=R(M);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:w,replace:C,go(M){return d.go(M)}};return k}function dS(r,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(a,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ui(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function _v(r,t,a="/"){return hS(r,t,a,!1)}function hS(r,t,a,s){let u=typeof t=="string"?pr(t):t,o=aa(u.pathname||"/",a);if(o==null)return null;let d=xv(r);mS(d);let h=null;for(let g=0;h==null&&g<d.length;++g){let m=ES(o);h=wS(d[g],m,s)}return h}function xv(r,t=[],a=[],s=""){let u=(o,d,h)=>{let g={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:d,route:o};g.relativePath.startsWith("/")&&(Ke(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let m=na([s,g.relativePath]),v=a.concat(g);o.children&&o.children.length>0&&(Ke(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),xv(o.children,t,v,m)),!(o.path==null&&!o.index)&&t.push({path:m,score:xS(m,o.index),routesMeta:v})};return r.forEach((o,d)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))u(o,d);else for(let g of Sv(o.path))u(o,d,g)}),t}function Sv(r){let t=r.split("/");if(t.length===0)return[];let[a,...s]=t,u=a.endsWith("?"),o=a.replace(/\?$/,"");if(s.length===0)return u?[o,""]:[o];let d=Sv(s.join("/")),h=[];return h.push(...d.map(g=>g===""?o:[o,g].join("/"))),u&&h.push(...d),h.map(g=>r.startsWith("/")&&g===""?"/":g)}function mS(r){r.sort((t,a)=>t.score!==a.score?a.score-t.score:SS(t.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var pS=/^:[\w-]+$/,gS=3,yS=2,vS=1,bS=10,_S=-2,Dy=r=>r==="*";function xS(r,t){let a=r.split("/"),s=a.length;return a.some(Dy)&&(s+=_S),t&&(s+=yS),a.filter(u=>!Dy(u)).reduce((u,o)=>u+(pS.test(o)?gS:o===""?vS:bS),s)}function SS(r,t){return r.length===t.length&&r.slice(0,-1).every((s,u)=>s===t[u])?r[r.length-1]-t[t.length-1]:0}function wS(r,t,a=!1){let{routesMeta:s}=r,u={},o="/",d=[];for(let h=0;h<s.length;++h){let g=s[h],m=h===s.length-1,v=o==="/"?t:t.slice(o.length)||"/",_=$u({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},v),w=g.route;if(!_&&m&&a&&!s[s.length-1].route.index&&(_=$u({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!_)return null;Object.assign(u,_.params),d.push({params:u,pathname:na([o,_.pathname]),pathnameBase:OS(na([o,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(o=na([o,_.pathnameBase]))}return d}function $u(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[a,s]=AS(r.path,r.caseSensitive,r.end),u=t.match(a);if(!u)return null;let o=u[0],d=o.replace(/(.)\/+$/,"$1"),h=u.slice(1);return{params:s.reduce((m,{paramName:v,isOptional:_},w)=>{if(v==="*"){let R=h[w]||"";d=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const C=h[w];return _&&!C?m[v]=void 0:m[v]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:d,pattern:r}}function AS(r,t=!1,a=!0){_n(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,g)=>(s.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),s]}function ES(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _n(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function aa(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=r.charAt(a);return s&&s!=="/"?null:r.slice(a)||"/"}function TS(r,t="/"){let{pathname:a,search:s="",hash:u=""}=typeof r=="string"?pr(r):r;return{pathname:a?a.startsWith("/")?a:RS(a,t):t,search:CS(s),hash:jS(u)}}function RS(r,t){let a=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?a.length>1&&a.pop():u!=="."&&a.push(u)}),a.length>1?a.join("/"):"/"}function Hf(r,t,a,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NS(r){return r.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function wv(r){let t=NS(r);return t.map((a,s)=>s===t.length-1?a.pathname:a.pathnameBase)}function Av(r,t,a,s=!1){let u;typeof r=="string"?u=pr(r):(u={...r},Ke(!u.pathname||!u.pathname.includes("?"),Hf("?","pathname","search",u)),Ke(!u.pathname||!u.pathname.includes("#"),Hf("#","pathname","hash",u)),Ke(!u.search||!u.search.includes("#"),Hf("#","search","hash",u)));let o=r===""||u.pathname==="",d=o?"/":u.pathname,h;if(d==null)h=a;else{let _=t.length-1;if(!s&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),_-=1;u.pathname=w.join("/")}h=_>=0?t[_]:"/"}let g=TS(u,h),m=d&&d!=="/"&&d.endsWith("/"),v=(o||d===".")&&a.endsWith("/");return!g.pathname.endsWith("/")&&(m||v)&&(g.pathname+="/"),g}var na=r=>r.join("/").replace(/\/\/+/g,"/"),OS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),CS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,jS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function DS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Ev=["POST","PUT","PATCH","DELETE"];new Set(Ev);var MS=["GET",...Ev];new Set(MS);var _s=E.createContext(null);_s.displayName="DataRouter";var nc=E.createContext(null);nc.displayName="DataRouterState";var Tv=E.createContext({isTransitioning:!1});Tv.displayName="ViewTransition";var kS=E.createContext(new Map);kS.displayName="Fetchers";var zS=E.createContext(null);zS.displayName="Await";var kn=E.createContext(null);kn.displayName="Navigation";var Fi=E.createContext(null);Fi.displayName="Location";var zn=E.createContext({outlet:null,matches:[],isDataRoute:!1});zn.displayName="Route";var Ud=E.createContext(null);Ud.displayName="RouteError";function US(r,{relative:t}={}){Ke(Wi(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=E.useContext(kn),{hash:u,pathname:o,search:d}=el(r,{relative:t}),h=o;return a!=="/"&&(h=o==="/"?a:na([a,o])),s.createHref({pathname:h,search:d,hash:u})}function Wi(){return E.useContext(Fi)!=null}function gr(){return Ke(Wi(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Fi).location}var Rv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nv(r){E.useContext(kn).static||E.useLayoutEffect(r)}function ac(){let{isDataRoute:r}=E.useContext(zn);return r?KS():LS()}function LS(){Ke(Wi(),"useNavigate() may be used only in the context of a <Router> component.");let r=E.useContext(_s),{basename:t,navigator:a}=E.useContext(kn),{matches:s}=E.useContext(zn),{pathname:u}=gr(),o=JSON.stringify(wv(s)),d=E.useRef(!1);return Nv(()=>{d.current=!0}),E.useCallback((g,m={})=>{if(_n(d.current,Rv),!d.current)return;if(typeof g=="number"){a.go(g);return}let v=Av(g,JSON.parse(o),u,m.relative==="path");r==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:na([t,v.pathname])),(m.replace?a.replace:a.push)(v,m.state,m)},[t,a,o,u,r])}E.createContext(null);function BS(){let{matches:r}=E.useContext(zn),t=r[r.length-1];return t?t.params:{}}function el(r,{relative:t}={}){let{matches:a}=E.useContext(zn),{pathname:s}=gr(),u=JSON.stringify(wv(a));return E.useMemo(()=>Av(r,JSON.parse(u),s,t==="path"),[r,u,s,t])}function ZS(r,t){return Ov(r,t)}function Ov(r,t,a,s){var z;Ke(Wi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u,static:o}=E.useContext(kn),{matches:d}=E.useContext(zn),h=d[d.length-1],g=h?h.params:{},m=h?h.pathname:"/",v=h?h.pathnameBase:"/",_=h&&h.route;{let H=_&&_.path||"";Cv(m,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=gr(),C;if(t){let H=typeof t=="string"?pr(t):t;Ke(v==="/"||((z=H.pathname)==null?void 0:z.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${H.pathname}" was given in the \`location\` prop.`),C=H}else C=w;let R=C.pathname||"/",k=R;if(v!=="/"){let H=v.replace(/^\//,"").split("/");k="/"+R.replace(/^\//,"").split("/").slice(H.length).join("/")}let M=!o&&a&&a.matches&&a.matches.length>0?a.matches:_v(r,{pathname:k});_n(_||M!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),_n(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=VS(M&&M.map(H=>Object.assign({},H,{params:Object.assign({},g,H.params),pathname:na([v,u.encodeLocation?u.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?v:na([v,u.encodeLocation?u.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),d,a,s);return t&&L?E.createElement(Fi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},L):L}function PS(){let r=IS(),t=DS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),a=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),a?E.createElement("pre",{style:u},a):null,d)}var $S=E.createElement(PS,null),HS=class extends E.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?E.createElement(zn.Provider,{value:this.props.routeContext},E.createElement(Ud.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qS({routeContext:r,match:t,children:a}){let s=E.useContext(_s);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(zn.Provider,{value:r},a)}function VS(r,t=[],a=null,s=null){if(r==null){if(!a)return null;if(a.errors)r=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)r=a.matches;else return null}let u=r,o=a==null?void 0:a.errors;if(o!=null){let g=u.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Ke(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let d=!1,h=-1;if(a)for(let g=0;g<u.length;g++){let m=u[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=g),m.route.id){let{loaderData:v,errors:_}=a,w=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||w){d=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}return u.reduceRight((g,m,v)=>{let _,w=!1,C=null,R=null;a&&(_=o&&m.route.id?o[m.route.id]:void 0,C=m.route.errorElement||$S,d&&(h<0&&v===0?(Cv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,R=null):h===v&&(w=!0,R=m.route.hydrateFallbackElement||null)));let k=t.concat(u.slice(0,v+1)),M=()=>{let L;return _?L=C:w?L=R:m.route.Component?L=E.createElement(m.route.Component,null):m.route.element?L=m.route.element:L=g,E.createElement(qS,{match:m,routeContext:{outlet:g,matches:k,isDataRoute:a!=null},children:L})};return a&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?E.createElement(HS,{location:a.location,revalidation:a.revalidation,component:C,error:_,children:M(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):M()},null)}function Ld(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YS(r){let t=E.useContext(_s);return Ke(t,Ld(r)),t}function XS(r){let t=E.useContext(nc);return Ke(t,Ld(r)),t}function GS(r){let t=E.useContext(zn);return Ke(t,Ld(r)),t}function Bd(r){let t=GS(r),a=t.matches[t.matches.length-1];return Ke(a.route.id,`${r} can only be used on routes that contain a unique "id"`),a.route.id}function QS(){return Bd("useRouteId")}function IS(){var s;let r=E.useContext(Ud),t=XS("useRouteError"),a=Bd("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[a]}function KS(){let{router:r}=YS("useNavigate"),t=Bd("useNavigate"),a=E.useRef(!1);return Nv(()=>{a.current=!0}),E.useCallback(async(u,o={})=>{_n(a.current,Rv),a.current&&(typeof u=="number"?r.navigate(u):await r.navigate(u,{fromRouteId:t,...o}))},[r,t])}var My={};function Cv(r,t,a){!t&&!My[r]&&(My[r]=!0,_n(!1,a))}E.memo(JS);function JS({routes:r,future:t,state:a}){return Ov(r,void 0,a,t)}function Ei(r){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FS({basename:r="/",children:t=null,location:a,navigationType:s="POP",navigator:u,static:o=!1}){Ke(!Wi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),h=E.useMemo(()=>({basename:d,navigator:u,static:o,future:{}}),[d,u,o]);typeof a=="string"&&(a=pr(a));let{pathname:g="/",search:m="",hash:v="",state:_=null,key:w="default"}=a,C=E.useMemo(()=>{let R=aa(g,d);return R==null?null:{location:{pathname:R,search:m,hash:v,state:_,key:w},navigationType:s}},[d,g,m,v,_,w,s]);return _n(C!=null,`<Router basename="${d}"> is not able to match the URL "${g}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:E.createElement(kn.Provider,{value:h},E.createElement(Fi.Provider,{children:t,value:C}))}function WS({children:r,location:t}){return ZS(cd(r),t)}function cd(r,t=[]){let a=[];return E.Children.forEach(r,(s,u)=>{if(!E.isValidElement(s))return;let o=[...t,u];if(s.type===E.Fragment){a.push.apply(a,cd(s.props.children,o));return}Ke(s.type===Ei,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=cd(s.props.children,o)),a.push(d)}),a}var Du="get",Mu="application/x-www-form-urlencoded";function rc(r){return r!=null&&typeof r.tagName=="string"}function ew(r){return rc(r)&&r.tagName.toLowerCase()==="button"}function tw(r){return rc(r)&&r.tagName.toLowerCase()==="form"}function nw(r){return rc(r)&&r.tagName.toLowerCase()==="input"}function aw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function rw(r,t){return r.button===0&&(!t||t==="_self")&&!aw(r)}var wu=null;function sw(){if(wu===null)try{new FormData(document.createElement("form"),0),wu=!1}catch{wu=!0}return wu}var iw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qf(r){return r!=null&&!iw.has(r)?(_n(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mu}"`),null):r}function lw(r,t){let a,s,u,o,d;if(tw(r)){let h=r.getAttribute("action");s=h?aa(h,t):null,a=r.getAttribute("method")||Du,u=qf(r.getAttribute("enctype"))||Mu,o=new FormData(r)}else if(ew(r)||nw(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||h.getAttribute("action");if(s=g?aa(g,t):null,a=r.getAttribute("formmethod")||h.getAttribute("method")||Du,u=qf(r.getAttribute("formenctype"))||qf(h.getAttribute("enctype"))||Mu,o=new FormData(h,r),!sw()){let{name:m,type:v,value:_}=r;if(v==="image"){let w=m?`${m}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else m&&o.append(m,_)}}else{if(rc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Du,s=null,u=Mu,d=r}return o&&u==="text/plain"&&(d=o,o=void 0),{action:s,method:a.toLowerCase(),encType:u,formData:o,body:d}}function Zd(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function uw(r,t){if(r.id in t)return t[r.id];try{let a=await import(r.module);return t[r.id]=a,a}catch(a){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ow(r,t,a){let s=await Promise.all(r.map(async u=>{let o=t.routes[u.route.id];if(o){let d=await uw(o,a);return d.links?d.links():[]}return[]}));return mw(s.flat(1).filter(cw).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function ky(r,t,a,s,u,o){let d=(g,m)=>a[m]?g.route.id!==a[m].route.id:!0,h=(g,m)=>{var v;return a[m].pathname!==g.pathname||((v=a[m].route.path)==null?void 0:v.endsWith("*"))&&a[m].params["*"]!==g.params["*"]};return o==="assets"?t.filter((g,m)=>d(g,m)||h(g,m)):o==="data"?t.filter((g,m)=>{var _;let v=s.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(d(g,m)||h(g,m))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((_=a[0])==null?void 0:_.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function fw(r,t,{includeHydrateFallback:a}={}){return dw(r.map(s=>{let u=t.routes[s.route.id];if(!u)return[];let o=[u.module];return u.clientActionModule&&(o=o.concat(u.clientActionModule)),u.clientLoaderModule&&(o=o.concat(u.clientLoaderModule)),a&&u.hydrateFallbackModule&&(o=o.concat(u.hydrateFallbackModule)),u.imports&&(o=o.concat(u.imports)),o}).flat(1))}function dw(r){return[...new Set(r)]}function hw(r){let t={},a=Object.keys(r).sort();for(let s of a)t[s]=r[s];return t}function mw(r,t){let a=new Set;return new Set(t),r.reduce((s,u)=>{let o=JSON.stringify(hw(u));return a.has(o)||(a.add(o),s.push({key:o,link:u})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pw=new Set([100,101,204,205]);function gw(r,t){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname="_root.data":t&&aa(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.data`:a.pathname=`${a.pathname.replace(/\/$/,"")}.data`,a}function jv(){let r=E.useContext(_s);return Zd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function yw(){let r=E.useContext(nc);return Zd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Pd=E.createContext(void 0);Pd.displayName="FrameworkContext";function Dv(){let r=E.useContext(Pd);return Zd(r,"You must render this element inside a <HydratedRouter> element"),r}function vw(r,t){let a=E.useContext(Pd),[s,u]=E.useState(!1),[o,d]=E.useState(!1),{onFocus:h,onBlur:g,onMouseEnter:m,onMouseLeave:v,onTouchStart:_}=t,w=E.useRef(null);E.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let k=L=>{L.forEach(z=>{d(z.isIntersecting)})},M=new IntersectionObserver(k,{threshold:.5});return w.current&&M.observe(w.current),()=>{M.disconnect()}}},[r]),E.useEffect(()=>{if(s){let k=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(k)}}},[s]);let C=()=>{u(!0)},R=()=>{u(!1),d(!1)};return a?r!=="intent"?[o,w,{}]:[o,w,{onFocus:Ai(h,C),onBlur:Ai(g,R),onMouseEnter:Ai(m,C),onMouseLeave:Ai(v,R),onTouchStart:Ai(_,C)}]:[!1,w,{}]}function Ai(r,t){return a=>{r&&r(a),a.defaultPrevented||t(a)}}function bw({page:r,...t}){let{router:a}=jv(),s=E.useMemo(()=>_v(a.routes,r,a.basename),[a.routes,r,a.basename]);return s?E.createElement(xw,{page:r,matches:s,...t}):null}function _w(r){let{manifest:t,routeModules:a}=Dv(),[s,u]=E.useState([]);return E.useEffect(()=>{let o=!1;return ow(r,t,a).then(d=>{o||u(d)}),()=>{o=!0}},[r,t,a]),s}function xw({page:r,matches:t,...a}){let s=gr(),{manifest:u,routeModules:o}=Dv(),{basename:d}=jv(),{loaderData:h,matches:g}=yw(),m=E.useMemo(()=>ky(r,t,g,u,s,"data"),[r,t,g,u,s]),v=E.useMemo(()=>ky(r,t,g,u,s,"assets"),[r,t,g,u,s]),_=E.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let R=new Set,k=!1;if(t.forEach(L=>{var H;let z=u.routes[L.route.id];!z||!z.hasLoader||(!m.some(X=>X.route.id===L.route.id)&&L.route.id in h&&((H=o[L.route.id])!=null&&H.shouldRevalidate)||z.hasClientLoader?k=!0:R.add(L.route.id))}),R.size===0)return[];let M=gw(r,d);return k&&R.size>0&&M.searchParams.set("_routes",t.filter(L=>R.has(L.route.id)).map(L=>L.route.id).join(",")),[M.pathname+M.search]},[d,h,s,u,m,t,r,o]),w=E.useMemo(()=>fw(v,u),[v,u]),C=_w(v);return E.createElement(E.Fragment,null,_.map(R=>E.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...a})),w.map(R=>E.createElement("link",{key:R,rel:"modulepreload",href:R,...a})),C.map(({key:R,link:k})=>E.createElement("link",{key:R,...k})))}function Sw(...r){return t=>{r.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var Mv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mv&&(window.__reactRouterVersion="7.6.0")}catch{}function ww({basename:r,children:t,window:a}){let s=E.useRef();s.current==null&&(s.current=cS({window:a,v5Compat:!0}));let u=s.current,[o,d]=E.useState({action:u.action,location:u.location}),h=E.useCallback(g=>{E.startTransition(()=>d(g))},[d]);return E.useLayoutEffect(()=>u.listen(h),[u,h]),E.createElement(FS,{basename:r,children:t,location:o.location,navigationType:o.action,navigator:u})}var kv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hu=E.forwardRef(function({onClick:t,discover:a="render",prefetch:s="none",relative:u,reloadDocument:o,replace:d,state:h,target:g,to:m,preventScrollReset:v,viewTransition:_,...w},C){let{basename:R}=E.useContext(kn),k=typeof m=="string"&&kv.test(m),M,L=!1;if(typeof m=="string"&&k&&(M=m,Mv))try{let te=new URL(window.location.href),he=m.startsWith("//")?new URL(te.protocol+m):new URL(m),Y=aa(he.pathname,R);he.origin===te.origin&&Y!=null?m=Y+he.search+he.hash:L=!0}catch{_n(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=US(m,{relative:u}),[H,X,I]=vw(s,w),ie=Rw(m,{replace:d,state:h,target:g,preventScrollReset:v,relative:u,viewTransition:_});function W(te){t&&t(te),te.defaultPrevented||ie(te)}let xe=E.createElement("a",{...w,...I,href:M||z,onClick:L||o?t:W,ref:Sw(C,X),target:g,"data-discover":!k&&a==="render"?"true":void 0});return H&&!k?E.createElement(E.Fragment,null,xe,E.createElement(bw,{page:z})):xe});Hu.displayName="Link";var Aw=E.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:s="",end:u=!1,style:o,to:d,viewTransition:h,children:g,...m},v){let _=el(d,{relative:m.relative}),w=gr(),C=E.useContext(nc),{navigator:R,basename:k}=E.useContext(kn),M=C!=null&&Dw(_)&&h===!0,L=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,z=w.pathname,H=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;a||(z=z.toLowerCase(),H=H?H.toLowerCase():null,L=L.toLowerCase()),H&&k&&(H=aa(H,k)||H);const X=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let I=z===L||!u&&z.startsWith(L)&&z.charAt(X)==="/",ie=H!=null&&(H===L||!u&&H.startsWith(L)&&H.charAt(L.length)==="/"),W={isActive:I,isPending:ie,isTransitioning:M},xe=I?t:void 0,te;typeof s=="function"?te=s(W):te=[s,I?"active":null,ie?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let he=typeof o=="function"?o(W):o;return E.createElement(Hu,{...m,"aria-current":xe,className:te,ref:v,style:he,to:d,viewTransition:h},typeof g=="function"?g(W):g)});Aw.displayName="NavLink";var Ew=E.forwardRef(({discover:r="render",fetcherKey:t,navigate:a,reloadDocument:s,replace:u,state:o,method:d=Du,action:h,onSubmit:g,relative:m,preventScrollReset:v,viewTransition:_,...w},C)=>{let R=Cw(),k=jw(h,{relative:m}),M=d.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&kv.test(h),z=H=>{if(g&&g(H),H.defaultPrevented)return;H.preventDefault();let X=H.nativeEvent.submitter,I=(X==null?void 0:X.getAttribute("formmethod"))||d;R(X||H.currentTarget,{fetcherKey:t,method:I,navigate:a,replace:u,state:o,relative:m,preventScrollReset:v,viewTransition:_})};return E.createElement("form",{ref:C,method:M,action:k,onSubmit:s?g:z,...w,"data-discover":!L&&r==="render"?"true":void 0})});Ew.displayName="Form";function Tw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zv(r){let t=E.useContext(_s);return Ke(t,Tw(r)),t}function Rw(r,{target:t,replace:a,state:s,preventScrollReset:u,relative:o,viewTransition:d}={}){let h=ac(),g=gr(),m=el(r,{relative:o});return E.useCallback(v=>{if(rw(v,t)){v.preventDefault();let _=a!==void 0?a:Ui(g)===Ui(m);h(r,{replace:_,state:s,preventScrollReset:u,relative:o,viewTransition:d})}},[g,h,m,a,s,t,r,u,o,d])}var Nw=0,Ow=()=>`__${String(++Nw)}__`;function Cw(){let{router:r}=zv("useSubmit"),{basename:t}=E.useContext(kn),a=QS();return E.useCallback(async(s,u={})=>{let{action:o,method:d,encType:h,formData:g,body:m}=lw(s,t);if(u.navigate===!1){let v=u.fetcherKey||Ow();await r.fetch(v,a,u.action||o,{preventScrollReset:u.preventScrollReset,formData:g,body:m,formMethod:u.method||d,formEncType:u.encType||h,flushSync:u.flushSync})}else await r.navigate(u.action||o,{preventScrollReset:u.preventScrollReset,formData:g,body:m,formMethod:u.method||d,formEncType:u.encType||h,replace:u.replace,state:u.state,fromRouteId:a,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,t,a])}function jw(r,{relative:t}={}){let{basename:a}=E.useContext(kn),s=E.useContext(zn);Ke(s,"useFormAction must be used inside a RouteContext");let[u]=s.matches.slice(-1),o={...el(r||".",{relative:t})},d=gr();if(r==null){o.search=d.search;let h=new URLSearchParams(o.search),g=h.getAll("index");if(g.some(v=>v==="")){h.delete("index"),g.filter(_=>_).forEach(_=>h.append("index",_));let v=h.toString();o.search=v?`?${v}`:""}}return(!r||r===".")&&u.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(o.pathname=o.pathname==="/"?a:na([a,o.pathname])),Ui(o)}function Dw(r,t={}){let a=E.useContext(Tv);Ke(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=zv("useViewTransitionState"),u=el(r,{relative:t.relative});if(!a.isTransitioning)return!1;let o=aa(a.currentLocation.pathname,s)||a.currentLocation.pathname,d=aa(a.nextLocation.pathname,s)||a.nextLocation.pathname;return $u(u.pathname,d)!=null||$u(u.pathname,o)!=null}[...pw];const vt=[];for(let r=0;r<256;++r)vt.push((r+256).toString(16).slice(1));function Mw(r,t=0){return(vt[r[t+0]]+vt[r[t+1]]+vt[r[t+2]]+vt[r[t+3]]+"-"+vt[r[t+4]]+vt[r[t+5]]+"-"+vt[r[t+6]]+vt[r[t+7]]+"-"+vt[r[t+8]]+vt[r[t+9]]+"-"+vt[r[t+10]]+vt[r[t+11]]+vt[r[t+12]]+vt[r[t+13]]+vt[r[t+14]]+vt[r[t+15]]).toLowerCase()}let Vf;const kw=new Uint8Array(16);function zw(){if(!Vf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Vf=crypto.getRandomValues.bind(crypto)}return Vf(kw)}const Uw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zy={randomUUID:Uw};function $d(r,t,a){var u;if(zy.randomUUID&&!r)return zy.randomUUID();r=r||{};const s=r.random??((u=r.rng)==null?void 0:u.call(r))??zw();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Mw(s)}const od="RFC3986",fd={RFC1738:r=>String(r).replace(/%20/g,"+"),RFC3986:r=>String(r)},Lw="RFC1738",Bw=Array.isArray,Nn=(()=>{const r=[];for(let t=0;t<256;++t)r.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return r})(),Yf=1024,Zw=(r,t,a,s,u)=>{if(r.length===0)return r;let o=r;if(typeof r=="symbol"?o=Symbol.prototype.toString.call(r):typeof r!="string"&&(o=String(r)),a==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});let d="";for(let h=0;h<o.length;h+=Yf){const g=o.length>=Yf?o.slice(h,h+Yf):o,m=[];for(let v=0;v<g.length;++v){let _=g.charCodeAt(v);if(_===45||_===46||_===95||_===126||_>=48&&_<=57||_>=65&&_<=90||_>=97&&_<=122||u===Lw&&(_===40||_===41)){m[m.length]=g.charAt(v);continue}if(_<128){m[m.length]=Nn[_];continue}if(_<2048){m[m.length]=Nn[192|_>>6]+Nn[128|_&63];continue}if(_<55296||_>=57344){m[m.length]=Nn[224|_>>12]+Nn[128|_>>6&63]+Nn[128|_&63];continue}v+=1,_=65536+((_&1023)<<10|g.charCodeAt(v)&1023),m[m.length]=Nn[240|_>>18]+Nn[128|_>>12&63]+Nn[128|_>>6&63]+Nn[128|_&63]}d+=m.join("")}return d};function Pw(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))}function Uy(r,t){if(Bw(r)){const a=[];for(let s=0;s<r.length;s+=1)a.push(t(r[s]));return a}return t(r)}const $w=Object.prototype.hasOwnProperty,Uv={brackets(r){return String(r)+"[]"},comma:"comma",indices(r,t){return String(r)+"["+t+"]"},repeat(r){return String(r)}},On=Array.isArray,Hw=Array.prototype.push,Lv=function(r,t){Hw.apply(r,On(t)?t:[t])},qw=Date.prototype.toISOString,ct={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Zw,encodeValuesOnly:!1,format:od,formatter:fd[od],indices:!1,serializeDate(r){return qw.call(r)},skipNulls:!1,strictNullHandling:!1};function Vw(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"}const Xf={};function Bv(r,t,a,s,u,o,d,h,g,m,v,_,w,C,R,k,M,L){let z=r,H=L,X=0,I=!1;for(;(H=H.get(Xf))!==void 0&&!I;){const he=H.get(r);if(X+=1,typeof he<"u"){if(he===X)throw new RangeError("Cyclic object value");I=!0}typeof H.get(Xf)>"u"&&(X=0)}if(typeof m=="function"?z=m(t,z):z instanceof Date?z=w==null?void 0:w(z):a==="comma"&&On(z)&&(z=Uy(z,function(he){return he instanceof Date?w==null?void 0:w(he):he})),z===null){if(o)return g&&!k?g(t,ct.encoder,M,"key",C):t;z=""}if(Vw(z)||Pw(z)){if(g){const he=k?t:g(t,ct.encoder,M,"key",C);return[(R==null?void 0:R(he))+"="+(R==null?void 0:R(g(z,ct.encoder,M,"value",C)))]}return[(R==null?void 0:R(t))+"="+(R==null?void 0:R(String(z)))]}const ie=[];if(typeof z>"u")return ie;let W;if(a==="comma"&&On(z))k&&g&&(z=Uy(z,g)),W=[{value:z.length>0?z.join(",")||null:void 0}];else if(On(m))W=m;else{const he=Object.keys(z);W=v?he.sort(v):he}const xe=h?String(t).replace(/\./g,"%2E"):String(t),te=s&&On(z)&&z.length===1?xe+"[]":xe;if(u&&On(z)&&z.length===0)return te+"[]";for(let he=0;he<W.length;++he){const Y=W[he],Re=typeof Y=="object"&&typeof Y.value<"u"?Y.value:z[Y];if(d&&Re===null)continue;const je=_&&h?Y.replace(/\./g,"%2E"):Y,Je=On(z)?typeof a=="function"?a(te,je):te:te+(_?"."+je:"["+je+"]");L.set(r,X);const Fe=new WeakMap;Fe.set(Xf,L),Lv(ie,Bv(Re,Je,a,s,u,o,d,h,a==="comma"&&k&&On(z)?null:g,m,v,_,w,C,R,k,M,Fe))}return ie}function Yw(r=ct){if(typeof r.allowEmptyArrays<"u"&&typeof r.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof r.encodeDotInKeys<"u"&&typeof r.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(r.encoder!==null&&typeof r.encoder<"u"&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=r.charset||ct.charset;if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let a=od;if(typeof r.format<"u"){if(!$w.call(fd,r.format))throw new TypeError("Unknown format option provided.");a=r.format}const s=fd[a];let u=ct.filter;(typeof r.filter=="function"||On(r.filter))&&(u=r.filter);let o;if(r.arrayFormat&&r.arrayFormat in Uv?o=r.arrayFormat:"indices"in r?o=r.indices?"indices":"repeat":o=ct.arrayFormat,"commaRoundTrip"in r&&typeof r.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const d=typeof r.allowDots>"u"?r.encodeDotInKeys?!0:ct.allowDots:!!r.allowDots;return{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:ct.addQueryPrefix,allowDots:d,allowEmptyArrays:typeof r.allowEmptyArrays=="boolean"?!!r.allowEmptyArrays:ct.allowEmptyArrays,arrayFormat:o,charset:t,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:ct.charsetSentinel,commaRoundTrip:!!r.commaRoundTrip,delimiter:typeof r.delimiter>"u"?ct.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:ct.encode,encodeDotInKeys:typeof r.encodeDotInKeys=="boolean"?r.encodeDotInKeys:ct.encodeDotInKeys,encoder:typeof r.encoder=="function"?r.encoder:ct.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:ct.encodeValuesOnly,filter:u,format:a,formatter:s,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:ct.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:ct.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:ct.strictNullHandling}}function Xw(r,t={}){let a=r;const s=Yw(t);let u,o;typeof s.filter=="function"?(o=s.filter,a=o("",a)):On(s.filter)&&(o=s.filter,u=o);const d=[];if(typeof a!="object"||a===null)return"";const h=Uv[s.arrayFormat],g=h==="comma"&&s.commaRoundTrip;u||(u=Object.keys(a)),s.sort&&u.sort(s.sort);const m=new WeakMap;for(let w=0;w<u.length;++w){const C=u[w];s.skipNulls&&a[C]===null||Lv(d,Bv(a[C],C,h,g,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,m))}const v=d.join(s.delimiter);let _=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),v.length>0?_+v:""}const ls="4.98.0";let Ly=!1,ki,Zv,Pv,dd,$v,Hv,qv,Vv,Yv;function Gw(r,t={auto:!1}){if(Ly)throw new Error(`you must \`import 'openai/shims/${r.kind}'\` before importing anything else from openai`);if(ki)throw new Error(`can't \`import 'openai/shims/${r.kind}'\` after \`import 'openai/shims/${ki}'\``);Ly=t.auto,ki=r.kind,Zv=r.fetch,Pv=r.FormData,dd=r.File,$v=r.ReadableStream,Hv=r.getMultipartRequestOptions,qv=r.getDefaultAgent,Vv=r.fileFromPath,Yv=r.isFsReadStream}class Qw{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function Iw({manuallyImported:r}={}){const t=r?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let a,s,u,o;try{a=fetch,s=Request,u=Response,o=Headers}catch(d){throw new Error(`this environment is missing the following Web Fetch API type: ${d.message}. ${t}`)}return{kind:"web",fetch:a,Request:s,Response:u,Headers:o,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(d,h)=>({...h,body:new Qw(d)}),getDefaultAgent:d=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:d=>!1}}const Xv=()=>{ki||Gw(Iw(),{auto:!0})};Xv();class se extends Error{}class _t extends se{constructor(t,a,s,u){super(`${_t.makeMessage(t,a,s)}`),this.status=t,this.headers=u,this.request_id=u==null?void 0:u["x-request-id"],this.error=a;const o=a;this.code=o==null?void 0:o.code,this.param=o==null?void 0:o.param,this.type=o==null?void 0:o.type}static makeMessage(t,a,s){const u=a!=null&&a.message?typeof a.message=="string"?a.message:JSON.stringify(a.message):a?JSON.stringify(a):s;return t&&u?`${t} ${u}`:t?`${t} status code (no body)`:u||"(no status code or body)"}static generate(t,a,s,u){if(!t||!u)return new sc({message:s,cause:md(a)});const o=a==null?void 0:a.error;return t===400?new Gv(t,o,s,u):t===401?new Qv(t,o,s,u):t===403?new Iv(t,o,s,u):t===404?new Kv(t,o,s,u):t===409?new Jv(t,o,s,u):t===422?new Fv(t,o,s,u):t===429?new Wv(t,o,s,u):t>=500?new e0(t,o,s,u):new _t(t,o,s,u)}}class sn extends _t{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class sc extends _t{constructor({message:t,cause:a}){super(void 0,void 0,t||"Connection error.",void 0),a&&(this.cause=a)}}class Hd extends sc{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Gv extends _t{}class Qv extends _t{}class Iv extends _t{}class Kv extends _t{}class Jv extends _t{}class Fv extends _t{}class Wv extends _t{}class e0 extends _t{}class t0 extends se{constructor(){super("Could not parse response content as the length limit was reached")}}class n0 extends se{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Au=function(r,t,a,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!u:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(r,a):u?u.value=a:t.set(r,a),a},sr=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},Gt;class ic{constructor(){Gt.set(this,void 0),this.buffer=new Uint8Array,Au(this,Gt,null,"f")}decode(t){if(t==null)return[];const a=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let s=new Uint8Array(this.buffer.length+a.length);s.set(this.buffer),s.set(a,this.buffer.length),this.buffer=s;const u=[];let o;for(;(o=Kw(this.buffer,sr(this,Gt,"f")))!=null;){if(o.carriage&&sr(this,Gt,"f")==null){Au(this,Gt,o.index,"f");continue}if(sr(this,Gt,"f")!=null&&(o.index!==sr(this,Gt,"f")+1||o.carriage)){u.push(this.decodeText(this.buffer.slice(0,sr(this,Gt,"f")-1))),this.buffer=this.buffer.slice(sr(this,Gt,"f")),Au(this,Gt,null,"f");continue}const d=sr(this,Gt,"f")!==null?o.preceding-1:o.preceding,h=this.decodeText(this.buffer.slice(0,d));u.push(h),this.buffer=this.buffer.slice(o.index),Au(this,Gt,null,"f")}return u}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new se(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new se(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new se("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}Gt=new WeakMap;ic.NEWLINE_CHARS=new Set([`
`,"\r"]);ic.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Kw(r,t){for(let u=t??0;u<r.length;u++){if(r[u]===10)return{preceding:u,index:u+1,carriage:!1};if(r[u]===13)return{preceding:u,index:u+1,carriage:!0}}return null}function Jw(r){for(let s=0;s<r.length-1;s++){if(r[s]===10&&r[s+1]===10||r[s]===13&&r[s+1]===13)return s+2;if(r[s]===13&&r[s+1]===10&&s+3<r.length&&r[s+2]===13&&r[s+3]===10)return s+4}return-1}function a0(r){if(r[Symbol.asyncIterator])return r;const t=r.getReader();return{async next(){try{const a=await t.read();return a!=null&&a.done&&t.releaseLock(),a}catch(a){throw t.releaseLock(),a}},async return(){const a=t.cancel();return t.releaseLock(),await a,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class jn{constructor(t,a){this.iterator=t,this.controller=a}static fromSSEResponse(t,a){let s=!1;async function*u(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const d of Fw(t,a))if(!o){if(d.data.startsWith("[DONE]")){o=!0;continue}if(d.event===null||d.event.startsWith("response.")||d.event.startsWith("transcript.")){let h;try{h=JSON.parse(d.data)}catch(g){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),g}if(h&&h.error)throw new _t(void 0,h.error,void 0,o0(t.headers));yield h}else{let h;try{h=JSON.parse(d.data)}catch(g){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),g}if(d.event=="error")throw new _t(void 0,h.error,h.message,void 0);yield{event:d.event,data:h}}}o=!0}catch(d){if(d instanceof Error&&d.name==="AbortError")return;throw d}finally{o||a.abort()}}return new jn(u,a)}static fromReadableStream(t,a){let s=!1;async function*u(){const d=new ic,h=a0(t);for await(const g of h)for(const m of d.decode(g))yield m;for(const g of d.flush())yield g}async function*o(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let d=!1;try{for await(const h of u())d||h&&(yield JSON.parse(h));d=!0}catch(h){if(h instanceof Error&&h.name==="AbortError")return;throw h}finally{d||a.abort()}}return new jn(o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],a=[],s=this.iterator(),u=o=>({next:()=>{if(o.length===0){const d=s.next();t.push(d),a.push(d)}return o.shift()}});return[new jn(()=>u(t),this.controller),new jn(()=>u(a),this.controller)]}toReadableStream(){const t=this;let a;const s=new TextEncoder;return new $v({async start(){a=t[Symbol.asyncIterator]()},async pull(u){try{const{value:o,done:d}=await a.next();if(d)return u.close();const h=s.encode(JSON.stringify(o)+`
`);u.enqueue(h)}catch(o){u.error(o)}},async cancel(){var u;await((u=a.return)==null?void 0:u.call(a))}})}}async function*Fw(r,t){if(!r.body)throw t.abort(),new se("Attempted to iterate over a response with no body");const a=new e1,s=new ic,u=a0(r.body);for await(const o of Ww(u))for(const d of s.decode(o)){const h=a.decode(d);h&&(yield h)}for(const o of s.flush()){const d=a.decode(o);d&&(yield d)}}async function*Ww(r){let t=new Uint8Array;for await(const a of r){if(a==null)continue;const s=a instanceof ArrayBuffer?new Uint8Array(a):typeof a=="string"?new TextEncoder().encode(a):a;let u=new Uint8Array(t.length+s.length);u.set(t),u.set(s,t.length),t=u;let o;for(;(o=Jw(t))!==-1;)yield t.slice(0,o),t=t.slice(o)}t.length>0&&(yield t)}class e1{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[a,s,u]=t1(t,":");return u.startsWith(" ")&&(u=u.substring(1)),a==="event"?this.event=u:a==="data"&&this.data.push(u),null}}function t1(r,t){const a=r.indexOf(t);return a!==-1?[r.substring(0,a),t,r.substring(a+t.length)]:[r,"",""]}const r0=r=>r!=null&&typeof r=="object"&&typeof r.url=="string"&&typeof r.blob=="function",s0=r=>r!=null&&typeof r=="object"&&typeof r.name=="string"&&typeof r.lastModified=="number"&&lc(r),lc=r=>r!=null&&typeof r=="object"&&typeof r.size=="number"&&typeof r.type=="string"&&typeof r.text=="function"&&typeof r.slice=="function"&&typeof r.arrayBuffer=="function",n1=r=>s0(r)||r0(r)||Yv(r);async function i0(r,t,a){var u;if(r=await r,s0(r))return r;if(r0(r)){const o=await r.blob();t||(t=new URL(r.url).pathname.split(/[\\/]/).pop()??"unknown_file");const d=lc(o)?[await o.arrayBuffer()]:[o];return new dd(d,t,a)}const s=await a1(r);if(t||(t=s1(r)??"unknown_file"),!(a!=null&&a.type)){const o=(u=s[0])==null?void 0:u.type;typeof o=="string"&&(a={...a,type:o})}return new dd(s,t,a)}async function a1(r){var a;let t=[];if(typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer)t.push(r);else if(lc(r))t.push(await r.arrayBuffer());else if(i1(r))for await(const s of r)t.push(s);else throw new Error(`Unexpected data type: ${typeof r}; constructor: ${(a=r==null?void 0:r.constructor)==null?void 0:a.name}; props: ${r1(r)}`);return t}function r1(r){return`[${Object.getOwnPropertyNames(r).map(a=>`"${a}"`).join(", ")}]`}function s1(r){var t;return Gf(r.name)||Gf(r.filename)||((t=Gf(r.path))==null?void 0:t.split(/[\\/]/).pop())}const Gf=r=>{if(typeof r=="string")return r;if(typeof Buffer<"u"&&r instanceof Buffer)return String(r)},i1=r=>r!=null&&typeof r=="object"&&typeof r[Symbol.asyncIterator]=="function",By=r=>r&&typeof r=="object"&&r.body&&r[Symbol.toStringTag]==="MultipartBody",gs=async r=>{const t=await l1(r.body);return Hv(t,r)},l1=async r=>{const t=new Pv;return await Promise.all(Object.entries(r||{}).map(([a,s])=>hd(t,a,s))),t},hd=async(r,t,a)=>{if(a!==void 0){if(a==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")r.append(t,String(a));else if(n1(a)){const s=await i0(a);r.append(t,s)}else if(Array.isArray(a))await Promise.all(a.map(s=>hd(r,t+"[]",s)));else if(typeof a=="object")await Promise.all(Object.entries(a).map(([s,u])=>hd(r,`${t}[${s}]`,u)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${a} instead`)}};var ds={},u1=function(r,t,a,s,u){if(typeof t=="function"?r!==t||!0:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(r,a),a},c1=function(r,t,a,s){if(typeof t=="function"?r!==t||!0:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},Eu;Xv();async function l0(r){var d;const{response:t}=r;if(r.options.stream)return Ma("response",t.status,t.url,t.headers,t.body),r.options.__streamClass?r.options.__streamClass.fromSSEResponse(t,r.controller):jn.fromSSEResponse(t,r.controller);if(t.status===204)return null;if(r.options.__binaryResponse)return t;const a=t.headers.get("content-type"),s=(d=a==null?void 0:a.split(";")[0])==null?void 0:d.trim();if((s==null?void 0:s.includes("application/json"))||(s==null?void 0:s.endsWith("+json"))){const h=await t.json();return Ma("response",t.status,t.url,t.headers,h),u0(h,t)}const o=await t.text();return Ma("response",t.status,t.url,t.headers,o),o}function u0(r,t){return!r||typeof r!="object"||Array.isArray(r)?r:Object.defineProperty(r,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class uc extends Promise{constructor(t,a=l0){super(s=>{s(null)}),this.responsePromise=t,this.parseResponse=a}_thenUnwrap(t){return new uc(this.responsePromise,async a=>u0(t(await this.parseResponse(a),a),a.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,a]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:a,request_id:a.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,a){return this.parse().then(t,a)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class o1{constructor({baseURL:t,maxRetries:a=2,timeout:s=6e5,httpAgent:u,fetch:o}){this.baseURL=t,this.maxRetries=Qf("maxRetries",a),this.timeout=Qf("timeout",s),this.httpAgent=u,this.fetch=o??Zv}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...p1(),...this.authHeaders(t)}}validateHeaders(t,a){}defaultIdempotencyKey(){return`stainless-node-retry-${b1()}`}get(t,a){return this.methodRequest("get",t,a)}post(t,a){return this.methodRequest("post",t,a)}patch(t,a){return this.methodRequest("patch",t,a)}put(t,a){return this.methodRequest("put",t,a)}delete(t,a){return this.methodRequest("delete",t,a)}methodRequest(t,a,s){return this.request(Promise.resolve(s).then(async u=>{const o=u&&lc(u==null?void 0:u.body)?new DataView(await u.body.arrayBuffer()):(u==null?void 0:u.body)instanceof DataView?u.body:(u==null?void 0:u.body)instanceof ArrayBuffer?new DataView(u.body):u&&ArrayBuffer.isView(u==null?void 0:u.body)?new DataView(u.body.buffer):u==null?void 0:u.body;return{method:t,path:a,...u,body:o}}))}getAPIList(t,a,s){return this.requestAPIList(a,{method:"get",path:t,...s})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:a=0}={}){var k;const s={...t},{method:u,path:o,query:d,headers:h={}}=s,g=ArrayBuffer.isView(s.body)||s.__binaryRequest&&typeof s.body=="string"?s.body:By(s.body)?s.body.body:s.body?JSON.stringify(s.body,null,2):null,m=this.calculateContentLength(g),v=this.buildURL(o,d);"timeout"in s&&Qf("timeout",s.timeout),s.timeout=s.timeout??this.timeout;const _=s.httpAgent??this.httpAgent??qv(v),w=s.timeout+1e3;typeof((k=_==null?void 0:_.options)==null?void 0:k.timeout)=="number"&&w>(_.options.timeout??0)&&(_.options.timeout=w),this.idempotencyHeader&&u!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),h[this.idempotencyHeader]=t.idempotencyKey);const C=this.buildHeaders({options:s,headers:h,contentLength:m,retryCount:a});return{req:{method:u,...g&&{body:g},headers:C,..._&&{agent:_},signal:s.signal??null},url:v,timeout:s.timeout}}buildHeaders({options:t,headers:a,contentLength:s,retryCount:u}){const o={};s&&(o["content-length"]=s);const d=this.defaultHeaders(t);return Hy(o,d),Hy(o,a),By(t.body)&&ki!=="node"&&delete o["content-type"],Tu(d,"x-stainless-retry-count")===void 0&&Tu(a,"x-stainless-retry-count")===void 0&&(o["x-stainless-retry-count"]=String(u)),Tu(d,"x-stainless-timeout")===void 0&&Tu(a,"x-stainless-timeout")===void 0&&t.timeout&&(o["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(o,a),o}async prepareOptions(t){}async prepareRequest(t,{url:a,options:s}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(a=>[...a])):{...t}:{}}makeStatusError(t,a,s,u){return _t.generate(t,a,s,u)}request(t,a=null){return new uc(this.makeRequest(t,a))}async makeRequest(t,a){var _,w;const s=await t,u=s.maxRetries??this.maxRetries;a==null&&(a=u),await this.prepareOptions(s);const{req:o,url:d,timeout:h}=this.buildRequest(s,{retryCount:u-a});if(await this.prepareRequest(o,{url:d,options:s}),Ma("request",d,s,o.headers),(_=s.signal)!=null&&_.aborted)throw new sn;const g=new AbortController,m=await this.fetchWithTimeout(d,o,h,g).catch(md);if(m instanceof Error){if((w=s.signal)!=null&&w.aborted)throw new sn;if(a)return this.retryRequest(s,a);throw m.name==="AbortError"?new Hd:new sc({cause:m})}const v=o0(m.headers);if(!m.ok){if(a&&this.shouldRetry(m)){const z=`retrying, ${a} attempts remaining`;return Ma(`response (error; ${z})`,m.status,d,v),this.retryRequest(s,a,v)}const C=await m.text().catch(z=>md(z).message),R=g1(C),k=R?void 0:C;throw Ma(`response (error; ${a?"(error; no more retries left)":"(error; not retryable)"})`,m.status,d,v,k),this.makeStatusError(m.status,R,k,v)}return{response:m,options:s,controller:g}}requestAPIList(t,a){const s=this.makeRequest(a,null);return new f1(this,s,t)}buildURL(t,a){const s=v1(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),u=this.defaultQuery();return f0(u)||(a={...u,...a}),typeof a=="object"&&a&&!Array.isArray(a)&&(s.search=this.stringifyQuery(a)),s.toString()}stringifyQuery(t){return Object.entries(t).filter(([a,s])=>typeof s<"u").map(([a,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(a)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(a)}=`;throw new se(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,a,s,u){const{signal:o,...d}=a||{};o&&o.addEventListener("abort",()=>u.abort());const h=setTimeout(()=>u.abort(),s),g={signal:u.signal,...d};return g.method&&(g.method=g.method.toUpperCase()),this.fetch.call(void 0,t,g).finally(()=>{clearTimeout(h)})}shouldRetry(t){const a=t.headers.get("x-should-retry");return a==="true"?!0:a==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,a,s){let u;const o=s==null?void 0:s["retry-after-ms"];if(o){const h=parseFloat(o);Number.isNaN(h)||(u=h)}const d=s==null?void 0:s["retry-after"];if(d&&!u){const h=parseFloat(d);Number.isNaN(h)?u=Date.parse(d)-Date.now():u=h*1e3}if(!(u&&0<=u&&u<60*1e3)){const h=t.maxRetries??this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(a,h)}return await tl(u),this.makeRequest(t,a-1)}calculateDefaultRetryTimeoutMillis(t,a){const o=a-t,d=Math.min(.5*Math.pow(2,o),8),h=1-Math.random()*.25;return d*h*1e3}getUserAgent(){return`${this.constructor.name}/JS ${ls}`}}class c0{constructor(t,a,s,u){Eu.set(this,void 0),u1(this,Eu,t),this.options=u,this.response=a,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new se("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const a={...this.options};if("params"in t&&typeof a.query=="object")a.query={...a.query,...t.params};else if("url"in t){const s=[...Object.entries(a.query||{}),...t.url.searchParams.entries()];for(const[u,o]of s)t.url.searchParams.set(u,o);a.query=void 0,a.path=t.url.toString()}return await c1(this,Eu,"f").requestAPIList(this.constructor,a)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Eu=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const a of t.getPaginatedItems())yield a}}class f1 extends uc{constructor(t,a,s){super(a,async u=>new s(t,u.response,await l0(u),u.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const a of t)yield a}}const o0=r=>new Proxy(Object.fromEntries(r.entries()),{get(t,a){const s=a.toString();return t[s.toLowerCase()]||t[s]}}),d1={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},tt=r=>typeof r=="object"&&r!==null&&!f0(r)&&Object.keys(r).every(t=>d0(d1,t)),h1=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ls,"X-Stainless-OS":Py(Deno.build.os),"X-Stainless-Arch":Zy(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ls,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ls,"X-Stainless-OS":Py(process.platform),"X-Stainless-Arch":Zy(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const r=m1();return r?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ls,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${r.browser}`,"X-Stainless-Runtime-Version":r.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ls,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function m1(){if(typeof navigator>"u"||!navigator)return null;const r=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:a}of r){const s=a.exec(navigator.userAgent);if(s){const u=s[1]||0,o=s[2]||0,d=s[3]||0;return{browser:t,version:`${u}.${o}.${d}`}}}return null}const Zy=r=>r==="x32"?"x32":r==="x86_64"||r==="x64"?"x64":r==="arm"?"arm":r==="aarch64"||r==="arm64"?"arm64":r?`other:${r}`:"unknown",Py=r=>(r=r.toLowerCase(),r.includes("ios")?"iOS":r==="android"?"Android":r==="darwin"?"MacOS":r==="win32"?"Windows":r==="freebsd"?"FreeBSD":r==="openbsd"?"OpenBSD":r==="linux"?"Linux":r?`Other:${r}`:"Unknown");let $y;const p1=()=>$y??($y=h1()),g1=r=>{try{return JSON.parse(r)}catch{return}},y1=/^[a-z][a-z0-9+.-]*:/i,v1=r=>y1.test(r),tl=r=>new Promise(t=>setTimeout(t,r)),Qf=(r,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new se(`${r} must be an integer`);if(t<0)throw new se(`${r} must be a positive integer`);return t},md=r=>{if(r instanceof Error)return r;if(typeof r=="object"&&r!==null)try{return new Error(JSON.stringify(r))}catch{}return new Error(r)},ur=r=>{var t,a,s,u;if(typeof process<"u")return((t=ds==null?void 0:ds[r])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(u=(s=(a=Deno.env)==null?void 0:a.get)==null?void 0:s.call(a,r))==null?void 0:u.trim()};function f0(r){if(!r)return!0;for(const t in r)return!1;return!0}function d0(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function Hy(r,t){for(const a in t){if(!d0(t,a))continue;const s=a.toLowerCase();if(!s)continue;const u=t[a];u===null?delete r[s]:u!==void 0&&(r[s]=u)}}const qy=new Set(["authorization","api-key"]);function Ma(r,...t){if(typeof process<"u"&&(ds==null?void 0:ds.DEBUG)==="true"){const a=t.map(s=>{if(!s)return s;if(s.headers){const o={...s,headers:{...s.headers}};for(const d in s.headers)qy.has(d.toLowerCase())&&(o.headers[d]="REDACTED");return o}let u=null;for(const o in s)qy.has(o.toLowerCase())&&(u??(u={...s}),u[o]="REDACTED");return u??s});console.log(`OpenAI:DEBUG:${r}`,...a)}}const b1=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=Math.random()*16|0;return(r==="x"?t:t&3|8).toString(16)}),_1=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",x1=r=>typeof(r==null?void 0:r.get)=="function",Tu=(r,t)=>{var s;const a=t.toLowerCase();if(x1(r)){const u=((s=t[0])==null?void 0:s.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(o,d,h)=>d+h.toUpperCase());for(const o of[t,a,t.toUpperCase(),u]){const d=r.get(o);if(d)return d}}for(const[u,o]of Object.entries(r))if(u.toLowerCase()===a)return Array.isArray(o)?(o.length<=1||console.warn(`Received ${o.length} entries for the ${t} header, using the first entry.`),o[0]):o},S1=r=>{if(typeof Buffer<"u"){const t=Buffer.from(r,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(r),a=t.length,s=new Uint8Array(a);for(let u=0;u<a;u++)s[u]=t.charCodeAt(u);return Array.from(new Float32Array(s.buffer))}};function ku(r){return r!=null&&typeof r=="object"&&!Array.isArray(r)}class cc extends c0{constructor(t,a,s,u){super(t,a,s,u),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class xt extends c0{constructor(t,a,s,u){super(t,a,s,u),this.data=s.data||[],this.has_more=s.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const a=Object.fromEntries(t.url.searchParams);return Object.keys(a).length?a:null}nextPageInfo(){var s;const t=this.getPaginatedItems();if(!t.length)return null;const a=(s=t[t.length-1])==null?void 0:s.id;return a?{params:{after:a}}:null}}class me{constructor(t){this._client=t}}let h0=class extends me{list(t,a={},s){return tt(a)?this.list(t,{},a):this._client.getAPIList(`/chat/completions/${t}/messages`,w1,{query:a,...s})}},oc=class extends me{constructor(){super(...arguments),this.messages=new h0(this._client)}create(t,a){return this._client.post("/chat/completions",{body:t,...a,stream:t.stream??!1})}retrieve(t,a){return this._client.get(`/chat/completions/${t}`,a)}update(t,a,s){return this._client.post(`/chat/completions/${t}`,{body:a,...s})}list(t={},a){return tt(t)?this.list({},t):this._client.getAPIList("/chat/completions",fc,{query:t,...a})}del(t,a){return this._client.delete(`/chat/completions/${t}`,a)}};class fc extends xt{}class w1 extends xt{}oc.ChatCompletionsPage=fc;oc.Messages=h0;let dc=class extends me{constructor(){super(...arguments),this.completions=new oc(this._client)}};dc.Completions=oc;dc.ChatCompletionsPage=fc;class m0 extends me{create(t,a){return this._client.post("/audio/speech",{body:t,...a,headers:{Accept:"application/octet-stream",...a==null?void 0:a.headers},__binaryResponse:!0})}}class p0 extends me{create(t,a){return this._client.post("/audio/transcriptions",gs({body:t,...a,stream:t.stream??!1,__metadata:{model:t.model}}))}}class g0 extends me{create(t,a){return this._client.post("/audio/translations",gs({body:t,...a,__metadata:{model:t.model}}))}}class nl extends me{constructor(){super(...arguments),this.transcriptions=new p0(this._client),this.translations=new g0(this._client),this.speech=new m0(this._client)}}nl.Transcriptions=p0;nl.Translations=g0;nl.Speech=m0;class qd extends me{create(t,a){return this._client.post("/batches",{body:t,...a})}retrieve(t,a){return this._client.get(`/batches/${t}`,a)}list(t={},a){return tt(t)?this.list({},t):this._client.getAPIList("/batches",Vd,{query:t,...a})}cancel(t,a){return this._client.post(`/batches/${t}/cancel`,a)}}class Vd extends xt{}qd.BatchesPage=Vd;var mn=function(r,t,a,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!u:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(r,a):u?u.value=a:t.set(r,a),a},Qe=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},pd,zu,Uu,Ti,Ri,Lu,Ni,Wn,Oi,qu,Vu,us,y0;class Yd{constructor(){pd.add(this),this.controller=new AbortController,zu.set(this,void 0),Uu.set(this,()=>{}),Ti.set(this,()=>{}),Ri.set(this,void 0),Lu.set(this,()=>{}),Ni.set(this,()=>{}),Wn.set(this,{}),Oi.set(this,!1),qu.set(this,!1),Vu.set(this,!1),us.set(this,!1),mn(this,zu,new Promise((t,a)=>{mn(this,Uu,t,"f"),mn(this,Ti,a,"f")}),"f"),mn(this,Ri,new Promise((t,a)=>{mn(this,Lu,t,"f"),mn(this,Ni,a,"f")}),"f"),Qe(this,zu,"f").catch(()=>{}),Qe(this,Ri,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},Qe(this,pd,"m",y0).bind(this))},0)}_connected(){this.ended||(Qe(this,Uu,"f").call(this),this._emit("connect"))}get ended(){return Qe(this,Oi,"f")}get errored(){return Qe(this,qu,"f")}get aborted(){return Qe(this,Vu,"f")}abort(){this.controller.abort()}on(t,a){return(Qe(this,Wn,"f")[t]||(Qe(this,Wn,"f")[t]=[])).push({listener:a}),this}off(t,a){const s=Qe(this,Wn,"f")[t];if(!s)return this;const u=s.findIndex(o=>o.listener===a);return u>=0&&s.splice(u,1),this}once(t,a){return(Qe(this,Wn,"f")[t]||(Qe(this,Wn,"f")[t]=[])).push({listener:a,once:!0}),this}emitted(t){return new Promise((a,s)=>{mn(this,us,!0,"f"),t!=="error"&&this.once("error",s),this.once(t,a)})}async done(){mn(this,us,!0,"f"),await Qe(this,Ri,"f")}_emit(t,...a){if(Qe(this,Oi,"f"))return;t==="end"&&(mn(this,Oi,!0,"f"),Qe(this,Lu,"f").call(this));const s=Qe(this,Wn,"f")[t];if(s&&(Qe(this,Wn,"f")[t]=s.filter(u=>!u.once),s.forEach(({listener:u})=>u(...a))),t==="abort"){const u=a[0];!Qe(this,us,"f")&&!(s!=null&&s.length)&&Promise.reject(u),Qe(this,Ti,"f").call(this,u),Qe(this,Ni,"f").call(this,u),this._emit("end");return}if(t==="error"){const u=a[0];!Qe(this,us,"f")&&!(s!=null&&s.length)&&Promise.reject(u),Qe(this,Ti,"f").call(this,u),Qe(this,Ni,"f").call(this,u),this._emit("end")}}_emitFinal(){}}zu=new WeakMap,Uu=new WeakMap,Ti=new WeakMap,Ri=new WeakMap,Lu=new WeakMap,Ni=new WeakMap,Wn=new WeakMap,Oi=new WeakMap,qu=new WeakMap,Vu=new WeakMap,us=new WeakMap,pd=new WeakSet,y0=function(t){if(mn(this,qu,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new sn),t instanceof sn)return mn(this,Vu,!0,"f"),this._emit("abort",t);if(t instanceof se)return this._emit("error",t);if(t instanceof Error){const a=new se(t.message);return a.cause=t,this._emit("error",a)}return this._emit("error",new se(String(t)))};var re=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},Xt=function(r,t,a,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!u:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(r,a):u?u.value=a:t.set(r,a),a},bt,gd,Cn,Bu,pn,cr,os,lr,Yu,Qt,Zu,Pu,zi,Ci,ji,Vy,Yy,Xy,Gy,Qy,Iy,Ky;class gn extends Yd{constructor(){super(...arguments),bt.add(this),gd.set(this,[]),Cn.set(this,{}),Bu.set(this,{}),pn.set(this,void 0),cr.set(this,void 0),os.set(this,void 0),lr.set(this,void 0),Yu.set(this,void 0),Qt.set(this,void 0),Zu.set(this,void 0),Pu.set(this,void 0),zi.set(this,void 0)}[(gd=new WeakMap,Cn=new WeakMap,Bu=new WeakMap,pn=new WeakMap,cr=new WeakMap,os=new WeakMap,lr=new WeakMap,Yu=new WeakMap,Qt=new WeakMap,Zu=new WeakMap,Pu=new WeakMap,zi=new WeakMap,bt=new WeakSet,Symbol.asyncIterator)](){const t=[],a=[];let s=!1;return this.on("event",u=>{const o=a.shift();o?o.resolve(u):t.push(u)}),this.on("end",()=>{s=!0;for(const u of a)u.resolve(void 0);a.length=0}),this.on("abort",u=>{s=!0;for(const o of a)o.reject(u);a.length=0}),this.on("error",u=>{s=!0;for(const o of a)o.reject(u);a.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((o,d)=>a.push({resolve:o,reject:d})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const a=new gn;return a._run(()=>a._fromReadableStream(t)),a}async _fromReadableStream(t,a){var o;const s=a==null?void 0:a.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const u=jn.fromReadableStream(t,this.controller);for await(const d of u)re(this,bt,"m",Ci).call(this,d);if((o=u.controller.signal)!=null&&o.aborted)throw new sn;return this._addRun(re(this,bt,"m",ji).call(this))}toReadableStream(){return new jn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,a,s,u,o){const d=new gn;return d._run(()=>d._runToolAssistantStream(t,a,s,u,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),d}async _createToolAssistantStream(t,a,s,u,o){var m;const d=o==null?void 0:o.signal;d&&(d.aborted&&this.controller.abort(),d.addEventListener("abort",()=>this.controller.abort()));const h={...u,stream:!0},g=await t.submitToolOutputs(a,s,h,{...o,signal:this.controller.signal});this._connected();for await(const v of g)re(this,bt,"m",Ci).call(this,v);if((m=g.controller.signal)!=null&&m.aborted)throw new sn;return this._addRun(re(this,bt,"m",ji).call(this))}static createThreadAssistantStream(t,a,s){const u=new gn;return u._run(()=>u._threadAssistantStream(t,a,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),u}static createAssistantStream(t,a,s,u){const o=new gn;return o._run(()=>o._runAssistantStream(t,a,s,{...u,headers:{...u==null?void 0:u.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return re(this,Zu,"f")}currentRun(){return re(this,Pu,"f")}currentMessageSnapshot(){return re(this,pn,"f")}currentRunStepSnapshot(){return re(this,zi,"f")}async finalRunSteps(){return await this.done(),Object.values(re(this,Cn,"f"))}async finalMessages(){return await this.done(),Object.values(re(this,Bu,"f"))}async finalRun(){if(await this.done(),!re(this,cr,"f"))throw Error("Final run was not received.");return re(this,cr,"f")}async _createThreadAssistantStream(t,a,s){var h;const u=s==null?void 0:s.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const o={...a,stream:!0},d=await t.createAndRun(o,{...s,signal:this.controller.signal});this._connected();for await(const g of d)re(this,bt,"m",Ci).call(this,g);if((h=d.controller.signal)!=null&&h.aborted)throw new sn;return this._addRun(re(this,bt,"m",ji).call(this))}async _createAssistantStream(t,a,s,u){var g;const o=u==null?void 0:u.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const d={...s,stream:!0},h=await t.create(a,d,{...u,signal:this.controller.signal});this._connected();for await(const m of h)re(this,bt,"m",Ci).call(this,m);if((g=h.controller.signal)!=null&&g.aborted)throw new sn;return this._addRun(re(this,bt,"m",ji).call(this))}static accumulateDelta(t,a){for(const[s,u]of Object.entries(a)){if(!t.hasOwnProperty(s)){t[s]=u;continue}let o=t[s];if(o==null){t[s]=u;continue}if(s==="index"||s==="type"){t[s]=u;continue}if(typeof o=="string"&&typeof u=="string")o+=u;else if(typeof o=="number"&&typeof u=="number")o+=u;else if(ku(o)&&ku(u))o=this.accumulateDelta(o,u);else if(Array.isArray(o)&&Array.isArray(u)){if(o.every(d=>typeof d=="string"||typeof d=="number")){o.push(...u);continue}for(const d of u){if(!ku(d))throw new Error(`Expected array delta entry to be an object but got: ${d}`);const h=d.index;if(h==null)throw console.error(d),new Error("Expected array delta entry to have an `index` property");if(typeof h!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${h}`);const g=o[h];g==null?o.push(d):o[h]=this.accumulateDelta(g,d)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${u}, accValue: ${o}`);t[s]=o}return t}_addRun(t){return t}async _threadAssistantStream(t,a,s){return await this._createThreadAssistantStream(a,t,s)}async _runAssistantStream(t,a,s,u){return await this._createAssistantStream(a,t,s,u)}async _runToolAssistantStream(t,a,s,u,o){return await this._createToolAssistantStream(s,t,a,u,o)}}Ci=function(t){if(!this.ended)switch(Xt(this,Zu,t,"f"),re(this,bt,"m",Xy).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":re(this,bt,"m",Ky).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":re(this,bt,"m",Yy).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":re(this,bt,"m",Vy).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},ji=function(){if(this.ended)throw new se("stream has ended, this shouldn't happen");if(!re(this,cr,"f"))throw Error("Final run has not been received");return re(this,cr,"f")},Vy=function(t){const[a,s]=re(this,bt,"m",Qy).call(this,t,re(this,pn,"f"));Xt(this,pn,a,"f"),re(this,Bu,"f")[a.id]=a;for(const u of s){const o=a.content[u.index];(o==null?void 0:o.type)=="text"&&this._emit("textCreated",o.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,a),t.data.delta.content)for(const u of t.data.delta.content){if(u.type=="text"&&u.text){let o=u.text,d=a.content[u.index];if(d&&d.type=="text")this._emit("textDelta",o,d.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(u.index!=re(this,os,"f")){if(re(this,lr,"f"))switch(re(this,lr,"f").type){case"text":this._emit("textDone",re(this,lr,"f").text,re(this,pn,"f"));break;case"image_file":this._emit("imageFileDone",re(this,lr,"f").image_file,re(this,pn,"f"));break}Xt(this,os,u.index,"f")}Xt(this,lr,a.content[u.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(re(this,os,"f")!==void 0){const u=t.data.content[re(this,os,"f")];if(u)switch(u.type){case"image_file":this._emit("imageFileDone",u.image_file,re(this,pn,"f"));break;case"text":this._emit("textDone",u.text,re(this,pn,"f"));break}}re(this,pn,"f")&&this._emit("messageDone",t.data),Xt(this,pn,void 0,"f")}},Yy=function(t){const a=re(this,bt,"m",Gy).call(this,t);switch(Xt(this,zi,a,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const s=t.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&a.step_details.type=="tool_calls")for(const o of s.step_details.tool_calls)o.index==re(this,Yu,"f")?this._emit("toolCallDelta",o,a.step_details.tool_calls[o.index]):(re(this,Qt,"f")&&this._emit("toolCallDone",re(this,Qt,"f")),Xt(this,Yu,o.index,"f"),Xt(this,Qt,a.step_details.tool_calls[o.index],"f"),re(this,Qt,"f")&&this._emit("toolCallCreated",re(this,Qt,"f")));this._emit("runStepDelta",t.data.delta,a);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Xt(this,zi,void 0,"f"),t.data.step_details.type=="tool_calls"&&re(this,Qt,"f")&&(this._emit("toolCallDone",re(this,Qt,"f")),Xt(this,Qt,void 0,"f")),this._emit("runStepDone",t.data,a);break}},Xy=function(t){re(this,gd,"f").push(t),this._emit("event",t)},Gy=function(t){switch(t.event){case"thread.run.step.created":return re(this,Cn,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let a=re(this,Cn,"f")[t.data.id];if(!a)throw Error("Received a RunStepDelta before creation of a snapshot");let s=t.data;if(s.delta){const u=gn.accumulateDelta(a,s.delta);re(this,Cn,"f")[t.data.id]=u}return re(this,Cn,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":re(this,Cn,"f")[t.data.id]=t.data;break}if(re(this,Cn,"f")[t.data.id])return re(this,Cn,"f")[t.data.id];throw new Error("No snapshot available")},Qy=function(t,a){let s=[];switch(t.event){case"thread.message.created":return[t.data,s];case"thread.message.delta":if(!a)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let u=t.data;if(u.delta.content)for(const o of u.delta.content)if(o.index in a.content){let d=a.content[o.index];a.content[o.index]=re(this,bt,"m",Iy).call(this,o,d)}else a.content[o.index]=o,s.push(o);return[a,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(a)return[a,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Iy=function(t,a){return gn.accumulateDelta(a,t)},Ky=function(t){switch(Xt(this,Pu,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Xt(this,cr,t.data,"f"),re(this,Qt,"f")&&(this._emit("toolCallDone",re(this,Qt,"f")),Xt(this,Qt,void 0,"f"));break}};class Xd extends me{create(t,a){return this._client.post("/assistants",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(t,a){return this._client.get(`/assistants/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(t,a,s){return this._client.post(`/assistants/${t}`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t={},a){return tt(t)?this.list({},t):this._client.getAPIList("/assistants",Gd,{query:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}del(t,a){return this._client.delete(`/assistants/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class Gd extends xt{}Xd.AssistantsPage=Gd;function Jy(r){return typeof r.parse=="function"}const hs=r=>(r==null?void 0:r.role)==="assistant",v0=r=>(r==null?void 0:r.role)==="function",b0=r=>(r==null?void 0:r.role)==="tool";function A1(r,t){const a={...r};return Object.defineProperties(a,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),a}function Qd(r){return(r==null?void 0:r.$brand)==="auto-parseable-response-format"}function al(r){return(r==null?void 0:r.$brand)==="auto-parseable-tool"}function E1(r,t){return!t||!_0(t)?{...r,choices:r.choices.map(a=>({...a,message:{...a.message,parsed:null,...a.message.tool_calls?{tool_calls:a.message.tool_calls}:void 0}}))}:Id(r,t)}function Id(r,t){const a=r.choices.map(s=>{var u;if(s.finish_reason==="length")throw new t0;if(s.finish_reason==="content_filter")throw new n0;return{...s,message:{...s.message,...s.message.tool_calls?{tool_calls:((u=s.message.tool_calls)==null?void 0:u.map(o=>R1(t,o)))??void 0}:void 0,parsed:s.message.content&&!s.message.refusal?T1(t,s.message.content):null}}});return{...r,choices:a}}function T1(r,t){var a,s;return((a=r.response_format)==null?void 0:a.type)!=="json_schema"?null:((s=r.response_format)==null?void 0:s.type)==="json_schema"?"$parseRaw"in r.response_format?r.response_format.$parseRaw(t):JSON.parse(t):null}function R1(r,t){var s;const a=(s=r.tools)==null?void 0:s.find(u=>{var o;return((o=u.function)==null?void 0:o.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:al(a)?a.$parseRaw(t.function.arguments):a!=null&&a.function.strict?JSON.parse(t.function.arguments):null}}}function N1(r,t){var s;if(!r)return!1;const a=(s=r.tools)==null?void 0:s.find(u=>{var o;return((o=u.function)==null?void 0:o.name)===t.function.name});return al(a)||(a==null?void 0:a.function.strict)||!1}function _0(r){var t;return Qd(r.response_format)?!0:((t=r.tools)==null?void 0:t.some(a=>al(a)||a.type==="function"&&a.function.strict===!0))??!1}function O1(r){for(const t of r??[]){if(t.type!=="function")throw new se(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new se(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var zt=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},Et,yd,Xu,vd,bd,_d,x0,xd;const Fy=10;class S0 extends Yd{constructor(){super(...arguments),Et.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var s;this._chatCompletions.push(t),this._emit("chatCompletion",t);const a=(s=t.choices[0])==null?void 0:s.message;return a&&this._addMessage(a),t}_addMessage(t,a=!0){if("content"in t||(t.content=null),this.messages.push(t),a){if(this._emit("message",t),(v0(t)||b0(t))&&t.content)this._emit("functionCallResult",t.content);else if(hs(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(hs(t)&&t.tool_calls)for(const s of t.tool_calls)s.type==="function"&&this._emit("functionCall",s.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new se("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),zt(this,Et,"m",yd).call(this)}async finalMessage(){return await this.done(),zt(this,Et,"m",Xu).call(this)}async finalFunctionCall(){return await this.done(),zt(this,Et,"m",vd).call(this)}async finalFunctionCallResult(){return await this.done(),zt(this,Et,"m",bd).call(this)}async totalUsage(){return await this.done(),zt(this,Et,"m",_d).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const a=zt(this,Et,"m",Xu).call(this);a&&this._emit("finalMessage",a);const s=zt(this,Et,"m",yd).call(this);s&&this._emit("finalContent",s);const u=zt(this,Et,"m",vd).call(this);u&&this._emit("finalFunctionCall",u);const o=zt(this,Et,"m",bd).call(this);o!=null&&this._emit("finalFunctionCallResult",o),this._chatCompletions.some(d=>d.usage)&&this._emit("totalUsage",zt(this,Et,"m",_d).call(this))}async _createChatCompletion(t,a,s){const u=s==null?void 0:s.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort())),zt(this,Et,"m",x0).call(this,a);const o=await t.chat.completions.create({...a,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Id(o,a))}async _runChatCompletion(t,a,s){for(const u of a.messages)this._addMessage(u,!1);return await this._createChatCompletion(t,a,s)}async _runFunctions(t,a,s){var w;const u="function",{function_call:o="auto",stream:d,...h}=a,g=typeof o!="string"&&(o==null?void 0:o.name),{maxChatCompletions:m=Fy}=s||{},v={};for(const C of a.functions)v[C.name||C.function.name]=C;const _=a.functions.map(C=>({name:C.name||C.function.name,parameters:C.parameters,description:C.description}));for(const C of a.messages)this._addMessage(C,!1);for(let C=0;C<m;++C){const k=(w=(await this._createChatCompletion(t,{...h,function_call:o,functions:_,messages:[...this.messages]},s)).choices[0])==null?void 0:w.message;if(!k)throw new se("missing message in ChatCompletion response");if(!k.function_call)return;const{name:M,arguments:L}=k.function_call,z=v[M];if(z){if(g&&g!==M){const ie=`Invalid function_call: ${JSON.stringify(M)}. ${JSON.stringify(g)} requested. Please try again`;this._addMessage({role:u,name:M,content:ie});continue}}else{const ie=`Invalid function_call: ${JSON.stringify(M)}. Available options are: ${_.map(W=>JSON.stringify(W.name)).join(", ")}. Please try again`;this._addMessage({role:u,name:M,content:ie});continue}let H;try{H=Jy(z)?await z.parse(L):L}catch(ie){this._addMessage({role:u,name:M,content:ie instanceof Error?ie.message:String(ie)});continue}const X=await z.function(H,this),I=zt(this,Et,"m",xd).call(this,X);if(this._addMessage({role:u,name:M,content:I}),g)return}}async _runTools(t,a,s){var C,R,k;const u="tool",{tool_choice:o="auto",stream:d,...h}=a,g=typeof o!="string"&&((C=o==null?void 0:o.function)==null?void 0:C.name),{maxChatCompletions:m=Fy}=s||{},v=a.tools.map(M=>{if(al(M)){if(!M.$callback)throw new se("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:M.$callback,name:M.function.name,description:M.function.description||"",parameters:M.function.parameters,parse:M.$parseRaw,strict:!0}}}return M}),_={};for(const M of v)M.type==="function"&&(_[M.function.name||M.function.function.name]=M.function);const w="tools"in a?v.map(M=>M.type==="function"?{type:"function",function:{name:M.function.name||M.function.function.name,parameters:M.function.parameters,description:M.function.description,strict:M.function.strict}}:M):void 0;for(const M of a.messages)this._addMessage(M,!1);for(let M=0;M<m;++M){const z=(R=(await this._createChatCompletion(t,{...h,tool_choice:o,tools:w,messages:[...this.messages]},s)).choices[0])==null?void 0:R.message;if(!z)throw new se("missing message in ChatCompletion response");if(!((k=z.tool_calls)!=null&&k.length))return;for(const H of z.tool_calls){if(H.type!=="function")continue;const X=H.id,{name:I,arguments:ie}=H.function,W=_[I];if(W){if(g&&g!==I){const Y=`Invalid tool_call: ${JSON.stringify(I)}. ${JSON.stringify(g)} requested. Please try again`;this._addMessage({role:u,tool_call_id:X,content:Y});continue}}else{const Y=`Invalid tool_call: ${JSON.stringify(I)}. Available options are: ${Object.keys(_).map(Re=>JSON.stringify(Re)).join(", ")}. Please try again`;this._addMessage({role:u,tool_call_id:X,content:Y});continue}let xe;try{xe=Jy(W)?await W.parse(ie):ie}catch(Y){const Re=Y instanceof Error?Y.message:String(Y);this._addMessage({role:u,tool_call_id:X,content:Re});continue}const te=await W.function(xe,this),he=zt(this,Et,"m",xd).call(this,te);if(this._addMessage({role:u,tool_call_id:X,content:he}),g)return}}}}Et=new WeakSet,yd=function(){return zt(this,Et,"m",Xu).call(this).content??null},Xu=function(){let t=this.messages.length;for(;t-- >0;){const a=this.messages[t];if(hs(a)){const{function_call:s,...u}=a,o={...u,content:a.content??null,refusal:a.refusal??null};return s&&(o.function_call=s),o}}throw new se("stream ended without producing a ChatCompletionMessage with role=assistant")},vd=function(){var t,a;for(let s=this.messages.length-1;s>=0;s--){const u=this.messages[s];if(hs(u)&&(u!=null&&u.function_call))return u.function_call;if(hs(u)&&((t=u==null?void 0:u.tool_calls)!=null&&t.length))return(a=u.tool_calls.at(-1))==null?void 0:a.function}},bd=function(){for(let t=this.messages.length-1;t>=0;t--){const a=this.messages[t];if(v0(a)&&a.content!=null||b0(a)&&a.content!=null&&typeof a.content=="string"&&this.messages.some(s=>{var u;return s.role==="assistant"&&((u=s.tool_calls)==null?void 0:u.some(o=>o.type==="function"&&o.id===a.tool_call_id))}))return a.content}},_d=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:a}of this._chatCompletions)a&&(t.completion_tokens+=a.completion_tokens,t.prompt_tokens+=a.prompt_tokens,t.total_tokens+=a.total_tokens);return t},x0=function(t){if(t.n!=null&&t.n>1)throw new se("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},xd=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class Li extends S0{static runFunctions(t,a,s){const u=new Li,o={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return u._run(()=>u._runFunctions(t,a,o)),u}static runTools(t,a,s){const u=new Li,o={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return u._run(()=>u._runTools(t,a,o)),u}_addMessage(t,a=!0){super._addMessage(t,a),hs(t)&&t.content&&this._emit("content",t.content)}}const w0=1,A0=2,E0=4,T0=8,R0=16,N0=32,O0=64,C0=128,j0=256,D0=C0|j0,M0=R0|N0|D0|O0,k0=w0|A0|M0,z0=E0|T0,C1=k0|z0,mt={STR:w0,NUM:A0,ARR:E0,OBJ:T0,NULL:R0,BOOL:N0,NAN:O0,INFINITY:C0,MINUS_INFINITY:j0,INF:D0,SPECIAL:M0,ATOM:k0,COLLECTION:z0,ALL:C1};class j1 extends Error{}class D1 extends Error{}function M1(r,t=mt.ALL){if(typeof r!="string")throw new TypeError(`expecting str, got ${typeof r}`);if(!r.trim())throw new Error(`${r} is empty`);return k1(r.trim(),t)}const k1=(r,t)=>{const a=r.length;let s=0;const u=w=>{throw new j1(`${w} at position ${s}`)},o=w=>{throw new D1(`${w} at position ${s}`)},d=()=>(_(),s>=a&&u("Unexpected end of input"),r[s]==='"'?h():r[s]==="{"?g():r[s]==="["?m():r.substring(s,s+4)==="null"||mt.NULL&t&&a-s<4&&"null".startsWith(r.substring(s))?(s+=4,null):r.substring(s,s+4)==="true"||mt.BOOL&t&&a-s<4&&"true".startsWith(r.substring(s))?(s+=4,!0):r.substring(s,s+5)==="false"||mt.BOOL&t&&a-s<5&&"false".startsWith(r.substring(s))?(s+=5,!1):r.substring(s,s+8)==="Infinity"||mt.INFINITY&t&&a-s<8&&"Infinity".startsWith(r.substring(s))?(s+=8,1/0):r.substring(s,s+9)==="-Infinity"||mt.MINUS_INFINITY&t&&1<a-s&&a-s<9&&"-Infinity".startsWith(r.substring(s))?(s+=9,-1/0):r.substring(s,s+3)==="NaN"||mt.NAN&t&&a-s<3&&"NaN".startsWith(r.substring(s))?(s+=3,NaN):v()),h=()=>{const w=s;let C=!1;for(s++;s<a&&(r[s]!=='"'||C&&r[s-1]==="\\");)C=r[s]==="\\"?!C:!1,s++;if(r.charAt(s)=='"')try{return JSON.parse(r.substring(w,++s-Number(C)))}catch(R){o(String(R))}else if(mt.STR&t)try{return JSON.parse(r.substring(w,s-Number(C))+'"')}catch{return JSON.parse(r.substring(w,r.lastIndexOf("\\"))+'"')}u("Unterminated string literal")},g=()=>{s++,_();const w={};try{for(;r[s]!=="}";){if(_(),s>=a&&mt.OBJ&t)return w;const C=h();_(),s++;try{const R=d();Object.defineProperty(w,C,{value:R,writable:!0,enumerable:!0,configurable:!0})}catch(R){if(mt.OBJ&t)return w;throw R}_(),r[s]===","&&s++}}catch{if(mt.OBJ&t)return w;u("Expected '}' at end of object")}return s++,w},m=()=>{s++;const w=[];try{for(;r[s]!=="]";)w.push(d()),_(),r[s]===","&&s++}catch{if(mt.ARR&t)return w;u("Expected ']' at end of array")}return s++,w},v=()=>{if(s===0){r==="-"&&mt.NUM&t&&u("Not sure what '-' is");try{return JSON.parse(r)}catch(C){if(mt.NUM&t)try{return r[r.length-1]==="."?JSON.parse(r.substring(0,r.lastIndexOf("."))):JSON.parse(r.substring(0,r.lastIndexOf("e")))}catch{}o(String(C))}}const w=s;for(r[s]==="-"&&s++;r[s]&&!",]}".includes(r[s]);)s++;s==a&&!(mt.NUM&t)&&u("Unterminated number literal");try{return JSON.parse(r.substring(w,s))}catch{r.substring(w,s)==="-"&&mt.NUM&t&&u("Not sure what '-' is");try{return JSON.parse(r.substring(w,r.lastIndexOf("e")))}catch(R){o(String(R))}}},_=()=>{for(;s<a&&` 
\r	`.includes(r[s]);)s++};return d()},Wy=r=>M1(r,mt.ALL^mt.NUM);var as=function(r,t,a,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!u:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(r,a):u?u.value=a:t.set(r,a),a},$e=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},ut,Jn,rs,Ca,If,Ru,Kf,Jf,Ff,Nu,Wf,ev;class Bi extends S0{constructor(t){super(),ut.add(this),Jn.set(this,void 0),rs.set(this,void 0),Ca.set(this,void 0),as(this,Jn,t,"f"),as(this,rs,[],"f")}get currentChatCompletionSnapshot(){return $e(this,Ca,"f")}static fromReadableStream(t){const a=new Bi(null);return a._run(()=>a._fromReadableStream(t)),a}static createChatCompletion(t,a,s){const u=new Bi(a);return u._run(()=>u._runChatCompletion(t,{...a,stream:!0},{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),u}async _createChatCompletion(t,a,s){var d;super._createChatCompletion;const u=s==null?void 0:s.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort())),$e(this,ut,"m",If).call(this);const o=await t.chat.completions.create({...a,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const h of o)$e(this,ut,"m",Kf).call(this,h);if((d=o.controller.signal)!=null&&d.aborted)throw new sn;return this._addChatCompletion($e(this,ut,"m",Nu).call(this))}async _fromReadableStream(t,a){var d;const s=a==null?void 0:a.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),$e(this,ut,"m",If).call(this),this._connected();const u=jn.fromReadableStream(t,this.controller);let o;for await(const h of u)o&&o!==h.id&&this._addChatCompletion($e(this,ut,"m",Nu).call(this)),$e(this,ut,"m",Kf).call(this,h),o=h.id;if((d=u.controller.signal)!=null&&d.aborted)throw new sn;return this._addChatCompletion($e(this,ut,"m",Nu).call(this))}[(Jn=new WeakMap,rs=new WeakMap,Ca=new WeakMap,ut=new WeakSet,If=function(){this.ended||as(this,Ca,void 0,"f")},Ru=function(a){let s=$e(this,rs,"f")[a.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},$e(this,rs,"f")[a.index]=s,s)},Kf=function(a){var u,o,d,h,g,m,v,_,w,C,R,k,M,L,z;if(this.ended)return;const s=$e(this,ut,"m",ev).call(this,a);this._emit("chunk",a,s);for(const H of a.choices){const X=s.choices[H.index];H.delta.content!=null&&((u=X.message)==null?void 0:u.role)==="assistant"&&((o=X.message)!=null&&o.content)&&(this._emit("content",H.delta.content,X.message.content),this._emit("content.delta",{delta:H.delta.content,snapshot:X.message.content,parsed:X.message.parsed})),H.delta.refusal!=null&&((d=X.message)==null?void 0:d.role)==="assistant"&&((h=X.message)!=null&&h.refusal)&&this._emit("refusal.delta",{delta:H.delta.refusal,snapshot:X.message.refusal}),((g=H.logprobs)==null?void 0:g.content)!=null&&((m=X.message)==null?void 0:m.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(v=H.logprobs)==null?void 0:v.content,snapshot:((_=X.logprobs)==null?void 0:_.content)??[]}),((w=H.logprobs)==null?void 0:w.refusal)!=null&&((C=X.message)==null?void 0:C.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(R=H.logprobs)==null?void 0:R.refusal,snapshot:((k=X.logprobs)==null?void 0:k.refusal)??[]});const I=$e(this,ut,"m",Ru).call(this,X);X.finish_reason&&($e(this,ut,"m",Ff).call(this,X),I.current_tool_call_index!=null&&$e(this,ut,"m",Jf).call(this,X,I.current_tool_call_index));for(const ie of H.delta.tool_calls??[])I.current_tool_call_index!==ie.index&&($e(this,ut,"m",Ff).call(this,X),I.current_tool_call_index!=null&&$e(this,ut,"m",Jf).call(this,X,I.current_tool_call_index)),I.current_tool_call_index=ie.index;for(const ie of H.delta.tool_calls??[]){const W=(M=X.message.tool_calls)==null?void 0:M[ie.index];W!=null&&W.type&&((W==null?void 0:W.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(L=W.function)==null?void 0:L.name,index:ie.index,arguments:W.function.arguments,parsed_arguments:W.function.parsed_arguments,arguments_delta:((z=ie.function)==null?void 0:z.arguments)??""}):(W==null||W.type,void 0))}}},Jf=function(a,s){var d,h,g;if($e(this,ut,"m",Ru).call(this,a).done_tool_calls.has(s))return;const o=(d=a.message.tool_calls)==null?void 0:d[s];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if(o.type==="function"){const m=(g=(h=$e(this,Jn,"f"))==null?void 0:h.tools)==null?void 0:g.find(v=>v.type==="function"&&v.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:s,arguments:o.function.arguments,parsed_arguments:al(m)?m.$parseRaw(o.function.arguments):m!=null&&m.function.strict?JSON.parse(o.function.arguments):null})}else o.type},Ff=function(a){var u,o;const s=$e(this,ut,"m",Ru).call(this,a);if(a.message.content&&!s.content_done){s.content_done=!0;const d=$e(this,ut,"m",Wf).call(this);this._emit("content.done",{content:a.message.content,parsed:d?d.$parseRaw(a.message.content):null})}a.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:a.message.refusal})),(u=a.logprobs)!=null&&u.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:a.logprobs.content})),(o=a.logprobs)!=null&&o.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:a.logprobs.refusal}))},Nu=function(){if(this.ended)throw new se("stream has ended, this shouldn't happen");const a=$e(this,Ca,"f");if(!a)throw new se("request ended without sending any chunks");return as(this,Ca,void 0,"f"),as(this,rs,[],"f"),z1(a,$e(this,Jn,"f"))},Wf=function(){var s;const a=(s=$e(this,Jn,"f"))==null?void 0:s.response_format;return Qd(a)?a:null},ev=function(a){var s,u,o,d;let h=$e(this,Ca,"f");const{choices:g,...m}=a;h?Object.assign(h,m):h=as(this,Ca,{...m,choices:[]},"f");for(const{delta:v,finish_reason:_,index:w,logprobs:C=null,...R}of a.choices){let k=h.choices[w];if(k||(k=h.choices[w]={finish_reason:_,index:w,message:{},logprobs:C,...R}),C)if(!k.logprobs)k.logprobs=Object.assign({},C);else{const{content:ie,refusal:W,...xe}=C;Object.assign(k.logprobs,xe),ie&&((s=k.logprobs).content??(s.content=[]),k.logprobs.content.push(...ie)),W&&((u=k.logprobs).refusal??(u.refusal=[]),k.logprobs.refusal.push(...W))}if(_&&(k.finish_reason=_,$e(this,Jn,"f")&&_0($e(this,Jn,"f")))){if(_==="length")throw new t0;if(_==="content_filter")throw new n0}if(Object.assign(k,R),!v)continue;const{content:M,refusal:L,function_call:z,role:H,tool_calls:X,...I}=v;if(Object.assign(k.message,I),L&&(k.message.refusal=(k.message.refusal||"")+L),H&&(k.message.role=H),z&&(k.message.function_call?(z.name&&(k.message.function_call.name=z.name),z.arguments&&((o=k.message.function_call).arguments??(o.arguments=""),k.message.function_call.arguments+=z.arguments)):k.message.function_call=z),M&&(k.message.content=(k.message.content||"")+M,!k.message.refusal&&$e(this,ut,"m",Wf).call(this)&&(k.message.parsed=Wy(k.message.content))),X){k.message.tool_calls||(k.message.tool_calls=[]);for(const{index:ie,id:W,type:xe,function:te,...he}of X){const Y=(d=k.message.tool_calls)[ie]??(d[ie]={});Object.assign(Y,he),W&&(Y.id=W),xe&&(Y.type=xe),te&&(Y.function??(Y.function={name:te.name??"",arguments:""})),te!=null&&te.name&&(Y.function.name=te.name),te!=null&&te.arguments&&(Y.function.arguments+=te.arguments,N1($e(this,Jn,"f"),Y)&&(Y.function.parsed_arguments=Wy(Y.function.arguments)))}}}return h},Symbol.asyncIterator)](){const t=[],a=[];let s=!1;return this.on("chunk",u=>{const o=a.shift();o?o.resolve(u):t.push(u)}),this.on("end",()=>{s=!0;for(const u of a)u.resolve(void 0);a.length=0}),this.on("abort",u=>{s=!0;for(const o of a)o.reject(u);a.length=0}),this.on("error",u=>{s=!0;for(const o of a)o.reject(u);a.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((o,d)=>a.push({resolve:o,reject:d})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new jn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function z1(r,t){const{id:a,choices:s,created:u,model:o,system_fingerprint:d,...h}=r,g={...h,id:a,choices:s.map(({message:m,finish_reason:v,index:_,logprobs:w,...C})=>{if(!v)throw new se(`missing finish_reason for choice ${_}`);const{content:R=null,function_call:k,tool_calls:M,...L}=m,z=m.role;if(!z)throw new se(`missing role for choice ${_}`);if(k){const{arguments:H,name:X}=k;if(H==null)throw new se(`missing function_call.arguments for choice ${_}`);if(!X)throw new se(`missing function_call.name for choice ${_}`);return{...C,message:{content:R,function_call:{arguments:H,name:X},role:z,refusal:m.refusal??null},finish_reason:v,index:_,logprobs:w}}return M?{...C,index:_,finish_reason:v,logprobs:w,message:{...L,role:z,content:R,refusal:m.refusal??null,tool_calls:M.map((H,X)=>{const{function:I,type:ie,id:W,...xe}=H,{arguments:te,name:he,...Y}=I||{};if(W==null)throw new se(`missing choices[${_}].tool_calls[${X}].id
${Ou(r)}`);if(ie==null)throw new se(`missing choices[${_}].tool_calls[${X}].type
${Ou(r)}`);if(he==null)throw new se(`missing choices[${_}].tool_calls[${X}].function.name
${Ou(r)}`);if(te==null)throw new se(`missing choices[${_}].tool_calls[${X}].function.arguments
${Ou(r)}`);return{...xe,id:W,type:ie,function:{...Y,name:he,arguments:te}}})}}:{...C,message:{...L,content:R,role:z,refusal:m.refusal??null},finish_reason:v,index:_,logprobs:w}}),created:u,model:o,object:"chat.completion",...d?{system_fingerprint:d}:{}};return E1(g,t)}function Ou(r){return JSON.stringify(r)}class ms extends Bi{static fromReadableStream(t){const a=new ms(null);return a._run(()=>a._fromReadableStream(t)),a}static runFunctions(t,a,s){const u=new ms(null),o={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return u._run(()=>u._runFunctions(t,a,o)),u}static runTools(t,a,s){const u=new ms(a),o={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return u._run(()=>u._runTools(t,a,o)),u}}let U0=class extends me{parse(t,a){return O1(t.tools),this._client.chat.completions.create(t,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(s=>Id(s,t))}runFunctions(t,a){return t.stream?ms.runFunctions(this._client,t,a):Li.runFunctions(this._client,t,a)}runTools(t,a){return t.stream?ms.runTools(this._client,t,a):Li.runTools(this._client,t,a)}stream(t,a){return Bi.createChatCompletion(this._client,t,a)}};class Sd extends me{constructor(){super(...arguments),this.completions=new U0(this._client)}}(function(r){r.Completions=U0})(Sd||(Sd={}));class L0 extends me{create(t,a){return this._client.post("/realtime/sessions",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class B0 extends me{create(t,a){return this._client.post("/realtime/transcription_sessions",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class hc extends me{constructor(){super(...arguments),this.sessions=new L0(this._client),this.transcriptionSessions=new B0(this._client)}}hc.Sessions=L0;hc.TranscriptionSessions=B0;class Kd extends me{create(t,a,s){return this._client.post(`/threads/${t}/messages`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,a,s){return this._client.get(`/threads/${t}/messages/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,a,s,u){return this._client.post(`/threads/${t}/messages/${a}`,{body:s,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}list(t,a={},s){return tt(a)?this.list(t,{},a):this._client.getAPIList(`/threads/${t}/messages`,Jd,{query:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,a,s){return this._client.delete(`/threads/${t}/messages/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Jd extends xt{}Kd.MessagesPage=Jd;class Fd extends me{retrieve(t,a,s,u={},o){return tt(u)?this.retrieve(t,a,s,{},u):this._client.get(`/threads/${t}/runs/${a}/steps/${s}`,{query:u,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(t,a,s={},u){return tt(s)?this.list(t,a,{},s):this._client.getAPIList(`/threads/${t}/runs/${a}/steps`,Wd,{query:s,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}}class Wd extends xt{}Fd.RunStepsPage=Wd;let rl=class extends me{constructor(){super(...arguments),this.steps=new Fd(this._client)}create(t,a,s){const{include:u,...o}=a;return this._client.post(`/threads/${t}/runs`,{query:{include:u},body:o,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:a.stream??!1})}retrieve(t,a,s){return this._client.get(`/threads/${t}/runs/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,a,s,u){return this._client.post(`/threads/${t}/runs/${a}`,{body:s,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}list(t,a={},s){return tt(a)?this.list(t,{},a):this._client.getAPIList(`/threads/${t}/runs`,eh,{query:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(t,a,s){return this._client.post(`/threads/${t}/runs/${a}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,a,s){const u=await this.create(t,a,s);return await this.poll(t,u.id,s)}createAndStream(t,a,s){return gn.createAssistantStream(t,this._client.beta.threads.runs,a,s)}async poll(t,a,s){const u={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(u["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:o,response:d}=await this.retrieve(t,a,{...s,headers:{...s==null?void 0:s.headers,...u}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let h=5e3;if(s!=null&&s.pollIntervalMs)h=s.pollIntervalMs;else{const g=d.headers.get("openai-poll-after-ms");if(g){const m=parseInt(g);isNaN(m)||(h=m)}}await tl(h);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(t,a,s){return gn.createAssistantStream(t,this._client.beta.threads.runs,a,s)}submitToolOutputs(t,a,s,u){return this._client.post(`/threads/${t}/runs/${a}/submit_tool_outputs`,{body:s,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers},stream:s.stream??!1})}async submitToolOutputsAndPoll(t,a,s,u){const o=await this.submitToolOutputs(t,a,s,u);return await this.poll(t,o.id,u)}submitToolOutputsStream(t,a,s,u){return gn.createToolAssistantStream(t,a,this._client.beta.threads.runs,s,u)}};class eh extends xt{}rl.RunsPage=eh;rl.Steps=Fd;rl.RunStepsPage=Wd;class xs extends me{constructor(){super(...arguments),this.runs=new rl(this._client),this.messages=new Kd(this._client)}create(t={},a){return tt(t)?this.create({},t):this._client.post("/threads",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(t,a){return this._client.get(`/threads/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(t,a,s){return this._client.post(`/threads/${t}`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,a){return this._client.delete(`/threads/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}createAndRun(t,a){return this._client.post("/threads/runs",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers},stream:t.stream??!1})}async createAndRunPoll(t,a){const s=await this.createAndRun(t,a);return await this.runs.poll(s.thread_id,s.id,a)}createAndRunStream(t,a){return gn.createThreadAssistantStream(t,this._client.beta.threads,a)}}xs.Runs=rl;xs.RunsPage=eh;xs.Messages=Kd;xs.MessagesPage=Jd;class Ss extends me{constructor(){super(...arguments),this.realtime=new hc(this._client),this.chat=new Sd(this._client),this.assistants=new Xd(this._client),this.threads=new xs(this._client)}}Ss.Realtime=hc;Ss.Assistants=Xd;Ss.AssistantsPage=Gd;Ss.Threads=xs;class Z0 extends me{create(t,a){return this._client.post("/completions",{body:t,...a,stream:t.stream??!1})}}class P0 extends me{create(t,a){const s=!!t.encoding_format;let u=s?t.encoding_format:"base64";s&&Ma("Request","User defined encoding_format:",t.encoding_format);const o=this._client.post("/embeddings",{body:{...t,encoding_format:u},...a});return s?o:(Ma("response","Decoding base64 embeddings to float32 array"),o._thenUnwrap(d=>(d&&d.data&&d.data.forEach(h=>{const g=h.embedding;h.embedding=S1(g)}),d)))}}class th extends me{retrieve(t,a,s,u){return this._client.get(`/evals/${t}/runs/${a}/output_items/${s}`,u)}list(t,a,s={},u){return tt(s)?this.list(t,a,{},s):this._client.getAPIList(`/evals/${t}/runs/${a}/output_items`,nh,{query:s,...u})}}class nh extends xt{}th.OutputItemListResponsesPage=nh;class sl extends me{constructor(){super(...arguments),this.outputItems=new th(this._client)}create(t,a,s){return this._client.post(`/evals/${t}/runs`,{body:a,...s})}retrieve(t,a,s){return this._client.get(`/evals/${t}/runs/${a}`,s)}list(t,a={},s){return tt(a)?this.list(t,{},a):this._client.getAPIList(`/evals/${t}/runs`,ah,{query:a,...s})}del(t,a,s){return this._client.delete(`/evals/${t}/runs/${a}`,s)}cancel(t,a,s){return this._client.post(`/evals/${t}/runs/${a}`,s)}}class ah extends xt{}sl.RunListResponsesPage=ah;sl.OutputItems=th;sl.OutputItemListResponsesPage=nh;class il extends me{constructor(){super(...arguments),this.runs=new sl(this._client)}create(t,a){return this._client.post("/evals",{body:t,...a})}retrieve(t,a){return this._client.get(`/evals/${t}`,a)}update(t,a,s){return this._client.post(`/evals/${t}`,{body:a,...s})}list(t={},a){return tt(t)?this.list({},t):this._client.getAPIList("/evals",rh,{query:t,...a})}del(t,a){return this._client.delete(`/evals/${t}`,a)}}class rh extends xt{}il.EvalListResponsesPage=rh;il.Runs=sl;il.RunListResponsesPage=ah;let sh=class extends me{create(t,a){return this._client.post("/files",gs({body:t,...a}))}retrieve(t,a){return this._client.get(`/files/${t}`,a)}list(t={},a){return tt(t)?this.list({},t):this._client.getAPIList("/files",ih,{query:t,...a})}del(t,a){return this._client.delete(`/files/${t}`,a)}content(t,a){return this._client.get(`/files/${t}/content`,{...a,headers:{Accept:"application/binary",...a==null?void 0:a.headers},__binaryResponse:!0})}retrieveContent(t,a){return this._client.get(`/files/${t}/content`,a)}async waitForProcessing(t,{pollInterval:a=5e3,maxWait:s=30*60*1e3}={}){const u=new Set(["processed","error","deleted"]),o=Date.now();let d=await this.retrieve(t);for(;!d.status||!u.has(d.status);)if(await tl(a),d=await this.retrieve(t),Date.now()-o>s)throw new Hd({message:`Giving up on waiting for file ${t} to finish processing after ${s} milliseconds.`});return d}};class ih extends xt{}sh.FileObjectsPage=ih;class $0 extends me{}let H0=class extends me{run(t,a){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...a})}validate(t,a){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...a})}};class lh extends me{constructor(){super(...arguments),this.graders=new H0(this._client)}}lh.Graders=H0;class uh extends me{create(t,a,s){return this._client.getAPIList(`/fine_tuning/checkpoints/${t}/permissions`,ch,{body:a,method:"post",...s})}retrieve(t,a={},s){return tt(a)?this.retrieve(t,{},a):this._client.get(`/fine_tuning/checkpoints/${t}/permissions`,{query:a,...s})}del(t,a,s){return this._client.delete(`/fine_tuning/checkpoints/${t}/permissions/${a}`,s)}}class ch extends cc{}uh.PermissionCreateResponsesPage=ch;let mc=class extends me{constructor(){super(...arguments),this.permissions=new uh(this._client)}};mc.Permissions=uh;mc.PermissionCreateResponsesPage=ch;class oh extends me{list(t,a={},s){return tt(a)?this.list(t,{},a):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,fh,{query:a,...s})}}class fh extends xt{}oh.FineTuningJobCheckpointsPage=fh;class ws extends me{constructor(){super(...arguments),this.checkpoints=new oh(this._client)}create(t,a){return this._client.post("/fine_tuning/jobs",{body:t,...a})}retrieve(t,a){return this._client.get(`/fine_tuning/jobs/${t}`,a)}list(t={},a){return tt(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",dh,{query:t,...a})}cancel(t,a){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,a)}listEvents(t,a={},s){return tt(a)?this.listEvents(t,{},a):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,hh,{query:a,...s})}pause(t,a){return this._client.post(`/fine_tuning/jobs/${t}/pause`,a)}resume(t,a){return this._client.post(`/fine_tuning/jobs/${t}/resume`,a)}}class dh extends xt{}class hh extends xt{}ws.FineTuningJobsPage=dh;ws.FineTuningJobEventsPage=hh;ws.Checkpoints=oh;ws.FineTuningJobCheckpointsPage=fh;class Ba extends me{constructor(){super(...arguments),this.methods=new $0(this._client),this.jobs=new ws(this._client),this.checkpoints=new mc(this._client),this.alpha=new lh(this._client)}}Ba.Methods=$0;Ba.Jobs=ws;Ba.FineTuningJobsPage=dh;Ba.FineTuningJobEventsPage=hh;Ba.Checkpoints=mc;Ba.Alpha=lh;class q0 extends me{}class mh extends me{constructor(){super(...arguments),this.graderModels=new q0(this._client)}}mh.GraderModels=q0;class V0 extends me{createVariation(t,a){return this._client.post("/images/variations",gs({body:t,...a}))}edit(t,a){return this._client.post("/images/edits",gs({body:t,...a}))}generate(t,a){return this._client.post("/images/generations",{body:t,...a})}}class ph extends me{retrieve(t,a){return this._client.get(`/models/${t}`,a)}list(t){return this._client.getAPIList("/models",gh,t)}del(t,a){return this._client.delete(`/models/${t}`,a)}}class gh extends cc{}ph.ModelsPage=gh;class Y0 extends me{create(t,a){return this._client.post("/moderations",{body:t,...a})}}function U1(r,t){return!t||!B1(t)?{...r,output_parsed:null,output:r.output.map(a=>a.type==="function_call"?{...a,parsed_arguments:null}:a.type==="message"?{...a,content:a.content.map(s=>({...s,parsed:null}))}:a)}:X0(r,t)}function X0(r,t){const a=r.output.map(u=>{if(u.type==="function_call")return{...u,parsed_arguments:$1(t,u)};if(u.type==="message"){const o=u.content.map(d=>d.type==="output_text"?{...d,parsed:L1(t,d.text)}:d);return{...u,content:o}}return u}),s=Object.assign({},r,{output:a});return Object.getOwnPropertyDescriptor(r,"output_text")||G0(s),Object.defineProperty(s,"output_parsed",{enumerable:!0,get(){for(const u of s.output)if(u.type==="message"){for(const o of u.content)if(o.type==="output_text"&&o.parsed!==null)return o.parsed}return null}}),s}function L1(r,t){var a,s,u,o;return((s=(a=r.text)==null?void 0:a.format)==null?void 0:s.type)!=="json_schema"?null:"$parseRaw"in((u=r.text)==null?void 0:u.format)?((o=r.text)==null?void 0:o.format).$parseRaw(t):JSON.parse(t)}function B1(r){var t;return!!Qd((t=r.text)==null?void 0:t.format)}function Z1(r){return(r==null?void 0:r.$brand)==="auto-parseable-tool"}function P1(r,t){return r.find(a=>a.type==="function"&&a.name===t)}function $1(r,t){const a=P1(r.tools??[],t.name);return{...t,...t,parsed_arguments:Z1(a)?a.$parseRaw(t.arguments):a!=null&&a.strict?JSON.parse(t.arguments):null}}function G0(r){const t=[];for(const a of r.output)if(a.type==="message")for(const s of a.content)s.type==="output_text"&&t.push(s.text);r.output_text=t.join("")}class Q0 extends me{list(t,a={},s){return tt(a)?this.list(t,{},a):this._client.getAPIList(`/responses/${t}/input_items`,q1,{query:a,...s})}}var ss=function(r,t,a,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!u:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(r,a):u?u.value=a:t.set(r,a),a},ja=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},is,Cu,Da,ju,tv,nv,av,rv;class yh extends Yd{constructor(t){super(),is.add(this),Cu.set(this,void 0),Da.set(this,void 0),ju.set(this,void 0),ss(this,Cu,t,"f")}static createResponse(t,a,s){const u=new yh(a);return u._run(()=>u._createResponse(t,a,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),u}async _createResponse(t,a,s){var d;const u=s==null?void 0:s.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort())),ja(this,is,"m",tv).call(this);const o=await t.responses.create({...a,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const h of o)ja(this,is,"m",nv).call(this,h);if((d=o.controller.signal)!=null&&d.aborted)throw new sn;return ja(this,is,"m",av).call(this)}[(Cu=new WeakMap,Da=new WeakMap,ju=new WeakMap,is=new WeakSet,tv=function(){this.ended||ss(this,Da,void 0,"f")},nv=function(a){if(this.ended)return;const s=ja(this,is,"m",rv).call(this,a);switch(this._emit("event",a),a.type){case"response.output_text.delta":{const u=s.output[a.output_index];if(!u)throw new se(`missing output at index ${a.output_index}`);if(u.type==="message"){const o=u.content[a.content_index];if(!o)throw new se(`missing content at index ${a.content_index}`);if(o.type!=="output_text")throw new se(`expected content to be 'output_text', got ${o.type}`);this._emit("response.output_text.delta",{...a,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const u=s.output[a.output_index];if(!u)throw new se(`missing output at index ${a.output_index}`);u.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...a,snapshot:u.arguments});break}default:this._emit(a.type,a);break}},av=function(){if(this.ended)throw new se("stream has ended, this shouldn't happen");const a=ja(this,Da,"f");if(!a)throw new se("request ended without sending any events");ss(this,Da,void 0,"f");const s=H1(a,ja(this,Cu,"f"));return ss(this,ju,s,"f"),s},rv=function(a){let s=ja(this,Da,"f");if(!s){if(a.type!=="response.created")throw new se(`When snapshot hasn't been set yet, expected 'response.created' event, got ${a.type}`);return s=ss(this,Da,a.response,"f"),s}switch(a.type){case"response.output_item.added":{s.output.push(a.item);break}case"response.content_part.added":{const u=s.output[a.output_index];if(!u)throw new se(`missing output at index ${a.output_index}`);u.type==="message"&&u.content.push(a.part);break}case"response.output_text.delta":{const u=s.output[a.output_index];if(!u)throw new se(`missing output at index ${a.output_index}`);if(u.type==="message"){const o=u.content[a.content_index];if(!o)throw new se(`missing content at index ${a.content_index}`);if(o.type!=="output_text")throw new se(`expected content to be 'output_text', got ${o.type}`);o.text+=a.delta}break}case"response.function_call_arguments.delta":{const u=s.output[a.output_index];if(!u)throw new se(`missing output at index ${a.output_index}`);u.type==="function_call"&&(u.arguments+=a.delta);break}case"response.completed":{ss(this,Da,a.response,"f");break}}return s},Symbol.asyncIterator)](){const t=[],a=[];let s=!1;return this.on("event",u=>{const o=a.shift();o?o.resolve(u):t.push(u)}),this.on("end",()=>{s=!0;for(const u of a)u.resolve(void 0);a.length=0}),this.on("abort",u=>{s=!0;for(const o of a)o.reject(u);a.length=0}),this.on("error",u=>{s=!0;for(const o of a)o.reject(u);a.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((o,d)=>a.push({resolve:o,reject:d})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=ja(this,ju,"f");if(!t)throw new se("stream ended without producing a ChatCompletion");return t}}function H1(r,t){return U1(r,t)}class vh extends me{constructor(){super(...arguments),this.inputItems=new Q0(this._client)}create(t,a){return this._client.post("/responses",{body:t,...a,stream:t.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&G0(s),s))}retrieve(t,a={},s){return tt(a)?this.retrieve(t,{},a):this._client.get(`/responses/${t}`,{query:a,...s})}del(t,a){return this._client.delete(`/responses/${t}`,{...a,headers:{Accept:"*/*",...a==null?void 0:a.headers}})}parse(t,a){return this._client.responses.create(t,a)._thenUnwrap(s=>X0(s,t))}stream(t,a){return yh.createResponse(this._client,t,a)}}class q1 extends xt{}vh.InputItems=Q0;class I0 extends me{create(t,a,s){return this._client.post(`/uploads/${t}/parts`,gs({body:a,...s}))}}class bh extends me{constructor(){super(...arguments),this.parts=new I0(this._client)}create(t,a){return this._client.post("/uploads",{body:t,...a})}cancel(t,a){return this._client.post(`/uploads/${t}/cancel`,a)}complete(t,a,s){return this._client.post(`/uploads/${t}/complete`,{body:a,...s})}}bh.Parts=I0;const V1=async r=>{const t=await Promise.allSettled(r),a=t.filter(u=>u.status==="rejected");if(a.length){for(const u of a)console.error(u.reason);throw new Error(`${a.length} promise(s) failed - see the above errors`)}const s=[];for(const u of t)u.status==="fulfilled"&&s.push(u.value);return s};class pc extends me{create(t,a,s){return this._client.post(`/vector_stores/${t}/files`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,a,s){return this._client.get(`/vector_stores/${t}/files/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,a,s,u){return this._client.post(`/vector_stores/${t}/files/${a}`,{body:s,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}list(t,a={},s){return tt(a)?this.list(t,{},a):this._client.getAPIList(`/vector_stores/${t}/files`,gc,{query:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,a,s){return this._client.delete(`/vector_stores/${t}/files/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,a,s){const u=await this.create(t,a,s);return await this.poll(t,u.id,s)}async poll(t,a,s){const u={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(u["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const o=await this.retrieve(t,a,{...s,headers:u}).withResponse(),d=o.data;switch(d.status){case"in_progress":let h=5e3;if(s!=null&&s.pollIntervalMs)h=s.pollIntervalMs;else{const g=o.response.headers.get("openai-poll-after-ms");if(g){const m=parseInt(g);isNaN(m)||(h=m)}}await tl(h);break;case"failed":case"completed":return d}}}async upload(t,a,s){const u=await this._client.files.create({file:a,purpose:"assistants"},s);return this.create(t,{file_id:u.id},s)}async uploadAndPoll(t,a,s){const u=await this.upload(t,a,s);return await this.poll(t,u.id,s)}content(t,a,s){return this._client.getAPIList(`/vector_stores/${t}/files/${a}/content`,_h,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class gc extends xt{}class _h extends cc{}pc.VectorStoreFilesPage=gc;pc.FileContentResponsesPage=_h;class K0 extends me{create(t,a,s){return this._client.post(`/vector_stores/${t}/file_batches`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,a,s){return this._client.get(`/vector_stores/${t}/file_batches/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(t,a,s){return this._client.post(`/vector_stores/${t}/file_batches/${a}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,a,s){const u=await this.create(t,a);return await this.poll(t,u.id,s)}listFiles(t,a,s={},u){return tt(s)?this.listFiles(t,a,{},s):this._client.getAPIList(`/vector_stores/${t}/file_batches/${a}/files`,gc,{query:s,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}async poll(t,a,s){const u={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(u["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:o,response:d}=await this.retrieve(t,a,{...s,headers:u}).withResponse();switch(o.status){case"in_progress":let h=5e3;if(s!=null&&s.pollIntervalMs)h=s.pollIntervalMs;else{const g=d.headers.get("openai-poll-after-ms");if(g){const m=parseInt(g);isNaN(m)||(h=m)}}await tl(h);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(t,{files:a,fileIds:s=[]},u){if(a==null||a.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=(u==null?void 0:u.maxConcurrency)??5,d=Math.min(o,a.length),h=this._client,g=a.values(),m=[...s];async function v(w){for(let C of w){const R=await h.files.create({file:C,purpose:"assistants"},u);m.push(R.id)}}const _=Array(d).fill(g).map(v);return await V1(_),await this.createAndPoll(t,{file_ids:m})}}class Za extends me{constructor(){super(...arguments),this.files=new pc(this._client),this.fileBatches=new K0(this._client)}create(t,a){return this._client.post("/vector_stores",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(t,a){return this._client.get(`/vector_stores/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(t,a,s){return this._client.post(`/vector_stores/${t}`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t={},a){return tt(t)?this.list({},t):this._client.getAPIList("/vector_stores",xh,{query:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}del(t,a){return this._client.delete(`/vector_stores/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}search(t,a,s){return this._client.getAPIList(`/vector_stores/${t}/search`,Sh,{body:a,method:"post",...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class xh extends xt{}class Sh extends cc{}Za.VectorStoresPage=xh;Za.VectorStoreSearchResponsesPage=Sh;Za.Files=pc;Za.VectorStoreFilesPage=gc;Za.FileContentResponsesPage=_h;Za.FileBatches=K0;var Y1={},J0;class ye extends o1{constructor({baseURL:t=ur("OPENAI_BASE_URL"),apiKey:a=ur("OPENAI_API_KEY"),organization:s=ur("OPENAI_ORG_ID")??null,project:u=ur("OPENAI_PROJECT_ID")??null,...o}={}){if(a===void 0)throw new se("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const d={apiKey:a,organization:s,project:u,...o,baseURL:t||"https://api.openai.com/v1"};if(!d.dangerouslyAllowBrowser&&_1())throw new se(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:d.baseURL,timeout:d.timeout??6e5,httpAgent:d.httpAgent,maxRetries:d.maxRetries,fetch:d.fetch}),this.completions=new Z0(this),this.chat=new dc(this),this.embeddings=new P0(this),this.files=new sh(this),this.images=new V0(this),this.audio=new nl(this),this.moderations=new Y0(this),this.models=new ph(this),this.fineTuning=new Ba(this),this.graders=new mh(this),this.vectorStores=new Za(this),this.beta=new Ss(this),this.batches=new qd(this),this.uploads=new bh(this),this.responses=new vh(this),this.evals=new il(this),this._options=d,this.apiKey=a,this.organization=s,this.project=u}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return Xw(t,{arrayFormat:"brackets"})}}J0=ye;ye.OpenAI=J0;ye.DEFAULT_TIMEOUT=6e5;ye.OpenAIError=se;ye.APIError=_t;ye.APIConnectionError=sc;ye.APIConnectionTimeoutError=Hd;ye.APIUserAbortError=sn;ye.NotFoundError=Kv;ye.ConflictError=Jv;ye.RateLimitError=Wv;ye.BadRequestError=Gv;ye.AuthenticationError=Qv;ye.InternalServerError=e0;ye.PermissionDeniedError=Iv;ye.UnprocessableEntityError=Fv;ye.toFile=i0;ye.fileFromPath=Vv;ye.Completions=Z0;ye.Chat=dc;ye.ChatCompletionsPage=fc;ye.Embeddings=P0;ye.Files=sh;ye.FileObjectsPage=ih;ye.Images=V0;ye.Audio=nl;ye.Moderations=Y0;ye.Models=ph;ye.ModelsPage=gh;ye.FineTuning=Ba;ye.Graders=mh;ye.VectorStores=Za;ye.VectorStoresPage=xh;ye.VectorStoreSearchResponsesPage=Sh;ye.Beta=Ss;ye.Batches=qd;ye.BatchesPage=Vd;ye.Uploads=bh;ye.Responses=vh;ye.Evals=il;ye.EvalListResponsesPage=rh;class X1 extends ye{constructor({baseURL:t=ur("OPENAI_BASE_URL"),apiKey:a=ur("AZURE_OPENAI_API_KEY"),apiVersion:s=ur("OPENAI_API_VERSION"),endpoint:u,deployment:o,azureADTokenProvider:d,dangerouslyAllowBrowser:h,...g}={}){if(!s)throw new se("The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).");if(typeof d=="function"&&(h=!0),!d&&!a)throw new se("Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.");if(d&&a)throw new se("The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.");if(a??(a=sv),g.defaultQuery={...g.defaultQuery,"api-version":s},t){if(u)throw new se("baseURL and endpoint are mutually exclusive")}else{if(u||(u=Y1.AZURE_OPENAI_ENDPOINT),!u)throw new se("Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable");t=`${u}/openai`}super({apiKey:a,baseURL:t,...g,...h!==void 0?{dangerouslyAllowBrowser:h}:{}}),this.apiVersion="",this._azureADTokenProvider=d,this.apiVersion=s,this.deploymentName=o}buildRequest(t,a={}){var s;if(G1.has(t.path)&&t.method==="post"&&t.body!==void 0){if(!ku(t.body))throw new Error("Expected request body to be an object");const u=this.deploymentName||t.body.model||((s=t.__metadata)==null?void 0:s.model);u!==void 0&&!this.baseURL.includes("/deployments")&&(t.path=`/deployments/${u}${t.path}`)}return super.buildRequest(t,a)}async _getAzureADToken(){if(typeof this._azureADTokenProvider=="function"){const t=await this._azureADTokenProvider();if(!t||typeof t!="string")throw new se(`Expected 'azureADTokenProvider' argument to return a string but it returned ${t}`);return t}}authHeaders(t){return{}}async prepareOptions(t){var s;if((s=t.headers)!=null&&s["api-key"])return super.prepareOptions(t);const a=await this._getAzureADToken();if(t.headers??(t.headers={}),a)t.headers.Authorization=`Bearer ${a}`;else if(this.apiKey!==sv)t.headers["api-key"]=this.apiKey;else throw new se("Unable to handle auth");return super.prepareOptions(t)}}const G1=new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations"]),sv="<Missing Key>",Q1=Symbol("Let zodToJsonSchema decide on which parser to use"),iv={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},I1=r=>typeof r=="string"?{...iv,basePath:["#"],definitions:{},name:r}:{...iv,basePath:["#"],definitions:{},...r},wd=r=>"_def"in r?r._def:r;function K1(r){if(!r)return!0;for(const t in r)return!1;return!0}const J1=r=>{const t=I1(r),a=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:a,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(t.definitions).map(([s,u])=>[wd(u),{def:wd(u),path:[...t.basePath,t.definitionPath,s],jsonSchema:void 0}]))}};function F0(r,t,a,s){s!=null&&s.errorMessages&&a&&(r.errorMessage={...r.errorMessage,[t]:a})}function Ue(r,t,a,s,u){r[t]=a,F0(r,t,s,u)}var Te;(function(r){r.assertEqual=u=>u;function t(u){}r.assertIs=t;function a(u){throw new Error}r.assertNever=a,r.arrayToEnum=u=>{const o={};for(const d of u)o[d]=d;return o},r.getValidEnumValues=u=>{const o=r.objectKeys(u).filter(h=>typeof u[u[h]]!="number"),d={};for(const h of o)d[h]=u[h];return r.objectValues(d)},r.objectValues=u=>r.objectKeys(u).map(function(o){return u[o]}),r.objectKeys=typeof Object.keys=="function"?u=>Object.keys(u):u=>{const o=[];for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&o.push(d);return o},r.find=(u,o)=>{for(const d of u)if(o(d))return d},r.isInteger=typeof Number.isInteger=="function"?u=>Number.isInteger(u):u=>typeof u=="number"&&isFinite(u)&&Math.floor(u)===u;function s(u,o=" | "){return u.map(d=>typeof d=="string"?`'${d}'`:d).join(o)}r.joinValues=s,r.jsonStringifyReplacer=(u,o)=>typeof o=="bigint"?o.toString():o})(Te||(Te={}));var Ad;(function(r){r.mergeShapes=(t,a)=>({...t,...a})})(Ad||(Ad={}));const J=Te.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ta=r=>{switch(typeof r){case"undefined":return J.undefined;case"string":return J.string;case"number":return isNaN(r)?J.nan:J.number;case"boolean":return J.boolean;case"function":return J.function;case"bigint":return J.bigint;case"symbol":return J.symbol;case"object":return Array.isArray(r)?J.array:r===null?J.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?J.promise:typeof Map<"u"&&r instanceof Map?J.map:typeof Set<"u"&&r instanceof Set?J.set:typeof Date<"u"&&r instanceof Date?J.date:J.object;default:return J.unknown}},V=Te.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),F1=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");class It extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=t}format(t){const a=t||function(o){return o.message},s={_errors:[]},u=o=>{for(const d of o.issues)if(d.code==="invalid_union")d.unionErrors.map(u);else if(d.code==="invalid_return_type")u(d.returnTypeError);else if(d.code==="invalid_arguments")u(d.argumentsError);else if(d.path.length===0)s._errors.push(a(d));else{let h=s,g=0;for(;g<d.path.length;){const m=d.path[g];g===d.path.length-1?(h[m]=h[m]||{_errors:[]},h[m]._errors.push(a(d))):h[m]=h[m]||{_errors:[]},h=h[m],g++}}};return u(this),s}static assert(t){if(!(t instanceof It))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Te.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=a=>a.message){const a={},s=[];for(const u of this.issues)u.path.length>0?(a[u.path[0]]=a[u.path[0]]||[],a[u.path[0]].push(t(u))):s.push(t(u));return{formErrors:s,fieldErrors:a}}get formErrors(){return this.flatten()}}It.create=r=>new It(r);const ys=(r,t)=>{let a;switch(r.code){case V.invalid_type:r.received===J.undefined?a="Required":a=`Expected ${r.expected}, received ${r.received}`;break;case V.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(r.expected,Te.jsonStringifyReplacer)}`;break;case V.unrecognized_keys:a=`Unrecognized key(s) in object: ${Te.joinValues(r.keys,", ")}`;break;case V.invalid_union:a="Invalid input";break;case V.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${Te.joinValues(r.options)}`;break;case V.invalid_enum_value:a=`Invalid enum value. Expected ${Te.joinValues(r.options)}, received '${r.received}'`;break;case V.invalid_arguments:a="Invalid function arguments";break;case V.invalid_return_type:a="Invalid function return type";break;case V.invalid_date:a="Invalid date";break;case V.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(a=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?a=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?a=`Invalid input: must end with "${r.validation.endsWith}"`:Te.assertNever(r.validation):r.validation!=="regex"?a=`Invalid ${r.validation}`:a="Invalid";break;case V.too_small:r.type==="array"?a=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?a=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?a=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?a=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:a="Invalid input";break;case V.too_big:r.type==="array"?a=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?a=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?a=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?a=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?a=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:a="Invalid input";break;case V.custom:a="Invalid input";break;case V.invalid_intersection_types:a="Intersection results could not be merged";break;case V.not_multiple_of:a=`Number must be a multiple of ${r.multipleOf}`;break;case V.not_finite:a="Number must be finite";break;default:a=t.defaultError,Te.assertNever(r)}return{message:a}};let W0=ys;function W1(r){W0=r}function Gu(){return W0}const Qu=r=>{const{data:t,path:a,errorMaps:s,issueData:u}=r,o=[...a,...u.path||[]],d={...u,path:o};if(u.message!==void 0)return{...u,path:o,message:u.message};let h="";const g=s.filter(m=>!!m).slice().reverse();for(const m of g)h=m(d,{data:t,defaultError:h}).message;return{...u,path:o,message:h}},eA=[];function Q(r,t){const a=Gu(),s=Qu({issueData:t,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,a,a===ys?void 0:ys].filter(u=>!!u)});r.common.issues.push(s)}class Tt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,a){const s=[];for(const u of a){if(u.status==="aborted")return de;u.status==="dirty"&&t.dirty(),s.push(u.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,a){const s=[];for(const u of a){const o=await u.key,d=await u.value;s.push({key:o,value:d})}return Tt.mergeObjectSync(t,s)}static mergeObjectSync(t,a){const s={};for(const u of a){const{key:o,value:d}=u;if(o.status==="aborted"||d.status==="aborted")return de;o.status==="dirty"&&t.dirty(),d.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof d.value<"u"||u.alwaysSet)&&(s[o.value]=d.value)}return{status:t.value,value:s}}}const de=Object.freeze({status:"aborted"}),fs=r=>({status:"dirty",value:r}),Ot=r=>({status:"valid",value:r}),Ed=r=>r.status==="aborted",Td=r=>r.status==="dirty",dr=r=>r.status==="valid",Zi=r=>typeof Promise<"u"&&r instanceof Promise;function Iu(r,t,a,s){if(typeof t=="function"?r!==t||!0:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(r)}function eb(r,t,a,s,u){if(typeof t=="function"?r!==t||!0:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(r,a),a}var ne;(function(r){r.errToObj=t=>typeof t=="string"?{message:t}:t||{},r.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ne||(ne={}));var Di,Mi;class Dn{constructor(t,a,s,u){this._cachedPath=[],this.parent=t,this.data=a,this._path=s,this._key=u}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const lv=(r,t)=>{if(dr(t))return{success:!0,data:t.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new It(r.common.issues);return this._error=a,this._error}}};function ge(r){if(!r)return{};const{errorMap:t,invalid_type_error:a,required_error:s,description:u}=r;if(t&&(a||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:u}:{errorMap:(d,h)=>{var g,m;const{message:v}=r;return d.code==="invalid_enum_value"?{message:v??h.defaultError}:typeof h.data>"u"?{message:(g=v??s)!==null&&g!==void 0?g:h.defaultError}:d.code!=="invalid_type"?{message:h.defaultError}:{message:(m=v??a)!==null&&m!==void 0?m:h.defaultError}},description:u}}class be{get description(){return this._def.description}_getType(t){return ta(t.data)}_getOrReturnCtx(t,a){return a||{common:t.parent.common,data:t.data,parsedType:ta(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Tt,ctx:{common:t.parent.common,data:t.data,parsedType:ta(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const a=this._parse(t);if(Zi(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(t){const a=this._parse(t);return Promise.resolve(a)}parse(t,a){const s=this.safeParse(t,a);if(s.success)return s.data;throw s.error}safeParse(t,a){var s;const u={common:{issues:[],async:(s=a==null?void 0:a.async)!==null&&s!==void 0?s:!1,contextualErrorMap:a==null?void 0:a.errorMap},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ta(t)},o=this._parseSync({data:t,path:u.path,parent:u});return lv(u,o)}"~validate"(t){var a,s;const u={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ta(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:u});return dr(o)?{value:o.value}:{issues:u.common.issues}}catch(o){!((s=(a=o==null?void 0:o.message)===null||a===void 0?void 0:a.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),u.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:u}).then(o=>dr(o)?{value:o.value}:{issues:u.common.issues})}async parseAsync(t,a){const s=await this.safeParseAsync(t,a);if(s.success)return s.data;throw s.error}async safeParseAsync(t,a){const s={common:{issues:[],contextualErrorMap:a==null?void 0:a.errorMap,async:!0},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ta(t)},u=this._parse({data:t,path:s.path,parent:s}),o=await(Zi(u)?u:Promise.resolve(u));return lv(s,o)}refine(t,a){const s=u=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(u):a;return this._refinement((u,o)=>{const d=t(u),h=()=>o.addIssue({code:V.custom,...s(u)});return typeof Promise<"u"&&d instanceof Promise?d.then(g=>g?!0:(h(),!1)):d?!0:(h(),!1)})}refinement(t,a){return this._refinement((s,u)=>t(s)?!0:(u.addIssue(typeof a=="function"?a(s,u):a),!1))}_refinement(t){return new xn({schema:this,typeName:U.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return bn.create(this,this._def)}nullable(){return La.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vn.create(this)}promise(){return bs.create(this,this._def)}or(t){return qi.create([this,t],this._def)}and(t){return Vi.create(this,t,this._def)}transform(t){return new xn({...ge(this._def),schema:this,typeName:U.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const a=typeof t=="function"?t:()=>t;return new Ii({...ge(this._def),innerType:this,defaultValue:a,typeName:U.ZodDefault})}brand(){return new wh({typeName:U.ZodBranded,type:this,...ge(this._def)})}catch(t){const a=typeof t=="function"?t:()=>t;return new Ki({...ge(this._def),innerType:this,catchValue:a,typeName:U.ZodCatch})}describe(t){const a=this.constructor;return new a({...this._def,description:t})}pipe(t){return ll.create(this,t)}readonly(){return Ji.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const tA=/^c[^\s-]{8,}$/i,nA=/^[0-9a-z]+$/,aA=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rA=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sA=/^[a-z0-9_-]{21}$/i,iA=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,lA=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,uA=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cA="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ed;const oA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fA=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,dA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,hA=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,mA=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,pA=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",gA=new RegExp(`^${tb}$`);function nb(r){let t="[0-5]\\d";r.precision?t=`${t}\\.\\d{${r.precision}}`:r.precision==null&&(t=`${t}(\\.\\d+)?`);const a=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${a}`}function yA(r){return new RegExp(`^${nb(r)}$`)}function ab(r){let t=`${tb}T${nb(r)}`;const a=[];return a.push(r.local?"Z?":"Z"),r.offset&&a.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${a.join("|")})`,new RegExp(`^${t}$`)}function vA(r,t){return!!((t==="v4"||!t)&&oA.test(r)||(t==="v6"||!t)&&dA.test(r))}function bA(r,t){if(!iA.test(r))return!1;try{const[a]=r.split("."),s=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),u=JSON.parse(atob(s));return!(typeof u!="object"||u===null||!u.typ||!u.alg||t&&u.alg!==t)}catch{return!1}}function _A(r,t){return!!((t==="v4"||!t)&&fA.test(r)||(t==="v6"||!t)&&hA.test(r))}class yn extends be{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==J.string){const o=this._getOrReturnCtx(t);return Q(o,{code:V.invalid_type,expected:J.string,received:o.parsedType}),de}const s=new Tt;let u;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(u=this._getOrReturnCtx(t,u),Q(u,{code:V.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="max")t.data.length>o.value&&(u=this._getOrReturnCtx(t,u),Q(u,{code:V.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="length"){const d=t.data.length>o.value,h=t.data.length<o.value;(d||h)&&(u=this._getOrReturnCtx(t,u),d?Q(u,{code:V.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):h&&Q(u,{code:V.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),s.dirty())}else if(o.kind==="email")uA.test(t.data)||(u=this._getOrReturnCtx(t,u),Q(u,{validation:"email",code:V.invalid_string,message:o.message}),s.dirty());else if(o.kind==="emoji")ed||(ed=new RegExp(cA,"u")),ed.test(t.data)||(u=this._getOrReturnCtx(t,u),Q(u,{validation:"emoji",code:V.invalid_string,message:o.message}),s.dirty());else if(o.kind==="uuid")rA.test(t.data)||(u=this._getOrReturnCtx(t,u),Q(u,{validation:"uuid",code:V.invalid_string,message:o.message}),s.dirty());else if(o.kind==="nanoid")sA.test(t.data)||(u=this._getOrReturnCtx(t,u),Q(u,{validation:"nanoid",code:V.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid")tA.test(t.data)||(u=this._getOrReturnCtx(t,u),Q(u,{validation:"cuid",code:V.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid2")nA.test(t.data)||(u=this._getOrReturnCtx(t,u),Q(u,{validation:"cuid2",code:V.invalid_string,message:o.message}),s.dirty());else if(o.kind==="ulid")aA.test(t.data)||(u=this._getOrReturnCtx(t,u),Q(u,{validation:"ulid",code:V.invalid_string,message:o.message}),s.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{u=this._getOrReturnCtx(t,u),Q(u,{validation:"url",code:V.invalid_string,message:o.message}),s.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(u=this._getOrReturnCtx(t,u),Q(u,{validation:"regex",code:V.invalid_string,message:o.message}),s.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(u=this._getOrReturnCtx(t,u),Q(u,{code:V.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),s.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(u=this._getOrReturnCtx(t,u),Q(u,{code:V.invalid_string,validation:{startsWith:o.value},message:o.message}),s.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(u=this._getOrReturnCtx(t,u),Q(u,{code:V.invalid_string,validation:{endsWith:o.value},message:o.message}),s.dirty()):o.kind==="datetime"?ab(o).test(t.data)||(u=this._getOrReturnCtx(t,u),Q(u,{code:V.invalid_string,validation:"datetime",message:o.message}),s.dirty()):o.kind==="date"?gA.test(t.data)||(u=this._getOrReturnCtx(t,u),Q(u,{code:V.invalid_string,validation:"date",message:o.message}),s.dirty()):o.kind==="time"?yA(o).test(t.data)||(u=this._getOrReturnCtx(t,u),Q(u,{code:V.invalid_string,validation:"time",message:o.message}),s.dirty()):o.kind==="duration"?lA.test(t.data)||(u=this._getOrReturnCtx(t,u),Q(u,{validation:"duration",code:V.invalid_string,message:o.message}),s.dirty()):o.kind==="ip"?vA(t.data,o.version)||(u=this._getOrReturnCtx(t,u),Q(u,{validation:"ip",code:V.invalid_string,message:o.message}),s.dirty()):o.kind==="jwt"?bA(t.data,o.alg)||(u=this._getOrReturnCtx(t,u),Q(u,{validation:"jwt",code:V.invalid_string,message:o.message}),s.dirty()):o.kind==="cidr"?_A(t.data,o.version)||(u=this._getOrReturnCtx(t,u),Q(u,{validation:"cidr",code:V.invalid_string,message:o.message}),s.dirty()):o.kind==="base64"?mA.test(t.data)||(u=this._getOrReturnCtx(t,u),Q(u,{validation:"base64",code:V.invalid_string,message:o.message}),s.dirty()):o.kind==="base64url"?pA.test(t.data)||(u=this._getOrReturnCtx(t,u),Q(u,{validation:"base64url",code:V.invalid_string,message:o.message}),s.dirty()):Te.assertNever(o);return{status:s.value,value:t.data}}_regex(t,a,s){return this.refinement(u=>t.test(u),{validation:a,code:V.invalid_string,...ne.errToObj(s)})}_addCheck(t){return new yn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ne.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ne.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ne.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ne.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ne.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ne.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ne.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ne.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ne.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ne.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ne.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ne.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ne.errToObj(t)})}datetime(t){var a,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(a=t==null?void 0:t.offset)!==null&&a!==void 0?a:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...ne.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ne.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ne.errToObj(t)})}regex(t,a){return this._addCheck({kind:"regex",regex:t,...ne.errToObj(a)})}includes(t,a){return this._addCheck({kind:"includes",value:t,position:a==null?void 0:a.position,...ne.errToObj(a==null?void 0:a.message)})}startsWith(t,a){return this._addCheck({kind:"startsWith",value:t,...ne.errToObj(a)})}endsWith(t,a){return this._addCheck({kind:"endsWith",value:t,...ne.errToObj(a)})}min(t,a){return this._addCheck({kind:"min",value:t,...ne.errToObj(a)})}max(t,a){return this._addCheck({kind:"max",value:t,...ne.errToObj(a)})}length(t,a){return this._addCheck({kind:"length",value:t,...ne.errToObj(a)})}nonempty(t){return this.min(1,ne.errToObj(t))}trim(){return new yn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxLength(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}}yn.create=r=>{var t;return new yn({checks:[],typeName:U.ZodString,coerce:(t=r==null?void 0:r.coerce)!==null&&t!==void 0?t:!1,...ge(r)})};function xA(r,t){const a=(r.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,u=a>s?a:s,o=parseInt(r.toFixed(u).replace(".","")),d=parseInt(t.toFixed(u).replace(".",""));return o%d/Math.pow(10,u)}class ka extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==J.number){const o=this._getOrReturnCtx(t);return Q(o,{code:V.invalid_type,expected:J.number,received:o.parsedType}),de}let s;const u=new Tt;for(const o of this._def.checks)o.kind==="int"?Te.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{code:V.invalid_type,expected:"integer",received:"float",message:o.message}),u.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(s=this._getOrReturnCtx(t,s),Q(s,{code:V.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),u.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(s=this._getOrReturnCtx(t,s),Q(s,{code:V.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),u.dirty()):o.kind==="multipleOf"?xA(t.data,o.value)!==0&&(s=this._getOrReturnCtx(t,s),Q(s,{code:V.not_multiple_of,multipleOf:o.value,message:o.message}),u.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),Q(s,{code:V.not_finite,message:o.message}),u.dirty()):Te.assertNever(o);return{status:u.value,value:t.data}}gte(t,a){return this.setLimit("min",t,!0,ne.toString(a))}gt(t,a){return this.setLimit("min",t,!1,ne.toString(a))}lte(t,a){return this.setLimit("max",t,!0,ne.toString(a))}lt(t,a){return this.setLimit("max",t,!1,ne.toString(a))}setLimit(t,a,s,u){return new ka({...this._def,checks:[...this._def.checks,{kind:t,value:a,inclusive:s,message:ne.toString(u)}]})}_addCheck(t){return new ka({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ne.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ne.toString(t)})}multipleOf(t,a){return this._addCheck({kind:"multipleOf",value:t,message:ne.toString(a)})}finite(t){return this._addCheck({kind:"finite",message:ne.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ne.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ne.toString(t)})}get minValue(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxValue(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Te.isInteger(t.value))}get isFinite(){let t=null,a=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(a===null||s.value>a)&&(a=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(a)&&Number.isFinite(t)}}ka.create=r=>new ka({checks:[],typeName:U.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...ge(r)});class za extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==J.bigint)return this._getInvalidInput(t);let s;const u=new Tt;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(s=this._getOrReturnCtx(t,s),Q(s,{code:V.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),u.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(s=this._getOrReturnCtx(t,s),Q(s,{code:V.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),u.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),Q(s,{code:V.not_multiple_of,multipleOf:o.value,message:o.message}),u.dirty()):Te.assertNever(o);return{status:u.value,value:t.data}}_getInvalidInput(t){const a=this._getOrReturnCtx(t);return Q(a,{code:V.invalid_type,expected:J.bigint,received:a.parsedType}),de}gte(t,a){return this.setLimit("min",t,!0,ne.toString(a))}gt(t,a){return this.setLimit("min",t,!1,ne.toString(a))}lte(t,a){return this.setLimit("max",t,!0,ne.toString(a))}lt(t,a){return this.setLimit("max",t,!1,ne.toString(a))}setLimit(t,a,s,u){return new za({...this._def,checks:[...this._def.checks,{kind:t,value:a,inclusive:s,message:ne.toString(u)}]})}_addCheck(t){return new za({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ne.toString(t)})}multipleOf(t,a){return this._addCheck({kind:"multipleOf",value:t,message:ne.toString(a)})}get minValue(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxValue(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}}za.create=r=>{var t;return new za({checks:[],typeName:U.ZodBigInt,coerce:(t=r==null?void 0:r.coerce)!==null&&t!==void 0?t:!1,...ge(r)})};class Pi extends be{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==J.boolean){const s=this._getOrReturnCtx(t);return Q(s,{code:V.invalid_type,expected:J.boolean,received:s.parsedType}),de}return Ot(t.data)}}Pi.create=r=>new Pi({typeName:U.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...ge(r)});class hr extends be{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==J.date){const o=this._getOrReturnCtx(t);return Q(o,{code:V.invalid_type,expected:J.date,received:o.parsedType}),de}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return Q(o,{code:V.invalid_date}),de}const s=new Tt;let u;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(u=this._getOrReturnCtx(t,u),Q(u,{code:V.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),s.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(u=this._getOrReturnCtx(t,u),Q(u,{code:V.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),s.dirty()):Te.assertNever(o);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new hr({...this._def,checks:[...this._def.checks,t]})}min(t,a){return this._addCheck({kind:"min",value:t.getTime(),message:ne.toString(a)})}max(t,a){return this._addCheck({kind:"max",value:t.getTime(),message:ne.toString(a)})}get minDate(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t!=null?new Date(t):null}}hr.create=r=>new hr({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:U.ZodDate,...ge(r)});class Ku extends be{_parse(t){if(this._getType(t)!==J.symbol){const s=this._getOrReturnCtx(t);return Q(s,{code:V.invalid_type,expected:J.symbol,received:s.parsedType}),de}return Ot(t.data)}}Ku.create=r=>new Ku({typeName:U.ZodSymbol,...ge(r)});class $i extends be{_parse(t){if(this._getType(t)!==J.undefined){const s=this._getOrReturnCtx(t);return Q(s,{code:V.invalid_type,expected:J.undefined,received:s.parsedType}),de}return Ot(t.data)}}$i.create=r=>new $i({typeName:U.ZodUndefined,...ge(r)});class Hi extends be{_parse(t){if(this._getType(t)!==J.null){const s=this._getOrReturnCtx(t);return Q(s,{code:V.invalid_type,expected:J.null,received:s.parsedType}),de}return Ot(t.data)}}Hi.create=r=>new Hi({typeName:U.ZodNull,...ge(r)});class vs extends be{constructor(){super(...arguments),this._any=!0}_parse(t){return Ot(t.data)}}vs.create=r=>new vs({typeName:U.ZodAny,...ge(r)});class or extends be{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ot(t.data)}}or.create=r=>new or({typeName:U.ZodUnknown,...ge(r)});class ra extends be{_parse(t){const a=this._getOrReturnCtx(t);return Q(a,{code:V.invalid_type,expected:J.never,received:a.parsedType}),de}}ra.create=r=>new ra({typeName:U.ZodNever,...ge(r)});class Ju extends be{_parse(t){if(this._getType(t)!==J.undefined){const s=this._getOrReturnCtx(t);return Q(s,{code:V.invalid_type,expected:J.void,received:s.parsedType}),de}return Ot(t.data)}}Ju.create=r=>new Ju({typeName:U.ZodVoid,...ge(r)});class vn extends be{_parse(t){const{ctx:a,status:s}=this._processInputParams(t),u=this._def;if(a.parsedType!==J.array)return Q(a,{code:V.invalid_type,expected:J.array,received:a.parsedType}),de;if(u.exactLength!==null){const d=a.data.length>u.exactLength.value,h=a.data.length<u.exactLength.value;(d||h)&&(Q(a,{code:d?V.too_big:V.too_small,minimum:h?u.exactLength.value:void 0,maximum:d?u.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:u.exactLength.message}),s.dirty())}if(u.minLength!==null&&a.data.length<u.minLength.value&&(Q(a,{code:V.too_small,minimum:u.minLength.value,type:"array",inclusive:!0,exact:!1,message:u.minLength.message}),s.dirty()),u.maxLength!==null&&a.data.length>u.maxLength.value&&(Q(a,{code:V.too_big,maximum:u.maxLength.value,type:"array",inclusive:!0,exact:!1,message:u.maxLength.message}),s.dirty()),a.common.async)return Promise.all([...a.data].map((d,h)=>u.type._parseAsync(new Dn(a,d,a.path,h)))).then(d=>Tt.mergeArray(s,d));const o=[...a.data].map((d,h)=>u.type._parseSync(new Dn(a,d,a.path,h)));return Tt.mergeArray(s,o)}get element(){return this._def.type}min(t,a){return new vn({...this._def,minLength:{value:t,message:ne.toString(a)}})}max(t,a){return new vn({...this._def,maxLength:{value:t,message:ne.toString(a)}})}length(t,a){return new vn({...this._def,exactLength:{value:t,message:ne.toString(a)}})}nonempty(t){return this.min(1,t)}}vn.create=(r,t)=>new vn({type:r,minLength:null,maxLength:null,exactLength:null,typeName:U.ZodArray,...ge(t)});function cs(r){if(r instanceof Ie){const t={};for(const a in r.shape){const s=r.shape[a];t[a]=bn.create(cs(s))}return new Ie({...r._def,shape:()=>t})}else return r instanceof vn?new vn({...r._def,type:cs(r.element)}):r instanceof bn?bn.create(cs(r.unwrap())):r instanceof La?La.create(cs(r.unwrap())):r instanceof Mn?Mn.create(r.items.map(t=>cs(t))):r}class Ie extends be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),a=Te.objectKeys(t);return this._cached={shape:t,keys:a}}_parse(t){if(this._getType(t)!==J.object){const m=this._getOrReturnCtx(t);return Q(m,{code:V.invalid_type,expected:J.object,received:m.parsedType}),de}const{status:s,ctx:u}=this._processInputParams(t),{shape:o,keys:d}=this._getCached(),h=[];if(!(this._def.catchall instanceof ra&&this._def.unknownKeys==="strip"))for(const m in u.data)d.includes(m)||h.push(m);const g=[];for(const m of d){const v=o[m],_=u.data[m];g.push({key:{status:"valid",value:m},value:v._parse(new Dn(u,_,u.path,m)),alwaysSet:m in u.data})}if(this._def.catchall instanceof ra){const m=this._def.unknownKeys;if(m==="passthrough")for(const v of h)g.push({key:{status:"valid",value:v},value:{status:"valid",value:u.data[v]}});else if(m==="strict")h.length>0&&(Q(u,{code:V.unrecognized_keys,keys:h}),s.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const v of h){const _=u.data[v];g.push({key:{status:"valid",value:v},value:m._parse(new Dn(u,_,u.path,v)),alwaysSet:v in u.data})}}return u.common.async?Promise.resolve().then(async()=>{const m=[];for(const v of g){const _=await v.key,w=await v.value;m.push({key:_,value:w,alwaysSet:v.alwaysSet})}return m}).then(m=>Tt.mergeObjectSync(s,m)):Tt.mergeObjectSync(s,g)}get shape(){return this._def.shape()}strict(t){return ne.errToObj,new Ie({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(a,s)=>{var u,o,d,h;const g=(d=(o=(u=this._def).errorMap)===null||o===void 0?void 0:o.call(u,a,s).message)!==null&&d!==void 0?d:s.defaultError;return a.code==="unrecognized_keys"?{message:(h=ne.errToObj(t).message)!==null&&h!==void 0?h:g}:{message:g}}}:{}})}strip(){return new Ie({...this._def,unknownKeys:"strip"})}passthrough(){return new Ie({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ie({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ie({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:U.ZodObject})}setKey(t,a){return this.augment({[t]:a})}catchall(t){return new Ie({...this._def,catchall:t})}pick(t){const a={};return Te.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(a[s]=this.shape[s])}),new Ie({...this._def,shape:()=>a})}omit(t){const a={};return Te.objectKeys(this.shape).forEach(s=>{t[s]||(a[s]=this.shape[s])}),new Ie({...this._def,shape:()=>a})}deepPartial(){return cs(this)}partial(t){const a={};return Te.objectKeys(this.shape).forEach(s=>{const u=this.shape[s];t&&!t[s]?a[s]=u:a[s]=u.optional()}),new Ie({...this._def,shape:()=>a})}required(t){const a={};return Te.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])a[s]=this.shape[s];else{let o=this.shape[s];for(;o instanceof bn;)o=o._def.innerType;a[s]=o}}),new Ie({...this._def,shape:()=>a})}keyof(){return rb(Te.objectKeys(this.shape))}}Ie.create=(r,t)=>new Ie({shape:()=>r,unknownKeys:"strip",catchall:ra.create(),typeName:U.ZodObject,...ge(t)});Ie.strictCreate=(r,t)=>new Ie({shape:()=>r,unknownKeys:"strict",catchall:ra.create(),typeName:U.ZodObject,...ge(t)});Ie.lazycreate=(r,t)=>new Ie({shape:r,unknownKeys:"strip",catchall:ra.create(),typeName:U.ZodObject,...ge(t)});class qi extends be{_parse(t){const{ctx:a}=this._processInputParams(t),s=this._def.options;function u(o){for(const h of o)if(h.result.status==="valid")return h.result;for(const h of o)if(h.result.status==="dirty")return a.common.issues.push(...h.ctx.common.issues),h.result;const d=o.map(h=>new It(h.ctx.common.issues));return Q(a,{code:V.invalid_union,unionErrors:d}),de}if(a.common.async)return Promise.all(s.map(async o=>{const d={...a,common:{...a.common,issues:[]},parent:null};return{result:await o._parseAsync({data:a.data,path:a.path,parent:d}),ctx:d}})).then(u);{let o;const d=[];for(const g of s){const m={...a,common:{...a.common,issues:[]},parent:null},v=g._parseSync({data:a.data,path:a.path,parent:m});if(v.status==="valid")return v;v.status==="dirty"&&!o&&(o={result:v,ctx:m}),m.common.issues.length&&d.push(m.common.issues)}if(o)return a.common.issues.push(...o.ctx.common.issues),o.result;const h=d.map(g=>new It(g));return Q(a,{code:V.invalid_union,unionErrors:h}),de}}get options(){return this._def.options}}qi.create=(r,t)=>new qi({options:r,typeName:U.ZodUnion,...ge(t)});const ea=r=>r instanceof Xi?ea(r.schema):r instanceof xn?ea(r.innerType()):r instanceof Gi?[r.value]:r instanceof Ua?r.options:r instanceof Qi?Te.objectValues(r.enum):r instanceof Ii?ea(r._def.innerType):r instanceof $i?[void 0]:r instanceof Hi?[null]:r instanceof bn?[void 0,...ea(r.unwrap())]:r instanceof La?[null,...ea(r.unwrap())]:r instanceof wh||r instanceof Ji?ea(r.unwrap()):r instanceof Ki?ea(r._def.innerType):[];class yc extends be{_parse(t){const{ctx:a}=this._processInputParams(t);if(a.parsedType!==J.object)return Q(a,{code:V.invalid_type,expected:J.object,received:a.parsedType}),de;const s=this.discriminator,u=a.data[s],o=this.optionsMap.get(u);return o?a.common.async?o._parseAsync({data:a.data,path:a.path,parent:a}):o._parseSync({data:a.data,path:a.path,parent:a}):(Q(a,{code:V.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),de)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,a,s){const u=new Map;for(const o of a){const d=ea(o.shape[t]);if(!d.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const h of d){if(u.has(h))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(h)}`);u.set(h,o)}}return new yc({typeName:U.ZodDiscriminatedUnion,discriminator:t,options:a,optionsMap:u,...ge(s)})}}function Rd(r,t){const a=ta(r),s=ta(t);if(r===t)return{valid:!0,data:r};if(a===J.object&&s===J.object){const u=Te.objectKeys(t),o=Te.objectKeys(r).filter(h=>u.indexOf(h)!==-1),d={...r,...t};for(const h of o){const g=Rd(r[h],t[h]);if(!g.valid)return{valid:!1};d[h]=g.data}return{valid:!0,data:d}}else if(a===J.array&&s===J.array){if(r.length!==t.length)return{valid:!1};const u=[];for(let o=0;o<r.length;o++){const d=r[o],h=t[o],g=Rd(d,h);if(!g.valid)return{valid:!1};u.push(g.data)}return{valid:!0,data:u}}else return a===J.date&&s===J.date&&+r==+t?{valid:!0,data:r}:{valid:!1}}class Vi extends be{_parse(t){const{status:a,ctx:s}=this._processInputParams(t),u=(o,d)=>{if(Ed(o)||Ed(d))return de;const h=Rd(o.value,d.value);return h.valid?((Td(o)||Td(d))&&a.dirty(),{status:a.value,value:h.data}):(Q(s,{code:V.invalid_intersection_types}),de)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([o,d])=>u(o,d)):u(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Vi.create=(r,t,a)=>new Vi({left:r,right:t,typeName:U.ZodIntersection,...ge(a)});class Mn extends be{_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.parsedType!==J.array)return Q(s,{code:V.invalid_type,expected:J.array,received:s.parsedType}),de;if(s.data.length<this._def.items.length)return Q(s,{code:V.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),de;!this._def.rest&&s.data.length>this._def.items.length&&(Q(s,{code:V.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const o=[...s.data].map((d,h)=>{const g=this._def.items[h]||this._def.rest;return g?g._parse(new Dn(s,d,s.path,h)):null}).filter(d=>!!d);return s.common.async?Promise.all(o).then(d=>Tt.mergeArray(a,d)):Tt.mergeArray(a,o)}get items(){return this._def.items}rest(t){return new Mn({...this._def,rest:t})}}Mn.create=(r,t)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mn({items:r,typeName:U.ZodTuple,rest:null,...ge(t)})};class Yi extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.parsedType!==J.object)return Q(s,{code:V.invalid_type,expected:J.object,received:s.parsedType}),de;const u=[],o=this._def.keyType,d=this._def.valueType;for(const h in s.data)u.push({key:o._parse(new Dn(s,h,s.path,h)),value:d._parse(new Dn(s,s.data[h],s.path,h)),alwaysSet:h in s.data});return s.common.async?Tt.mergeObjectAsync(a,u):Tt.mergeObjectSync(a,u)}get element(){return this._def.valueType}static create(t,a,s){return a instanceof be?new Yi({keyType:t,valueType:a,typeName:U.ZodRecord,...ge(s)}):new Yi({keyType:yn.create(),valueType:t,typeName:U.ZodRecord,...ge(a)})}}class Fu extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.parsedType!==J.map)return Q(s,{code:V.invalid_type,expected:J.map,received:s.parsedType}),de;const u=this._def.keyType,o=this._def.valueType,d=[...s.data.entries()].map(([h,g],m)=>({key:u._parse(new Dn(s,h,s.path,[m,"key"])),value:o._parse(new Dn(s,g,s.path,[m,"value"]))}));if(s.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const g of d){const m=await g.key,v=await g.value;if(m.status==="aborted"||v.status==="aborted")return de;(m.status==="dirty"||v.status==="dirty")&&a.dirty(),h.set(m.value,v.value)}return{status:a.value,value:h}})}else{const h=new Map;for(const g of d){const m=g.key,v=g.value;if(m.status==="aborted"||v.status==="aborted")return de;(m.status==="dirty"||v.status==="dirty")&&a.dirty(),h.set(m.value,v.value)}return{status:a.value,value:h}}}}Fu.create=(r,t,a)=>new Fu({valueType:t,keyType:r,typeName:U.ZodMap,...ge(a)});class mr extends be{_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.parsedType!==J.set)return Q(s,{code:V.invalid_type,expected:J.set,received:s.parsedType}),de;const u=this._def;u.minSize!==null&&s.data.size<u.minSize.value&&(Q(s,{code:V.too_small,minimum:u.minSize.value,type:"set",inclusive:!0,exact:!1,message:u.minSize.message}),a.dirty()),u.maxSize!==null&&s.data.size>u.maxSize.value&&(Q(s,{code:V.too_big,maximum:u.maxSize.value,type:"set",inclusive:!0,exact:!1,message:u.maxSize.message}),a.dirty());const o=this._def.valueType;function d(g){const m=new Set;for(const v of g){if(v.status==="aborted")return de;v.status==="dirty"&&a.dirty(),m.add(v.value)}return{status:a.value,value:m}}const h=[...s.data.values()].map((g,m)=>o._parse(new Dn(s,g,s.path,m)));return s.common.async?Promise.all(h).then(g=>d(g)):d(h)}min(t,a){return new mr({...this._def,minSize:{value:t,message:ne.toString(a)}})}max(t,a){return new mr({...this._def,maxSize:{value:t,message:ne.toString(a)}})}size(t,a){return this.min(t,a).max(t,a)}nonempty(t){return this.min(1,t)}}mr.create=(r,t)=>new mr({valueType:r,minSize:null,maxSize:null,typeName:U.ZodSet,...ge(t)});class ps extends be{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:a}=this._processInputParams(t);if(a.parsedType!==J.function)return Q(a,{code:V.invalid_type,expected:J.function,received:a.parsedType}),de;function s(h,g){return Qu({data:h,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,Gu(),ys].filter(m=>!!m),issueData:{code:V.invalid_arguments,argumentsError:g}})}function u(h,g){return Qu({data:h,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,Gu(),ys].filter(m=>!!m),issueData:{code:V.invalid_return_type,returnTypeError:g}})}const o={errorMap:a.common.contextualErrorMap},d=a.data;if(this._def.returns instanceof bs){const h=this;return Ot(async function(...g){const m=new It([]),v=await h._def.args.parseAsync(g,o).catch(C=>{throw m.addIssue(s(g,C)),m}),_=await Reflect.apply(d,this,v);return await h._def.returns._def.type.parseAsync(_,o).catch(C=>{throw m.addIssue(u(_,C)),m})})}else{const h=this;return Ot(function(...g){const m=h._def.args.safeParse(g,o);if(!m.success)throw new It([s(g,m.error)]);const v=Reflect.apply(d,this,m.data),_=h._def.returns.safeParse(v,o);if(!_.success)throw new It([u(v,_.error)]);return _.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ps({...this._def,args:Mn.create(t).rest(or.create())})}returns(t){return new ps({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,a,s){return new ps({args:t||Mn.create([]).rest(or.create()),returns:a||or.create(),typeName:U.ZodFunction,...ge(s)})}}class Xi extends be{get schema(){return this._def.getter()}_parse(t){const{ctx:a}=this._processInputParams(t);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}Xi.create=(r,t)=>new Xi({getter:r,typeName:U.ZodLazy,...ge(t)});class Gi extends be{_parse(t){if(t.data!==this._def.value){const a=this._getOrReturnCtx(t);return Q(a,{received:a.data,code:V.invalid_literal,expected:this._def.value}),de}return{status:"valid",value:t.data}}get value(){return this._def.value}}Gi.create=(r,t)=>new Gi({value:r,typeName:U.ZodLiteral,...ge(t)});function rb(r,t){return new Ua({values:r,typeName:U.ZodEnum,...ge(t)})}class Ua extends be{constructor(){super(...arguments),Di.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const a=this._getOrReturnCtx(t),s=this._def.values;return Q(a,{expected:Te.joinValues(s),received:a.parsedType,code:V.invalid_type}),de}if(Iu(this,Di)||eb(this,Di,new Set(this._def.values)),!Iu(this,Di).has(t.data)){const a=this._getOrReturnCtx(t),s=this._def.values;return Q(a,{received:a.data,code:V.invalid_enum_value,options:s}),de}return Ot(t.data)}get options(){return this._def.values}get enum(){const t={};for(const a of this._def.values)t[a]=a;return t}get Values(){const t={};for(const a of this._def.values)t[a]=a;return t}get Enum(){const t={};for(const a of this._def.values)t[a]=a;return t}extract(t,a=this._def){return Ua.create(t,{...this._def,...a})}exclude(t,a=this._def){return Ua.create(this.options.filter(s=>!t.includes(s)),{...this._def,...a})}}Di=new WeakMap;Ua.create=rb;class Qi extends be{constructor(){super(...arguments),Mi.set(this,void 0)}_parse(t){const a=Te.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==J.string&&s.parsedType!==J.number){const u=Te.objectValues(a);return Q(s,{expected:Te.joinValues(u),received:s.parsedType,code:V.invalid_type}),de}if(Iu(this,Mi)||eb(this,Mi,new Set(Te.getValidEnumValues(this._def.values))),!Iu(this,Mi).has(t.data)){const u=Te.objectValues(a);return Q(s,{received:s.data,code:V.invalid_enum_value,options:u}),de}return Ot(t.data)}get enum(){return this._def.values}}Mi=new WeakMap;Qi.create=(r,t)=>new Qi({values:r,typeName:U.ZodNativeEnum,...ge(t)});class bs extends be{unwrap(){return this._def.type}_parse(t){const{ctx:a}=this._processInputParams(t);if(a.parsedType!==J.promise&&a.common.async===!1)return Q(a,{code:V.invalid_type,expected:J.promise,received:a.parsedType}),de;const s=a.parsedType===J.promise?a.data:Promise.resolve(a.data);return Ot(s.then(u=>this._def.type.parseAsync(u,{path:a.path,errorMap:a.common.contextualErrorMap})))}}bs.create=(r,t)=>new bs({type:r,typeName:U.ZodPromise,...ge(t)});class xn extends be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===U.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:a,ctx:s}=this._processInputParams(t),u=this._def.effect||null,o={addIssue:d=>{Q(s,d),d.fatal?a.abort():a.dirty()},get path(){return s.path}};if(o.addIssue=o.addIssue.bind(o),u.type==="preprocess"){const d=u.transform(s.data,o);if(s.common.async)return Promise.resolve(d).then(async h=>{if(a.value==="aborted")return de;const g=await this._def.schema._parseAsync({data:h,path:s.path,parent:s});return g.status==="aborted"?de:g.status==="dirty"||a.value==="dirty"?fs(g.value):g});{if(a.value==="aborted")return de;const h=this._def.schema._parseSync({data:d,path:s.path,parent:s});return h.status==="aborted"?de:h.status==="dirty"||a.value==="dirty"?fs(h.value):h}}if(u.type==="refinement"){const d=h=>{const g=u.refinement(h,o);if(s.common.async)return Promise.resolve(g);if(g instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(s.common.async===!1){const h=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return h.status==="aborted"?de:(h.status==="dirty"&&a.dirty(),d(h.value),{status:a.value,value:h.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(h=>h.status==="aborted"?de:(h.status==="dirty"&&a.dirty(),d(h.value).then(()=>({status:a.value,value:h.value}))))}if(u.type==="transform")if(s.common.async===!1){const d=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!dr(d))return d;const h=u.transform(d.value,o);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:h}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(d=>dr(d)?Promise.resolve(u.transform(d.value,o)).then(h=>({status:a.value,value:h})):d);Te.assertNever(u)}}xn.create=(r,t,a)=>new xn({schema:r,typeName:U.ZodEffects,effect:t,...ge(a)});xn.createWithPreprocess=(r,t,a)=>new xn({schema:t,effect:{type:"preprocess",transform:r},typeName:U.ZodEffects,...ge(a)});class bn extends be{_parse(t){return this._getType(t)===J.undefined?Ot(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}bn.create=(r,t)=>new bn({innerType:r,typeName:U.ZodOptional,...ge(t)});class La extends be{_parse(t){return this._getType(t)===J.null?Ot(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}La.create=(r,t)=>new La({innerType:r,typeName:U.ZodNullable,...ge(t)});class Ii extends be{_parse(t){const{ctx:a}=this._processInputParams(t);let s=a.data;return a.parsedType===J.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}Ii.create=(r,t)=>new Ii({innerType:r,typeName:U.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ge(t)});class Ki extends be{_parse(t){const{ctx:a}=this._processInputParams(t),s={...a,common:{...a.common,issues:[]}},u=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Zi(u)?u.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new It(s.common.issues)},input:s.data})})):{status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new It(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Ki.create=(r,t)=>new Ki({innerType:r,typeName:U.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ge(t)});class Wu extends be{_parse(t){if(this._getType(t)!==J.nan){const s=this._getOrReturnCtx(t);return Q(s,{code:V.invalid_type,expected:J.nan,received:s.parsedType}),de}return{status:"valid",value:t.data}}}Wu.create=r=>new Wu({typeName:U.ZodNaN,...ge(r)});const SA=Symbol("zod_brand");class wh extends be{_parse(t){const{ctx:a}=this._processInputParams(t),s=a.data;return this._def.type._parse({data:s,path:a.path,parent:a})}unwrap(){return this._def.type}}class ll extends be{_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?de:o.status==="dirty"?(a.dirty(),fs(o.value)):this._def.out._parseAsync({data:o.value,path:s.path,parent:s})})();{const u=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return u.status==="aborted"?de:u.status==="dirty"?(a.dirty(),{status:"dirty",value:u.value}):this._def.out._parseSync({data:u.value,path:s.path,parent:s})}}static create(t,a){return new ll({in:t,out:a,typeName:U.ZodPipeline})}}class Ji extends be{_parse(t){const a=this._def.innerType._parse(t),s=u=>(dr(u)&&(u.value=Object.freeze(u.value)),u);return Zi(a)?a.then(u=>s(u)):s(a)}unwrap(){return this._def.innerType}}Ji.create=(r,t)=>new Ji({innerType:r,typeName:U.ZodReadonly,...ge(t)});function uv(r,t){const a=typeof r=="function"?r(t):typeof r=="string"?{message:r}:r;return typeof a=="string"?{message:a}:a}function sb(r,t={},a){return r?vs.create().superRefine((s,u)=>{var o,d;const h=r(s);if(h instanceof Promise)return h.then(g=>{var m,v;if(!g){const _=uv(t,s),w=(v=(m=_.fatal)!==null&&m!==void 0?m:a)!==null&&v!==void 0?v:!0;u.addIssue({code:"custom",..._,fatal:w})}});if(!h){const g=uv(t,s),m=(d=(o=g.fatal)!==null&&o!==void 0?o:a)!==null&&d!==void 0?d:!0;u.addIssue({code:"custom",...g,fatal:m})}}):vs.create()}const wA={object:Ie.lazycreate};var U;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(U||(U={}));const AA=(r,t={message:`Input not instance of ${r.name}`})=>sb(a=>a instanceof r,t),ib=yn.create,lb=ka.create,EA=Wu.create,TA=za.create,ub=Pi.create,RA=hr.create,NA=Ku.create,OA=$i.create,CA=Hi.create,jA=vs.create,DA=or.create,MA=ra.create,kA=Ju.create,zA=vn.create,UA=Ie.create,LA=Ie.strictCreate,BA=qi.create,ZA=yc.create,PA=Vi.create,$A=Mn.create,HA=Yi.create,qA=Fu.create,VA=mr.create,YA=ps.create,XA=Xi.create,GA=Gi.create,QA=Ua.create,IA=Qi.create,KA=bs.create,cv=xn.create,JA=bn.create,FA=La.create,WA=xn.createWithPreprocess,eE=ll.create,tE=()=>ib().optional(),nE=()=>lb().optional(),aE=()=>ub().optional(),rE={string:r=>yn.create({...r,coerce:!0}),number:r=>ka.create({...r,coerce:!0}),boolean:r=>Pi.create({...r,coerce:!0}),bigint:r=>za.create({...r,coerce:!0}),date:r=>hr.create({...r,coerce:!0})},sE=de;var Fn=Object.freeze({__proto__:null,defaultErrorMap:ys,setErrorMap:W1,getErrorMap:Gu,makeIssue:Qu,EMPTY_PATH:eA,addIssueToContext:Q,ParseStatus:Tt,INVALID:de,DIRTY:fs,OK:Ot,isAborted:Ed,isDirty:Td,isValid:dr,isAsync:Zi,get util(){return Te},get objectUtil(){return Ad},ZodParsedType:J,getParsedType:ta,ZodType:be,datetimeRegex:ab,ZodString:yn,ZodNumber:ka,ZodBigInt:za,ZodBoolean:Pi,ZodDate:hr,ZodSymbol:Ku,ZodUndefined:$i,ZodNull:Hi,ZodAny:vs,ZodUnknown:or,ZodNever:ra,ZodVoid:Ju,ZodArray:vn,ZodObject:Ie,ZodUnion:qi,ZodDiscriminatedUnion:yc,ZodIntersection:Vi,ZodTuple:Mn,ZodRecord:Yi,ZodMap:Fu,ZodSet:mr,ZodFunction:ps,ZodLazy:Xi,ZodLiteral:Gi,ZodEnum:Ua,ZodNativeEnum:Qi,ZodPromise:bs,ZodEffects:xn,ZodTransformer:xn,ZodOptional:bn,ZodNullable:La,ZodDefault:Ii,ZodCatch:Ki,ZodNaN:Wu,BRAND:SA,ZodBranded:wh,ZodPipeline:ll,ZodReadonly:Ji,custom:sb,Schema:be,ZodSchema:be,late:wA,get ZodFirstPartyTypeKind(){return U},coerce:rE,any:jA,array:zA,bigint:TA,boolean:ub,date:RA,discriminatedUnion:ZA,effect:cv,enum:QA,function:YA,instanceof:AA,intersection:PA,lazy:XA,literal:GA,map:qA,nan:EA,nativeEnum:IA,never:MA,null:CA,nullable:FA,number:lb,object:UA,oboolean:aE,onumber:nE,optional:JA,ostring:tE,pipeline:eE,preprocess:WA,promise:KA,record:HA,set:VA,strictObject:LA,string:ib,symbol:NA,transformer:cv,tuple:$A,undefined:OA,union:BA,unknown:DA,void:kA,NEVER:sE,ZodIssueCode:V,quotelessJson:F1,ZodError:It});function iE(){return{}}function lE(r,t){var s,u;const a={type:"array"};return((u=(s=r.type)==null?void 0:s._def)==null?void 0:u.typeName)!==U.ZodAny&&(a.items=Ce(r.type._def,{...t,currentPath:[...t.currentPath,"items"]})),r.minLength&&Ue(a,"minItems",r.minLength.value,r.minLength.message,t),r.maxLength&&Ue(a,"maxItems",r.maxLength.value,r.maxLength.message,t),r.exactLength&&(Ue(a,"minItems",r.exactLength.value,r.exactLength.message,t),Ue(a,"maxItems",r.exactLength.value,r.exactLength.message,t)),a}function uE(r,t){const a={type:"integer",format:"int64"};if(!r.checks)return a;for(const s of r.checks)switch(s.kind){case"min":t.target==="jsonSchema7"?s.inclusive?Ue(a,"minimum",s.value,s.message,t):Ue(a,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(a.exclusiveMinimum=!0),Ue(a,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?Ue(a,"maximum",s.value,s.message,t):Ue(a,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(a.exclusiveMaximum=!0),Ue(a,"maximum",s.value,s.message,t));break;case"multipleOf":Ue(a,"multipleOf",s.value,s.message,t);break}return a}function cE(){return{type:"boolean"}}function oE(r,t){return Ce(r.type._def,t)}const fE=(r,t)=>Ce(r.innerType._def,t);function cb(r,t,a){const s=a??t.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((u,o)=>cb(r,t,u))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return dE(r,t)}}const dE=(r,t)=>{const a={type:"integer",format:"unix-time"};if(t.target==="openApi3")return a;for(const s of r.checks)switch(s.kind){case"min":Ue(a,"minimum",s.value,s.message,t);break;case"max":Ue(a,"maximum",s.value,s.message,t);break}return a};function hE(r,t){return{...Ce(r.innerType._def,t),default:r.defaultValue()}}function mE(r,t,a){return t.effectStrategy==="input"?Ce(r.schema._def,t,a):{}}function pE(r){return{type:"string",enum:[...r.values]}}const gE=r=>"type"in r&&r.type==="string"?!1:"allOf"in r;function yE(r,t){const a=[Ce(r.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Ce(r.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o);let s=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const u=[];return a.forEach(o=>{if(gE(o))u.push(...o.allOf),o.unevaluatedProperties===void 0&&(s=void 0);else{let d=o;if("additionalProperties"in o&&o.additionalProperties===!1){const{additionalProperties:h,...g}=o;d=g}else s=void 0;u.push(d)}}),u.length?{allOf:u,...s}:void 0}function vE(r,t){const a=typeof r.value;return a!=="bigint"&&a!=="number"&&a!=="boolean"&&a!=="string"?{type:Array.isArray(r.value)?"array":"object"}:t.target==="openApi3"?{type:a==="bigint"?"integer":a,enum:[r.value]}:{type:a==="bigint"?"integer":a,const:r.value}}let td;const ir={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(td===void 0&&(td=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),td),base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function ob(r,t){const a={type:"string"};function s(u){return t.patternStrategy==="escape"?bE(u):u}if(r.checks)for(const u of r.checks)switch(u.kind){case"min":Ue(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,u.value):u.value,u.message,t);break;case"max":Ue(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,u.value):u.value,u.message,t);break;case"email":switch(t.emailStrategy){case"format:email":on(a,"email",u.message,t);break;case"format:idn-email":on(a,"idn-email",u.message,t);break;case"pattern:zod":fn(a,ir.email,u.message,t);break}break;case"url":on(a,"uri",u.message,t);break;case"uuid":on(a,"uuid",u.message,t);break;case"regex":fn(a,u.regex,u.message,t);break;case"cuid":fn(a,ir.cuid,u.message,t);break;case"cuid2":fn(a,ir.cuid2,u.message,t);break;case"startsWith":fn(a,RegExp(`^${s(u.value)}`),u.message,t);break;case"endsWith":fn(a,RegExp(`${s(u.value)}$`),u.message,t);break;case"datetime":on(a,"date-time",u.message,t);break;case"date":on(a,"date",u.message,t);break;case"time":on(a,"time",u.message,t);break;case"duration":on(a,"duration",u.message,t);break;case"length":Ue(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,u.value):u.value,u.message,t),Ue(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,u.value):u.value,u.message,t);break;case"includes":{fn(a,RegExp(s(u.value)),u.message,t);break}case"ip":{u.version!=="v6"&&on(a,"ipv4",u.message,t),u.version!=="v4"&&on(a,"ipv6",u.message,t);break}case"emoji":fn(a,ir.emoji,u.message,t);break;case"ulid":{fn(a,ir.ulid,u.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{on(a,"binary",u.message,t);break}case"contentEncoding:base64":{Ue(a,"contentEncoding","base64",u.message,t);break}case"pattern:zod":{fn(a,ir.base64,u.message,t);break}}break}case"nanoid":fn(a,ir.nanoid,u.message,t)}return a}const bE=r=>Array.from(r).map(t=>/[a-zA-Z0-9]/.test(t)?t:`\\${t}`).join(""),on=(r,t,a,s)=>{var u;r.format||(u=r.anyOf)!=null&&u.some(o=>o.format)?(r.anyOf||(r.anyOf=[]),r.format&&(r.anyOf.push({format:r.format,...r.errorMessage&&s.errorMessages&&{errorMessage:{format:r.errorMessage.format}}}),delete r.format,r.errorMessage&&(delete r.errorMessage.format,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.anyOf.push({format:t,...a&&s.errorMessages&&{errorMessage:{format:a}}})):Ue(r,"format",t,a,s)},fn=(r,t,a,s)=>{var u;r.pattern||(u=r.allOf)!=null&&u.some(o=>o.pattern)?(r.allOf||(r.allOf=[]),r.pattern&&(r.allOf.push({pattern:r.pattern,...r.errorMessage&&s.errorMessages&&{errorMessage:{pattern:r.errorMessage.pattern}}}),delete r.pattern,r.errorMessage&&(delete r.errorMessage.pattern,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.allOf.push({pattern:ov(t,s),...a&&s.errorMessages&&{errorMessage:{pattern:a}}})):Ue(r,"pattern",ov(t,s),a,s)},ov=(r,t)=>{var m;const a=typeof r=="function"?r():r;if(!t.applyRegexFlags||!a.flags)return a.source;const s={i:a.flags.includes("i"),m:a.flags.includes("m"),s:a.flags.includes("s")},u=s.i?a.source.toLowerCase():a.source;let o="",d=!1,h=!1,g=!1;for(let v=0;v<u.length;v++){if(d){o+=u[v],d=!1;continue}if(s.i){if(h){if(u[v].match(/[a-z]/)){g?(o+=u[v],o+=`${u[v-2]}-${u[v]}`.toUpperCase(),g=!1):u[v+1]==="-"&&((m=u[v+2])!=null&&m.match(/[a-z]/))?(o+=u[v],g=!0):o+=`${u[v]}${u[v].toUpperCase()}`;continue}}else if(u[v].match(/[a-z]/)){o+=`[${u[v]}${u[v].toUpperCase()}]`;continue}}if(s.m){if(u[v]==="^"){o+=`(^|(?<=[\r
]))`;continue}else if(u[v]==="$"){o+=`($|(?=[\r
]))`;continue}}if(s.s&&u[v]==="."){o+=h?`${u[v]}\r
`:`[${u[v]}\r
]`;continue}o+=u[v],u[v]==="\\"?d=!0:h&&u[v]==="]"?h=!1:!h&&u[v]==="["&&(h=!0)}try{const v=new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),a.source}return o};function fb(r,t){var s,u,o,d;if(t.target==="openApi3"&&((s=r.keyType)==null?void 0:s._def.typeName)===U.ZodEnum)return{type:"object",required:r.keyType._def.values,properties:r.keyType._def.values.reduce((h,g)=>({...h,[g]:Ce(r.valueType._def,{...t,currentPath:[...t.currentPath,"properties",g]})??{}}),{}),additionalProperties:!1};const a={type:"object",additionalProperties:Ce(r.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if(t.target==="openApi3")return a;if(((u=r.keyType)==null?void 0:u._def.typeName)===U.ZodString&&((o=r.keyType._def.checks)!=null&&o.length)){const h=Object.entries(ob(r.keyType._def,t)).reduce((g,[m,v])=>m==="type"?g:{...g,[m]:v},{});return{...a,propertyNames:h}}else if(((d=r.keyType)==null?void 0:d._def.typeName)===U.ZodEnum)return{...a,propertyNames:{enum:r.keyType._def.values}};return a}function _E(r,t){if(t.mapStrategy==="record")return fb(r,t);const a=Ce(r.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},s=Ce(r.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[a,s],minItems:2,maxItems:2}}}function xE(r){const t=r.values,s=Object.keys(r.values).filter(o=>typeof t[t[o]]!="number").map(o=>t[o]),u=Array.from(new Set(s.map(o=>typeof o)));return{type:u.length===1?u[0]==="string"?"string":"number":["string","number"],enum:s}}function SE(){return{not:{}}}function wE(r){return r.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const ec={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function AE(r,t){if(t.target==="openApi3")return fv(r,t);const a=r.options instanceof Map?Array.from(r.options.values()):r.options;if(a.every(s=>s._def.typeName in ec&&(!s._def.checks||!s._def.checks.length))){const s=a.reduce((u,o)=>{const d=ec[o._def.typeName];return d&&!u.includes(d)?[...u,d]:u},[]);return{type:s.length>1?s:s[0]}}else if(a.every(s=>s._def.typeName==="ZodLiteral"&&!s.description)){const s=a.reduce((u,o)=>{const d=typeof o._def.value;switch(d){case"string":case"number":case"boolean":return[...u,d];case"bigint":return[...u,"integer"];case"object":if(o._def.value===null)return[...u,"null"];case"symbol":case"undefined":case"function":default:return u}},[]);if(s.length===a.length){const u=s.filter((o,d,h)=>h.indexOf(o)===d);return{type:u.length>1?u:u[0],enum:a.reduce((o,d)=>o.includes(d._def.value)?o:[...o,d._def.value],[])}}}else if(a.every(s=>s._def.typeName==="ZodEnum"))return{type:"string",enum:a.reduce((s,u)=>[...s,...u._def.values.filter(o=>!s.includes(o))],[])};return fv(r,t)}const fv=(r,t)=>{const a=(r.options instanceof Map?Array.from(r.options.values()):r.options).map((s,u)=>Ce(s._def,{...t,currentPath:[...t.currentPath,"anyOf",`${u}`]})).filter(s=>!!s&&(!t.strictUnions||typeof s=="object"&&Object.keys(s).length>0));return a.length?{anyOf:a}:void 0};function EE(r,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(r.innerType._def.typeName)&&(!r.innerType._def.checks||!r.innerType._def.checks.length))return t.target==="openApi3"||t.nullableStrategy==="property"?{type:ec[r.innerType._def.typeName],nullable:!0}:{type:[ec[r.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const s=Ce(r.innerType._def,{...t,currentPath:[...t.currentPath]});return s&&"$ref"in s?{allOf:[s],nullable:!0}:s&&{...s,nullable:!0}}const a=Ce(r.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return a&&{anyOf:[a,{type:"null"}]}}function TE(r,t){const a={type:"number"};if(!r.checks)return a;for(const s of r.checks)switch(s.kind){case"int":a.type="integer",F0(a,"type",s.message,t);break;case"min":t.target==="jsonSchema7"?s.inclusive?Ue(a,"minimum",s.value,s.message,t):Ue(a,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(a.exclusiveMinimum=!0),Ue(a,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?Ue(a,"maximum",s.value,s.message,t):Ue(a,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(a.exclusiveMaximum=!0),Ue(a,"maximum",s.value,s.message,t));break;case"multipleOf":Ue(a,"multipleOf",s.value,s.message,t);break}return a}function RE(r,t){return t.removeAdditionalStrategy==="strict"?r.catchall._def.typeName==="ZodNever"?r.unknownKeys!=="strict":Ce(r.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:r.catchall._def.typeName==="ZodNever"?r.unknownKeys==="passthrough":Ce(r.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function NE(r,t){const a={type:"object",...Object.entries(r.shape()).reduce((s,[u,o])=>{if(o===void 0||o._def===void 0)return s;const d=[...t.currentPath,"properties",u],h=Ce(o._def,{...t,currentPath:d,propertyPath:d});return h===void 0?s:(t.openaiStrictMode&&o.isOptional()&&!o.isNullable()&&console.warn(`Zod field at \`${d.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required
This will become an error in a future version of the SDK.`),{properties:{...s.properties,[u]:h},required:o.isOptional()&&!t.openaiStrictMode?s.required:[...s.required,u]})},{properties:{},required:[]}),additionalProperties:RE(r,t)};return a.required.length||delete a.required,a}const OE=(r,t)=>{var s;if(t.currentPath.toString()===((s=t.propertyPath)==null?void 0:s.toString()))return Ce(r.innerType._def,t);const a=Ce(r.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return a?{anyOf:[{not:{}},a]}:{}},CE=(r,t)=>{if(t.pipeStrategy==="input")return Ce(r.in._def,t);if(t.pipeStrategy==="output")return Ce(r.out._def,t);const a=Ce(r.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),s=Ce(r.out._def,{...t,currentPath:[...t.currentPath,"allOf",a?"1":"0"]});return{allOf:[a,s].filter(u=>u!==void 0)}};function jE(r,t){return Ce(r.type._def,t)}function DE(r,t){const s={type:"array",uniqueItems:!0,items:Ce(r.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return r.minSize&&Ue(s,"minItems",r.minSize.value,r.minSize.message,t),r.maxSize&&Ue(s,"maxItems",r.maxSize.value,r.maxSize.message,t),s}function ME(r,t){return r.rest?{type:"array",minItems:r.items.length,items:r.items.map((a,s)=>Ce(a._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((a,s)=>s===void 0?a:[...a,s],[]),additionalItems:Ce(r.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:r.items.length,maxItems:r.items.length,items:r.items.map((a,s)=>Ce(a._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((a,s)=>s===void 0?a:[...a,s],[])}}function kE(){return{not:{}}}function zE(){return{}}const UE=(r,t)=>Ce(r.innerType._def,t);function Ce(r,t,a=!1){var d;const s=t.seen.get(r);if(t.override){const h=(d=t.override)==null?void 0:d.call(t,r,t,s,a);if(h!==Q1)return h}if(s&&!a){const h=LE(s,t);if(h!==void 0)return"$ref"in h&&t.seenRefs.add(h.$ref),h}const u={def:r,path:t.currentPath,jsonSchema:void 0};t.seen.set(r,u);const o=ZE(r,r.typeName,t,a);return o&&PE(r,t,o),u.jsonSchema=o,o}const LE=(r,t)=>{switch(t.$refStrategy){case"root":return{$ref:r.path.join("/")};case"extract-to-root":const a=r.path.slice(t.basePath.length+1).join("_");return a!==t.name&&t.nameStrategy==="duplicate-ref"&&(t.definitions[a]=r.def),{$ref:[...t.basePath,t.definitionPath,a].join("/")};case"relative":return{$ref:BE(t.currentPath,r.path)};case"none":case"seen":return r.path.length<t.currentPath.length&&r.path.every((s,u)=>t.currentPath[u]===s)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},BE=(r,t)=>{let a=0;for(;a<r.length&&a<t.length&&r[a]===t[a];a++);return[(r.length-a).toString(),...t.slice(a)].join("/")},ZE=(r,t,a,s)=>{switch(t){case U.ZodString:return ob(r,a);case U.ZodNumber:return TE(r,a);case U.ZodObject:return NE(r,a);case U.ZodBigInt:return uE(r,a);case U.ZodBoolean:return cE();case U.ZodDate:return cb(r,a);case U.ZodUndefined:return kE();case U.ZodNull:return wE(a);case U.ZodArray:return lE(r,a);case U.ZodUnion:case U.ZodDiscriminatedUnion:return AE(r,a);case U.ZodIntersection:return yE(r,a);case U.ZodTuple:return ME(r,a);case U.ZodRecord:return fb(r,a);case U.ZodLiteral:return vE(r,a);case U.ZodEnum:return pE(r);case U.ZodNativeEnum:return xE(r);case U.ZodNullable:return EE(r,a);case U.ZodOptional:return OE(r,a);case U.ZodMap:return _E(r,a);case U.ZodSet:return DE(r,a);case U.ZodLazy:return Ce(r.getter()._def,a);case U.ZodPromise:return jE(r,a);case U.ZodNaN:case U.ZodNever:return SE();case U.ZodEffects:return mE(r,a,s);case U.ZodAny:return iE();case U.ZodUnknown:return zE();case U.ZodDefault:return hE(r,a);case U.ZodBranded:return oE(r,a);case U.ZodReadonly:return UE(r,a);case U.ZodCatch:return fE(r,a);case U.ZodPipeline:return CE(r,a);case U.ZodFunction:case U.ZodVoid:case U.ZodSymbol:return;default:return(u=>{})()}},PE=(r,t,a)=>(r.description&&(a.description=r.description,t.markdownDescription&&(a.markdownDescription=r.description)),a),$E=(r,t)=>{const a=J1(t),s=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,u=Ce(r._def,s===void 0?a:{...a,currentPath:[...a.basePath,a.definitionPath,s]},!1)??{},o=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;o!==void 0&&(u.title=o);const d=(()=>{if(K1(a.definitions))return;const g={},m=new Set;for(let v=0;v<500;v++){const _=Object.entries(a.definitions).filter(([w])=>!m.has(w));if(_.length===0)break;for(const[w,C]of _)g[w]=Ce(wd(C),{...a,currentPath:[...a.basePath,a.definitionPath,w]},!0)??{},m.add(w)}return g})(),h=s===void 0?d?{...u,[a.definitionPath]:d}:u:a.nameStrategy==="duplicate-ref"?{...u,...d||a.seenRefs.size?{[a.definitionPath]:{...d,...a.seenRefs.size?{[s]:u}:void 0}}:void 0}:{$ref:[...a.$refStrategy==="relative"?[]:a.basePath,a.definitionPath,s].join("/"),[a.definitionPath]:{...d,[s]:u}};return a.target==="jsonSchema7"?h.$schema="http://json-schema.org/draft-07/schema#":a.target==="jsonSchema2019-09"&&(h.$schema="https://json-schema.org/draft/2019-09/schema#"),h};function HE(r,t){return $E(r,{openaiStrictMode:!0,name:t.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}function qE(r,t,a){return A1({type:"json_schema",json_schema:{...a,name:t,strict:!0,schema:HE(r,{name:t})}},s=>r.parse(JSON.parse(s)))}const VE=Symbol("Let zodToJsonSchema decide on which parser to use"),dv={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},YE=r=>typeof r=="string"?{...dv,name:r}:{...dv,...r},XE=r=>{const t=YE(r),a=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:a,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([s,u])=>[u._def,{def:u._def,path:[...t.basePath,t.definitionPath,s],jsonSchema:void 0}]))}};function db(r,t,a,s){s!=null&&s.errorMessages&&a&&(r.errorMessage={...r.errorMessage,[t]:a})}function Le(r,t,a,s,u){r[t]=a,db(r,t,s,u)}function GE(){return{}}function QE(r,t){var s,u,o;const a={type:"array"};return(s=r.type)!=null&&s._def&&((o=(u=r.type)==null?void 0:u._def)==null?void 0:o.typeName)!==U.ZodAny&&(a.items=Me(r.type._def,{...t,currentPath:[...t.currentPath,"items"]})),r.minLength&&Le(a,"minItems",r.minLength.value,r.minLength.message,t),r.maxLength&&Le(a,"maxItems",r.maxLength.value,r.maxLength.message,t),r.exactLength&&(Le(a,"minItems",r.exactLength.value,r.exactLength.message,t),Le(a,"maxItems",r.exactLength.value,r.exactLength.message,t)),a}function IE(r,t){const a={type:"integer",format:"int64"};if(!r.checks)return a;for(const s of r.checks)switch(s.kind){case"min":t.target==="jsonSchema7"?s.inclusive?Le(a,"minimum",s.value,s.message,t):Le(a,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(a.exclusiveMinimum=!0),Le(a,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?Le(a,"maximum",s.value,s.message,t):Le(a,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(a.exclusiveMaximum=!0),Le(a,"maximum",s.value,s.message,t));break;case"multipleOf":Le(a,"multipleOf",s.value,s.message,t);break}return a}function KE(){return{type:"boolean"}}function hb(r,t){return Me(r.type._def,t)}const JE=(r,t)=>Me(r.innerType._def,t);function mb(r,t,a){const s=a??t.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((u,o)=>mb(r,t,u))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return FE(r,t)}}const FE=(r,t)=>{const a={type:"integer",format:"unix-time"};if(t.target==="openApi3")return a;for(const s of r.checks)switch(s.kind){case"min":Le(a,"minimum",s.value,s.message,t);break;case"max":Le(a,"maximum",s.value,s.message,t);break}return a};function WE(r,t){return{...Me(r.innerType._def,t),default:r.defaultValue()}}function eT(r,t){return t.effectStrategy==="input"?Me(r.schema._def,t):{}}function tT(r){return{type:"string",enum:Array.from(r.values)}}const nT=r=>"type"in r&&r.type==="string"?!1:"allOf"in r;function aT(r,t){const a=[Me(r.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Me(r.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o);let s=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const u=[];return a.forEach(o=>{if(nT(o))u.push(...o.allOf),o.unevaluatedProperties===void 0&&(s=void 0);else{let d=o;if("additionalProperties"in o&&o.additionalProperties===!1){const{additionalProperties:h,...g}=o;d=g}else s=void 0;u.push(d)}}),u.length?{allOf:u,...s}:void 0}function rT(r,t){const a=typeof r.value;return a!=="bigint"&&a!=="number"&&a!=="boolean"&&a!=="string"?{type:Array.isArray(r.value)?"array":"object"}:t.target==="openApi3"?{type:a==="bigint"?"integer":a,enum:[r.value]}:{type:a==="bigint"?"integer":a,const:r.value}}let nd;const dn={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(nd===void 0&&(nd=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),nd),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function pb(r,t){const a={type:"string"};if(r.checks)for(const s of r.checks)switch(s.kind){case"min":Le(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,s.value):s.value,s.message,t);break;case"max":Le(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,s.value):s.value,s.message,t);break;case"email":switch(t.emailStrategy){case"format:email":hn(a,"email",s.message,t);break;case"format:idn-email":hn(a,"idn-email",s.message,t);break;case"pattern:zod":Nt(a,dn.email,s.message,t);break}break;case"url":hn(a,"uri",s.message,t);break;case"uuid":hn(a,"uuid",s.message,t);break;case"regex":Nt(a,s.regex,s.message,t);break;case"cuid":Nt(a,dn.cuid,s.message,t);break;case"cuid2":Nt(a,dn.cuid2,s.message,t);break;case"startsWith":Nt(a,RegExp(`^${ad(s.value,t)}`),s.message,t);break;case"endsWith":Nt(a,RegExp(`${ad(s.value,t)}$`),s.message,t);break;case"datetime":hn(a,"date-time",s.message,t);break;case"date":hn(a,"date",s.message,t);break;case"time":hn(a,"time",s.message,t);break;case"duration":hn(a,"duration",s.message,t);break;case"length":Le(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,s.value):s.value,s.message,t),Le(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,s.value):s.value,s.message,t);break;case"includes":{Nt(a,RegExp(ad(s.value,t)),s.message,t);break}case"ip":{s.version!=="v6"&&hn(a,"ipv4",s.message,t),s.version!=="v4"&&hn(a,"ipv6",s.message,t);break}case"base64url":Nt(a,dn.base64url,s.message,t);break;case"jwt":Nt(a,dn.jwt,s.message,t);break;case"cidr":{s.version!=="v6"&&Nt(a,dn.ipv4Cidr,s.message,t),s.version!=="v4"&&Nt(a,dn.ipv6Cidr,s.message,t);break}case"emoji":Nt(a,dn.emoji(),s.message,t);break;case"ulid":{Nt(a,dn.ulid,s.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{hn(a,"binary",s.message,t);break}case"contentEncoding:base64":{Le(a,"contentEncoding","base64",s.message,t);break}case"pattern:zod":{Nt(a,dn.base64,s.message,t);break}}break}case"nanoid":Nt(a,dn.nanoid,s.message,t)}return a}function ad(r,t){return t.patternStrategy==="escape"?iT(r):r}const sT=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function iT(r){let t="";for(let a=0;a<r.length;a++)sT.has(r[a])||(t+="\\"),t+=r[a];return t}function hn(r,t,a,s){var u;r.format||(u=r.anyOf)!=null&&u.some(o=>o.format)?(r.anyOf||(r.anyOf=[]),r.format&&(r.anyOf.push({format:r.format,...r.errorMessage&&s.errorMessages&&{errorMessage:{format:r.errorMessage.format}}}),delete r.format,r.errorMessage&&(delete r.errorMessage.format,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.anyOf.push({format:t,...a&&s.errorMessages&&{errorMessage:{format:a}}})):Le(r,"format",t,a,s)}function Nt(r,t,a,s){var u;r.pattern||(u=r.allOf)!=null&&u.some(o=>o.pattern)?(r.allOf||(r.allOf=[]),r.pattern&&(r.allOf.push({pattern:r.pattern,...r.errorMessage&&s.errorMessages&&{errorMessage:{pattern:r.errorMessage.pattern}}}),delete r.pattern,r.errorMessage&&(delete r.errorMessage.pattern,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.allOf.push({pattern:hv(t,s),...a&&s.errorMessages&&{errorMessage:{pattern:a}}})):Le(r,"pattern",hv(t,s),a,s)}function hv(r,t){var g;if(!t.applyRegexFlags||!r.flags)return r.source;const a={i:r.flags.includes("i"),m:r.flags.includes("m"),s:r.flags.includes("s")},s=a.i?r.source.toLowerCase():r.source;let u="",o=!1,d=!1,h=!1;for(let m=0;m<s.length;m++){if(o){u+=s[m],o=!1;continue}if(a.i){if(d){if(s[m].match(/[a-z]/)){h?(u+=s[m],u+=`${s[m-2]}-${s[m]}`.toUpperCase(),h=!1):s[m+1]==="-"&&((g=s[m+2])!=null&&g.match(/[a-z]/))?(u+=s[m],h=!0):u+=`${s[m]}${s[m].toUpperCase()}`;continue}}else if(s[m].match(/[a-z]/)){u+=`[${s[m]}${s[m].toUpperCase()}]`;continue}}if(a.m){if(s[m]==="^"){u+=`(^|(?<=[\r
]))`;continue}else if(s[m]==="$"){u+=`($|(?=[\r
]))`;continue}}if(a.s&&s[m]==="."){u+=d?`${s[m]}\r
`:`[${s[m]}\r
]`;continue}u+=s[m],s[m]==="\\"?o=!0:d&&s[m]==="]"?d=!1:!d&&s[m]==="["&&(d=!0)}try{new RegExp(u)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),r.source}return u}function gb(r,t){var s,u,o,d,h,g;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((s=r.keyType)==null?void 0:s._def.typeName)===U.ZodEnum)return{type:"object",required:r.keyType._def.values,properties:r.keyType._def.values.reduce((m,v)=>({...m,[v]:Me(r.valueType._def,{...t,currentPath:[...t.currentPath,"properties",v]})??{}}),{}),additionalProperties:t.rejectedAdditionalProperties};const a={type:"object",additionalProperties:Me(r.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return a;if(((u=r.keyType)==null?void 0:u._def.typeName)===U.ZodString&&((o=r.keyType._def.checks)!=null&&o.length)){const{type:m,...v}=pb(r.keyType._def,t);return{...a,propertyNames:v}}else{if(((d=r.keyType)==null?void 0:d._def.typeName)===U.ZodEnum)return{...a,propertyNames:{enum:r.keyType._def.values}};if(((h=r.keyType)==null?void 0:h._def.typeName)===U.ZodBranded&&r.keyType._def.type._def.typeName===U.ZodString&&((g=r.keyType._def.type._def.checks)!=null&&g.length)){const{type:m,...v}=hb(r.keyType._def,t);return{...a,propertyNames:v}}}return a}function lT(r,t){if(t.mapStrategy==="record")return gb(r,t);const a=Me(r.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},s=Me(r.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[a,s],minItems:2,maxItems:2}}}function uT(r){const t=r.values,s=Object.keys(r.values).filter(o=>typeof t[t[o]]!="number").map(o=>t[o]),u=Array.from(new Set(s.map(o=>typeof o)));return{type:u.length===1?u[0]==="string"?"string":"number":["string","number"],enum:s}}function cT(){return{not:{}}}function oT(r){return r.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const tc={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function fT(r,t){if(t.target==="openApi3")return mv(r,t);const a=r.options instanceof Map?Array.from(r.options.values()):r.options;if(a.every(s=>s._def.typeName in tc&&(!s._def.checks||!s._def.checks.length))){const s=a.reduce((u,o)=>{const d=tc[o._def.typeName];return d&&!u.includes(d)?[...u,d]:u},[]);return{type:s.length>1?s:s[0]}}else if(a.every(s=>s._def.typeName==="ZodLiteral"&&!s.description)){const s=a.reduce((u,o)=>{const d=typeof o._def.value;switch(d){case"string":case"number":case"boolean":return[...u,d];case"bigint":return[...u,"integer"];case"object":if(o._def.value===null)return[...u,"null"];case"symbol":case"undefined":case"function":default:return u}},[]);if(s.length===a.length){const u=s.filter((o,d,h)=>h.indexOf(o)===d);return{type:u.length>1?u:u[0],enum:a.reduce((o,d)=>o.includes(d._def.value)?o:[...o,d._def.value],[])}}}else if(a.every(s=>s._def.typeName==="ZodEnum"))return{type:"string",enum:a.reduce((s,u)=>[...s,...u._def.values.filter(o=>!s.includes(o))],[])};return mv(r,t)}const mv=(r,t)=>{const a=(r.options instanceof Map?Array.from(r.options.values()):r.options).map((s,u)=>Me(s._def,{...t,currentPath:[...t.currentPath,"anyOf",`${u}`]})).filter(s=>!!s&&(!t.strictUnions||typeof s=="object"&&Object.keys(s).length>0));return a.length?{anyOf:a}:void 0};function dT(r,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(r.innerType._def.typeName)&&(!r.innerType._def.checks||!r.innerType._def.checks.length))return t.target==="openApi3"?{type:tc[r.innerType._def.typeName],nullable:!0}:{type:[tc[r.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const s=Me(r.innerType._def,{...t,currentPath:[...t.currentPath]});return s&&"$ref"in s?{allOf:[s],nullable:!0}:s&&{...s,nullable:!0}}const a=Me(r.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return a&&{anyOf:[a,{type:"null"}]}}function hT(r,t){const a={type:"number"};if(!r.checks)return a;for(const s of r.checks)switch(s.kind){case"int":a.type="integer",db(a,"type",s.message,t);break;case"min":t.target==="jsonSchema7"?s.inclusive?Le(a,"minimum",s.value,s.message,t):Le(a,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(a.exclusiveMinimum=!0),Le(a,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?Le(a,"maximum",s.value,s.message,t):Le(a,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(a.exclusiveMaximum=!0),Le(a,"maximum",s.value,s.message,t));break;case"multipleOf":Le(a,"multipleOf",s.value,s.message,t);break}return a}function mT(r,t){const a=t.target==="openAi",s={type:"object",properties:{}},u=[],o=r.shape();for(const h in o){let g=o[h];if(g===void 0||g._def===void 0)continue;let m=gT(g);m&&a&&(g instanceof bn&&(g=g._def.innerType),g.isNullable()||(g=g.nullable()),m=!1);const v=Me(g._def,{...t,currentPath:[...t.currentPath,"properties",h],propertyPath:[...t.currentPath,"properties",h]});v!==void 0&&(s.properties[h]=v,m||u.push(h))}u.length&&(s.required=u);const d=pT(r,t);return d!==void 0&&(s.additionalProperties=d),s}function pT(r,t){if(r.catchall._def.typeName!=="ZodNever")return Me(r.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(r.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function gT(r){try{return r.isOptional()}catch{return!0}}const yT=(r,t)=>{var s;if(t.currentPath.toString()===((s=t.propertyPath)==null?void 0:s.toString()))return Me(r.innerType._def,t);const a=Me(r.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return a?{anyOf:[{not:{}},a]}:{}},vT=(r,t)=>{if(t.pipeStrategy==="input")return Me(r.in._def,t);if(t.pipeStrategy==="output")return Me(r.out._def,t);const a=Me(r.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),s=Me(r.out._def,{...t,currentPath:[...t.currentPath,"allOf",a?"1":"0"]});return{allOf:[a,s].filter(u=>u!==void 0)}};function bT(r,t){return Me(r.type._def,t)}function _T(r,t){const s={type:"array",uniqueItems:!0,items:Me(r.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return r.minSize&&Le(s,"minItems",r.minSize.value,r.minSize.message,t),r.maxSize&&Le(s,"maxItems",r.maxSize.value,r.maxSize.message,t),s}function xT(r,t){return r.rest?{type:"array",minItems:r.items.length,items:r.items.map((a,s)=>Me(a._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((a,s)=>s===void 0?a:[...a,s],[]),additionalItems:Me(r.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:r.items.length,maxItems:r.items.length,items:r.items.map((a,s)=>Me(a._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((a,s)=>s===void 0?a:[...a,s],[])}}function ST(){return{not:{}}}function wT(){return{}}const AT=(r,t)=>Me(r.innerType._def,t),ET=(r,t,a)=>{switch(t){case U.ZodString:return pb(r,a);case U.ZodNumber:return hT(r,a);case U.ZodObject:return mT(r,a);case U.ZodBigInt:return IE(r,a);case U.ZodBoolean:return KE();case U.ZodDate:return mb(r,a);case U.ZodUndefined:return ST();case U.ZodNull:return oT(a);case U.ZodArray:return QE(r,a);case U.ZodUnion:case U.ZodDiscriminatedUnion:return fT(r,a);case U.ZodIntersection:return aT(r,a);case U.ZodTuple:return xT(r,a);case U.ZodRecord:return gb(r,a);case U.ZodLiteral:return rT(r,a);case U.ZodEnum:return tT(r);case U.ZodNativeEnum:return uT(r);case U.ZodNullable:return dT(r,a);case U.ZodOptional:return yT(r,a);case U.ZodMap:return lT(r,a);case U.ZodSet:return _T(r,a);case U.ZodLazy:return()=>r.getter()._def;case U.ZodPromise:return bT(r,a);case U.ZodNaN:case U.ZodNever:return cT();case U.ZodEffects:return eT(r,a);case U.ZodAny:return GE();case U.ZodUnknown:return wT();case U.ZodDefault:return WE(r,a);case U.ZodBranded:return hb(r,a);case U.ZodReadonly:return AT(r,a);case U.ZodCatch:return JE(r,a);case U.ZodPipeline:return vT(r,a);case U.ZodFunction:case U.ZodVoid:case U.ZodSymbol:return;default:return(s=>{})()}};function Me(r,t,a=!1){var h;const s=t.seen.get(r);if(t.override){const g=(h=t.override)==null?void 0:h.call(t,r,t,s,a);if(g!==VE)return g}if(s&&!a){const g=TT(s,t);if(g!==void 0)return g}const u={def:r,path:t.currentPath,jsonSchema:void 0};t.seen.set(r,u);const o=ET(r,r.typeName,t),d=typeof o=="function"?Me(o(),t):o;if(d&&NT(r,t,d),t.postProcess){const g=t.postProcess(d,r,t);return u.jsonSchema=d,g}return u.jsonSchema=d,d}const TT=(r,t)=>{switch(t.$refStrategy){case"root":return{$ref:r.path.join("/")};case"relative":return{$ref:RT(t.currentPath,r.path)};case"none":case"seen":return r.path.length<t.currentPath.length&&r.path.every((a,s)=>t.currentPath[s]===a)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},RT=(r,t)=>{let a=0;for(;a<r.length&&a<t.length&&r[a]===t[a];a++);return[(r.length-a).toString(),...t.slice(a)].join("/")},NT=(r,t,a)=>(r.description&&(a.description=r.description,t.markdownDescription&&(a.markdownDescription=r.description)),a),OT=(r,t)=>{const a=XE(t),s=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((g,[m,v])=>({...g,[m]:Me(v._def,{...a,currentPath:[...a.basePath,a.definitionPath,m]},!0)??{}}),{}):void 0,u=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,o=Me(r._def,u===void 0?a:{...a,currentPath:[...a.basePath,a.definitionPath,u]},!1)??{},d=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;d!==void 0&&(o.title=d);const h=u===void 0?s?{...o,[a.definitionPath]:s}:o:{$ref:[...a.$refStrategy==="relative"?[]:a.basePath,a.definitionPath,u].join("/"),[a.definitionPath]:{...s,[u]:o}};return a.target==="jsonSchema7"?h.$schema="http://json-schema.org/draft-07/schema#":(a.target==="jsonSchema2019-09"||a.target==="openAi")&&(h.$schema="https://json-schema.org/draft/2019-09/schema#"),a.target==="openAi"&&("anyOf"in h||"oneOf"in h||"allOf"in h||"type"in h&&Array.isArray(h.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),h},Nd=Fn.object({text:Fn.string().describe("A verbatim, HTML representation of the page, including captions/descriptions of images"),page:Fn.string().optional().describe("The page number, if available"),chapter_name:Fn.string().optional().describe("The chapter name, if available"),title:Fn.string().optional().describe("The book title, if available"),figures:Fn.array(Fn.object({number:Fn.string().optional().describe("Figure number if available"),description:Fn.string().describe("Detailed description of the figure content")})).optional().describe("Descriptions of any figures on the page")}),CT=OT(Nd,{target:"openApi3"});function jT(r){const t=[],a=r.matchAll(/Figure (\d+)(?:[.:])?\s*(.*?)(?:\n\n|\n(?=Figure)|\n$)/gis);for(const s of a)s&&s[2]&&t.push({number:s[1],description:s[2].trim()});return t}async function DT(r,t){var a;try{let s="gpt-4";const u="2024-10-21",o=new X1({apiKey:t.apiKey,endpoint:t.endpoint,deployment:s,apiVersion:u,dangerouslyAllowBrowser:!0});console.log("Using Azure OpenAI client with endpoint:",t.endpoint);try{const h=(a=(await o.beta.chat.completions.parse({model:s,messages:[{role:"system",content:`You are a skilled assistant that analyzes images of textbook pages. 
                        Extract all text content from the page verbatim, and provide any metadata available such as page numbers, 
                        chapter names, and book titles. Also identify and describe all figures, tables, and images on the page.`},{role:"user",content:[{type:"text",text:"Please analyze this textbook page and provide the information in the structured format."},{type:"image_url",image_url:{url:`data:image/jpeg;base64,${r}`}}]}],temperature:0,max_tokens:16384,response_format:qE(Nd,"textbookPage")})).choices[0])==null?void 0:a.message;if(!h)throw new Error("Invalid response from Azure OpenAI API");if(h.parsed){const g=h.parsed;return{text:g.text,metadata:{pageNumber:g.page,chapter:g.chapter_name,bookTitle:g.title,figures:g.figures||[],parsedData:g}}}else{if(h.refusal)throw console.warn("The model refused to process the request:",h.refusal),new Error(`The model refused to process the request: ${h.refusal}`);if(console.warn("No parsed data available from the response"),h.content)return rd(h.content);throw new Error("No usable content received from Azure OpenAI API")}}catch(d){console.error("Error with beta structured output:",d),console.log("Falling back to legacy approach...");const h=await o.chat.completions.create({model:s,messages:[{role:"system",content:`You are a skilled assistant that analyzes images of textbook pages. 
                        Extract the following information in a structured format following this JSON schema:
                        ${JSON.stringify(CT,null,2)}
                        
                        Always provide output exactly according to this schema.`},{role:"user",content:[{type:"text",text:"Please analyze this textbook page and provide the information in the structured format."},{type:"image_url",image_url:{url:`data:image/jpeg;base64,${r}`}}]}],temperature:0,max_tokens:16384,response_format:{type:"json_object"}});if(!h||!h.choices||!h.choices[0]||!h.choices[0].message)throw new Error("Invalid response format from Azure OpenAI API");const g=h.choices[0].message.content||"";if(!g)throw new Error("No content received from Azure OpenAI API");try{const m=JSON.parse(g),v=Nd.safeParse(m);if(!v.success)return console.warn("Response didn't match expected schema:",v.error),rd(g);const _=v.data;return{text:_.text,metadata:{pageNumber:_.page,chapter:_.chapter_name,bookTitle:_.title,figures:_.figures||[],rawContent:g}}}catch(m){return console.error("Error parsing structured output:",m),rd(g)}}}catch(s){throw console.warn("Failed to analyze image:",s),s}}function rd(r){const t=r.match(/Page (\d+)/i)||r.match(/p\. (\d+)/i),a=r.match(/Chapter (\d+|[IVX]+)/i),s=r.match(/Title: (.*?)(?:\n|$)/i)||r.match(/Book: (.*?)(?:\n|$)/i),u=jT(r);return{text:r,metadata:{pageNumber:t?t[1]:void 0,chapter:a?a[1]:void 0,bookTitle:s?s[1]:void 0,figures:u.length>0?u:void 0,rawContent:r}}}async function MT(r){try{const t=atob(r),a=JSON.parse(t);if(!a.endpoint||!a.apiKey)throw new Error("Invalid connection key format: missing endpoint or apiKey");return console.log("Decoded connection key successfully"),a}catch(t){throw console.error("Failed to decode connection key:",t),new Error("Failed to decode connection key. Please check the format.")}}const Od=(r,t)=>t.some(a=>r instanceof a);let pv,gv;function kT(){return pv||(pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zT(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cd=new WeakMap,sd=new WeakMap,vc=new WeakMap;function UT(r){const t=new Promise((a,s)=>{const u=()=>{r.removeEventListener("success",o),r.removeEventListener("error",d)},o=()=>{a(fr(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",o),r.addEventListener("error",d)});return vc.set(t,r),t}function LT(r){if(Cd.has(r))return;const t=new Promise((a,s)=>{const u=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",d),r.removeEventListener("abort",d)},o=()=>{a(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",o),r.addEventListener("error",d),r.addEventListener("abort",d)});Cd.set(r,t)}let jd={get(r,t,a){if(r instanceof IDBTransaction){if(t==="done")return Cd.get(r);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return fr(r[t])},set(r,t,a){return r[t]=a,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function yb(r){jd=r(jd)}function BT(r){return zT().includes(r)?function(...t){return r.apply(Dd(this),t),fr(this.request)}:function(...t){return fr(r.apply(Dd(this),t))}}function ZT(r){return typeof r=="function"?BT(r):(r instanceof IDBTransaction&&LT(r),Od(r,kT())?new Proxy(r,jd):r)}function fr(r){if(r instanceof IDBRequest)return UT(r);if(sd.has(r))return sd.get(r);const t=ZT(r);return t!==r&&(sd.set(r,t),vc.set(t,r)),t}const Dd=r=>vc.get(r);function PT(r,t,{blocked:a,upgrade:s,blocking:u,terminated:o}={}){const d=indexedDB.open(r,t),h=fr(d);return s&&d.addEventListener("upgradeneeded",g=>{s(fr(d.result),g.oldVersion,g.newVersion,fr(d.transaction),g)}),a&&d.addEventListener("blocked",g=>a(g.oldVersion,g.newVersion,g)),h.then(g=>{o&&g.addEventListener("close",()=>o()),u&&g.addEventListener("versionchange",m=>u(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const $T=["get","getKey","getAll","getAllKeys","count"],HT=["put","add","delete","clear"],id=new Map;function yv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(id.get(t))return id.get(t);const a=t.replace(/FromIndex$/,""),s=t!==a,u=HT.includes(a);if(!(a in(s?IDBIndex:IDBObjectStore).prototype)||!(u||$T.includes(a)))return;const o=async function(d,...h){const g=this.transaction(d,u?"readwrite":"readonly");let m=g.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[a](...h),u&&g.done]))[0]};return id.set(t,o),o}yb(r=>({...r,get:(t,a,s)=>yv(t,a)||r.get(t,a,s),has:(t,a)=>!!yv(t,a)||r.has(t,a)}));const qT=["continue","continuePrimaryKey","advance"],vv={},Md=new WeakMap,vb=new WeakMap,VT={get(r,t){if(!qT.includes(t))return r[t];let a=vv[t];return a||(a=vv[t]=function(...s){Md.set(this,vb.get(this)[t](...s))}),a}};async function*YT(...r){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...r)),!t)return;t=t;const a=new Proxy(t,VT);for(vb.set(a,t),vc.set(a,Dd(t));t;)yield a,t=await(Md.get(a)||t.continue()),Md.delete(a)}function bv(r,t){return t===Symbol.asyncIterator&&Od(r,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Od(r,[IDBIndex,IDBObjectStore])}yb(r=>({...r,get(t,a,s){return bv(t,a)?YT:r.get(t,a,s)},has(t,a){return bv(t,a)||r.has(t,a)}}));const XT="ascension-db",GT=1;async function QT(){return PT(XT,GT,{upgrade(r){r.createObjectStore("series",{keyPath:"id"}).createIndex("by-date","createdAt"),r.createObjectStore("settings",{keyPath:"id"})}})}let ld;function yr(){return ld||(ld=QT()),ld}async function IT(r){await(await yr()).put("series",r)}async function KT(){return(await yr()).getAllFromIndex("series","by-date")}async function JT(r){return(await yr()).get("series",r)}async function FT(r){await(await yr()).delete("series",r)}async function kd(r){await(await yr()).put("settings",{id:"connection",connectionKey:r})}async function bb(){const t=await(await yr()).get("settings","connection");return t==null?void 0:t.connectionKey}async function WT(){try{return await yr(),!1}catch{return!0}}const _b=E.createContext({endpoint:null,apiKey:null,isLoading:!0,error:null});function e2({children:r}){const[t,a]=E.useState(null),[s,u]=E.useState(null),[o,d]=E.useState(!0),[h,g]=E.useState(null);return E.useEffect(()=>{async function m(){try{const v=await bb();if(v){const _=await MT(v);a(_.endpoint),u(_.apiKey)}else g("Connection key not found")}catch(v){g("Failed to decode connection key"),console.error("Error loading Azure credentials:",v)}finally{d(!1)}}m()},[]),b.jsx(_b.Provider,{value:{endpoint:t,apiKey:s,isLoading:o,error:h},children:r})}function xb(){return E.useContext(_b)}const Sb=E.createContext({draft:null,initializeDraft:()=>{},addPage:()=>"",updatePage:()=>{},removePage:()=>{},setSeriesName:()=>{},clearDraft:()=>{}});function t2({children:r}){const[t,a]=E.useState(null),s=E.useCallback(()=>{a({pages:[]})},[]),u=E.useCallback(m=>{const v=$d();return a(_=>_?{..._,pages:[..._.pages,{...m,id:v}]}:{pages:[{...m,id:v}]}),v},[]),o=E.useCallback((m,v)=>{console.log("Updating page:",m,"with data:",v),a(_=>_?_.pages.some(R=>R.id===m)?{..._,pages:_.pages.map(R=>{if(R.id===m){const k={...R,...v};return console.log("Page updated from:",R,"to:",k),k}return R})}:(console.error(`Cannot update page: page with ID ${m} not found`),console.log("Available pages:",_.pages.map(R=>R.id)),_):(console.error("Cannot update page: draft is null"),null))},[]),d=E.useCallback(m=>{a(v=>v?{...v,pages:v.pages.filter(_=>_.id!==m)}:null)},[]),h=E.useCallback(m=>{a(v=>v?{...v,name:m}:null)},[]),g=E.useCallback(()=>{a(null)},[]);return b.jsx(Sb.Provider,{value:{draft:t,initializeDraft:s,addPage:u,updatePage:o,removePage:d,setSeriesName:h,clearDraft:g},children:r})}function Ah(){return E.useContext(Sb)}class n2{constructor(){rr(this,"processingQueue",[]);rr(this,"isProcessing",!1);rr(this,"maxConcurrent",2);rr(this,"maxRetries",3);rr(this,"currentlyProcessing",0)}enqueue(t,a,s,u,o,d){const h={id:t,imageData:a,retries:0,config:s,onComplete:u,onError:o,onStatusChange:d,status:"queued"};this.processingQueue.push(h),this.isProcessing||this.processQueue()}getStatus(){const t={queued:0,processing:0,completed:0,error:0};for(const a of this.processingQueue)a.status==="queued"&&t.queued++,a.status==="processing"&&t.processing++,a.status==="complete"&&t.completed++,a.status==="error"&&t.error++;return{...t,total:this.processingQueue.length}}retry(t){const a=this.processingQueue.findIndex(u=>u.id===t&&u.status==="error");if(a===-1)return!1;const s=this.processingQueue[a];return s.status="queued",s.onStatusChange&&s.onStatusChange(s.id,"queued"),s.retries=0,s.error=void 0,this.isProcessing||this.processQueue(),!0}clearCompleted(){this.processingQueue=this.processingQueue.filter(t=>t.status!=="complete")}async processQueue(){if(this.currentlyProcessing>=this.maxConcurrent)return;this.isProcessing=!0;const t=this.processingQueue.findIndex(s=>s.status==="queued");if(t===-1){this.currentlyProcessing===0&&(this.isProcessing=!1);return}const a=this.processingQueue[t];a.status="processing",a.onStatusChange&&a.onStatusChange(a.id,"processing"),this.currentlyProcessing++;try{const s=await DT(a.imageData,a.config),u=[];if(s.metadata&&s.metadata.figures){const o=s.metadata.figures;for(const d of o)d.description&&u.push(d.description)}a.status="complete",a.onStatusChange&&a.onStatusChange(a.id,"complete"),a.onComplete({id:a.id,text:s.text,imageDescriptions:u,meta:s.metadata||{}})}catch(s){console.error("Image processing error:",s);const u=s instanceof Error?s.message:"Unknown error";if(a.retries<this.maxRetries){a.retries++,a.status="queued",a.onStatusChange&&a.onStatusChange(a.id,"queued"),a.error=`Error: ${u}. Retry ${a.retries} of ${this.maxRetries}.`;const o=Math.pow(2,a.retries)*1e3;setTimeout(()=>{this.processQueue()},o)}else a.status="error",a.error=`Failed after ${this.maxRetries} attempts: ${u}`,a.onStatusChange&&a.onStatusChange(a.id,"error"),s instanceof Error?a.onError(s,a.id):a.onError(new Error(u),a.id)}finally{this.currentlyProcessing--,this.processQueue()}}}const Eh=new n2;function a2({onCapture:r,onError:t}){const a=E.useRef(null),s=E.useRef(null),[u,o]=E.useState(null),[d,h]=E.useState("environment"),[g,m]=E.useState("prompt"),[v,_]=E.useState(!1);E.useEffect(()=>{async function k(){try{u&&u.getTracks().forEach(L=>L.stop());const M=await navigator.mediaDevices.getUserMedia({video:{facingMode:d,width:{ideal:1920},height:{ideal:1080}},audio:!1});o(M),m("granted"),a.current&&(a.current.srcObject=M)}catch(M){m("denied"),t(M instanceof Error?M:new Error("Failed to access camera"))}}return k(),()=>{u&&u.getTracks().forEach(M=>M.stop())}},[d,t]);const w=E.useCallback(()=>{h(k=>k==="user"?"environment":"user")},[]),C=E.useCallback(async()=>{if(u)try{const k=u.getVideoTracks()[0];if(!k.getCapabilities().torch){console.log("Flashlight not supported on this device");return}const L=!v;await k.applyConstraints({advanced:[{torch:L}]}),_(L)}catch(k){console.error("Error toggling flashlight:",k)}},[u,v]),R=E.useCallback(()=>{if(!a.current||!s.current)return;const k=a.current,M=s.current;M.width=k.videoWidth,M.height=k.videoHeight;const L=M.getContext("2d");if(L){L.drawImage(k,0,0);try{const z=M.toDataURL("image/jpeg",.95).split(",")[1];r(z)}catch(z){t(z instanceof Error?z:new Error("Failed to capture image"))}}},[r,t]);return b.jsxs("div",{className:"camera-container space-y-4 w-full",children:[b.jsx("div",{className:"bg-blue-500 text-white p-1 text-xs absolute top-0 right-0 z-50",children:"Camera Active"}),b.jsxs("div",{className:"relative rounded-lg overflow-hidden shadow-lg bg-gray-900",style:{height:"70vh",minHeight:"400px",position:"relative"},children:[b.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",style:{transform:d==="user"?"scaleX(-1)":"none"}}),"            ","                ",b.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex justify-center items-center space-x-8 py-6 px-4 bg-black bg-opacity-40 z-50",children:[b.jsx("button",{onClick:w,className:"flex items-center justify-center p-5 bg-blue-600 rounded-full hover:bg-blue-700 shadow-lg border-2 border-white transition-transform hover:scale-105 w-16 h-16 min-w-16 min-h-16","aria-label":"Switch camera",style:{boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),"                    ",b.jsx("button",{onClick:R,className:"flex items-center justify-center p-3 bg-white rounded-full hover:bg-gray-100 shadow-lg transform transition-transform hover:scale-105 w-28 h-28","aria-label":"Take photo",style:{boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:b.jsx("div",{className:"h-20 w-20 rounded-full border-4 border-gray-800 flex items-center justify-center",children:b.jsx("div",{className:"h-16 w-16 rounded-full bg-red-600"})})}),"                    ",b.jsx("button",{onClick:C,className:`flex items-center justify-center p-5 rounded-full shadow-lg transition-all hover:scale-105 border-2 border-white w-16 h-16 min-w-16 min-h-16 ${v?"bg-yellow-400 text-black":"bg-gray-800 text-white"}`,"aria-label":"Toggle flashlight",style:{boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})]})]}),g==="denied"&&b.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-md",children:[b.jsx("p",{className:"font-medium mb-2",children:"Camera Access Denied"}),b.jsx("p",{className:"mb-4",children:"Please allow camera access to use this feature."})]}),b.jsx("canvas",{ref:s,className:"hidden"})]})}function r2(){const{draft:r}=Ah(),[t,a]=E.useState({queued:0,processing:0,completed:0,error:0,total:0});return E.useEffect(()=>{const s=setInterval(()=>{a(Eh.getStatus())},1e3);return()=>clearInterval(s)},[]),!r||t.queued===0&&t.processing===0&&t.error===0?null:b.jsxs("div",{className:"fixed bottom-4 right-4 bg-gray-800 text-white p-4 rounded-lg shadow-lg max-w-xs",children:[b.jsx("h4",{className:"font-medium text-sm mb-2",children:"Processing Status"}),b.jsxs("div",{className:"space-y-1 text-xs",children:[t.processing>0&&b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-t-2 border-b-2 border-blue-400 mr-2"}),b.jsxs("span",{children:["Processing: ",t.processing]})]}),t.queued>0&&b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full mr-2"}),b.jsxs("span",{children:["Queued: ",t.queued]})]}),t.completed>0&&b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full mr-2"}),b.jsxs("span",{children:["Completed: ",t.completed]})]}),t.error>0&&b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full mr-2"}),b.jsxs("span",{children:["Failed: ",t.error]})]})]}),t.processing>0||t.queued>0?b.jsx("p",{className:"text-xs mt-2 text-gray-300",children:"Processing images in the background. You can continue capturing more pages."}):null]})}function s2(){const r=ac(),[t,a]=E.useState("camera"),[s,u]=E.useState(null),[o,d]=E.useState(""),{draft:h,initializeDraft:g,addPage:m,updatePage:v}=Ah(),{endpoint:_,apiKey:w}=xb();E.useEffect(()=>{h||g()},[h,g]);const C=E.useCallback(z=>{u(z),a("preview")},[]),R=E.useCallback(()=>{u(null),a("camera")},[]),k=E.useCallback(z=>{d(`Camera error: ${z.message}`),a("error")},[]),M=E.useCallback(()=>{if(!s||!_||!w){d("Missing image data or Azure configuration"),a("error");return}const z=atob(s),H=new Array(z.length);for(let te=0;te<z.length;te++)H[te]=z.charCodeAt(te);const X=new Uint8Array(H),I=new Blob([X],{type:"image/jpeg"}),ie=$d(),W=m({imageBlob:I,text:"",imageDescriptions:[],meta:{},status:"queued"});console.log("Added page with ID:",W,"Generated ID was:",ie);const xe={endpoint:_,apiKey:w};Eh.enqueue(W,s,xe,te=>{console.log("Page processed successfully:",te),v(W,{text:te.text,imageDescriptions:te.imageDescriptions,meta:te.meta,status:"complete"})},(te,he)=>{console.error("Error processing page:",te),v(he,{error:te.message,status:"error"})},(te,he)=>{console.log(`Status change for page ${te}: ${he}`),v(W,{status:he})}),u(null),a("camera")},[s,_,w,m,v]),L=E.useCallback(()=>{r("/review")},[r]);return b.jsxs("div",{className:"max-w-2xl mx-auto w-full px-2",children:[b.jsx("h2",{className:"text-xl font-semibold mb-6 text-center",children:"Capture Pages"}),b.jsx(r2,{}),t==="camera"&&b.jsx("div",{className:"w-full",children:b.jsx(a2,{onCapture:C,onError:k})}),t==="preview"&&s&&b.jsxs("div",{className:"space-y-4",children:[b.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-lg bg-gray-900 w-full",children:b.jsx("img",{src:`data:image/jpeg;base64,${s}`,alt:"Captured",className:"w-full object-contain"})}),b.jsxs("div",{className:"flex space-x-4",children:["                        ",b.jsx("button",{onClick:R,className:"flex-1 py-2 px-4 bg-gray-200 rounded-md hover:bg-gray-300",children:"Retake"}),b.jsx("button",{onClick:M,className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Use Photo"})]})]}),t==="processing"&&b.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[b.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary mb-4"}),b.jsx("p",{children:"Processing image with Azure GPT-4o..."})]}),t==="error"&&b.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-md",children:[b.jsx("p",{className:"font-medium mb-2",children:"Error"}),b.jsx("p",{className:"mb-4",children:o}),b.jsxs("div",{className:"mb-4",children:[b.jsx("p",{className:"text-sm text-gray-600 mb-2",children:b.jsx("strong",{children:"Troubleshooting:"})}),b.jsxs("ul",{className:"text-sm list-disc pl-5 text-gray-600",children:[b.jsx("li",{children:"Check if the connection key is valid"}),b.jsx("li",{children:"Verify the Azure OpenAI service is properly configured"}),b.jsx("li",{children:"Make sure your Azure OpenAI service has the GPT-4 model deployed"})]})]}),b.jsx("button",{onClick:()=>a("camera"),className:"py-2 px-4 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]}),h&&h.pages.length>0&&t!=="processing"&&b.jsx("div",{className:"mt-8 flex space-x-4",children:b.jsxs("button",{onClick:L,className:"flex-1 py-3 px-4 bg-green-600 text-white rounded-md hover:bg-green-700",children:["Finish Series (",h.pages.length," ",h.pages.length===1?"page":"pages",")"]})})]})}function i2(){const[r,t]=E.useState([]),[a,s]=E.useState(!0),[u,o]=E.useState(null),d=E.useCallback(async()=>{s(!0),o(null);try{const g=await KT();g.sort((m,v)=>new Date(v.createdAt).getTime()-new Date(m.createdAt).getTime()),t(g)}catch(g){o("Failed to load your series. Please try again."),console.error("Error loading series:",g)}finally{s(!1)}},[]);E.useEffect(()=>{d()},[d]);const h=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return b.jsxs("div",{className:"pb-20",children:[" ",b.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-6",children:"Your Series"}),a&&b.jsx("div",{className:"flex justify-center my-12",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}),u&&b.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:[b.jsx("p",{children:u}),b.jsx("button",{onClick:d,className:"mt-2 text-sm font-medium text-red-700 underline",children:"Try Again"})]}),!a&&r.length===0&&!u&&b.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 px-4 py-8 rounded-md text-center",children:[b.jsx("p",{className:"mb-4",children:"You don't have any series yet."}),b.jsx("p",{children:'Tap the "New Series" button below to get started!'})]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(g=>b.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:b.jsxs(Hu,{to:`/series/${g.id}`,className:"block",children:[b.jsx("div",{className:"aspect-[4/3] bg-gray-200 relative",children:g.pages.length>0&&g.pages[0].imageBlob&&b.jsx("img",{src:URL.createObjectURL(g.pages[0].imageBlob),alt:`First page of ${g.name}`,className:"w-full h-full object-cover",onLoad:m=>{const v=m.target;setTimeout(()=>{v.src.startsWith("blob:")&&URL.revokeObjectURL(v.src)},1e3)}})}),b.jsxs("div",{className:"p-4",children:[b.jsx("h3",{className:"font-semibold text-lg mb-1 truncate",children:g.name}),b.jsxs("div",{className:"text-sm text-gray-500 flex justify-between",children:[b.jsxs("span",{children:[g.pages.length," ",g.pages.length===1?"page":"pages"]}),b.jsx("span",{children:h(g.createdAt)})]})]})]})},g.id))}),"            ",b.jsxs(Hu,{to:"/capture",className:"fixed right-6 bottom-6 sm:right-8 sm:bottom-8 bg-primary text-white rounded-full shadow-xl p-5 sm:p-6 flex items-center justify-center hover:bg-primary-dark focus:outline-none focus:ring-3 focus:ring-primary focus:ring-offset-2 transition-transform hover:scale-105",style:{minWidth:"60px",minHeight:"60px"},"aria-label":"Create new series",children:[b.jsx("span",{className:"text-3xl",children:""}),b.jsx("span",{className:"ml-3 hidden sm:inline text-lg font-medium",children:"New Series"})]})]})}function l2(){const{seriesId:r}=BS(),t=ac(),[a,s]=E.useState(null),[u,o]=E.useState(!0),[d,h]=E.useState(null),[g,m]=E.useState(!1),[v,_]=E.useState(0);E.useEffect(()=>{async function L(){if(!r){h("No series ID provided"),o(!1);return}try{const z=await JT(r);z?s(z):h("Series not found")}catch(z){h("Failed to load series"),console.error("Error loading series:",z)}finally{o(!1)}}L()},[r]);const w=E.useCallback(async()=>{if(r)try{await FT(r),t("/")}catch(L){h("Failed to delete series"),console.error("Error deleting series:",L)}},[r,t]),C=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),R=E.useCallback(()=>{a&&_(L=>Math.min(L+1,a.pages.length-1))},[a]),k=E.useCallback(()=>{_(L=>Math.max(L-1,0))},[]);if(u)return b.jsx("div",{className:"flex justify-center my-12",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})});if(d||!a)return b.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-md",children:[b.jsx("p",{className:"font-medium mb-2",children:"Error"}),b.jsx("p",{children:d||"Failed to load series"}),b.jsx("button",{onClick:()=>t("/"),className:"mt-4 py-2 px-4 bg-primary text-white rounded-md",children:"Return to Dashboard"})]});const M=a.pages[v];return b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl sm:text-2xl font-semibold",children:a.name}),b.jsxs("p",{className:"text-gray-500",children:[a.pages.length," ",a.pages.length===1?"page":"pages","  Created on ",C(a.createdAt)]})]}),b.jsx("button",{onClick:()=>m(!0),className:"text-red-600 py-1 px-3 border border-red-200 rounded-md hover:bg-red-50",children:"Delete"})]}),b.jsx("div",{className:"flex justify-center mb-4",children:b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("button",{onClick:k,disabled:v===0,className:"py-1 px-3 border border-gray-300 rounded-md disabled:opacity-40",children:"Previous"}),b.jsxs("span",{className:"text-sm",children:["Page ",v+1," of ",a.pages.length]}),b.jsx("button",{onClick:R,disabled:v===a.pages.length-1,className:"py-1 px-3 border border-gray-300 rounded-md disabled:opacity-40",children:"Next"})]})}),b.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:b.jsxs("div",{className:"sm:flex sm:gap-8",children:[b.jsx("div",{className:"sm:w-1/2 mb-6 sm:mb-0",children:b.jsx("div",{className:"bg-gray-100 rounded-md overflow-hidden",children:b.jsx("img",{src:URL.createObjectURL(M.imageBlob),alt:`Page ${v+1}`,className:"w-full object-contain",onLoad:L=>{const z=L.target;setTimeout(()=>{z.src.startsWith("blob:")&&URL.revokeObjectURL(z.src)},1e3)}})})}),b.jsxs("div",{className:"sm:w-1/2",children:[b.jsx("h3",{className:"text-lg font-medium mb-4",children:"Text Content"}),b.jsx("div",{className:"bg-gray-50 p-4 rounded-md max-h-96 overflow-y-auto",children:M.text||b.jsx("em",{children:"No text content available"})}),M.imageDescriptions&&M.imageDescriptions.length>0&&b.jsxs("div",{className:"mt-6",children:[b.jsx("h3",{className:"text-lg font-medium mb-2",children:"Image Descriptions"}),b.jsx("ul",{className:"bg-gray-50 p-4 rounded-md text-sm space-y-2",children:M.imageDescriptions.map((L,z)=>b.jsx("li",{children:L},z))})]}),Object.keys(M.meta).length>0&&b.jsxs("div",{className:"mt-6",children:[b.jsx("h3",{className:"text-lg font-medium mb-2",children:"Metadata"}),b.jsx("dl",{className:"bg-gray-50 p-4 rounded-md grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:Object.entries(M.meta).map(([L,z])=>z!=null&&L!=="figures"&&b.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[b.jsxs("dt",{className:"font-medium",children:[L,":"]}),b.jsx("dd",{children:String(z)})]},L))})]})]})]})}),b.jsx("div",{className:"mt-8",children:b.jsx("button",{onClick:()=>t("/"),className:"py-2 px-4 border border-gray-300 rounded-md hover:bg-gray-50",children:" Back to Dashboard"})}),g&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[b.jsx("h3",{className:"text-lg font-medium mb-3",children:"Delete Series?"}),b.jsxs("p",{className:"mb-6",children:['Are you sure you want to delete "',a.name,'"? This action cannot be undone.']}),b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx("button",{onClick:()=>m(!1),className:"py-2 px-4 border border-gray-300 rounded-md",children:"Cancel"}),b.jsx("button",{onClick:w,className:"py-2 px-4 bg-red-600 text-white rounded-md",children:"Delete"})]})]})})]})}function u2(){const r=ac(),{draft:t,updatePage:a,removePage:s,setSeriesName:u,clearDraft:o}=Ah(),{endpoint:d,apiKey:h}=xb(),[g,m]=E.useState(!1),[v,_]=E.useState({}),[w,C]=E.useState(null),[R,k]=E.useState(!1),[M,L]=E.useState(!1);if(!t)return r("/"),null;const z=E.useCallback(Y=>{C(Y)},[]),H=E.useCallback((Y,Re)=>{a(Y,{text:Re}),C(null)},[a]),X=E.useCallback(Y=>{s(Y)},[s]),I=E.useCallback(Y=>{s(Y),r("/capture")},[s,r]),ie=E.useCallback(Y=>{if(!t||!d||!h)return;const Re=t.pages.find(Je=>Je.id===Y);if(!Re)return;const je=new FileReader;je.onloadend=()=>{var Fe;const Je=(Fe=je.result)==null?void 0:Fe.toString().split(",")[1];Je&&(a(Y,{status:"pending",error:void 0}),Eh.enqueue(Y,Je,{endpoint:d,apiKey:h},B=>{a(Y,{text:B.text,imageDescriptions:B.imageDescriptions,meta:B.meta,status:"complete"})},(B,G)=>{a(G,{error:B.message,status:"error"})},(B,G)=>{console.log(`Status update in SeriesReview: ${B}  ${G}`),a(B,{status:G})}))},je.readAsDataURL(Re.imageBlob)},[t,d,h,a]),W=E.useCallback(async()=>{if(!t||!t.name){_({name:"Please enter a series name"});return}m(!0);try{const Y={id:$d(),name:t.name,createdAt:new Date().toISOString(),pages:t.pages};await IT(Y),o(),r("/")}catch(Y){console.error("Error saving series:",Y)}finally{m(!1)}},[t,o,r]),xe=E.useCallback(()=>{L(!0)},[]),te=E.useCallback(Y=>{Y.preventDefault();const je=new FormData(Y.currentTarget).get("name");if(!(je!=null&&je.trim())){_({name:"Please enter a series name"});return}u(je),L(!1),_({}),W()},[u,W]),he=E.useCallback(()=>{o(),r("/")},[o,r]);return b.jsxs("div",{className:"max-w-4xl mx-auto pb-16",children:[b.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-6",children:"Review Series"}),t.pages.length===0?b.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 p-4 rounded-md mb-6",children:[b.jsx("p",{children:"No pages in this series. Please add at least one page."}),"                    ",b.jsx("button",{onClick:()=>r("/capture"),className:"mt-4 py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Capture Pages"})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"space-y-8",children:t.pages.map((Y,Re)=>b.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:b.jsxs("div",{className:"sm:flex sm:gap-6",children:["                                    ",b.jsxs("div",{className:"sm:w-1/3 mb-4 sm:mb-0",children:[b.jsxs("div",{className:"bg-gray-200 rounded-md overflow-hidden relative",children:["                                        ",Y.status==="queued"&&b.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:b.jsxs("div",{className:"bg-white px-3 py-2 rounded-md",children:[b.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 border-t-blue-500 rounded-full mx-auto"}),b.jsx("p",{className:"text-sm mt-1",children:"Queued"})]})}),Y.status==="pending"&&b.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:b.jsxs("div",{className:"bg-white px-3 py-2 rounded-md",children:[b.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full mx-auto"}),b.jsx("p",{className:"text-sm mt-1",children:"Pending"})]})}),Y.status==="processing"&&b.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:b.jsxs("div",{className:"bg-white px-3 py-2 rounded-md",children:[b.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-primary mx-auto"}),b.jsx("p",{className:"text-sm mt-1",children:"Processing"})]})}),Y.status==="error"&&b.jsx("div",{className:"absolute inset-0 bg-red-500 bg-opacity-20 flex items-center justify-center",children:b.jsxs("div",{className:"bg-white p-3 rounded-md max-w-[90%]",children:[b.jsx("p",{className:"text-sm text-red-600 mb-2",children:Y.error||"Processing failed"}),"                                                        ",b.jsx("button",{onClick:()=>ie(Y.id),className:"text-sm bg-blue-600 text-white py-1 px-2 rounded-md w-full hover:bg-blue-700",children:"Retry Processing"})]})}),b.jsx("img",{src:URL.createObjectURL(Y.imageBlob),alt:`Page ${Re+1}`,className:"w-full object-contain",onLoad:je=>{const Je=je.target;setTimeout(()=>{Je.src.startsWith("blob:")&&URL.revokeObjectURL(Je.src)},1e3)}})]}),b.jsxs("div",{className:"mt-2 flex justify-between",children:[b.jsx("button",{onClick:()=>I(Y.id),className:"text-sm text-gray-600 hover:text-primary",children:"Retake"}),b.jsx("button",{onClick:()=>X(Y.id),className:"text-sm text-red-600 hover:text-red-700",children:"Delete"})]})]}),b.jsxs("div",{className:"sm:w-2/3",children:[b.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[b.jsxs("h3",{className:"font-medium",children:["Page ",Re+1]}),w!==Y.id&&b.jsx("button",{onClick:()=>z(Y.id),className:"text-sm text-blue-600 hover:text-blue-700",children:"Edit Text"})]}),w===Y.id?b.jsxs("div",{className:"mt-2",children:[b.jsx("textarea",{className:"w-full border border-gray-300 rounded-md p-2 h-48",defaultValue:Y.text}),b.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[b.jsx("button",{onClick:()=>C(null),className:"py-1 px-3 border border-gray-300 rounded",children:"Cancel"}),b.jsx("button",{onClick:()=>{const je=document.querySelector("textarea");je&&H(Y.id,je.value)},className:"py-1 px-3 bg-blue-600 text-white rounded",children:"Save"})]})]}):b.jsx("div",{className:"bg-gray-50 p-3 rounded-md text-sm max-h-48 overflow-y-auto",children:Y.text||b.jsx("em",{children:"No text extracted"})}),Y.imageDescriptions&&Y.imageDescriptions.length>0&&b.jsxs("div",{className:"mt-4",children:[b.jsx("h4",{className:"text-sm font-medium mb-1",children:"Image Descriptions:"}),b.jsx("ul",{className:"text-sm text-gray-600",children:Y.imageDescriptions.map((je,Je)=>b.jsx("li",{className:"mb-1",children:je},Je))})]}),Object.keys(Y.meta).length>0&&b.jsxs("div",{className:"mt-4",children:[b.jsx("h4",{className:"text-sm font-medium mb-1",children:"Metadata:"}),b.jsx("dl",{className:"text-sm grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(Y.meta).map(([je,Je])=>Je!=null&&je!=="figures"&&b.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[b.jsxs("dt",{className:"font-medium",children:[je,":"]}),b.jsx("dd",{children:String(Je)})]},je))})]})]})]})},Y.id))}),b.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4",children:b.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between",children:[b.jsx("button",{onClick:()=>k(!0),className:"py-2 px-4 border border-gray-300 rounded-md hover:bg-gray-50",children:"Discard"}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{onClick:()=>r("/capture"),className:"py-2 px-4 border border-blue-600 text-blue-600 rounded-md hover:bg-blue-50",children:"Add More Pages"}),b.jsx("button",{onClick:xe,disabled:t.pages.length===0||g,className:"py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:g?"Saving...":"Save Series"})]})]})})]}),R&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[b.jsx("h3",{className:"text-lg font-medium mb-3",children:"Discard Series?"}),b.jsx("p",{className:"mb-6",children:"Are you sure you want to discard this series? All captured pages will be lost."}),b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx("button",{onClick:()=>k(!1),className:"py-2 px-4 border border-gray-300 rounded-md",children:"Cancel"}),b.jsx("button",{onClick:he,className:"py-2 px-4 bg-red-600 text-white rounded-md",children:"Discard"})]})]})}),M&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[b.jsx("h3",{className:"text-lg font-medium mb-3",children:"Name Your Series"}),b.jsxs("form",{onSubmit:te,children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"name",className:"block mb-1 text-sm font-medium",children:"Series Name"}),b.jsx("input",{type:"text",id:"name",name:"name",defaultValue:t.name||"",className:"w-full border border-gray-300 rounded-md p-2",autoFocus:!0}),v.name&&b.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.name})]}),b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx("button",{type:"button",onClick:()=>{L(!1),_({})},className:"py-2 px-4 border border-gray-300 rounded-md",children:"Cancel"}),b.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save"})]})]})]})})]})}function c2(){return b.jsxs(WS,{children:[b.jsx(Ei,{path:"/",element:b.jsx(i2,{})}),b.jsx(Ei,{path:"/capture",element:b.jsx(s2,{})}),b.jsx(Ei,{path:"/review",element:b.jsx(u2,{})}),b.jsx(Ei,{path:"/series/:seriesId",element:b.jsx(l2,{})})]})}function o2({onSetup:r}){const[t,a]=E.useState(),[s,u]=E.useState(!1),[o,d]=E.useState(!1);E.useEffect(()=>{async function g(){try{const m=new URLSearchParams(window.location.search);let v=new URLSearchParams;const _=window.location.hash.split("?");_.length>1&&(v=new URLSearchParams(_[1]));const w=m.get("key")||v.get("key");if(w){console.log("ConnectionSetup: Key found in URL"),d(!0),u(!0);try{const C=atob(w),R=JSON.parse(C);if(R.endpoint&&R.apiKey)await kd(w),console.log("ConnectionSetup: Key saved successfully"),r();else throw new Error("Invalid key structure")}catch(C){console.error("Invalid Base64 JSON key format:",C),a("The URL contains an invalid connection key format. Please use the Base64-encoded JSON format."),u(!1),d(!1)}}}catch(m){console.error("Error processing URL parameters:",m),u(!1),d(!1)}}g()},[r]);const h=E.useCallback(async g=>{g.preventDefault(),a(void 0),u(!0);const v=new FormData(g.currentTarget).get("key");console.log("ConnectionSetup: Submitting key");try{const _=atob(v),w=JSON.parse(_);if(w.endpoint&&w.apiKey)await kd(v),console.log("ConnectionSetup: Key saved successfully"),r();else throw new Error("Invalid key structure")}catch(_){console.error("ConnectionSetup: Error processing key",_),a("Invalid connection key. Please use a Base64-encoded JSON format.")}finally{u(!1)}},[r]);return o&&s?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:b.jsxs("div",{className:"w-full max-w-sm sm:max-w-md px-6 py-8 bg-white rounded-lg shadow-md text-center",children:[b.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Setting Up Connection"}),b.jsx("div",{className:"flex justify-center",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}),b.jsx("p",{className:"mt-4 text-gray-600",children:"Validating connection key from URL..."})]})}):b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4 sm:px-6",children:b.jsxs("div",{className:"w-full max-w-sm sm:max-w-md lg:max-w-lg px-6 py-8 bg-white rounded-lg shadow-md",children:[b.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-6 text-center",children:"Welcome to Ascension"}),b.jsx("p",{className:"mb-4 text-gray-600 sm:text-lg",children:"To get started, please enter your connection key. This is required to connect to Azure's GPT-4 Vision API."}),b.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:b.jsxs("p",{className:"text-sm text-blue-800",children:[b.jsx("span",{className:"font-medium",children:"Required format:"}),b.jsx("br",{}),"Base64-encoded JSON with endpoint and apiKey fields"]})}),b.jsxs("form",{onSubmit:h,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"key",className:"block text-sm font-medium text-gray-700",children:"Connection Key"}),b.jsx("textarea",{id:"key",name:"key",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",rows:3,placeholder:"Paste your Base64-encoded JSON connection key..."})]}),t&&b.jsx("p",{className:"text-red-600 text-sm",children:t}),"                    ",b.jsx("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:b.jsx("button",{type:"submit",disabled:s,className:"w-full bg-primary text-white py-2 px-4 rounded-md hover:bg-primary-dark disabled:opacity-50",children:s?"Validating...":"Continue"})}),b.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[b.jsx("p",{children:"How to generate a connection key:"}),b.jsxs("ol",{className:"list-decimal list-inside mt-1 space-y-1",children:[b.jsx("li",{children:"Run the following command in your terminal:"}),b.jsx("pre",{className:"mt-1 bg-gray-100 p-2 rounded overflow-auto text-xs",children:"npm run share-link -- YOUR_ENDPOINT YOUR_API_KEY"}),b.jsx("li",{children:"Copy the generated Base64-encoded connection key"})]}),"                        ",b.jsx("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded-md",children:b.jsxs("p",{className:"text-green-800",children:[b.jsx("span",{className:"font-medium",children:"Pro tip:"})," You can also share the app with your key included:",b.jsx("code",{className:"mt-1 block bg-white p-1 text-xs overflow-x-auto",children:"https://abuursaminor.github.io/ursa-minor-ascension/?key=YOUR_BASE64_JSON_KEY"}),b.jsx("span",{className:"block mt-1",children:"The share-link command will generate this URL for you."})]})})]})]})]})})}class wb extends E.Component{constructor(){super(...arguments);rr(this,"state",{hasError:!1})}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,s){console.error("Uncaught error:",a,s)}render(){var a;return this.state.hasError?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50",children:b.jsxs("div",{className:"max-w-md p-6 bg-white rounded-lg shadow-lg",children:[b.jsx("h1",{className:"text-xl font-bold text-red-600 mb-4",children:"Something went wrong"}),b.jsx("p",{className:"text-gray-600 mb-4",children:((a=this.state.error)==null?void 0:a.message)||"An unexpected error occurred"}),b.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:()=>window.location.reload(),children:"Reload page"})]})}):this.props.children}}const f2=ww;function d2(){const[r,t]=E.useState(null),[a,s]=E.useState(!1),[u,o]=E.useState(!0);return console.log("App render state:",{hasKey:r,isPrivate:a,isLoading:u}),E.useEffect(()=>{async function d(){try{const h=await WT();if(s(h),h)t(!1);else{const g=new URLSearchParams(window.location.search),m=window.location.hash.split("?"),v=m.length>1?new URLSearchParams(m[1]):new URLSearchParams,_=g.get("key")||v.get("key");let w=!1;if(_){console.log("Key parameter found in URL");try{const C=atob(_),R=JSON.parse(C);if(R.endpoint&&R.apiKey)console.log("URL key is valid, saving to storage"),await kd(_),w=!0;else throw new Error("Invalid key structure")}catch(C){console.error("Invalid key format in URL parameter:",C)}}if(!w){const C=await bb();console.log("Connection key found in storage:",!!C),w=!!C}t(w)}}catch(h){console.error("Error checking for connection key:",h),t(!1)}finally{o(!1)}}d()},[]),u?b.jsx("div",{className:"min-h-screen flex items-center justify-center",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):a?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-yellow-50",children:b.jsxs("div",{className:"max-w-md p-6 bg-white rounded-lg shadow-md",children:[b.jsx("h1",{className:"text-xl font-bold mb-4",children:"Private Browsing Detected"}),b.jsx("p",{className:"text-gray-600",children:"Ascension requires IndexedDB support, which is not available in private browsing mode. Please switch to normal browsing mode to use all features."})]})}):r===!1?b.jsx(o2,{onSetup:()=>t(!0)}):b.jsx(wb,{children:b.jsx(e2,{children:b.jsx(t2,{children:b.jsx(f2,{children:b.jsxs("div",{className:"min-h-screen bg-gray-50",children:[b.jsx("header",{className:"bg-white shadow",children:b.jsx("div",{className:"max-w-7xl mx-auto py-4 px-4 sm:py-6 sm:px-6 lg:px-8 flex items-center justify-between",children:b.jsx("h1",{className:"!text-xs font-bold text-gray-900",children:"Ursa Minor Ascension"})})}),b.jsx("main",{className:"container mx-auto py-4 px-4 sm:py-6 sm:px-6 lg:px-8",children:b.jsx("div",{className:"max-w-screen-2xl mx-auto",children:b.jsx(c2,{})})})]})})})})})}navigator.storage&&navigator.storage.persist&&navigator.storage.persist().then(r=>{console.log(`Storage persistence is ${r?"enabled":"not enabled"}`)});const h2=/iPad|iPhone|iPod/.test(navigator.userAgent),m2=Intl.NumberFormat().resolvedOptions().locale.startsWith("en-GB");if(h2&&m2){const t=navigator.userAgent.match(/OS (\d+)_(\d+)/);t&&t[1]==="17"&&t[2]==="4"&&alert("Note: If you are using iOS 17.4 beta, PWA functionality might be limited. Please update to the latest iOS version.")}const p2=lS({onNeedRefresh(){confirm("New content available. Reload to update?")&&p2(!0)},onOfflineReady(){console.log("App ready to work offline")}});aS.createRoot(document.getElementById("root")).render(b.jsx(E.StrictMode,{children:b.jsx(wb,{children:b.jsx(d2,{})})}));
