var b_=Object.defineProperty;var x_=(r,t,a)=>t in r?b_(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a;var Dr=(r,t,a)=>x_(r,typeof t!="symbol"?t+"":t,a);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function a(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=a(l);fetch(l.href,u)}})();var Xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function __(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var sf={exports:{}},Xi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function w_(){if(H0)return Xi;H0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:u}}return Xi.Fragment=t,Xi.jsx=a,Xi.jsxs=a,Xi}var q0;function S_(){return q0||(q0=1,sf.exports=w_()),sf.exports}var g=S_(),lf={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function A_(){if(F0)return Ze;F0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function A(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function E(B,L,$){this.props=B,this.context=L,this.refs=x,this.updater=$||v}E.prototype.isReactComponent={},E.prototype.setState=function(B,L){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,L,"setState")},E.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function k(){}k.prototype=E.prototype;function N(B,L,$){this.props=B,this.context=L,this.refs=x,this.updater=$||v}var T=N.prototype=new k;T.constructor=N,S(T,E.prototype),T.isPureReactComponent=!0;var M=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function q(B,L,$,ie,oe,me){return $=me.ref,{$$typeof:r,type:B,key:L,ref:$!==void 0?$:null,props:me}}function ne(B,L){return q(B.type,L,void 0,void 0,void 0,B.props)}function Z(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function te(B){var L={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function($){return L[$]})}var ce=/\/+/g;function D(B,L){return typeof B=="object"&&B!==null&&B.key!=null?te(""+B.key):L.toString(36)}function ee(){}function j(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(ee,ee):(B.status="pending",B.then(function(L){B.status==="pending"&&(B.status="fulfilled",B.value=L)},function(L){B.status==="pending"&&(B.status="rejected",B.reason=L)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function re(B,L,$,ie,oe){var me=typeof B;(me==="undefined"||me==="boolean")&&(B=null);var Ae=!1;if(B===null)Ae=!0;else switch(me){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(B.$$typeof){case r:case t:Ae=!0;break;case y:return Ae=B._init,re(Ae(B._payload),L,$,ie,oe)}}if(Ae)return oe=oe(B),Ae=ie===""?"."+D(B,0):ie,M(oe)?($="",Ae!=null&&($=Ae.replace(ce,"$&/")+"/"),re(oe,L,$,"",function(He){return He})):oe!=null&&(Z(oe)&&(oe=ne(oe,$+(oe.key==null||B&&B.key===oe.key?"":(""+oe.key).replace(ce,"$&/")+"/")+Ae)),L.push(oe)),1;Ae=0;var et=ie===""?".":ie+":";if(M(B))for(var Ne=0;Ne<B.length;Ne++)ie=B[Ne],me=et+D(ie,Ne),Ae+=re(ie,L,$,me,oe);else if(Ne=A(B),typeof Ne=="function")for(B=Ne.call(B),Ne=0;!(ie=B.next()).done;)ie=ie.value,me=et+D(ie,Ne++),Ae+=re(ie,L,$,me,oe);else if(me==="object"){if(typeof B.then=="function")return re(j(B),L,$,ie,oe);throw L=String(B),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Y(B,L,$){if(B==null)return B;var ie=[],oe=0;return re(B,ie,"","",function(me){return L.call($,me,oe++)}),ie}function G(B){if(B._status===-1){var L=B._result;L=L(),L.then(function($){(B._status===0||B._status===-1)&&(B._status=1,B._result=$)},function($){(B._status===0||B._status===-1)&&(B._status=2,B._result=$)}),B._status===-1&&(B._status=0,B._result=L)}if(B._status===1)return B._result.default;throw B._result}var be=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function de(){}return Ze.Children={map:Y,forEach:function(B,L,$){Y(B,function(){L.apply(this,arguments)},$)},count:function(B){var L=0;return Y(B,function(){L++}),L},toArray:function(B){return Y(B,function(L){return L})||[]},only:function(B){if(!Z(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ze.Component=E,Ze.Fragment=a,Ze.Profiler=l,Ze.PureComponent=N,Ze.StrictMode=s,Ze.Suspense=m,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(B){return R.H.useMemoCache(B)}},Ze.cache=function(B){return function(){return B.apply(null,arguments)}},Ze.cloneElement=function(B,L,$){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ie=S({},B.props),oe=B.key,me=void 0;if(L!=null)for(Ae in L.ref!==void 0&&(me=void 0),L.key!==void 0&&(oe=""+L.key),L)!H.call(L,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&L.ref===void 0||(ie[Ae]=L[Ae]);var Ae=arguments.length-2;if(Ae===1)ie.children=$;else if(1<Ae){for(var et=Array(Ae),Ne=0;Ne<Ae;Ne++)et[Ne]=arguments[Ne+2];ie.children=et}return q(B.type,oe,void 0,void 0,me,ie)},Ze.createContext=function(B){return B={$$typeof:d,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:u,_context:B},B},Ze.createElement=function(B,L,$){var ie,oe={},me=null;if(L!=null)for(ie in L.key!==void 0&&(me=""+L.key),L)H.call(L,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(oe[ie]=L[ie]);var Ae=arguments.length-2;if(Ae===1)oe.children=$;else if(1<Ae){for(var et=Array(Ae),Ne=0;Ne<Ae;Ne++)et[Ne]=arguments[Ne+2];oe.children=et}if(B&&B.defaultProps)for(ie in Ae=B.defaultProps,Ae)oe[ie]===void 0&&(oe[ie]=Ae[ie]);return q(B,me,void 0,void 0,null,oe)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(B){return{$$typeof:f,render:B}},Ze.isValidElement=Z,Ze.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:G}},Ze.memo=function(B,L){return{$$typeof:p,type:B,compare:L===void 0?null:L}},Ze.startTransition=function(B){var L=R.T,$={};R.T=$;try{var ie=B(),oe=R.S;oe!==null&&oe($,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(de,be)}catch(me){be(me)}finally{R.T=L}},Ze.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ze.use=function(B){return R.H.use(B)},Ze.useActionState=function(B,L,$){return R.H.useActionState(B,L,$)},Ze.useCallback=function(B,L){return R.H.useCallback(B,L)},Ze.useContext=function(B){return R.H.useContext(B)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(B,L){return R.H.useDeferredValue(B,L)},Ze.useEffect=function(B,L,$){var ie=R.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(B,L)},Ze.useId=function(){return R.H.useId()},Ze.useImperativeHandle=function(B,L,$){return R.H.useImperativeHandle(B,L,$)},Ze.useInsertionEffect=function(B,L){return R.H.useInsertionEffect(B,L)},Ze.useLayoutEffect=function(B,L){return R.H.useLayoutEffect(B,L)},Ze.useMemo=function(B,L){return R.H.useMemo(B,L)},Ze.useOptimistic=function(B,L){return R.H.useOptimistic(B,L)},Ze.useReducer=function(B,L,$){return R.H.useReducer(B,L,$)},Ze.useRef=function(B){return R.H.useRef(B)},Ze.useState=function(B){return R.H.useState(B)},Ze.useSyncExternalStore=function(B,L,$){return R.H.useSyncExternalStore(B,L,$)},Ze.useTransition=function(){return R.H.useTransition()},Ze.version="19.1.0",Ze}var V0;function oh(){return V0||(V0=1,lf.exports=A_()),lf.exports}var z=oh(),of={exports:{}},Qi={},uf={exports:{}},cf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function E_(){return Y0||(Y0=1,function(r){function t(Y,G){var be=Y.length;Y.push(G);e:for(;0<be;){var de=be-1>>>1,B=Y[de];if(0<l(B,G))Y[de]=G,Y[be]=B,be=de;else break e}}function a(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var G=Y[0],be=Y.pop();if(be!==G){Y[0]=be;e:for(var de=0,B=Y.length,L=B>>>1;de<L;){var $=2*(de+1)-1,ie=Y[$],oe=$+1,me=Y[oe];if(0>l(ie,be))oe<B&&0>l(me,ie)?(Y[de]=me,Y[oe]=be,de=oe):(Y[de]=ie,Y[$]=be,de=$);else if(oe<B&&0>l(me,be))Y[de]=me,Y[oe]=be,de=oe;else break e}}return G}function l(Y,G){var be=Y.sortIndex-G.sortIndex;return be!==0?be:Y.id-G.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();r.unstable_now=function(){return d.now()-f}}var m=[],p=[],y=1,b=null,A=3,v=!1,S=!1,x=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function M(Y){for(var G=a(p);G!==null;){if(G.callback===null)s(p);else if(G.startTime<=Y)s(p),G.sortIndex=G.expirationTime,t(m,G);else break;G=a(p)}}function R(Y){if(x=!1,M(Y),!S)if(a(m)!==null)S=!0,H||(H=!0,D());else{var G=a(p);G!==null&&re(R,G.startTime-Y)}}var H=!1,q=-1,ne=5,Z=-1;function te(){return E?!0:!(r.unstable_now()-Z<ne)}function ce(){if(E=!1,H){var Y=r.unstable_now();Z=Y;var G=!0;try{e:{S=!1,x&&(x=!1,N(q),q=-1),v=!0;var be=A;try{t:{for(M(Y),b=a(m);b!==null&&!(b.expirationTime>Y&&te());){var de=b.callback;if(typeof de=="function"){b.callback=null,A=b.priorityLevel;var B=de(b.expirationTime<=Y);if(Y=r.unstable_now(),typeof B=="function"){b.callback=B,M(Y),G=!0;break t}b===a(m)&&s(m),M(Y)}else s(m);b=a(m)}if(b!==null)G=!0;else{var L=a(p);L!==null&&re(R,L.startTime-Y),G=!1}}break e}finally{b=null,A=be,v=!1}G=void 0}}finally{G?D():H=!1}}}var D;if(typeof T=="function")D=function(){T(ce)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,j=ee.port2;ee.port1.onmessage=ce,D=function(){j.postMessage(null)}}else D=function(){k(ce,0)};function re(Y,G){q=k(function(){Y(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var G=3;break;default:G=A}var be=A;A=G;try{return Y()}finally{A=be}},r.unstable_requestPaint=function(){E=!0},r.unstable_runWithPriority=function(Y,G){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var be=A;A=Y;try{return G()}finally{A=be}},r.unstable_scheduleCallback=function(Y,G,be){var de=r.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?de+be:de):be=de,Y){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=be+B,Y={id:y++,callback:G,priorityLevel:Y,startTime:be,expirationTime:B,sortIndex:-1},be>de?(Y.sortIndex=be,t(p,Y),a(m)===null&&Y===a(p)&&(x?(N(q),q=-1):x=!0,re(R,be-de))):(Y.sortIndex=B,t(m,Y),S||v||(S=!0,H||(H=!0,D()))),Y},r.unstable_shouldYield=te,r.unstable_wrapCallback=function(Y){var G=A;return function(){var be=A;A=G;try{return Y.apply(this,arguments)}finally{A=be}}}}(cf)),cf}var G0;function k_(){return G0||(G0=1,uf.exports=E_()),uf.exports}var df={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function N_(){if(X0)return Yt;X0=1;var r=oh();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(m,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:m,containerInfo:p,implementation:y}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(m,p,null,y)},Yt.flushSync=function(m){var p=d.T,y=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=p,s.p=y,s.d.f()}},Yt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Yt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Yt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,b=f(y,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,v=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:v}):y==="script"&&s.d.X(m,{crossOrigin:b,integrity:A,fetchPriority:v,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Yt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Yt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Yt.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Yt.requestFormReset=function(m){s.d.r(m)},Yt.unstable_batchedUpdates=function(m,p){return m(p)},Yt.useFormState=function(m,p,y){return d.H.useFormState(m,p,y)},Yt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var Q0;function j_(){if(Q0)return df.exports;Q0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),df.exports=N_(),df.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function C_(){if(K0)return Qi;K0=1;var r=k_(),t=oh(),a=j_();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function f(e){if(u(e)!==e)throw Error(s(188))}function m(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var i=e,o=n;;){var c=i.return;if(c===null)break;var h=c.alternate;if(h===null){if(o=c.return,o!==null){i=o;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===i)return f(c),e;if(h===o)return f(c),n;h=h.sibling}throw Error(s(188))}if(i.return!==o.return)i=c,o=h;else{for(var _=!1,C=c.child;C;){if(C===i){_=!0,i=c,o=h;break}if(C===o){_=!0,o=c,i=h;break}C=C.sibling}if(!_){for(C=h.child;C;){if(C===i){_=!0,i=h,o=c;break}if(C===o){_=!0,o=h,i=c;break}C=C.sibling}if(!_)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function D(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Symbol.for("react.client.reference");function j(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ee?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case E:return"Profiler";case x:return"StrictMode";case R:return"Suspense";case H:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case v:return"Portal";case T:return(e.displayName||"Context")+".Provider";case N:return(e._context.displayName||"Context")+".Consumer";case M:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return n=e.displayName||null,n!==null?n:j(e.type)||"Memo";case ne:n=e._payload,e=e._init;try{return j(e(n))}catch{}}return null}var re=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},de=[],B=-1;function L(e){return{current:e}}function $(e){0>B||(e.current=de[B],de[B]=null,B--)}function ie(e,n){B++,de[B]=e.current,e.current=n}var oe=L(null),me=L(null),Ae=L(null),et=L(null);function Ne(e,n){switch(ie(Ae,n),ie(me,e),ie(oe,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?y0(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=y0(n),e=v0(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(oe),ie(oe,e)}function He(){$(oe),$(me),$(Ae)}function bt(e){e.memoizedState!==null&&ie(et,e);var n=oe.current,i=v0(n,e.type);n!==i&&(ie(me,e),ie(oe,i))}function ct(e){me.current===e&&($(oe),$(me)),et.current===e&&($(et),qi._currentValue=be)}var en=Object.prototype.hasOwnProperty,Qt=r.unstable_scheduleCallback,w=r.unstable_cancelCallback,fe=r.unstable_shouldYield,ae=r.unstable_requestPaint,U=r.unstable_now,O=r.unstable_getCurrentPriorityLevel,F=r.unstable_ImmediatePriority,pe=r.unstable_UserBlockingPriority,ge=r.unstable_NormalPriority,K=r.unstable_LowPriority,ve=r.unstable_IdlePriority,Se=r.log,xe=r.unstable_setDisableYieldValue,je=null,$e=null;function Be(e){if(typeof Se=="function"&&xe(e),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(je,e)}catch{}}var dt=Math.clz32?Math.clz32:pr,mr=Math.log,_n=Math.LN2;function pr(e){return e>>>=0,e===0?32:31-(mr(e)/_n|0)|0}var ft=256,ua=4194304;function On(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function tn(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var c=0,h=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var C=o&134217727;return C!==0?(o=C&~h,o!==0?c=On(o):(_&=C,_!==0?c=On(_):i||(i=C&~e,i!==0&&(c=On(i))))):(C=o&~h,C!==0?c=On(C):_!==0?c=On(_):i||(i=o&~e,i!==0&&(c=On(i)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,i=n&-n,h>=i||h===32&&(i&4194048)!==0)?n:c}function Da(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Gu(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ul(){var e=ft;return ft<<=1,(ft&4194048)===0&&(ft=256),e}function Bl(){var e=ua;return ua<<=1,(ua&62914560)===0&&(ua=4194304),e}function Vr(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Dn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yr(e,n,i,o,c,h){var _=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var C=e.entanglements,P=e.expirationTimes,Q=e.hiddenUpdates;for(i=_&~i;0<i;){var le=31-dt(i),he=1<<le;C[le]=0,P[le]=-1;var J=Q[le];if(J!==null)for(Q[le]=null,le=0;le<J.length;le++){var W=J[le];W!==null&&(W.lane&=-536870913)}i&=~he}o!==0&&nm(e,o,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(_&~n))}function nm(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-dt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&4194090}function am(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-dt(i),c=1<<o;c&n|e[o]&n&&(e[o]|=n),i&=~c}}function Xu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rm(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:B0(e.type))}function ox(e,n){var i=G.p;try{return G.p=e,n()}finally{G.p=i}}var Ma=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Ma,nn="__reactProps$"+Ma,Gr="__reactContainer$"+Ma,Ku="__reactEvents$"+Ma,ux="__reactListeners$"+Ma,cx="__reactHandles$"+Ma,sm="__reactResources$"+Ma,ti="__reactMarker$"+Ma;function Ju(e){delete e[Ft],delete e[nn],delete e[Ku],delete e[ux],delete e[cx]}function Xr(e){var n=e[Ft];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Gr]||i[Ft]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=w0(e);e!==null;){if(i=e[Ft])return i;e=w0(e)}return n}e=i,i=e.parentNode}return null}function Qr(e){if(e=e[Ft]||e[Gr]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ni(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Kr(e){var n=e[sm];return n||(n=e[sm]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ot(e){e[ti]=!0}var im=new Set,lm={};function gr(e,n){Jr(e,n),Jr(e+"Capture",n)}function Jr(e,n){for(lm[e]=n,e=0;e<n.length;e++)im.add(n[e])}var dx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),om={},um={};function fx(e){return en.call(um,e)?!0:en.call(om,e)?!1:dx.test(e)?um[e]=!0:(om[e]=!0,!1)}function Ll(e,n,i){if(fx(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function Pl(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function ca(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}var Wu,cm;function Wr(e){if(Wu===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Wu=n&&n[1]||"",cm=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wu+e+cm}var ec=!1;function tc(e,n){if(!e||ec)return"";ec=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(W){var J=W}Reflect.construct(e,[],he)}else{try{he.call()}catch(W){J=W}e.call(he.prototype)}}else{try{throw Error()}catch(W){J=W}(he=e())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(W){if(W&&J&&typeof W.stack=="string")return[W.stack,J.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),_=h[0],C=h[1];if(_&&C){var P=_.split(`
`),Q=C.split(`
`);for(c=o=0;o<P.length&&!P[o].includes("DetermineComponentFrameRoot");)o++;for(;c<Q.length&&!Q[c].includes("DetermineComponentFrameRoot");)c++;if(o===P.length||c===Q.length)for(o=P.length-1,c=Q.length-1;1<=o&&0<=c&&P[o]!==Q[c];)c--;for(;1<=o&&0<=c;o--,c--)if(P[o]!==Q[c]){if(o!==1||c!==1)do if(o--,c--,0>c||P[o]!==Q[c]){var le=`
`+P[o].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=o&&0<=c);break}}}finally{ec=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Wr(i):""}function hx(e){switch(e.tag){case 26:case 27:case 5:return Wr(e.type);case 16:return Wr("Lazy");case 13:return Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 15:return tc(e.type,!1);case 11:return tc(e.type.render,!1);case 1:return tc(e.type,!0);case 31:return Wr("Activity");default:return""}}function dm(e){try{var n="";do n+=hx(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function wn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fm(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function mx(e){var n=fm(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,h=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(_){o=""+_,h.call(this,_)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zl(e){e._valueTracker||(e._valueTracker=mx(e))}function hm(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=fm(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function $l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var px=/[\n"\\]/g;function Sn(e){return e.replace(px,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function nc(e,n,i,o,c,h,_,C){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+wn(n)):e.value!==""+wn(n)&&(e.value=""+wn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?ac(e,_,wn(n)):i!=null?ac(e,_,wn(i)):o!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+wn(C):e.removeAttribute("name")}function mm(e,n,i,o,c,h,_,C){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;i=i!=null?""+wn(i):"",n=n!=null?""+wn(n):i,C||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=C?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function ac(e,n,i){n==="number"&&$l(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function es(e,n,i,o){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&o&&(e[i].defaultSelected=!0)}else{for(i=""+wn(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function pm(e,n,i){if(n!=null&&(n=""+wn(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+wn(i):""}function gm(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=wn(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o)}function ts(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var gx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ym(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||gx.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function vm(e,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&i[c]!==o&&ym(e,c,o)}else for(var h in n)n.hasOwnProperty(h)&&ym(e,h,n[h])}function rc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Il(e){return vx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var sc=null;function ic(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ns=null,as=null;function bm(e){var n=Qr(e);if(n&&(e=n.stateNode)){var i=e[nn]||null;e:switch(e=n.stateNode,n.type){case"input":if(nc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Sn(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var c=o[nn]||null;if(!c)throw Error(s(90));nc(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&hm(o)}break e;case"textarea":pm(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&es(e,!!i.multiple,n,!1)}}}var lc=!1;function xm(e,n,i){if(lc)return e(n,i);lc=!0;try{var o=e(n);return o}finally{if(lc=!1,(ns!==null||as!==null)&&(jo(),ns&&(n=ns,e=as,as=ns=null,bm(n),e)))for(n=0;n<e.length;n++)bm(e[n])}}function ai(e,n){var i=e.stateNode;if(i===null)return null;var o=i[nn]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oc=!1;if(da)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){oc=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{oc=!1}var za=null,uc=null,Hl=null;function _m(){if(Hl)return Hl;var e,n=uc,i=n.length,o,c="value"in za?za.value:za.textContent,h=c.length;for(e=0;e<i&&n[e]===c[e];e++);var _=i-e;for(o=1;o<=_&&n[i-o]===c[h-o];o++);return Hl=c.slice(e,1<o?1-o:void 0)}function ql(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Fl(){return!0}function wm(){return!1}function an(e){function n(i,o,c,h,_){this._reactName=i,this._targetInst=c,this.type=o,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(i=e[C],this[C]=i?i(h):h[C]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Fl:wm,this.isPropagationStopped=wm,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Fl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Fl)},persist:function(){},isPersistent:Fl}),n}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vl=an(yr),si=y({},yr,{view:0,detail:0}),bx=an(si),cc,dc,ii,Yl=y({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ii&&(ii&&e.type==="mousemove"?(cc=e.screenX-ii.screenX,dc=e.screenY-ii.screenY):dc=cc=0,ii=e),cc)},movementY:function(e){return"movementY"in e?e.movementY:dc}}),Sm=an(Yl),xx=y({},Yl,{dataTransfer:0}),_x=an(xx),wx=y({},si,{relatedTarget:0}),fc=an(wx),Sx=y({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ax=an(Sx),Ex=y({},yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kx=an(Ex),Nx=y({},yr,{data:0}),Am=an(Nx),jx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rx(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tx[e])?!!n[e]:!1}function hc(){return Rx}var Ox=y({},si,{key:function(e){if(e.key){var n=jx[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ql(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hc,charCode:function(e){return e.type==="keypress"?ql(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ql(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dx=an(Ox),Mx=y({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Em=an(Mx),zx=y({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hc}),Ux=an(zx),Bx=y({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lx=an(Bx),Px=y({},Yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zx=an(Px),$x=y({},yr,{newState:0,oldState:0}),Ix=an($x),Hx=[9,13,27,32],mc=da&&"CompositionEvent"in window,li=null;da&&"documentMode"in document&&(li=document.documentMode);var qx=da&&"TextEvent"in window&&!li,km=da&&(!mc||li&&8<li&&11>=li),Nm=" ",jm=!1;function Cm(e,n){switch(e){case"keyup":return Hx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rs=!1;function Fx(e,n){switch(e){case"compositionend":return Tm(n);case"keypress":return n.which!==32?null:(jm=!0,Nm);case"textInput":return e=n.data,e===Nm&&jm?null:e;default:return null}}function Vx(e,n){if(rs)return e==="compositionend"||!mc&&Cm(e,n)?(e=_m(),Hl=uc=za=null,rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return km&&n.locale!=="ko"?null:n.data;default:return null}}var Yx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Yx[e.type]:n==="textarea"}function Om(e,n,i,o){ns?as?as.push(o):as=[o]:ns=o,n=Mo(n,"onChange"),0<n.length&&(i=new Vl("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var oi=null,ui=null;function Gx(e){f0(e,0)}function Gl(e){var n=ni(e);if(hm(n))return e}function Dm(e,n){if(e==="change")return n}var Mm=!1;if(da){var pc;if(da){var gc="oninput"in document;if(!gc){var zm=document.createElement("div");zm.setAttribute("oninput","return;"),gc=typeof zm.oninput=="function"}pc=gc}else pc=!1;Mm=pc&&(!document.documentMode||9<document.documentMode)}function Um(){oi&&(oi.detachEvent("onpropertychange",Bm),ui=oi=null)}function Bm(e){if(e.propertyName==="value"&&Gl(ui)){var n=[];Om(n,ui,e,ic(e)),xm(Gx,n)}}function Xx(e,n,i){e==="focusin"?(Um(),oi=n,ui=i,oi.attachEvent("onpropertychange",Bm)):e==="focusout"&&Um()}function Qx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gl(ui)}function Kx(e,n){if(e==="click")return Gl(n)}function Jx(e,n){if(e==="input"||e==="change")return Gl(n)}function Wx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var un=typeof Object.is=="function"?Object.is:Wx;function ci(e,n){if(un(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var c=i[o];if(!en.call(n,c)||!un(e[c],n[c]))return!1}return!0}function Lm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pm(e,n){var i=Lm(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Lm(i)}}function Zm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Zm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function $m(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=$l(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=$l(e.document)}return n}function yc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var e1=da&&"documentMode"in document&&11>=document.documentMode,ss=null,vc=null,di=null,bc=!1;function Im(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;bc||ss==null||ss!==$l(o)||(o=ss,"selectionStart"in o&&yc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),di&&ci(di,o)||(di=o,o=Mo(vc,"onSelect"),0<o.length&&(n=new Vl("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=ss)))}function vr(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var is={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},xc={},Hm={};da&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function br(e){if(xc[e])return xc[e];if(!is[e])return e;var n=is[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Hm)return xc[e]=n[i];return e}var qm=br("animationend"),Fm=br("animationiteration"),Vm=br("animationstart"),t1=br("transitionrun"),n1=br("transitionstart"),a1=br("transitioncancel"),Ym=br("transitionend"),Gm=new Map,_c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_c.push("scrollEnd");function Mn(e,n){Gm.set(e,n),gr(n,[e])}var Xm=new WeakMap;function An(e,n){if(typeof e=="object"&&e!==null){var i=Xm.get(e);return i!==void 0?i:(n={value:e,source:n,stack:dm(n)},Xm.set(e,n),n)}return{value:e,source:n,stack:dm(n)}}var En=[],ls=0,wc=0;function Xl(){for(var e=ls,n=wc=ls=0;n<e;){var i=En[n];En[n++]=null;var o=En[n];En[n++]=null;var c=En[n];En[n++]=null;var h=En[n];if(En[n++]=null,o!==null&&c!==null){var _=o.pending;_===null?c.next=c:(c.next=_.next,_.next=c),o.pending=c}h!==0&&Qm(i,c,h)}}function Ql(e,n,i,o){En[ls++]=e,En[ls++]=n,En[ls++]=i,En[ls++]=o,wc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Sc(e,n,i,o){return Ql(e,n,i,o),Kl(e)}function os(e,n){return Ql(e,null,null,n),Kl(e)}function Qm(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var c=!1,h=e.return;h!==null;)h.childLanes|=i,o=h.alternate,o!==null&&(o.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&n!==null&&(c=31-dt(i),e=h.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=i|536870912),h):null}function Kl(e){if(50<Ui)throw Ui=0,Cd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var us={};function r1(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,n,i,o){return new r1(e,n,i,o)}function Ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fa(e,n){var i=e.alternate;return i===null?(i=cn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Km(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Jl(e,n,i,o,c,h){var _=0;if(o=e,typeof e=="function")Ac(e)&&(_=1);else if(typeof e=="string")_=i_(e,i,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=cn(31,i,n,c),e.elementType=Z,e.lanes=h,e;case S:return xr(i.children,c,h,n);case x:_=8,c|=24;break;case E:return e=cn(12,i,n,c|2),e.elementType=E,e.lanes=h,e;case R:return e=cn(13,i,n,c),e.elementType=R,e.lanes=h,e;case H:return e=cn(19,i,n,c),e.elementType=H,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:case T:_=10;break e;case N:_=9;break e;case M:_=11;break e;case q:_=14;break e;case ne:_=16,o=null;break e}_=29,i=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=cn(_,i,n,c),n.elementType=e,n.type=o,n.lanes=h,n}function xr(e,n,i,o){return e=cn(7,e,o,n),e.lanes=i,e}function Ec(e,n,i){return e=cn(6,e,null,n),e.lanes=i,e}function kc(e,n,i){return n=cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var cs=[],ds=0,Wl=null,eo=0,kn=[],Nn=0,_r=null,ha=1,ma="";function wr(e,n){cs[ds++]=eo,cs[ds++]=Wl,Wl=e,eo=n}function Jm(e,n,i){kn[Nn++]=ha,kn[Nn++]=ma,kn[Nn++]=_r,_r=e;var o=ha;e=ma;var c=32-dt(o)-1;o&=~(1<<c),i+=1;var h=32-dt(n)+c;if(30<h){var _=c-c%5;h=(o&(1<<_)-1).toString(32),o>>=_,c-=_,ha=1<<32-dt(n)+c|i<<c|o,ma=h+e}else ha=1<<h|i<<c|o,ma=e}function Nc(e){e.return!==null&&(wr(e,1),Jm(e,1,0))}function jc(e){for(;e===Wl;)Wl=cs[--ds],cs[ds]=null,eo=cs[--ds],cs[ds]=null;for(;e===_r;)_r=kn[--Nn],kn[Nn]=null,ma=kn[--Nn],kn[Nn]=null,ha=kn[--Nn],kn[Nn]=null}var Kt=null,xt=null,Je=!1,Sr=null,Qn=!1,Cc=Error(s(519));function Ar(e){var n=Error(s(418,""));throw mi(An(n,e)),Cc}function Wm(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[Ft]=e,n[nn]=o,i){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(i=0;i<Li.length;i++)Ye(Li[i],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":Ye("invalid",n),mm(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Zl(n);break;case"select":Ye("invalid",n);break;case"textarea":Ye("invalid",n),gm(n,o.value,o.defaultValue,o.children),Zl(n)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||g0(n.textContent,i)?(o.popover!=null&&(Ye("beforetoggle",n),Ye("toggle",n)),o.onScroll!=null&&Ye("scroll",n),o.onScrollEnd!=null&&Ye("scrollend",n),o.onClick!=null&&(n.onclick=zo),n=!0):n=!1,n||Ar(e)}function ep(e){for(Kt=e.return;Kt;)switch(Kt.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Kt=Kt.return}}function fi(e){if(e!==Kt)return!1;if(!Je)return ep(e),Je=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Fd(e.type,e.memoizedProps)),i=!i),i&&xt&&Ar(e),ep(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){xt=Un(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}xt=null}}else n===27?(n=xt,Ka(e.type)?(e=Xd,Xd=null,xt=e):xt=n):xt=Kt?Un(e.stateNode.nextSibling):null;return!0}function hi(){xt=Kt=null,Je=!1}function tp(){var e=Sr;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),Sr=null),e}function mi(e){Sr===null?Sr=[e]:Sr.push(e)}var Tc=L(null),Er=null,pa=null;function Ua(e,n,i){ie(Tc,n._currentValue),n._currentValue=i}function ga(e){e._currentValue=Tc.current,$(Tc)}function Rc(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function Oc(e,n,i,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var _=c.child;h=h.firstContext;e:for(;h!==null;){var C=h;h=c;for(var P=0;P<n.length;P++)if(C.context===n[P]){h.lanes|=i,C=h.alternate,C!==null&&(C.lanes|=i),Rc(h.return,i,e),o||(_=null);break e}h=C.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(s(341));_.lanes|=i,h=_.alternate,h!==null&&(h.lanes|=i),Rc(_,i,e),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===e){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function pi(e,n,i,o){e=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var C=c.type;un(c.pendingProps.value,_.value)||(e!==null?e.push(C):e=[C])}}else if(c===et.current){if(_=c.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(qi):e=[qi])}c=c.return}e!==null&&Oc(n,e,i,o),n.flags|=262144}function to(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function kr(e){Er=e,pa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Vt(e){return np(Er,e)}function no(e,n){return Er===null&&kr(e),np(e,n)}function np(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},pa===null){if(e===null)throw Error(s(308));pa=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else pa=pa.next=n;return i}var s1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},i1=r.unstable_scheduleCallback,l1=r.unstable_NormalPriority,Nt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dc(){return{controller:new s1,data:new Map,refCount:0}}function gi(e){e.refCount--,e.refCount===0&&i1(l1,function(){e.controller.abort()})}var yi=null,Mc=0,fs=0,hs=null;function o1(e,n){if(yi===null){var i=yi=[];Mc=0,fs=Ud(),hs={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Mc++,n.then(ap,ap),n}function ap(){if(--Mc===0&&yi!==null){hs!==null&&(hs.status="fulfilled");var e=yi;yi=null,fs=0,hs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function u1(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<i.length;c++)(0,i[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),o}var rp=Y.S;Y.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&o1(e,n),rp!==null&&rp(e,n)};var Nr=L(null);function zc(){var e=Nr.current;return e!==null?e:ht.pooledCache}function ao(e,n){n===null?ie(Nr,Nr.current):ie(Nr,n.pool)}function sp(){var e=zc();return e===null?null:{parent:Nt._currentValue,pool:e}}var vi=Error(s(460)),ip=Error(s(474)),ro=Error(s(542)),Uc={then:function(){}};function lp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function so(){}function op(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(so,so),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cp(e),e;default:if(typeof n.status=="string")n.then(so,so);else{if(e=ht,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cp(e),e}throw bi=n,vi}}var bi=null;function up(){if(bi===null)throw Error(s(459));var e=bi;return bi=null,e}function cp(e){if(e===vi||e===ro)throw Error(s(483))}var Ba=!1;function Bc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function La(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pa(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(tt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=Kl(e),Qm(e,null,i),n}return Ql(e,o,n,i),Kl(e)}function xi(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,am(e,i)}}function Pc(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var c=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var _={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?c=h=_:h=h.next=_,i=i.next}while(i!==null);h===null?c=h=n:h=h.next=n}else c=h=n;i={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Zc=!1;function _i(){if(Zc){var e=hs;if(e!==null)throw e}}function wi(e,n,i,o){Zc=!1;var c=e.updateQueue;Ba=!1;var h=c.firstBaseUpdate,_=c.lastBaseUpdate,C=c.shared.pending;if(C!==null){c.shared.pending=null;var P=C,Q=P.next;P.next=null,_===null?h=Q:_.next=Q,_=P;var le=e.alternate;le!==null&&(le=le.updateQueue,C=le.lastBaseUpdate,C!==_&&(C===null?le.firstBaseUpdate=Q:C.next=Q,le.lastBaseUpdate=P))}if(h!==null){var he=c.baseState;_=0,le=Q=P=null,C=h;do{var J=C.lane&-536870913,W=J!==C.lane;if(W?(Ge&J)===J:(o&J)===J){J!==0&&J===fs&&(Zc=!0),le!==null&&(le=le.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Me=e,Oe=C;J=n;var lt=i;switch(Oe.tag){case 1:if(Me=Oe.payload,typeof Me=="function"){he=Me.call(lt,he,J);break e}he=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Oe.payload,J=typeof Me=="function"?Me.call(lt,he,J):Me,J==null)break e;he=y({},he,J);break e;case 2:Ba=!0}}J=C.callback,J!==null&&(e.flags|=64,W&&(e.flags|=8192),W=c.callbacks,W===null?c.callbacks=[J]:W.push(J))}else W={lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},le===null?(Q=le=W,P=he):le=le.next=W,_|=J;if(C=C.next,C===null){if(C=c.shared.pending,C===null)break;W=C,C=W.next,W.next=null,c.lastBaseUpdate=W,c.shared.pending=null}}while(!0);le===null&&(P=he),c.baseState=P,c.firstBaseUpdate=Q,c.lastBaseUpdate=le,h===null&&(c.shared.lanes=0),Ya|=_,e.lanes=_,e.memoizedState=he}}function dp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function fp(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)dp(i[e],n)}var ms=L(null),io=L(0);function hp(e,n){e=Sa,ie(io,e),ie(ms,n),Sa=e|n.baseLanes}function $c(){ie(io,Sa),ie(ms,ms.current)}function Ic(){Sa=io.current,$(ms),$(io)}var Za=0,qe=null,st=null,Et=null,lo=!1,ps=!1,jr=!1,oo=0,Si=0,gs=null,c1=0;function St(){throw Error(s(321))}function Hc(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!un(e[i],n[i]))return!1;return!0}function qc(e,n,i,o,c,h){return Za=h,qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=e===null||e.memoizedState===null?Qp:Kp,jr=!1,h=i(o,c),jr=!1,ps&&(h=pp(n,i,o,c)),mp(e),h}function mp(e){Y.H=po;var n=st!==null&&st.next!==null;if(Za=0,Et=st=qe=null,lo=!1,Si=0,gs=null,n)throw Error(s(300));e===null||Dt||(e=e.dependencies,e!==null&&to(e)&&(Dt=!0))}function pp(e,n,i,o){qe=e;var c=0;do{if(ps&&(gs=null),Si=0,ps=!1,25<=c)throw Error(s(301));if(c+=1,Et=st=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}Y.H=y1,h=n(i,o)}while(ps);return h}function d1(){var e=Y.H,n=e.useState()[0];return n=typeof n.then=="function"?Ai(n):n,e=e.useState()[0],(st!==null?st.memoizedState:null)!==e&&(qe.flags|=1024),n}function Fc(){var e=oo!==0;return oo=0,e}function Vc(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Yc(e){if(lo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}lo=!1}Za=0,Et=st=qe=null,ps=!1,Si=oo=0,gs=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?qe.memoizedState=Et=e:Et=Et.next=e,Et}function kt(){if(st===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var n=Et===null?qe.memoizedState:Et.next;if(n!==null)Et=n,st=e;else{if(e===null)throw qe.alternate===null?Error(s(467)):Error(s(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Et===null?qe.memoizedState=Et=e:Et=Et.next=e}return Et}function Gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ai(e){var n=Si;return Si+=1,gs===null&&(gs=[]),e=op(gs,e,n),n=qe,(Et===null?n.memoizedState:Et.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?Qp:Kp),e}function uo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ai(e);if(e.$$typeof===T)return Vt(e)}throw Error(s(438,String(e)))}function Xc(e){var n=null,i=qe.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=qe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Gc(),qe.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=te;return n.index++,i}function ya(e,n){return typeof n=="function"?n(e):n}function co(e){var n=kt();return Qc(n,st,e)}function Qc(e,n,i){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=e.baseQueue,h=o.pending;if(h!==null){if(c!==null){var _=c.next;c.next=h.next,h.next=_}n.baseQueue=c=h,o.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{n=c.next;var C=_=null,P=null,Q=n,le=!1;do{var he=Q.lane&-536870913;if(he!==Q.lane?(Ge&he)===he:(Za&he)===he){var J=Q.revertLane;if(J===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),he===fs&&(le=!0);else if((Za&J)===J){Q=Q.next,J===fs&&(le=!0);continue}else he={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},P===null?(C=P=he,_=h):P=P.next=he,qe.lanes|=J,Ya|=J;he=Q.action,jr&&i(h,he),h=Q.hasEagerState?Q.eagerState:i(h,he)}else J={lane:he,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},P===null?(C=P=J,_=h):P=P.next=J,qe.lanes|=he,Ya|=he;Q=Q.next}while(Q!==null&&Q!==n);if(P===null?_=h:P.next=C,!un(h,e.memoizedState)&&(Dt=!0,le&&(i=hs,i!==null)))throw i;e.memoizedState=h,e.baseState=_,e.baseQueue=P,o.lastRenderedState=h}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Kc(e){var n=kt(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=i.dispatch,c=i.pending,h=n.memoizedState;if(c!==null){i.pending=null;var _=c=c.next;do h=e(h,_.action),_=_.next;while(_!==c);un(h,n.memoizedState)||(Dt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,o]}function gp(e,n,i){var o=qe,c=kt(),h=Je;if(h){if(i===void 0)throw Error(s(407));i=i()}else i=n();var _=!un((st||c).memoizedState,i);_&&(c.memoizedState=i,Dt=!0),c=c.queue;var C=bp.bind(null,o,c,e);if(Ei(2048,8,C,[e]),c.getSnapshot!==n||_||Et!==null&&Et.memoizedState.tag&1){if(o.flags|=2048,ys(9,fo(),vp.bind(null,o,c,i,n),null),ht===null)throw Error(s(349));h||(Za&124)!==0||yp(o,n,i)}return i}function yp(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=qe.updateQueue,n===null?(n=Gc(),qe.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function vp(e,n,i,o){n.value=i,n.getSnapshot=o,xp(n)&&_p(e)}function bp(e,n,i){return i(function(){xp(n)&&_p(e)})}function xp(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!un(e,i)}catch{return!0}}function _p(e){var n=os(e,2);n!==null&&pn(n,e,2)}function Jc(e){var n=rn();if(typeof e=="function"){var i=e;if(e=i(),jr){Be(!0);try{i()}finally{Be(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:e},n}function wp(e,n,i,o){return e.baseState=i,Qc(e,st,typeof o=="function"?o:ya)}function f1(e,n,i,o,c){if(mo(e))throw Error(s(485));if(e=n.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){h.listeners.push(_)}};Y.T!==null?i(!0):h.isTransition=!1,o(h),i=n.pending,i===null?(h.next=n.pending=h,Sp(n,h)):(h.next=i.next,n.pending=i.next=h)}}function Sp(e,n){var i=n.action,o=n.payload,c=e.state;if(n.isTransition){var h=Y.T,_={};Y.T=_;try{var C=i(c,o),P=Y.S;P!==null&&P(_,C),Ap(e,n,C)}catch(Q){Wc(e,n,Q)}finally{Y.T=h}}else try{h=i(c,o),Ap(e,n,h)}catch(Q){Wc(e,n,Q)}}function Ap(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){Ep(e,n,o)},function(o){return Wc(e,n,o)}):Ep(e,n,i)}function Ep(e,n,i){n.status="fulfilled",n.value=i,kp(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Sp(e,i)))}function Wc(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,kp(n),n=n.next;while(n!==o)}e.action=null}function kp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Np(e,n){return n}function jp(e,n){if(Je){var i=ht.formState;if(i!==null){e:{var o=qe;if(Je){if(xt){t:{for(var c=xt,h=Qn;c.nodeType!==8;){if(!h){c=null;break t}if(c=Un(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){xt=Un(c.nextSibling),o=c.data==="F!";break e}}Ar(o)}o=!1}o&&(n=i[0])}}return i=rn(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Np,lastRenderedState:n},i.queue=o,i=Yp.bind(null,qe,o),o.dispatch=i,o=Jc(!1),h=rd.bind(null,qe,!1,o.queue),o=rn(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,i=f1.bind(null,qe,c,h,i),c.dispatch=i,o.memoizedState=e,[n,i,!1]}function Cp(e){var n=kt();return Tp(n,st,e)}function Tp(e,n,i){if(n=Qc(e,n,Np)[0],e=co(ya)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ai(n)}catch(_){throw _===vi?ro:_}else o=n;n=kt();var c=n.queue,h=c.dispatch;return i!==n.memoizedState&&(qe.flags|=2048,ys(9,fo(),h1.bind(null,c,i),null)),[o,h,e]}function h1(e,n){e.action=n}function Rp(e){var n=kt(),i=st;if(i!==null)return Tp(n,i,e);kt(),n=n.memoizedState,i=kt();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function ys(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=qe.updateQueue,n===null&&(n=Gc(),qe.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function fo(){return{destroy:void 0,resource:void 0}}function Op(){return kt().memoizedState}function ho(e,n,i,o){var c=rn();o=o===void 0?null:o,qe.flags|=e,c.memoizedState=ys(1|n,fo(),i,o)}function Ei(e,n,i,o){var c=kt();o=o===void 0?null:o;var h=c.memoizedState.inst;st!==null&&o!==null&&Hc(o,st.memoizedState.deps)?c.memoizedState=ys(n,h,i,o):(qe.flags|=e,c.memoizedState=ys(1|n,h,i,o))}function Dp(e,n){ho(8390656,8,e,n)}function Mp(e,n){Ei(2048,8,e,n)}function zp(e,n){return Ei(4,2,e,n)}function Up(e,n){return Ei(4,4,e,n)}function Bp(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Lp(e,n,i){i=i!=null?i.concat([e]):null,Ei(4,4,Bp.bind(null,n,e),i)}function ed(){}function Pp(e,n){var i=kt();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&Hc(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function Zp(e,n){var i=kt();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&Hc(n,o[1]))return o[0];if(o=e(),jr){Be(!0);try{e()}finally{Be(!1)}}return i.memoizedState=[o,n],o}function td(e,n,i){return i===void 0||(Za&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=Hg(),qe.lanes|=e,Ya|=e,i)}function $p(e,n,i,o){return un(i,n)?i:ms.current!==null?(e=td(e,i,o),un(e,n)||(Dt=!0),e):(Za&42)===0?(Dt=!0,e.memoizedState=i):(e=Hg(),qe.lanes|=e,Ya|=e,n)}function Ip(e,n,i,o,c){var h=G.p;G.p=h!==0&&8>h?h:8;var _=Y.T,C={};Y.T=C,rd(e,!1,n,i);try{var P=c(),Q=Y.S;if(Q!==null&&Q(C,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var le=u1(P,o);ki(e,n,le,mn(e))}else ki(e,n,o,mn(e))}catch(he){ki(e,n,{then:function(){},status:"rejected",reason:he},mn())}finally{G.p=h,Y.T=_}}function m1(){}function nd(e,n,i,o){if(e.tag!==5)throw Error(s(476));var c=Hp(e).queue;Ip(e,c,n,be,i===null?m1:function(){return qp(e),i(o)})}function Hp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:be},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function qp(e){var n=Hp(e).next.queue;ki(e,n,{},mn())}function ad(){return Vt(qi)}function Fp(){return kt().memoizedState}function Vp(){return kt().memoizedState}function p1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=mn();e=La(i);var o=Pa(n,e,i);o!==null&&(pn(o,n,i),xi(o,n,i)),n={cache:Dc()},e.payload=n;return}n=n.return}}function g1(e,n,i){var o=mn();i={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},mo(e)?Gp(n,i):(i=Sc(e,n,i,o),i!==null&&(pn(i,e,o),Xp(i,n,o)))}function Yp(e,n,i){var o=mn();ki(e,n,i,o)}function ki(e,n,i,o){var c={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(mo(e))Gp(n,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var _=n.lastRenderedState,C=h(_,i);if(c.hasEagerState=!0,c.eagerState=C,un(C,_))return Ql(e,n,c,0),ht===null&&Xl(),!1}catch{}finally{}if(i=Sc(e,n,c,o),i!==null)return pn(i,e,o),Xp(i,n,o),!0}return!1}function rd(e,n,i,o){if(o={lane:2,revertLane:Ud(),action:o,hasEagerState:!1,eagerState:null,next:null},mo(e)){if(n)throw Error(s(479))}else n=Sc(e,i,o,2),n!==null&&pn(n,e,2)}function mo(e){var n=e.alternate;return e===qe||n!==null&&n===qe}function Gp(e,n){ps=lo=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Xp(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,am(e,i)}}var po={readContext:Vt,use:uo,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},Qp={readContext:Vt,use:uo,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:Vt,useEffect:Dp,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,ho(4194308,4,Bp.bind(null,n,e),i)},useLayoutEffect:function(e,n){return ho(4194308,4,e,n)},useInsertionEffect:function(e,n){ho(4,2,e,n)},useMemo:function(e,n){var i=rn();n=n===void 0?null:n;var o=e();if(jr){Be(!0);try{e()}finally{Be(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=rn();if(i!==void 0){var c=i(n);if(jr){Be(!0);try{i(n)}finally{Be(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=g1.bind(null,qe,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=Jc(e);var n=e.queue,i=Yp.bind(null,qe,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:ed,useDeferredValue:function(e,n){var i=rn();return td(i,e,n)},useTransition:function(){var e=Jc(!1);return e=Ip.bind(null,qe,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=qe,c=rn();if(Je){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),ht===null)throw Error(s(349));(Ge&124)!==0||yp(o,n,i)}c.memoizedState=i;var h={value:i,getSnapshot:n};return c.queue=h,Dp(bp.bind(null,o,h,e),[e]),o.flags|=2048,ys(9,fo(),vp.bind(null,o,h,i,n),null),i},useId:function(){var e=rn(),n=ht.identifierPrefix;if(Je){var i=ma,o=ha;i=(o&~(1<<32-dt(o)-1)).toString(32)+i,n=""+n+"R"+i,i=oo++,0<i&&(n+="H"+i.toString(32)),n+=""}else i=c1++,n=""+n+"r"+i.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:ad,useFormState:jp,useActionState:jp,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=rd.bind(null,qe,!0,i),i.dispatch=n,[e,n]},useMemoCache:Xc,useCacheRefresh:function(){return rn().memoizedState=p1.bind(null,qe)}},Kp={readContext:Vt,use:uo,useCallback:Pp,useContext:Vt,useEffect:Mp,useImperativeHandle:Lp,useInsertionEffect:zp,useLayoutEffect:Up,useMemo:Zp,useReducer:co,useRef:Op,useState:function(){return co(ya)},useDebugValue:ed,useDeferredValue:function(e,n){var i=kt();return $p(i,st.memoizedState,e,n)},useTransition:function(){var e=co(ya)[0],n=kt().memoizedState;return[typeof e=="boolean"?e:Ai(e),n]},useSyncExternalStore:gp,useId:Fp,useHostTransitionStatus:ad,useFormState:Cp,useActionState:Cp,useOptimistic:function(e,n){var i=kt();return wp(i,st,e,n)},useMemoCache:Xc,useCacheRefresh:Vp},y1={readContext:Vt,use:uo,useCallback:Pp,useContext:Vt,useEffect:Mp,useImperativeHandle:Lp,useInsertionEffect:zp,useLayoutEffect:Up,useMemo:Zp,useReducer:Kc,useRef:Op,useState:function(){return Kc(ya)},useDebugValue:ed,useDeferredValue:function(e,n){var i=kt();return st===null?td(i,e,n):$p(i,st.memoizedState,e,n)},useTransition:function(){var e=Kc(ya)[0],n=kt().memoizedState;return[typeof e=="boolean"?e:Ai(e),n]},useSyncExternalStore:gp,useId:Fp,useHostTransitionStatus:ad,useFormState:Rp,useActionState:Rp,useOptimistic:function(e,n){var i=kt();return st!==null?wp(i,st,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Xc,useCacheRefresh:Vp},vs=null,Ni=0;function go(e){var n=Ni;return Ni+=1,vs===null&&(vs=[]),op(vs,e,n)}function ji(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function yo(e,n){throw n.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Jp(e){var n=e._init;return n(e._payload)}function Wp(e){function n(V,I){if(e){var X=V.deletions;X===null?(V.deletions=[I],V.flags|=16):X.push(I)}}function i(V,I){if(!e)return null;for(;I!==null;)n(V,I),I=I.sibling;return null}function o(V){for(var I=new Map;V!==null;)V.key!==null?I.set(V.key,V):I.set(V.index,V),V=V.sibling;return I}function c(V,I){return V=fa(V,I),V.index=0,V.sibling=null,V}function h(V,I,X){return V.index=X,e?(X=V.alternate,X!==null?(X=X.index,X<I?(V.flags|=67108866,I):X):(V.flags|=67108866,I)):(V.flags|=1048576,I)}function _(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function C(V,I,X,ue){return I===null||I.tag!==6?(I=Ec(X,V.mode,ue),I.return=V,I):(I=c(I,X),I.return=V,I)}function P(V,I,X,ue){var Ee=X.type;return Ee===S?le(V,I,X.props.children,ue,X.key):I!==null&&(I.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ne&&Jp(Ee)===I.type)?(I=c(I,X.props),ji(I,X),I.return=V,I):(I=Jl(X.type,X.key,X.props,null,V.mode,ue),ji(I,X),I.return=V,I)}function Q(V,I,X,ue){return I===null||I.tag!==4||I.stateNode.containerInfo!==X.containerInfo||I.stateNode.implementation!==X.implementation?(I=kc(X,V.mode,ue),I.return=V,I):(I=c(I,X.children||[]),I.return=V,I)}function le(V,I,X,ue,Ee){return I===null||I.tag!==7?(I=xr(X,V.mode,ue,Ee),I.return=V,I):(I=c(I,X),I.return=V,I)}function he(V,I,X){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Ec(""+I,V.mode,X),I.return=V,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case A:return X=Jl(I.type,I.key,I.props,null,V.mode,X),ji(X,I),X.return=V,X;case v:return I=kc(I,V.mode,X),I.return=V,I;case ne:var ue=I._init;return I=ue(I._payload),he(V,I,X)}if(re(I)||D(I))return I=xr(I,V.mode,X,null),I.return=V,I;if(typeof I.then=="function")return he(V,go(I),X);if(I.$$typeof===T)return he(V,no(V,I),X);yo(V,I)}return null}function J(V,I,X,ue){var Ee=I!==null?I.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ee!==null?null:C(V,I,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return X.key===Ee?P(V,I,X,ue):null;case v:return X.key===Ee?Q(V,I,X,ue):null;case ne:return Ee=X._init,X=Ee(X._payload),J(V,I,X,ue)}if(re(X)||D(X))return Ee!==null?null:le(V,I,X,ue,null);if(typeof X.then=="function")return J(V,I,go(X),ue);if(X.$$typeof===T)return J(V,I,no(V,X),ue);yo(V,X)}return null}function W(V,I,X,ue,Ee){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return V=V.get(X)||null,C(I,V,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case A:return V=V.get(ue.key===null?X:ue.key)||null,P(I,V,ue,Ee);case v:return V=V.get(ue.key===null?X:ue.key)||null,Q(I,V,ue,Ee);case ne:var Fe=ue._init;return ue=Fe(ue._payload),W(V,I,X,ue,Ee)}if(re(ue)||D(ue))return V=V.get(X)||null,le(I,V,ue,Ee,null);if(typeof ue.then=="function")return W(V,I,X,go(ue),Ee);if(ue.$$typeof===T)return W(V,I,X,no(I,ue),Ee);yo(I,ue)}return null}function Me(V,I,X,ue){for(var Ee=null,Fe=null,Ce=I,De=I=0,zt=null;Ce!==null&&De<X.length;De++){Ce.index>De?(zt=Ce,Ce=null):zt=Ce.sibling;var Qe=J(V,Ce,X[De],ue);if(Qe===null){Ce===null&&(Ce=zt);break}e&&Ce&&Qe.alternate===null&&n(V,Ce),I=h(Qe,I,De),Fe===null?Ee=Qe:Fe.sibling=Qe,Fe=Qe,Ce=zt}if(De===X.length)return i(V,Ce),Je&&wr(V,De),Ee;if(Ce===null){for(;De<X.length;De++)Ce=he(V,X[De],ue),Ce!==null&&(I=h(Ce,I,De),Fe===null?Ee=Ce:Fe.sibling=Ce,Fe=Ce);return Je&&wr(V,De),Ee}for(Ce=o(Ce);De<X.length;De++)zt=W(Ce,V,De,X[De],ue),zt!==null&&(e&&zt.alternate!==null&&Ce.delete(zt.key===null?De:zt.key),I=h(zt,I,De),Fe===null?Ee=zt:Fe.sibling=zt,Fe=zt);return e&&Ce.forEach(function(nr){return n(V,nr)}),Je&&wr(V,De),Ee}function Oe(V,I,X,ue){if(X==null)throw Error(s(151));for(var Ee=null,Fe=null,Ce=I,De=I=0,zt=null,Qe=X.next();Ce!==null&&!Qe.done;De++,Qe=X.next()){Ce.index>De?(zt=Ce,Ce=null):zt=Ce.sibling;var nr=J(V,Ce,Qe.value,ue);if(nr===null){Ce===null&&(Ce=zt);break}e&&Ce&&nr.alternate===null&&n(V,Ce),I=h(nr,I,De),Fe===null?Ee=nr:Fe.sibling=nr,Fe=nr,Ce=zt}if(Qe.done)return i(V,Ce),Je&&wr(V,De),Ee;if(Ce===null){for(;!Qe.done;De++,Qe=X.next())Qe=he(V,Qe.value,ue),Qe!==null&&(I=h(Qe,I,De),Fe===null?Ee=Qe:Fe.sibling=Qe,Fe=Qe);return Je&&wr(V,De),Ee}for(Ce=o(Ce);!Qe.done;De++,Qe=X.next())Qe=W(Ce,V,De,Qe.value,ue),Qe!==null&&(e&&Qe.alternate!==null&&Ce.delete(Qe.key===null?De:Qe.key),I=h(Qe,I,De),Fe===null?Ee=Qe:Fe.sibling=Qe,Fe=Qe);return e&&Ce.forEach(function(v_){return n(V,v_)}),Je&&wr(V,De),Ee}function lt(V,I,X,ue){if(typeof X=="object"&&X!==null&&X.type===S&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case A:e:{for(var Ee=X.key;I!==null;){if(I.key===Ee){if(Ee=X.type,Ee===S){if(I.tag===7){i(V,I.sibling),ue=c(I,X.props.children),ue.return=V,V=ue;break e}}else if(I.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ne&&Jp(Ee)===I.type){i(V,I.sibling),ue=c(I,X.props),ji(ue,X),ue.return=V,V=ue;break e}i(V,I);break}else n(V,I);I=I.sibling}X.type===S?(ue=xr(X.props.children,V.mode,ue,X.key),ue.return=V,V=ue):(ue=Jl(X.type,X.key,X.props,null,V.mode,ue),ji(ue,X),ue.return=V,V=ue)}return _(V);case v:e:{for(Ee=X.key;I!==null;){if(I.key===Ee)if(I.tag===4&&I.stateNode.containerInfo===X.containerInfo&&I.stateNode.implementation===X.implementation){i(V,I.sibling),ue=c(I,X.children||[]),ue.return=V,V=ue;break e}else{i(V,I);break}else n(V,I);I=I.sibling}ue=kc(X,V.mode,ue),ue.return=V,V=ue}return _(V);case ne:return Ee=X._init,X=Ee(X._payload),lt(V,I,X,ue)}if(re(X))return Me(V,I,X,ue);if(D(X)){if(Ee=D(X),typeof Ee!="function")throw Error(s(150));return X=Ee.call(X),Oe(V,I,X,ue)}if(typeof X.then=="function")return lt(V,I,go(X),ue);if(X.$$typeof===T)return lt(V,I,no(V,X),ue);yo(V,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,I!==null&&I.tag===6?(i(V,I.sibling),ue=c(I,X),ue.return=V,V=ue):(i(V,I),ue=Ec(X,V.mode,ue),ue.return=V,V=ue),_(V)):i(V,I)}return function(V,I,X,ue){try{Ni=0;var Ee=lt(V,I,X,ue);return vs=null,Ee}catch(Ce){if(Ce===vi||Ce===ro)throw Ce;var Fe=cn(29,Ce,null,V.mode);return Fe.lanes=ue,Fe.return=V,Fe}finally{}}}var bs=Wp(!0),eg=Wp(!1),jn=L(null),Kn=null;function $a(e){var n=e.alternate;ie(jt,jt.current&1),ie(jn,e),Kn===null&&(n===null||ms.current!==null||n.memoizedState!==null)&&(Kn=e)}function tg(e){if(e.tag===22){if(ie(jt,jt.current),ie(jn,e),Kn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Kn=e)}}else Ia()}function Ia(){ie(jt,jt.current),ie(jn,jn.current)}function va(e){$(jn),Kn===e&&(Kn=null),$(jt)}var jt=L(0);function vo(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Gd(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function sd(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:y({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var id={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=mn(),c=La(o);c.payload=n,i!=null&&(c.callback=i),n=Pa(e,c,o),n!==null&&(pn(n,e,o),xi(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=mn(),c=La(o);c.tag=1,c.payload=n,i!=null&&(c.callback=i),n=Pa(e,c,o),n!==null&&(pn(n,e,o),xi(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=mn(),o=La(i);o.tag=2,n!=null&&(o.callback=n),n=Pa(e,o,i),n!==null&&(pn(n,e,i),xi(n,e,i))}};function ng(e,n,i,o,c,h,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,_):n.prototype&&n.prototype.isPureReactComponent?!ci(i,o)||!ci(c,h):!0}function ag(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&id.enqueueReplaceState(n,n.state,null)}function Cr(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=y({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}var bo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function rg(e){bo(e)}function sg(e){console.error(e)}function ig(e){bo(e)}function xo(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function lg(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ld(e,n,i){return i=La(i),i.tag=3,i.payload={element:null},i.callback=function(){xo(e,n)},i}function og(e){return e=La(e),e.tag=3,e}function ug(e,n,i,o){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var h=o.value;e.payload=function(){return c(h)},e.callback=function(){lg(n,i,o)}}var _=i.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){lg(n,i,o),typeof c!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var C=o.stack;this.componentDidCatch(o.value,{componentStack:C!==null?C:""})})}function v1(e,n,i,o,c){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&pi(n,i,c,!0),i=jn.current,i!==null){switch(i.tag){case 13:return Kn===null?Rd():i.alternate===null&&_t===0&&(_t=3),i.flags&=-257,i.flags|=65536,i.lanes=c,o===Uc?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),Dd(e,o,c)),!1;case 22:return i.flags|=65536,o===Uc?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),Dd(e,o,c)),!1}throw Error(s(435,i.tag))}return Dd(e,o,c),Rd(),!1}if(Je)return n=jn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Cc&&(e=Error(s(422),{cause:o}),mi(An(e,i)))):(o!==Cc&&(n=Error(s(423),{cause:o}),mi(An(n,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=An(o,i),c=ld(e.stateNode,o,c),Pc(e,c),_t!==4&&(_t=2)),!1;var h=Error(s(520),{cause:o});if(h=An(h,i),zi===null?zi=[h]:zi.push(h),_t!==4&&(_t=2),n===null)return!0;o=An(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=ld(i.stateNode,o,e),Pc(i,e),!1;case 1:if(n=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ga===null||!Ga.has(h))))return i.flags|=65536,c&=-c,i.lanes|=c,c=og(c),ug(c,e,i,o),Pc(i,c),!1}i=i.return}while(i!==null);return!1}var cg=Error(s(461)),Dt=!1;function Bt(e,n,i,o){n.child=e===null?eg(n,null,i,o):bs(n,e.child,i,o)}function dg(e,n,i,o,c){i=i.render;var h=n.ref;if("ref"in o){var _={};for(var C in o)C!=="ref"&&(_[C]=o[C])}else _=o;return kr(n),o=qc(e,n,i,_,h,c),C=Fc(),e!==null&&!Dt?(Vc(e,n,c),ba(e,n,c)):(Je&&C&&Nc(n),n.flags|=1,Bt(e,n,o,c),n.child)}function fg(e,n,i,o,c){if(e===null){var h=i.type;return typeof h=="function"&&!Ac(h)&&h.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=h,hg(e,n,h,o,c)):(e=Jl(i.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!pd(e,c)){var _=h.memoizedProps;if(i=i.compare,i=i!==null?i:ci,i(_,o)&&e.ref===n.ref)return ba(e,n,c)}return n.flags|=1,e=fa(h,o),e.ref=n.ref,e.return=n,n.child=e}function hg(e,n,i,o,c){if(e!==null){var h=e.memoizedProps;if(ci(h,o)&&e.ref===n.ref)if(Dt=!1,n.pendingProps=o=h,pd(e,c))(e.flags&131072)!==0&&(Dt=!0);else return n.lanes=e.lanes,ba(e,n,c)}return od(e,n,i,o,c)}function mg(e,n,i){var o=n.pendingProps,c=o.children,h=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=h!==null?h.baseLanes|i:i,e!==null){for(c=n.child=e.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~o}else n.childLanes=0,n.child=null;return pg(e,n,o,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ao(n,h!==null?h.cachePool:null),h!==null?hp(n,h):$c(),tg(n);else return n.lanes=n.childLanes=536870912,pg(e,n,h!==null?h.baseLanes|i:i,i)}else h!==null?(ao(n,h.cachePool),hp(n,h),Ia(),n.memoizedState=null):(e!==null&&ao(n,null),$c(),Ia());return Bt(e,n,c,i),n.child}function pg(e,n,i,o){var c=zc();return c=c===null?null:{parent:Nt._currentValue,pool:c},n.memoizedState={baseLanes:i,cachePool:c},e!==null&&ao(n,null),$c(),tg(n),e!==null&&pi(e,n,o,!0),null}function _o(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function od(e,n,i,o,c){return kr(n),i=qc(e,n,i,o,void 0,c),o=Fc(),e!==null&&!Dt?(Vc(e,n,c),ba(e,n,c)):(Je&&o&&Nc(n),n.flags|=1,Bt(e,n,i,c),n.child)}function gg(e,n,i,o,c,h){return kr(n),n.updateQueue=null,i=pp(n,o,i,c),mp(e),o=Fc(),e!==null&&!Dt?(Vc(e,n,h),ba(e,n,h)):(Je&&o&&Nc(n),n.flags|=1,Bt(e,n,i,h),n.child)}function yg(e,n,i,o,c){if(kr(n),n.stateNode===null){var h=us,_=i.contextType;typeof _=="object"&&_!==null&&(h=Vt(_)),h=new i(o,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=id,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=o,h.state=n.memoizedState,h.refs={},Bc(n),_=i.contextType,h.context=typeof _=="object"&&_!==null?Vt(_):us,h.state=n.memoizedState,_=i.getDerivedStateFromProps,typeof _=="function"&&(sd(n,i,_,o),h.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(_=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),_!==h.state&&id.enqueueReplaceState(h,h.state,null),wi(n,o,h,c),_i(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){h=n.stateNode;var C=n.memoizedProps,P=Cr(i,C);h.props=P;var Q=h.context,le=i.contextType;_=us,typeof le=="object"&&le!==null&&(_=Vt(le));var he=i.getDerivedStateFromProps;le=typeof he=="function"||typeof h.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,le||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C||Q!==_)&&ag(n,h,o,_),Ba=!1;var J=n.memoizedState;h.state=J,wi(n,o,h,c),_i(),Q=n.memoizedState,C||J!==Q||Ba?(typeof he=="function"&&(sd(n,i,he,o),Q=n.memoizedState),(P=Ba||ng(n,i,P,o,J,Q,_))?(le||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=Q),h.props=o,h.state=Q,h.context=_,o=P):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{h=n.stateNode,Lc(e,n),_=n.memoizedProps,le=Cr(i,_),h.props=le,he=n.pendingProps,J=h.context,Q=i.contextType,P=us,typeof Q=="object"&&Q!==null&&(P=Vt(Q)),C=i.getDerivedStateFromProps,(Q=typeof C=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==he||J!==P)&&ag(n,h,o,P),Ba=!1,J=n.memoizedState,h.state=J,wi(n,o,h,c),_i();var W=n.memoizedState;_!==he||J!==W||Ba||e!==null&&e.dependencies!==null&&to(e.dependencies)?(typeof C=="function"&&(sd(n,i,C,o),W=n.memoizedState),(le=Ba||ng(n,i,le,o,J,W,P)||e!==null&&e.dependencies!==null&&to(e.dependencies))?(Q||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,W,P),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,W,P)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&J===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&J===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=W),h.props=o,h.state=W,h.context=P,o=le):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&J===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&J===e.memoizedState||(n.flags|=1024),o=!1)}return h=o,_o(e,n),o=(n.flags&128)!==0,h||o?(h=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&o?(n.child=bs(n,e.child,null,c),n.child=bs(n,null,i,c)):Bt(e,n,i,c),n.memoizedState=h.state,e=n.child):e=ba(e,n,c),e}function vg(e,n,i,o){return hi(),n.flags|=256,Bt(e,n,i,o),n.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(e){return{baseLanes:e,cachePool:sp()}}function dd(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Cn),e}function bg(e,n,i){var o=n.pendingProps,c=!1,h=(n.flags&128)!==0,_;if((_=h)||(_=e!==null&&e.memoizedState===null?!1:(jt.current&2)!==0),_&&(c=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Je){if(c?$a(n):Ia(),Je){var C=xt,P;if(P=C){e:{for(P=C,C=Qn;P.nodeType!==8;){if(!C){C=null;break e}if(P=Un(P.nextSibling),P===null){C=null;break e}}C=P}C!==null?(n.memoizedState={dehydrated:C,treeContext:_r!==null?{id:ha,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},P=cn(18,null,null,0),P.stateNode=C,P.return=n,n.child=P,Kt=n,xt=null,P=!0):P=!1}P||Ar(n)}if(C=n.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Gd(C)?n.lanes=32:n.lanes=536870912,null;va(n)}return C=o.children,o=o.fallback,c?(Ia(),c=n.mode,C=wo({mode:"hidden",children:C},c),o=xr(o,c,i,null),C.return=n,o.return=n,C.sibling=o,n.child=C,c=n.child,c.memoizedState=cd(i),c.childLanes=dd(e,_,i),n.memoizedState=ud,o):($a(n),fd(n,C))}if(P=e.memoizedState,P!==null&&(C=P.dehydrated,C!==null)){if(h)n.flags&256?($a(n),n.flags&=-257,n=hd(e,n,i)):n.memoizedState!==null?(Ia(),n.child=e.child,n.flags|=128,n=null):(Ia(),c=o.fallback,C=n.mode,o=wo({mode:"visible",children:o.children},C),c=xr(c,C,i,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,bs(n,e.child,null,i),o=n.child,o.memoizedState=cd(i),o.childLanes=dd(e,_,i),n.memoizedState=ud,n=c);else if($a(n),Gd(C)){if(_=C.nextSibling&&C.nextSibling.dataset,_)var Q=_.dgst;_=Q,o=Error(s(419)),o.stack="",o.digest=_,mi({value:o,source:null,stack:null}),n=hd(e,n,i)}else if(Dt||pi(e,n,i,!1),_=(i&e.childLanes)!==0,Dt||_){if(_=ht,_!==null&&(o=i&-i,o=(o&42)!==0?1:Xu(o),o=(o&(_.suspendedLanes|i))!==0?0:o,o!==0&&o!==P.retryLane))throw P.retryLane=o,os(e,o),pn(_,e,o),cg;C.data==="$?"||Rd(),n=hd(e,n,i)}else C.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=P.treeContext,xt=Un(C.nextSibling),Kt=n,Je=!0,Sr=null,Qn=!1,e!==null&&(kn[Nn++]=ha,kn[Nn++]=ma,kn[Nn++]=_r,ha=e.id,ma=e.overflow,_r=n),n=fd(n,o.children),n.flags|=4096);return n}return c?(Ia(),c=o.fallback,C=n.mode,P=e.child,Q=P.sibling,o=fa(P,{mode:"hidden",children:o.children}),o.subtreeFlags=P.subtreeFlags&65011712,Q!==null?c=fa(Q,c):(c=xr(c,C,i,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,C=e.child.memoizedState,C===null?C=cd(i):(P=C.cachePool,P!==null?(Q=Nt._currentValue,P=P.parent!==Q?{parent:Q,pool:Q}:P):P=sp(),C={baseLanes:C.baseLanes|i,cachePool:P}),c.memoizedState=C,c.childLanes=dd(e,_,i),n.memoizedState=ud,o):($a(n),i=e.child,e=i.sibling,i=fa(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=i,n.memoizedState=null,i)}function fd(e,n){return n=wo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function wo(e,n){return e=cn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function hd(e,n,i){return bs(n,e.child,null,i),e=fd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function xg(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Rc(e.return,n,i)}function md(e,n,i,o,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=i,h.tailMode=c)}function _g(e,n,i){var o=n.pendingProps,c=o.revealOrder,h=o.tail;if(Bt(e,n,o.children,i),o=jt.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xg(e,i,n);else if(e.tag===19)xg(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(ie(jt,o),c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&vo(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),md(n,!1,c,i,h);break;case"backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&vo(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}md(n,!0,i,null,h);break;case"together":md(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ba(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Ya|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(pi(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,i=fa(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=fa(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function pd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&to(e)))}function b1(e,n,i){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),Ua(n,Nt,e.memoizedState.cache),hi();break;case 27:case 5:bt(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:Ua(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?($a(n),n.flags|=128,null):(i&n.child.childLanes)!==0?bg(e,n,i):($a(n),e=ba(e,n,i),e!==null?e.sibling:null);$a(n);break;case 19:var c=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(pi(e,n,i,!1),o=(i&n.childLanes)!==0),c){if(o)return _g(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ie(jt,jt.current),o)break;return null;case 22:case 23:return n.lanes=0,mg(e,n,i);case 24:Ua(n,Nt,e.memoizedState.cache)}return ba(e,n,i)}function wg(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Dt=!0;else{if(!pd(e,i)&&(n.flags&128)===0)return Dt=!1,b1(e,n,i);Dt=(e.flags&131072)!==0}else Dt=!1,Je&&(n.flags&1048576)!==0&&Jm(n,eo,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")Ac(o)?(e=Cr(o,e),n.tag=1,n=yg(null,n,o,e,i)):(n.tag=0,n=od(null,n,o,e,i));else{if(o!=null){if(c=o.$$typeof,c===M){n.tag=11,n=dg(null,n,o,e,i);break e}else if(c===q){n.tag=14,n=fg(null,n,o,e,i);break e}}throw n=j(o)||o,Error(s(306,n,""))}}return n;case 0:return od(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,c=Cr(o,n.pendingProps),yg(e,n,o,c,i);case 3:e:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var h=n.memoizedState;c=h.element,Lc(e,n),wi(n,o,null,i);var _=n.memoizedState;if(o=_.cache,Ua(n,Nt,o),o!==h.cache&&Oc(n,[Nt],i,!0),_i(),o=_.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=vg(e,n,o,i);break e}else if(o!==c){c=An(Error(s(424)),n),mi(c),n=vg(e,n,o,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xt=Un(e.firstChild),Kt=n,Je=!0,Sr=null,Qn=!0,i=eg(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(hi(),o===c){n=ba(e,n,i);break e}Bt(e,n,o,i)}n=n.child}return n;case 26:return _o(e,n),e===null?(i=k0(n.type,null,n.pendingProps,null))?n.memoizedState=i:Je||(i=n.type,e=n.pendingProps,o=Uo(Ae.current).createElement(i),o[Ft]=n,o[nn]=e,Pt(o,i,e),Ot(o),n.stateNode=o):n.memoizedState=k0(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return bt(n),e===null&&Je&&(o=n.stateNode=S0(n.type,n.pendingProps,Ae.current),Kt=n,Qn=!0,c=xt,Ka(n.type)?(Xd=c,xt=Un(o.firstChild)):xt=c),Bt(e,n,n.pendingProps.children,i),_o(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Je&&((c=o=xt)&&(o=Y1(o,n.type,n.pendingProps,Qn),o!==null?(n.stateNode=o,Kt=n,xt=Un(o.firstChild),Qn=!1,c=!0):c=!1),c||Ar(n)),bt(n),c=n.type,h=n.pendingProps,_=e!==null?e.memoizedProps:null,o=h.children,Fd(c,h)?o=null:_!==null&&Fd(c,_)&&(n.flags|=32),n.memoizedState!==null&&(c=qc(e,n,d1,null,null,i),qi._currentValue=c),_o(e,n),Bt(e,n,o,i),n.child;case 6:return e===null&&Je&&((e=i=xt)&&(i=G1(i,n.pendingProps,Qn),i!==null?(n.stateNode=i,Kt=n,xt=null,e=!0):e=!1),e||Ar(n)),null;case 13:return bg(e,n,i);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=bs(n,null,o,i):Bt(e,n,o,i),n.child;case 11:return dg(e,n,n.type,n.pendingProps,i);case 7:return Bt(e,n,n.pendingProps,i),n.child;case 8:return Bt(e,n,n.pendingProps.children,i),n.child;case 12:return Bt(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,Ua(n,n.type,o.value),Bt(e,n,o.children,i),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,kr(n),c=Vt(c),o=o(c),n.flags|=1,Bt(e,n,o,i),n.child;case 14:return fg(e,n,n.type,n.pendingProps,i);case 15:return hg(e,n,n.type,n.pendingProps,i);case 19:return _g(e,n,i);case 31:return o=n.pendingProps,i=n.mode,o={mode:o.mode,children:o.children},e===null?(i=wo(o,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=fa(e.child,o),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return mg(e,n,i);case 24:return kr(n),o=Vt(Nt),e===null?(c=zc(),c===null&&(c=ht,h=Dc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=i),c=h),n.memoizedState={parent:o,cache:c},Bc(n),Ua(n,Nt,c)):((e.lanes&i)!==0&&(Lc(e,n),wi(n,null,null,i),_i()),c=e.memoizedState,h=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ua(n,Nt,o)):(o=h.cache,Ua(n,Nt,o),o!==c.cache&&Oc(n,[Nt],i,!0))),Bt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function xa(e){e.flags|=4}function Sg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!R0(n)){if(n=jn.current,n!==null&&((Ge&4194048)===Ge?Kn!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||n!==Kn))throw bi=Uc,ip;e.flags|=8192}}function So(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Bl():536870912,e.lanes|=n,Ss|=n)}function Ci(e,n){if(!Je)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function pt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function x1(e,n,i){var o=n.pendingProps;switch(jc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(n),null;case 1:return pt(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ga(Nt),He(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(fi(n)?xa(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tp())),pt(n),null;case 26:return i=n.memoizedState,e===null?(xa(n),i!==null?(pt(n),Sg(n,i)):(pt(n),n.flags&=-16777217)):i?i!==e.memoizedState?(xa(n),pt(n),Sg(n,i)):(pt(n),n.flags&=-16777217):(e.memoizedProps!==o&&xa(n),pt(n),n.flags&=-16777217),null;case 27:ct(n),i=Ae.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&xa(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return pt(n),null}e=oe.current,fi(n)?Wm(n):(e=S0(c,o,i),n.stateNode=e,xa(n))}return pt(n),null;case 5:if(ct(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&xa(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return pt(n),null}if(e=oe.current,fi(n))Wm(n);else{switch(c=Uo(Ae.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(i,{is:o.is}):c.createElement(i)}}e[Ft]=n,e[nn]=o;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;e:switch(Pt(e,i,o),i){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&xa(n)}}return pt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&xa(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=Ae.current,fi(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,c=Kt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[Ft]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||g0(e.nodeValue,i)),e||Ar(n)}else e=Uo(e).createTextNode(o),e[Ft]=n,n.stateNode=e}return pt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=fi(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Ft]=n}else hi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),c=!1}else c=tp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(va(n),n):(va(n),null)}if(va(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=o!==null,e=e!==null&&e.memoizedState!==null,i){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var h=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),So(n,n.updateQueue),pt(n),null;case 4:return He(),e===null&&Zd(n.stateNode.containerInfo),pt(n),null;case 10:return ga(n.type),pt(n),null;case 19:if($(jt),c=n.memoizedState,c===null)return pt(n),null;if(o=(n.flags&128)!==0,h=c.rendering,h===null)if(o)Ci(c,!1);else{if(_t!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=vo(e),h!==null){for(n.flags|=128,Ci(c,!1),e=h.updateQueue,n.updateQueue=e,So(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Km(i,e),i=i.sibling;return ie(jt,jt.current&1|2),n.child}e=e.sibling}c.tail!==null&&U()>ko&&(n.flags|=128,o=!0,Ci(c,!1),n.lanes=4194304)}else{if(!o)if(e=vo(h),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,So(n,e),Ci(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Je)return pt(n),null}else 2*U()-c.renderingStartTime>ko&&i!==536870912&&(n.flags|=128,o=!0,Ci(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(e=c.last,e!==null?e.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=U(),n.sibling=null,e=jt.current,ie(jt,o?e&1|2:e&1),n):(pt(n),null);case 22:case 23:return va(n),Ic(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(pt(n),n.subtreeFlags&6&&(n.flags|=8192)):pt(n),i=n.updateQueue,i!==null&&So(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&$(Nr),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),ga(Nt),pt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function _1(e,n){switch(jc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ga(Nt),He(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ct(n),null;case 13:if(va(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));hi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $(jt),null;case 4:return He(),null;case 10:return ga(n.type),null;case 22:case 23:return va(n),Ic(),e!==null&&$(Nr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ga(Nt),null;case 25:return null;default:return null}}function Ag(e,n){switch(jc(n),n.tag){case 3:ga(Nt),He();break;case 26:case 27:case 5:ct(n);break;case 4:He();break;case 13:va(n);break;case 19:$(jt);break;case 10:ga(n.type);break;case 22:case 23:va(n),Ic(),e!==null&&$(Nr);break;case 24:ga(Nt)}}function Ti(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var c=o.next;i=c;do{if((i.tag&e)===e){o=void 0;var h=i.create,_=i.inst;o=h(),_.destroy=o}i=i.next}while(i!==c)}}catch(C){ut(n,n.return,C)}}function Ha(e,n,i){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&e)===e){var _=o.inst,C=_.destroy;if(C!==void 0){_.destroy=void 0,c=n;var P=i,Q=C;try{Q()}catch(le){ut(c,P,le)}}}o=o.next}while(o!==h)}}catch(le){ut(n,n.return,le)}}function Eg(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{fp(n,i)}catch(o){ut(e,e.return,o)}}}function kg(e,n,i){i.props=Cr(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){ut(e,n,o)}}function Ri(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(c){ut(e,n,c)}}function Jn(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(c){ut(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){ut(e,n,c)}else i.current=null}function Ng(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(c){ut(e,e.return,c)}}function gd(e,n,i){try{var o=e.stateNode;I1(o,e.type,i,n),o[nn]=n}catch(c){ut(e,e.return,c)}}function jg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ka(e.type)||e.tag===4}function yd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ka(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vd(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=zo));else if(o!==4&&(o===27&&Ka(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(vd(e,n,i),e=e.sibling;e!==null;)vd(e,n,i),e=e.sibling}function Ao(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&Ka(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Ao(e,n,i),e=e.sibling;e!==null;)Ao(e,n,i),e=e.sibling}function Cg(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pt(n,o,i),n[Ft]=e,n[nn]=i}catch(h){ut(e,e.return,h)}}var _a=!1,At=!1,bd=!1,Tg=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function w1(e,n){if(e=e.containerInfo,Hd=Io,e=$m(e),yc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var c=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var _=0,C=-1,P=-1,Q=0,le=0,he=e,J=null;t:for(;;){for(var W;he!==i||c!==0&&he.nodeType!==3||(C=_+c),he!==h||o!==0&&he.nodeType!==3||(P=_+o),he.nodeType===3&&(_+=he.nodeValue.length),(W=he.firstChild)!==null;)J=he,he=W;for(;;){if(he===e)break t;if(J===i&&++Q===c&&(C=_),J===h&&++le===o&&(P=_),(W=he.nextSibling)!==null)break;he=J,J=he.parentNode}he=W}i=C===-1||P===-1?null:{start:C,end:P}}else i=null}i=i||{start:0,end:0}}else i=null;for(qd={focusedElem:e,selectionRange:i},Io=!1,Mt=n;Mt!==null;)if(n=Mt,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Mt=e;else for(;Mt!==null;){switch(n=Mt,h=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=n,c=h.memoizedProps,h=h.memoizedState,o=i.stateNode;try{var Me=Cr(i.type,c,i.elementType===i.type);e=o.getSnapshotBeforeUpdate(Me,h),o.__reactInternalSnapshotBeforeUpdate=e}catch(Oe){ut(i,i.return,Oe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Yd(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Mt=e;break}Mt=n.return}}function Rg(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:qa(e,i),o&4&&Ti(5,i);break;case 1:if(qa(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(_){ut(i,i.return,_)}else{var c=Cr(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){ut(i,i.return,_)}}o&64&&Eg(i),o&512&&Ri(i,i.return);break;case 3:if(qa(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{fp(e,n)}catch(_){ut(i,i.return,_)}}break;case 27:n===null&&o&4&&Cg(i);case 26:case 5:qa(e,i),n===null&&o&4&&Ng(i),o&512&&Ri(i,i.return);break;case 12:qa(e,i);break;case 13:qa(e,i),o&4&&Mg(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=R1.bind(null,i),X1(e,i))));break;case 22:if(o=i.memoizedState!==null||_a,!o){n=n!==null&&n.memoizedState!==null||At,c=_a;var h=At;_a=o,(At=n)&&!h?Fa(e,i,(i.subtreeFlags&8772)!==0):qa(e,i),_a=c,At=h}break;case 30:break;default:qa(e,i)}}function Og(e){var n=e.alternate;n!==null&&(e.alternate=null,Og(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ju(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var mt=null,sn=!1;function wa(e,n,i){for(i=i.child;i!==null;)Dg(e,n,i),i=i.sibling}function Dg(e,n,i){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(je,i)}catch{}switch(i.tag){case 26:At||Jn(i,n),wa(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:At||Jn(i,n);var o=mt,c=sn;Ka(i.type)&&(mt=i.stateNode,sn=!1),wa(e,n,i),Zi(i.stateNode),mt=o,sn=c;break;case 5:At||Jn(i,n);case 6:if(o=mt,c=sn,mt=null,wa(e,n,i),mt=o,sn=c,mt!==null)if(sn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(i.stateNode)}catch(h){ut(i,n,h)}else try{mt.removeChild(i.stateNode)}catch(h){ut(i,n,h)}break;case 18:mt!==null&&(sn?(e=mt,_0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Gi(e)):_0(mt,i.stateNode));break;case 4:o=mt,c=sn,mt=i.stateNode.containerInfo,sn=!0,wa(e,n,i),mt=o,sn=c;break;case 0:case 11:case 14:case 15:At||Ha(2,i,n),At||Ha(4,i,n),wa(e,n,i);break;case 1:At||(Jn(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&kg(i,n,o)),wa(e,n,i);break;case 21:wa(e,n,i);break;case 22:At=(o=At)||i.memoizedState!==null,wa(e,n,i),At=o;break;default:wa(e,n,i)}}function Mg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gi(e)}catch(i){ut(n,n.return,i)}}function S1(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Tg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Tg),n;default:throw Error(s(435,e.tag))}}function xd(e,n){var i=S1(e);n.forEach(function(o){var c=O1.bind(null,e,o);i.has(o)||(i.add(o),o.then(c,c))})}function dn(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var c=i[o],h=e,_=n,C=_;e:for(;C!==null;){switch(C.tag){case 27:if(Ka(C.type)){mt=C.stateNode,sn=!1;break e}break;case 5:mt=C.stateNode,sn=!1;break e;case 3:case 4:mt=C.stateNode.containerInfo,sn=!0;break e}C=C.return}if(mt===null)throw Error(s(160));Dg(h,_,c),mt=null,sn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)zg(n,e),n=n.sibling}var zn=null;function zg(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(n,e),fn(e),o&4&&(Ha(3,e,e.return),Ti(3,e),Ha(5,e,e.return));break;case 1:dn(n,e),fn(e),o&512&&(At||i===null||Jn(i,i.return)),o&64&&_a&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var c=zn;if(dn(n,e),fn(e),o&512&&(At||i===null||Jn(i,i.return)),o&4){var h=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":h=c.getElementsByTagName("title")[0],(!h||h[ti]||h[Ft]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(o),c.head.insertBefore(h,c.querySelector("head > title"))),Pt(h,o,i),h[Ft]=e,Ot(h),o=h;break e;case"link":var _=C0("link","href",c).get(o+(i.href||""));if(_){for(var C=0;C<_.length;C++)if(h=_[C],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){_.splice(C,1);break t}}h=c.createElement(o),Pt(h,o,i),c.head.appendChild(h);break;case"meta":if(_=C0("meta","content",c).get(o+(i.content||""))){for(C=0;C<_.length;C++)if(h=_[C],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){_.splice(C,1);break t}}h=c.createElement(o),Pt(h,o,i),c.head.appendChild(h);break;default:throw Error(s(468,o))}h[Ft]=e,Ot(h),o=h}e.stateNode=o}else T0(c,e.type,e.stateNode);else e.stateNode=j0(c,o,e.memoizedProps);else h!==o?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,o===null?T0(c,e.type,e.stateNode):j0(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&gd(e,e.memoizedProps,i.memoizedProps)}break;case 27:dn(n,e),fn(e),o&512&&(At||i===null||Jn(i,i.return)),i!==null&&o&4&&gd(e,e.memoizedProps,i.memoizedProps);break;case 5:if(dn(n,e),fn(e),o&512&&(At||i===null||Jn(i,i.return)),e.flags&32){c=e.stateNode;try{ts(c,"")}catch(W){ut(e,e.return,W)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,gd(e,c,i!==null?i.memoizedProps:c)),o&1024&&(bd=!0);break;case 6:if(dn(n,e),fn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(W){ut(e,e.return,W)}}break;case 3:if(Po=null,c=zn,zn=Bo(n.containerInfo),dn(n,e),zn=c,fn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Gi(n.containerInfo)}catch(W){ut(e,e.return,W)}bd&&(bd=!1,Ug(e));break;case 4:o=zn,zn=Bo(e.stateNode.containerInfo),dn(n,e),fn(e),zn=o;break;case 12:dn(n,e),fn(e);break;case 13:dn(n,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(kd=U()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,xd(e,o)));break;case 22:c=e.memoizedState!==null;var P=i!==null&&i.memoizedState!==null,Q=_a,le=At;if(_a=Q||c,At=le||P,dn(n,e),At=le,_a=Q,fn(e),o&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(i===null||P||_a||At||Tr(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){P=i=n;try{if(h=P.stateNode,c)_=h.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{C=P.stateNode;var he=P.memoizedProps.style,J=he!=null&&he.hasOwnProperty("display")?he.display:null;C.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(W){ut(P,P.return,W)}}}else if(n.tag===6){if(i===null){P=n;try{P.stateNode.nodeValue=c?"":P.memoizedProps}catch(W){ut(P,P.return,W)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,xd(e,i))));break;case 19:dn(n,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,xd(e,o)));break;case 30:break;case 21:break;default:dn(n,e),fn(e)}}function fn(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(jg(o)){i=o;break}o=o.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var c=i.stateNode,h=yd(e);Ao(e,h,c);break;case 5:var _=i.stateNode;i.flags&32&&(ts(_,""),i.flags&=-33);var C=yd(e);Ao(e,C,_);break;case 3:case 4:var P=i.stateNode.containerInfo,Q=yd(e);vd(e,Q,P);break;default:throw Error(s(161))}}catch(le){ut(e,e.return,le)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ug(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ug(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qa(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rg(e,n.alternate,n),n=n.sibling}function Tr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ha(4,n,n.return),Tr(n);break;case 1:Jn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&kg(n,n.return,i),Tr(n);break;case 27:Zi(n.stateNode);case 26:case 5:Jn(n,n.return),Tr(n);break;case 22:n.memoizedState===null&&Tr(n);break;case 30:Tr(n);break;default:Tr(n)}e=e.sibling}}function Fa(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,h=n,_=h.flags;switch(h.tag){case 0:case 11:case 15:Fa(c,h,i),Ti(4,h);break;case 1:if(Fa(c,h,i),o=h,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(Q){ut(o,o.return,Q)}if(o=h,c=o.updateQueue,c!==null){var C=o.stateNode;try{var P=c.shared.hiddenCallbacks;if(P!==null)for(c.shared.hiddenCallbacks=null,c=0;c<P.length;c++)dp(P[c],C)}catch(Q){ut(o,o.return,Q)}}i&&_&64&&Eg(h),Ri(h,h.return);break;case 27:Cg(h);case 26:case 5:Fa(c,h,i),i&&o===null&&_&4&&Ng(h),Ri(h,h.return);break;case 12:Fa(c,h,i);break;case 13:Fa(c,h,i),i&&_&4&&Mg(c,h);break;case 22:h.memoizedState===null&&Fa(c,h,i),Ri(h,h.return);break;case 30:break;default:Fa(c,h,i)}n=n.sibling}}function _d(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&gi(i))}function wd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&gi(e))}function Wn(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bg(e,n,i,o),n=n.sibling}function Bg(e,n,i,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n,i,o),c&2048&&Ti(9,n);break;case 1:Wn(e,n,i,o);break;case 3:Wn(e,n,i,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&gi(e)));break;case 12:if(c&2048){Wn(e,n,i,o),e=n.stateNode;try{var h=n.memoizedProps,_=h.id,C=h.onPostCommit;typeof C=="function"&&C(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){ut(n,n.return,P)}}else Wn(e,n,i,o);break;case 13:Wn(e,n,i,o);break;case 23:break;case 22:h=n.stateNode,_=n.alternate,n.memoizedState!==null?h._visibility&2?Wn(e,n,i,o):Oi(e,n):h._visibility&2?Wn(e,n,i,o):(h._visibility|=2,xs(e,n,i,o,(n.subtreeFlags&10256)!==0)),c&2048&&_d(_,n);break;case 24:Wn(e,n,i,o),c&2048&&wd(n.alternate,n);break;default:Wn(e,n,i,o)}}function xs(e,n,i,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=e,_=n,C=i,P=o,Q=_.flags;switch(_.tag){case 0:case 11:case 15:xs(h,_,C,P,c),Ti(8,_);break;case 23:break;case 22:var le=_.stateNode;_.memoizedState!==null?le._visibility&2?xs(h,_,C,P,c):Oi(h,_):(le._visibility|=2,xs(h,_,C,P,c)),c&&Q&2048&&_d(_.alternate,_);break;case 24:xs(h,_,C,P,c),c&&Q&2048&&wd(_.alternate,_);break;default:xs(h,_,C,P,c)}n=n.sibling}}function Oi(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,c=o.flags;switch(o.tag){case 22:Oi(i,o),c&2048&&_d(o.alternate,o);break;case 24:Oi(i,o),c&2048&&wd(o.alternate,o);break;default:Oi(i,o)}n=n.sibling}}var Di=8192;function _s(e){if(e.subtreeFlags&Di)for(e=e.child;e!==null;)Lg(e),e=e.sibling}function Lg(e){switch(e.tag){case 26:_s(e),e.flags&Di&&e.memoizedState!==null&&o_(zn,e.memoizedState,e.memoizedProps);break;case 5:_s(e);break;case 3:case 4:var n=zn;zn=Bo(e.stateNode.containerInfo),_s(e),zn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Di,Di=16777216,_s(e),Di=n):_s(e));break;default:_s(e)}}function Pg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Mi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Mt=o,$g(o,e)}Pg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zg(e),e=e.sibling}function Zg(e){switch(e.tag){case 0:case 11:case 15:Mi(e),e.flags&2048&&Ha(9,e,e.return);break;case 3:Mi(e);break;case 12:Mi(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Eo(e)):Mi(e);break;default:Mi(e)}}function Eo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Mt=o,$g(o,e)}Pg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ha(8,n,n.return),Eo(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Eo(n));break;default:Eo(n)}e=e.sibling}}function $g(e,n){for(;Mt!==null;){var i=Mt;switch(i.tag){case 0:case 11:case 15:Ha(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:gi(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Mt=o;else e:for(i=e;Mt!==null;){o=Mt;var c=o.sibling,h=o.return;if(Og(o),o===i){Mt=null;break e}if(c!==null){c.return=h,Mt=c;break e}Mt=h}}}var A1={getCacheForType:function(e){var n=Vt(Nt),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},E1=typeof WeakMap=="function"?WeakMap:Map,tt=0,ht=null,Ve=null,Ge=0,nt=0,hn=null,Va=!1,ws=!1,Sd=!1,Sa=0,_t=0,Ya=0,Rr=0,Ad=0,Cn=0,Ss=0,zi=null,ln=null,Ed=!1,kd=0,ko=1/0,No=null,Ga=null,Lt=0,Xa=null,As=null,Es=0,Nd=0,jd=null,Ig=null,Ui=0,Cd=null;function mn(){if((tt&2)!==0&&Ge!==0)return Ge&-Ge;if(Y.T!==null){var e=fs;return e!==0?e:Ud()}return rm()}function Hg(){Cn===0&&(Cn=(Ge&536870912)===0||Je?Ul():536870912);var e=jn.current;return e!==null&&(e.flags|=32),Cn}function pn(e,n,i){(e===ht&&(nt===2||nt===9)||e.cancelPendingCommit!==null)&&(ks(e,0),Qa(e,Ge,Cn,!1)),Dn(e,i),((tt&2)===0||e!==ht)&&(e===ht&&((tt&2)===0&&(Rr|=i),_t===4&&Qa(e,Ge,Cn,!1)),ea(e))}function qg(e,n,i){if((tt&6)!==0)throw Error(s(327));var o=!i&&(n&124)===0&&(n&e.expiredLanes)===0||Da(e,n),c=o?j1(e,n):Od(e,n,!0),h=o;do{if(c===0){ws&&!o&&Qa(e,n,0,!1);break}else{if(i=e.current.alternate,h&&!k1(i)){c=Od(e,n,!1),h=!1;continue}if(c===2){if(h=n,e.errorRecoveryDisabledLanes&h)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var C=e;c=zi;var P=C.current.memoizedState.isDehydrated;if(P&&(ks(C,_).flags|=256),_=Od(C,_,!1),_!==2){if(Sd&&!P){C.errorRecoveryDisabledLanes|=h,Rr|=h,c=4;break e}h=ln,ln=c,h!==null&&(ln===null?ln=h:ln.push.apply(ln,h))}c=_}if(h=!1,c!==2)continue}}if(c===1){ks(e,0),Qa(e,n,0,!0);break}e:{switch(o=e,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Qa(o,n,Cn,!Va);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=kd+300-U(),10<c)){if(Qa(o,n,Cn,!Va),tn(o,0,!0)!==0)break e;o.timeoutHandle=b0(Fg.bind(null,o,i,ln,No,Ed,n,Cn,Rr,Ss,Va,h,2,-0,0),c);break e}Fg(o,i,ln,No,Ed,n,Cn,Rr,Ss,Va,h,0,-0,0)}}break}while(!0);ea(e)}function Fg(e,n,i,o,c,h,_,C,P,Q,le,he,J,W){if(e.timeoutHandle=-1,he=n.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(Hi={stylesheets:null,count:0,unsuspend:l_},Lg(n),he=u_(),he!==null)){e.cancelPendingCommit=he(Jg.bind(null,e,n,h,i,o,c,_,C,P,le,1,J,W)),Qa(e,h,_,!Q);return}Jg(e,n,h,i,o,c,_,C,P)}function k1(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var c=i[o],h=c.getSnapshot;c=c.value;try{if(!un(h(),c))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qa(e,n,i,o){n&=~Ad,n&=~Rr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var h=31-dt(c),_=1<<h;o[h]=-1,c&=~_}i!==0&&nm(e,i,n)}function jo(){return(tt&6)===0?(Bi(0),!1):!0}function Td(){if(Ve!==null){if(nt===0)var e=Ve.return;else e=Ve,pa=Er=null,Yc(e),vs=null,Ni=0,e=Ve;for(;e!==null;)Ag(e.alternate,e),e=e.return;Ve=null}}function ks(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,q1(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Td(),ht=e,Ve=i=fa(e.current,null),Ge=n,nt=0,hn=null,Va=!1,ws=Da(e,n),Sd=!1,Ss=Cn=Ad=Rr=Ya=_t=0,ln=zi=null,Ed=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-dt(o),h=1<<c;n|=e[c],o&=~h}return Sa=n,Xl(),i}function Vg(e,n){qe=null,Y.H=po,n===vi||n===ro?(n=up(),nt=3):n===ip?(n=up(),nt=4):nt=n===cg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Ve===null&&(_t=1,xo(e,An(n,e.current)))}function Yg(){var e=Y.H;return Y.H=po,e===null?po:e}function Gg(){var e=Y.A;return Y.A=A1,e}function Rd(){_t=4,Va||(Ge&4194048)!==Ge&&jn.current!==null||(ws=!0),(Ya&134217727)===0&&(Rr&134217727)===0||ht===null||Qa(ht,Ge,Cn,!1)}function Od(e,n,i){var o=tt;tt|=2;var c=Yg(),h=Gg();(ht!==e||Ge!==n)&&(No=null,ks(e,n)),n=!1;var _=_t;e:do try{if(nt!==0&&Ve!==null){var C=Ve,P=hn;switch(nt){case 8:Td(),_=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(n=!0);var Q=nt;if(nt=0,hn=null,Ns(e,C,P,Q),i&&ws){_=0;break e}break;default:Q=nt,nt=0,hn=null,Ns(e,C,P,Q)}}N1(),_=_t;break}catch(le){Vg(e,le)}while(!0);return n&&e.shellSuspendCounter++,pa=Er=null,tt=o,Y.H=c,Y.A=h,Ve===null&&(ht=null,Ge=0,Xl()),_}function N1(){for(;Ve!==null;)Xg(Ve)}function j1(e,n){var i=tt;tt|=2;var o=Yg(),c=Gg();ht!==e||Ge!==n?(No=null,ko=U()+500,ks(e,n)):ws=Da(e,n);e:do try{if(nt!==0&&Ve!==null){n=Ve;var h=hn;t:switch(nt){case 1:nt=0,hn=null,Ns(e,n,h,1);break;case 2:case 9:if(lp(h)){nt=0,hn=null,Qg(n);break}n=function(){nt!==2&&nt!==9||ht!==e||(nt=7),ea(e)},h.then(n,n);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:lp(h)?(nt=0,hn=null,Qg(n)):(nt=0,hn=null,Ns(e,n,h,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var C=Ve;if(!_||R0(_)){nt=0,hn=null;var P=C.sibling;if(P!==null)Ve=P;else{var Q=C.return;Q!==null?(Ve=Q,Co(Q)):Ve=null}break t}}nt=0,hn=null,Ns(e,n,h,5);break;case 6:nt=0,hn=null,Ns(e,n,h,6);break;case 8:Td(),_t=6;break e;default:throw Error(s(462))}}C1();break}catch(le){Vg(e,le)}while(!0);return pa=Er=null,Y.H=o,Y.A=c,tt=i,Ve!==null?0:(ht=null,Ge=0,Xl(),_t)}function C1(){for(;Ve!==null&&!fe();)Xg(Ve)}function Xg(e){var n=wg(e.alternate,e,Sa);e.memoizedProps=e.pendingProps,n===null?Co(e):Ve=n}function Qg(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=gg(i,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=gg(i,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:Yc(n);default:Ag(i,n),n=Ve=Km(n,Sa),n=wg(i,n,Sa)}e.memoizedProps=e.pendingProps,n===null?Co(e):Ve=n}function Ns(e,n,i,o){pa=Er=null,Yc(n),vs=null,Ni=0;var c=n.return;try{if(v1(e,c,n,i,Ge)){_t=1,xo(e,An(i,e.current)),Ve=null;return}}catch(h){if(c!==null)throw Ve=c,h;_t=1,xo(e,An(i,e.current)),Ve=null;return}n.flags&32768?(Je||o===1?e=!0:ws||(Ge&536870912)!==0?e=!1:(Va=e=!0,(o===2||o===9||o===3||o===6)&&(o=jn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Kg(n,e)):Co(n)}function Co(e){var n=e;do{if((n.flags&32768)!==0){Kg(n,Va);return}e=n.return;var i=x1(n.alternate,n,Sa);if(i!==null){Ve=i;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=e}while(n!==null);_t===0&&(_t=5)}function Kg(e,n){do{var i=_1(e.alternate,e);if(i!==null){i.flags&=32767,Ve=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Ve=e;return}Ve=e=i}while(e!==null);_t=6,Ve=null}function Jg(e,n,i,o,c,h,_,C,P){e.cancelPendingCommit=null;do To();while(Lt!==0);if((tt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=wc,Yr(e,i,h,_,C,P),e===ht&&(Ve=ht=null,Ge=0),As=n,Xa=e,Es=i,Nd=h,jd=c,Ig=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,D1(ge,function(){return a0(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null,c=G.p,G.p=2,_=tt,tt|=4;try{w1(e,n,i)}finally{tt=_,G.p=c,Y.T=o}}Lt=1,Wg(),e0(),t0()}}function Wg(){if(Lt===1){Lt=0;var e=Xa,n=As,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=Y.T,Y.T=null;var o=G.p;G.p=2;var c=tt;tt|=4;try{zg(n,e);var h=qd,_=$m(e.containerInfo),C=h.focusedElem,P=h.selectionRange;if(_!==C&&C&&C.ownerDocument&&Zm(C.ownerDocument.documentElement,C)){if(P!==null&&yc(C)){var Q=P.start,le=P.end;if(le===void 0&&(le=Q),"selectionStart"in C)C.selectionStart=Q,C.selectionEnd=Math.min(le,C.value.length);else{var he=C.ownerDocument||document,J=he&&he.defaultView||window;if(J.getSelection){var W=J.getSelection(),Me=C.textContent.length,Oe=Math.min(P.start,Me),lt=P.end===void 0?Oe:Math.min(P.end,Me);!W.extend&&Oe>lt&&(_=lt,lt=Oe,Oe=_);var V=Pm(C,Oe),I=Pm(C,lt);if(V&&I&&(W.rangeCount!==1||W.anchorNode!==V.node||W.anchorOffset!==V.offset||W.focusNode!==I.node||W.focusOffset!==I.offset)){var X=he.createRange();X.setStart(V.node,V.offset),W.removeAllRanges(),Oe>lt?(W.addRange(X),W.extend(I.node,I.offset)):(X.setEnd(I.node,I.offset),W.addRange(X))}}}}for(he=[],W=C;W=W.parentNode;)W.nodeType===1&&he.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<he.length;C++){var ue=he[C];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Io=!!Hd,qd=Hd=null}finally{tt=c,G.p=o,Y.T=i}}e.current=n,Lt=2}}function e0(){if(Lt===2){Lt=0;var e=Xa,n=As,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=Y.T,Y.T=null;var o=G.p;G.p=2;var c=tt;tt|=4;try{Rg(e,n.alternate,n)}finally{tt=c,G.p=o,Y.T=i}}Lt=3}}function t0(){if(Lt===4||Lt===3){Lt=0,ae();var e=Xa,n=As,i=Es,o=Ig;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Lt=5:(Lt=0,As=Xa=null,n0(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ga=null),Qu(i),n=n.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(je,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Y.T,c=G.p,G.p=2,Y.T=null;try{for(var h=e.onRecoverableError,_=0;_<o.length;_++){var C=o[_];h(C.value,{componentStack:C.stack})}}finally{Y.T=n,G.p=c}}(Es&3)!==0&&To(),ea(e),c=e.pendingLanes,(i&4194090)!==0&&(c&42)!==0?e===Cd?Ui++:(Ui=0,Cd=e):Ui=0,Bi(0)}}function n0(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,gi(n)))}function To(e){return Wg(),e0(),t0(),a0()}function a0(){if(Lt!==5)return!1;var e=Xa,n=Nd;Nd=0;var i=Qu(Es),o=Y.T,c=G.p;try{G.p=32>i?32:i,Y.T=null,i=jd,jd=null;var h=Xa,_=Es;if(Lt=0,As=Xa=null,Es=0,(tt&6)!==0)throw Error(s(331));var C=tt;if(tt|=4,Zg(h.current),Bg(h,h.current,_,i),tt=C,Bi(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(je,h)}catch{}return!0}finally{G.p=c,Y.T=o,n0(e,n)}}function r0(e,n,i){n=An(i,n),n=ld(e.stateNode,n,2),e=Pa(e,n,2),e!==null&&(Dn(e,2),ea(e))}function ut(e,n,i){if(e.tag===3)r0(e,e,i);else for(;n!==null;){if(n.tag===3){r0(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ga===null||!Ga.has(o))){e=An(i,e),i=og(2),o=Pa(n,i,2),o!==null&&(ug(i,o,n,e),Dn(o,2),ea(o));break}}n=n.return}}function Dd(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new E1;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(i)||(Sd=!0,c.add(i),e=T1.bind(null,e,n,i),n.then(e,e))}function T1(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,ht===e&&(Ge&i)===i&&(_t===4||_t===3&&(Ge&62914560)===Ge&&300>U()-kd?(tt&2)===0&&ks(e,0):Ad|=i,Ss===Ge&&(Ss=0)),ea(e)}function s0(e,n){n===0&&(n=Bl()),e=os(e,n),e!==null&&(Dn(e,n),ea(e))}function R1(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),s0(e,i)}function O1(e,n){var i=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),s0(e,i)}function D1(e,n){return Qt(e,n)}var Ro=null,js=null,Md=!1,Oo=!1,zd=!1,Or=0;function ea(e){e!==js&&e.next===null&&(js===null?Ro=js=e:js=js.next=e),Oo=!0,Md||(Md=!0,z1())}function Bi(e,n){if(!zd&&Oo){zd=!0;do for(var i=!1,o=Ro;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var h=0;else{var _=o.suspendedLanes,C=o.pingedLanes;h=(1<<31-dt(42|e)+1)-1,h&=c&~(_&~C),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,u0(o,h))}else h=Ge,h=tn(o,o===ht?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||Da(o,h)||(i=!0,u0(o,h));o=o.next}while(i);zd=!1}}function M1(){i0()}function i0(){Oo=Md=!1;var e=0;Or!==0&&(H1()&&(e=Or),Or=0);for(var n=U(),i=null,o=Ro;o!==null;){var c=o.next,h=l0(o,n);h===0?(o.next=null,i===null?Ro=c:i.next=c,c===null&&(js=i)):(i=o,(e!==0||(h&3)!==0)&&(Oo=!0)),o=c}Bi(e)}function l0(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var _=31-dt(h),C=1<<_,P=c[_];P===-1?((C&i)===0||(C&o)!==0)&&(c[_]=Gu(C,n)):P<=n&&(e.expiredLanes|=C),h&=~C}if(n=ht,i=Ge,i=tn(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(nt===2||nt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&w(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Da(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&w(o),Qu(i)){case 2:case 8:i=pe;break;case 32:i=ge;break;case 268435456:i=ve;break;default:i=ge}return o=o0.bind(null,e),i=Qt(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&w(o),e.callbackPriority=2,e.callbackNode=null,2}function o0(e,n){if(Lt!==0&&Lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(To()&&e.callbackNode!==i)return null;var o=Ge;return o=tn(e,e===ht?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(qg(e,o,n),l0(e,U()),e.callbackNode!=null&&e.callbackNode===i?o0.bind(null,e):null)}function u0(e,n){if(To())return null;qg(e,n,!0)}function z1(){F1(function(){(tt&6)!==0?Qt(F,M1):i0()})}function Ud(){return Or===0&&(Or=Ul()),Or}function c0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Il(""+e)}function d0(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function U1(e,n,i,o,c){if(n==="submit"&&i&&i.stateNode===c){var h=c0((c[nn]||null).action),_=o.submitter;_&&(n=(n=_[nn]||null)?c0(n.formAction):_.getAttribute("formAction"),n!==null&&(h=n,_=null));var C=new Vl("action","action",null,o,c);e.push({event:C,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Or!==0){var P=_?d0(c,_):new FormData(c);nd(i,{pending:!0,data:P,method:c.method,action:h},null,P)}}else typeof h=="function"&&(C.preventDefault(),P=_?d0(c,_):new FormData(c),nd(i,{pending:!0,data:P,method:c.method,action:h},h,P))},currentTarget:c}]})}}for(var Bd=0;Bd<_c.length;Bd++){var Ld=_c[Bd],B1=Ld.toLowerCase(),L1=Ld[0].toUpperCase()+Ld.slice(1);Mn(B1,"on"+L1)}Mn(qm,"onAnimationEnd"),Mn(Fm,"onAnimationIteration"),Mn(Vm,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(t1,"onTransitionRun"),Mn(n1,"onTransitionStart"),Mn(a1,"onTransitionCancel"),Mn(Ym,"onTransitionEnd"),Jr("onMouseEnter",["mouseout","mouseover"]),Jr("onMouseLeave",["mouseout","mouseover"]),Jr("onPointerEnter",["pointerout","pointerover"]),Jr("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Li));function f0(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],c=o.event;o=o.listeners;e:{var h=void 0;if(n)for(var _=o.length-1;0<=_;_--){var C=o[_],P=C.instance,Q=C.currentTarget;if(C=C.listener,P!==h&&c.isPropagationStopped())break e;h=C,c.currentTarget=Q;try{h(c)}catch(le){bo(le)}c.currentTarget=null,h=P}else for(_=0;_<o.length;_++){if(C=o[_],P=C.instance,Q=C.currentTarget,C=C.listener,P!==h&&c.isPropagationStopped())break e;h=C,c.currentTarget=Q;try{h(c)}catch(le){bo(le)}c.currentTarget=null,h=P}}}}function Ye(e,n){var i=n[Ku];i===void 0&&(i=n[Ku]=new Set);var o=e+"__bubble";i.has(o)||(h0(n,e,2,!1),i.add(o))}function Pd(e,n,i){var o=0;n&&(o|=4),h0(i,e,o,n)}var Do="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[Do]){e[Do]=!0,im.forEach(function(i){i!=="selectionchange"&&(P1.has(i)||Pd(i,!1,e),Pd(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Do]||(n[Do]=!0,Pd("selectionchange",!1,n))}}function h0(e,n,i,o){switch(B0(n)){case 2:var c=f_;break;case 8:c=h_;break;default:c=ef}i=c.bind(null,n,i,e),c=void 0,!oc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function $d(e,n,i,o,c){var h=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var C=o.stateNode.containerInfo;if(C===c)break;if(_===4)for(_=o.return;_!==null;){var P=_.tag;if((P===3||P===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;C!==null;){if(_=Xr(C),_===null)return;if(P=_.tag,P===5||P===6||P===26||P===27){o=h=_;continue e}C=C.parentNode}}o=o.return}xm(function(){var Q=h,le=ic(i),he=[];e:{var J=Gm.get(e);if(J!==void 0){var W=Vl,Me=e;switch(e){case"keypress":if(ql(i)===0)break e;case"keydown":case"keyup":W=Dx;break;case"focusin":Me="focus",W=fc;break;case"focusout":Me="blur",W=fc;break;case"beforeblur":case"afterblur":W=fc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Sm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=_x;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Ux;break;case qm:case Fm:case Vm:W=Ax;break;case Ym:W=Lx;break;case"scroll":case"scrollend":W=bx;break;case"wheel":W=Zx;break;case"copy":case"cut":case"paste":W=kx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Em;break;case"toggle":case"beforetoggle":W=Ix}var Oe=(n&4)!==0,lt=!Oe&&(e==="scroll"||e==="scrollend"),V=Oe?J!==null?J+"Capture":null:J;Oe=[];for(var I=Q,X;I!==null;){var ue=I;if(X=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||X===null||V===null||(ue=ai(I,V),ue!=null&&Oe.push(Pi(I,ue,X))),lt)break;I=I.return}0<Oe.length&&(J=new W(J,Me,null,i,le),he.push({event:J,listeners:Oe}))}}if((n&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",J&&i!==sc&&(Me=i.relatedTarget||i.fromElement)&&(Xr(Me)||Me[Gr]))break e;if((W||J)&&(J=le.window===le?le:(J=le.ownerDocument)?J.defaultView||J.parentWindow:window,W?(Me=i.relatedTarget||i.toElement,W=Q,Me=Me?Xr(Me):null,Me!==null&&(lt=u(Me),Oe=Me.tag,Me!==lt||Oe!==5&&Oe!==27&&Oe!==6)&&(Me=null)):(W=null,Me=Q),W!==Me)){if(Oe=Sm,ue="onMouseLeave",V="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(Oe=Em,ue="onPointerLeave",V="onPointerEnter",I="pointer"),lt=W==null?J:ni(W),X=Me==null?J:ni(Me),J=new Oe(ue,I+"leave",W,i,le),J.target=lt,J.relatedTarget=X,ue=null,Xr(le)===Q&&(Oe=new Oe(V,I+"enter",Me,i,le),Oe.target=X,Oe.relatedTarget=lt,ue=Oe),lt=ue,W&&Me)t:{for(Oe=W,V=Me,I=0,X=Oe;X;X=Cs(X))I++;for(X=0,ue=V;ue;ue=Cs(ue))X++;for(;0<I-X;)Oe=Cs(Oe),I--;for(;0<X-I;)V=Cs(V),X--;for(;I--;){if(Oe===V||V!==null&&Oe===V.alternate)break t;Oe=Cs(Oe),V=Cs(V)}Oe=null}else Oe=null;W!==null&&m0(he,J,W,Oe,!1),Me!==null&&lt!==null&&m0(he,lt,Me,Oe,!0)}}e:{if(J=Q?ni(Q):window,W=J.nodeName&&J.nodeName.toLowerCase(),W==="select"||W==="input"&&J.type==="file")var Ee=Dm;else if(Rm(J))if(Mm)Ee=Jx;else{Ee=Qx;var Fe=Xx}else W=J.nodeName,!W||W.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&rc(Q.elementType)&&(Ee=Dm):Ee=Kx;if(Ee&&(Ee=Ee(e,Q))){Om(he,Ee,i,le);break e}Fe&&Fe(e,J,Q),e==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&ac(J,"number",J.value)}switch(Fe=Q?ni(Q):window,e){case"focusin":(Rm(Fe)||Fe.contentEditable==="true")&&(ss=Fe,vc=Q,di=null);break;case"focusout":di=vc=ss=null;break;case"mousedown":bc=!0;break;case"contextmenu":case"mouseup":case"dragend":bc=!1,Im(he,i,le);break;case"selectionchange":if(e1)break;case"keydown":case"keyup":Im(he,i,le)}var Ce;if(mc)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else rs?Cm(e,i)&&(De="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(De="onCompositionStart");De&&(km&&i.locale!=="ko"&&(rs||De!=="onCompositionStart"?De==="onCompositionEnd"&&rs&&(Ce=_m()):(za=le,uc="value"in za?za.value:za.textContent,rs=!0)),Fe=Mo(Q,De),0<Fe.length&&(De=new Am(De,e,null,i,le),he.push({event:De,listeners:Fe}),Ce?De.data=Ce:(Ce=Tm(i),Ce!==null&&(De.data=Ce)))),(Ce=qx?Fx(e,i):Vx(e,i))&&(De=Mo(Q,"onBeforeInput"),0<De.length&&(Fe=new Am("onBeforeInput","beforeinput",null,i,le),he.push({event:Fe,listeners:De}),Fe.data=Ce)),U1(he,e,Q,i,le)}f0(he,n)})}function Pi(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Mo(e,n){for(var i=n+"Capture",o=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=ai(e,i),c!=null&&o.unshift(Pi(e,c,h)),c=ai(e,n),c!=null&&o.push(Pi(e,c,h))),e.tag===3)return o;e=e.return}return[]}function Cs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function m0(e,n,i,o,c){for(var h=n._reactName,_=[];i!==null&&i!==o;){var C=i,P=C.alternate,Q=C.stateNode;if(C=C.tag,P!==null&&P===o)break;C!==5&&C!==26&&C!==27||Q===null||(P=Q,c?(Q=ai(i,h),Q!=null&&_.unshift(Pi(i,Q,P))):c||(Q=ai(i,h),Q!=null&&_.push(Pi(i,Q,P)))),i=i.return}_.length!==0&&e.push({event:n,listeners:_})}var Z1=/\r\n?/g,$1=/\u0000|\uFFFD/g;function p0(e){return(typeof e=="string"?e:""+e).replace(Z1,`
`).replace($1,"")}function g0(e,n){return n=p0(n),p0(e)===n}function zo(){}function it(e,n,i,o,c,h){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ts(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ts(e,""+o);break;case"className":Pl(e,"class",o);break;case"tabIndex":Pl(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Pl(e,i,o);break;case"style":vm(e,o,h);break;case"data":if(n!=="object"){Pl(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Il(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(n!=="input"&&it(e,n,"name",c.name,c,null),it(e,n,"formEncType",c.formEncType,c,null),it(e,n,"formMethod",c.formMethod,c,null),it(e,n,"formTarget",c.formTarget,c,null)):(it(e,n,"encType",c.encType,c,null),it(e,n,"method",c.method,c,null),it(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Il(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=zo);break;case"onScroll":o!=null&&Ye("scroll",e);break;case"onScrollEnd":o!=null&&Ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=Il(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":Ye("beforetoggle",e),Ye("toggle",e),Ll(e,"popover",o);break;case"xlinkActuate":ca(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ca(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ca(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ca(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ca(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ca(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ca(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ca(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ca(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ll(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=yx.get(i)||i,Ll(e,i,o))}}function Id(e,n,i,o,c,h){switch(i){case"style":vm(e,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof o=="string"?ts(e,o):(typeof o=="number"||typeof o=="bigint")&&ts(e,""+o);break;case"onScroll":o!=null&&Ye("scroll",e);break;case"onScrollEnd":o!=null&&Ye("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lm.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),n=i.slice(2,c?i.length-7:void 0),h=e[nn]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(n,h,c),typeof o=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,c);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):Ll(e,i,o)}}}function Pt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",e),Ye("load",e);var o=!1,c=!1,h;for(h in i)if(i.hasOwnProperty(h)){var _=i[h];if(_!=null)switch(h){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:it(e,n,h,_,i,null)}}c&&it(e,n,"srcSet",i.srcSet,i,null),o&&it(e,n,"src",i.src,i,null);return;case"input":Ye("invalid",e);var C=h=_=c=null,P=null,Q=null;for(o in i)if(i.hasOwnProperty(o)){var le=i[o];if(le!=null)switch(o){case"name":c=le;break;case"type":_=le;break;case"checked":P=le;break;case"defaultChecked":Q=le;break;case"value":h=le;break;case"defaultValue":C=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,n));break;default:it(e,n,o,le,i,null)}}mm(e,h,C,P,Q,_,c,!1),Zl(e);return;case"select":Ye("invalid",e),o=_=h=null;for(c in i)if(i.hasOwnProperty(c)&&(C=i[c],C!=null))switch(c){case"value":h=C;break;case"defaultValue":_=C;break;case"multiple":o=C;default:it(e,n,c,C,i,null)}n=h,i=_,e.multiple=!!o,n!=null?es(e,!!o,n,!1):i!=null&&es(e,!!o,i,!0);return;case"textarea":Ye("invalid",e),h=c=o=null;for(_ in i)if(i.hasOwnProperty(_)&&(C=i[_],C!=null))switch(_){case"value":o=C;break;case"defaultValue":c=C;break;case"children":h=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:it(e,n,_,C,i,null)}gm(e,o,c,h),Zl(e);return;case"option":for(P in i)if(i.hasOwnProperty(P)&&(o=i[P],o!=null))switch(P){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:it(e,n,P,o,i,null)}return;case"dialog":Ye("beforetoggle",e),Ye("toggle",e),Ye("cancel",e),Ye("close",e);break;case"iframe":case"object":Ye("load",e);break;case"video":case"audio":for(o=0;o<Li.length;o++)Ye(Li[o],e);break;case"image":Ye("error",e),Ye("load",e);break;case"details":Ye("toggle",e);break;case"embed":case"source":case"link":Ye("error",e),Ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in i)if(i.hasOwnProperty(Q)&&(o=i[Q],o!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:it(e,n,Q,o,i,null)}return;default:if(rc(n)){for(le in i)i.hasOwnProperty(le)&&(o=i[le],o!==void 0&&Id(e,n,le,o,i,void 0));return}}for(C in i)i.hasOwnProperty(C)&&(o=i[C],o!=null&&it(e,n,C,o,i,null))}function I1(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,_=null,C=null,P=null,Q=null,le=null;for(W in i){var he=i[W];if(i.hasOwnProperty(W)&&he!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":P=he;default:o.hasOwnProperty(W)||it(e,n,W,null,o,he)}}for(var J in o){var W=o[J];if(he=i[J],o.hasOwnProperty(J)&&(W!=null||he!=null))switch(J){case"type":h=W;break;case"name":c=W;break;case"checked":Q=W;break;case"defaultChecked":le=W;break;case"value":_=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,n));break;default:W!==he&&it(e,n,J,W,o,he)}}nc(e,_,C,P,Q,le,h,c);return;case"select":W=_=C=J=null;for(h in i)if(P=i[h],i.hasOwnProperty(h)&&P!=null)switch(h){case"value":break;case"multiple":W=P;default:o.hasOwnProperty(h)||it(e,n,h,null,o,P)}for(c in o)if(h=o[c],P=i[c],o.hasOwnProperty(c)&&(h!=null||P!=null))switch(c){case"value":J=h;break;case"defaultValue":C=h;break;case"multiple":_=h;default:h!==P&&it(e,n,c,h,o,P)}n=C,i=_,o=W,J!=null?es(e,!!i,J,!1):!!o!=!!i&&(n!=null?es(e,!!i,n,!0):es(e,!!i,i?[]:"",!1));return;case"textarea":W=J=null;for(C in i)if(c=i[C],i.hasOwnProperty(C)&&c!=null&&!o.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:it(e,n,C,null,o,c)}for(_ in o)if(c=o[_],h=i[_],o.hasOwnProperty(_)&&(c!=null||h!=null))switch(_){case"value":J=c;break;case"defaultValue":W=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&it(e,n,_,c,o,h)}pm(e,J,W);return;case"option":for(var Me in i)if(J=i[Me],i.hasOwnProperty(Me)&&J!=null&&!o.hasOwnProperty(Me))switch(Me){case"selected":e.selected=!1;break;default:it(e,n,Me,null,o,J)}for(P in o)if(J=o[P],W=i[P],o.hasOwnProperty(P)&&J!==W&&(J!=null||W!=null))switch(P){case"selected":e.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:it(e,n,P,J,o,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in i)J=i[Oe],i.hasOwnProperty(Oe)&&J!=null&&!o.hasOwnProperty(Oe)&&it(e,n,Oe,null,o,J);for(Q in o)if(J=o[Q],W=i[Q],o.hasOwnProperty(Q)&&J!==W&&(J!=null||W!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,n));break;default:it(e,n,Q,J,o,W)}return;default:if(rc(n)){for(var lt in i)J=i[lt],i.hasOwnProperty(lt)&&J!==void 0&&!o.hasOwnProperty(lt)&&Id(e,n,lt,void 0,o,J);for(le in o)J=o[le],W=i[le],!o.hasOwnProperty(le)||J===W||J===void 0&&W===void 0||Id(e,n,le,J,o,W);return}}for(var V in i)J=i[V],i.hasOwnProperty(V)&&J!=null&&!o.hasOwnProperty(V)&&it(e,n,V,null,o,J);for(he in o)J=o[he],W=i[he],!o.hasOwnProperty(he)||J===W||J==null&&W==null||it(e,n,he,J,o,W)}var Hd=null,qd=null;function Uo(e){return e.nodeType===9?e:e.ownerDocument}function y0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v0(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vd=null;function H1(){var e=window.event;return e&&e.type==="popstate"?e===Vd?!1:(Vd=e,!0):(Vd=null,!1)}var b0=typeof setTimeout=="function"?setTimeout:void 0,q1=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,F1=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(e){return x0.resolve(null).then(e).catch(V1)}:b0;function V1(e){setTimeout(function(){throw e})}function Ka(e){return e==="head"}function _0(e,n){var i=n,o=0,c=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(0<o&&8>o){i=o;var _=e.ownerDocument;if(i&1&&Zi(_.documentElement),i&2&&Zi(_.body),i&4)for(i=_.head,Zi(i),_=i.firstChild;_;){var C=_.nextSibling,P=_.nodeName;_[ti]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&_.rel.toLowerCase()==="stylesheet"||i.removeChild(_),_=C}}if(c===0){e.removeChild(h),Gi(n);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:o=i.charCodeAt(0)-48;else o=0;i=h}while(i);Gi(n)}function Yd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Yd(i),Ju(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Y1(e,n,i,o){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ti])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function G1(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Un(e.nextSibling),e===null))return null;return e}function Gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function X1(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Xd=null;function w0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function S0(e,n,i){switch(n=Uo(i),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Zi(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ju(e)}var Tn=new Map,A0=new Set;function Bo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Aa=G.d;G.d={f:Q1,r:K1,D:J1,C:W1,L:e_,m:t_,X:a_,S:n_,M:r_};function Q1(){var e=Aa.f(),n=jo();return e||n}function K1(e){var n=Qr(e);n!==null&&n.tag===5&&n.type==="form"?qp(n):Aa.r(e)}var Ts=typeof document>"u"?null:document;function E0(e,n,i){var o=Ts;if(o&&typeof n=="string"&&n){var c=Sn(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),A0.has(c)||(A0.add(c),e={rel:e,crossOrigin:i,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),Pt(n,"link",e),Ot(n),o.head.appendChild(n)))}}function J1(e){Aa.D(e),E0("dns-prefetch",e,null)}function W1(e,n){Aa.C(e,n),E0("preconnect",e,n)}function e_(e,n,i){Aa.L(e,n,i);var o=Ts;if(o&&e&&n){var c='link[rel="preload"][as="'+Sn(n)+'"]';n==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+Sn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+Sn(i.imageSizes)+'"]')):c+='[href="'+Sn(e)+'"]';var h=c;switch(n){case"style":h=Rs(e);break;case"script":h=Os(e)}Tn.has(h)||(e=y({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Tn.set(h,e),o.querySelector(c)!==null||n==="style"&&o.querySelector($i(h))||n==="script"&&o.querySelector(Ii(h))||(n=o.createElement("link"),Pt(n,"link",e),Ot(n),o.head.appendChild(n)))}}function t_(e,n){Aa.m(e,n);var i=Ts;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Sn(o)+'"][href="'+Sn(e)+'"]',h=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Os(e)}if(!Tn.has(h)&&(e=y({rel:"modulepreload",href:e},n),Tn.set(h,e),i.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ii(h)))return}o=i.createElement("link"),Pt(o,"link",e),Ot(o),i.head.appendChild(o)}}}function n_(e,n,i){Aa.S(e,n,i);var o=Ts;if(o&&e){var c=Kr(o).hoistableStyles,h=Rs(e);n=n||"default";var _=c.get(h);if(!_){var C={loading:0,preload:null};if(_=o.querySelector($i(h)))C.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Tn.get(h))&&Qd(e,i);var P=_=o.createElement("link");Ot(P),Pt(P,"link",e),P._p=new Promise(function(Q,le){P.onload=Q,P.onerror=le}),P.addEventListener("load",function(){C.loading|=1}),P.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Lo(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:C},c.set(h,_)}}}function a_(e,n){Aa.X(e,n);var i=Ts;if(i&&e){var o=Kr(i).hoistableScripts,c=Os(e),h=o.get(c);h||(h=i.querySelector(Ii(c)),h||(e=y({src:e,async:!0},n),(n=Tn.get(c))&&Kd(e,n),h=i.createElement("script"),Ot(h),Pt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(c,h))}}function r_(e,n){Aa.M(e,n);var i=Ts;if(i&&e){var o=Kr(i).hoistableScripts,c=Os(e),h=o.get(c);h||(h=i.querySelector(Ii(c)),h||(e=y({src:e,async:!0,type:"module"},n),(n=Tn.get(c))&&Kd(e,n),h=i.createElement("script"),Ot(h),Pt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(c,h))}}function k0(e,n,i,o){var c=(c=Ae.current)?Bo(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Rs(i.href),i=Kr(c).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Rs(i.href);var h=Kr(c).hoistableStyles,_=h.get(e);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,_),(h=c.querySelector($i(e)))&&!h._p&&(_.instance=h,_.state.loading=5),Tn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Tn.set(e,i),h||s_(c,e,i,_.state))),n&&o===null)throw Error(s(528,""));return _}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Os(i),i=Kr(c).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Rs(e){return'href="'+Sn(e)+'"'}function $i(e){return'link[rel="stylesheet"]['+e+"]"}function N0(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function s_(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Pt(n,"link",i),Ot(n),e.head.appendChild(n))}function Os(e){return'[src="'+Sn(e)+'"]'}function Ii(e){return"script[async]"+e}function j0(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Sn(i.href)+'"]');if(o)return n.instance=o,Ot(o),o;var c=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ot(o),Pt(o,"style",c),Lo(o,i.precedence,e),n.instance=o;case"stylesheet":c=Rs(i.href);var h=e.querySelector($i(c));if(h)return n.state.loading|=4,n.instance=h,Ot(h),h;o=N0(i),(c=Tn.get(c))&&Qd(o,c),h=(e.ownerDocument||e).createElement("link"),Ot(h);var _=h;return _._p=new Promise(function(C,P){_.onload=C,_.onerror=P}),Pt(h,"link",o),n.state.loading|=4,Lo(h,i.precedence,e),n.instance=h;case"script":return h=Os(i.src),(c=e.querySelector(Ii(h)))?(n.instance=c,Ot(c),c):(o=i,(c=Tn.get(h))&&(o=y({},i),Kd(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),Ot(c),Pt(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Lo(o,i.precedence,e));return n.instance}function Lo(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,h=c,_=0;_<o.length;_++){var C=o[_];if(C.dataset.precedence===n)h=C;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Qd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Kd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Po=null;function C0(e,n,i){if(Po===null){var o=new Map,c=Po=new Map;c.set(i,o)}else c=Po,o=c.get(i),o||(o=new Map,c.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var h=i[c];if(!(h[ti]||h[Ft]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var _=h.getAttribute(n)||"";_=e+_;var C=o.get(_);C?C.push(h):o.set(_,[h])}}return o}function T0(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function i_(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function R0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Hi=null;function l_(){}function o_(e,n,i){if(Hi===null)throw Error(s(475));var o=Hi;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Rs(i.href),h=e.querySelector($i(c));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Zo.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=h,Ot(h);return}h=e.ownerDocument||e,i=N0(i),(c=Tn.get(c))&&Qd(i,c),h=h.createElement("link"),Ot(h);var _=h;_._p=new Promise(function(C,P){_.onload=C,_.onerror=P}),Pt(h,"link",i),n.instance=h}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Zo.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function u_(){if(Hi===null)throw Error(s(475));var e=Hi;return e.stylesheets&&e.count===0&&Jd(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&Jd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Zo(){if(this.count--,this.count===0){if(this.stylesheets)Jd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $o=null;function Jd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$o=new Map,n.forEach(c_,e),$o=null,Zo.call(e))}function c_(e,n){if(!(n.state.loading&4)){var i=$o.get(e);if(i)var o=i.get(null);else{i=new Map,$o.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var _=c[h];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(i.set(_.dataset.precedence,_),o=_)}o&&i.set(null,o)}c=n.instance,_=c.getAttribute("data-precedence"),h=i.get(_)||o,h===o&&i.set(null,c),i.set(_,c),this.count++,o=Zo.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var qi={$$typeof:T,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function d_(e,n,i,o,c,h,_,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.hiddenUpdates=Vr(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function O0(e,n,i,o,c,h,_,C,P,Q,le,he){return e=new d_(e,n,i,_,C,P,Q,he),n=1,h===!0&&(n|=24),h=cn(3,null,null,n),e.current=h,h.stateNode=e,n=Dc(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:o,isDehydrated:i,cache:n},Bc(h),e}function D0(e){return e?(e=us,e):us}function M0(e,n,i,o,c,h){c=D0(c),o.context===null?o.context=c:o.pendingContext=c,o=La(n),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Pa(e,o,n),i!==null&&(pn(i,e,n),xi(i,e,n))}function z0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Wd(e,n){z0(e,n),(e=e.alternate)&&z0(e,n)}function U0(e){if(e.tag===13){var n=os(e,67108864);n!==null&&pn(n,e,67108864),Wd(e,67108864)}}var Io=!0;function f_(e,n,i,o){var c=Y.T;Y.T=null;var h=G.p;try{G.p=2,ef(e,n,i,o)}finally{G.p=h,Y.T=c}}function h_(e,n,i,o){var c=Y.T;Y.T=null;var h=G.p;try{G.p=8,ef(e,n,i,o)}finally{G.p=h,Y.T=c}}function ef(e,n,i,o){if(Io){var c=tf(o);if(c===null)$d(e,n,o,Ho,i),L0(e,o);else if(p_(c,e,n,i,o))o.stopPropagation();else if(L0(e,o),n&4&&-1<m_.indexOf(e)){for(;c!==null;){var h=Qr(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var _=On(h.pendingLanes);if(_!==0){var C=h;for(C.pendingLanes|=2,C.entangledLanes|=2;_;){var P=1<<31-dt(_);C.entanglements[1]|=P,_&=~P}ea(h),(tt&6)===0&&(ko=U()+500,Bi(0))}}break;case 13:C=os(h,2),C!==null&&pn(C,h,2),jo(),Wd(h,2)}if(h=tf(o),h===null&&$d(e,n,o,Ho,i),h===c)break;c=h}c!==null&&o.stopPropagation()}else $d(e,n,o,null,i)}}function tf(e){return e=ic(e),nf(e)}var Ho=null;function nf(e){if(Ho=null,e=Xr(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=d(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ho=e,null}function B0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(O()){case F:return 2;case pe:return 8;case ge:case K:return 32;case ve:return 268435456;default:return 32}default:return 32}}var af=!1,Ja=null,Wa=null,er=null,Fi=new Map,Vi=new Map,tr=[],m_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L0(e,n){switch(e){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Fi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(n.pointerId)}}function Yi(e,n,i,o,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Qr(n),n!==null&&U0(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function p_(e,n,i,o,c){switch(n){case"focusin":return Ja=Yi(Ja,e,n,i,o,c),!0;case"dragenter":return Wa=Yi(Wa,e,n,i,o,c),!0;case"mouseover":return er=Yi(er,e,n,i,o,c),!0;case"pointerover":var h=c.pointerId;return Fi.set(h,Yi(Fi.get(h)||null,e,n,i,o,c)),!0;case"gotpointercapture":return h=c.pointerId,Vi.set(h,Yi(Vi.get(h)||null,e,n,i,o,c)),!0}return!1}function P0(e){var n=Xr(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){e.blockedOn=n,ox(e.priority,function(){if(i.tag===13){var o=mn();o=Xu(o);var c=os(i,o);c!==null&&pn(c,i,o),Wd(i,o)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=tf(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);sc=o,i.target.dispatchEvent(o),sc=null}else return n=Qr(i),n!==null&&U0(n),e.blockedOn=i,!1;n.shift()}return!0}function Z0(e,n,i){qo(e)&&i.delete(n)}function g_(){af=!1,Ja!==null&&qo(Ja)&&(Ja=null),Wa!==null&&qo(Wa)&&(Wa=null),er!==null&&qo(er)&&(er=null),Fi.forEach(Z0),Vi.forEach(Z0)}function Fo(e,n){e.blockedOn===n&&(e.blockedOn=null,af||(af=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,g_)))}var Vo=null;function $0(e){Vo!==e&&(Vo=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Vo===e&&(Vo=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(nf(o||i)===null)continue;break}var h=Qr(i);h!==null&&(e.splice(n,3),n-=3,nd(h,{pending:!0,data:c,method:i.method,action:o},o,c))}}))}function Gi(e){function n(P){return Fo(P,e)}Ja!==null&&Fo(Ja,e),Wa!==null&&Fo(Wa,e),er!==null&&Fo(er,e),Fi.forEach(n),Vi.forEach(n);for(var i=0;i<tr.length;i++){var o=tr[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<tr.length&&(i=tr[0],i.blockedOn===null);)P0(i),i.blockedOn===null&&tr.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var c=i[o],h=i[o+1],_=c[nn]||null;if(typeof h=="function")_||$0(i);else if(_){var C=null;if(h&&h.hasAttribute("formAction")){if(c=h,_=h[nn]||null)C=_.formAction;else if(nf(c)!==null)continue}else C=_.action;typeof C=="function"?i[o+1]=C:(i.splice(o,3),o-=3),$0(i)}}}function rf(e){this._internalRoot=e}Yo.prototype.render=rf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,o=mn();M0(i,o,e,n,null,null)},Yo.prototype.unmount=rf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;M0(e.current,2,null,e,null,null),jo(),n[Gr]=null}};function Yo(e){this._internalRoot=e}Yo.prototype.unstable_scheduleHydration=function(e){if(e){var n=rm();e={blockedOn:null,target:e,priority:n};for(var i=0;i<tr.length&&n!==0&&n<tr[i].priority;i++);tr.splice(i,0,e),i===0&&P0(e)}};var I0=t.version;if(I0!=="19.1.0")throw Error(s(527,I0,"19.1.0"));G.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var y_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Go.isDisabled&&Go.supportsFiber)try{je=Go.inject(y_),$e=Go}catch{}}return Qi.createRoot=function(e,n){if(!l(e))throw Error(s(299));var i=!1,o="",c=rg,h=sg,_=ig,C=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(C=n.unstable_transitionCallbacks)),n=O0(e,1,!1,null,null,i,o,c,h,_,C,null),e[Gr]=n.current,Zd(e),new rf(n)},Qi.hydrateRoot=function(e,n,i){if(!l(e))throw Error(s(299));var o=!1,c="",h=rg,_=sg,C=ig,P=null,Q=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(P=i.unstable_transitionCallbacks),i.formState!==void 0&&(Q=i.formState)),n=O0(e,1,!0,n,i??null,o,c,h,_,C,P,Q),n.context=D0(null),i=n.current,o=mn(),o=Xu(o),c=La(o),c.callback=null,Pa(i,c,o),i=o,n.current.lanes=i,Dn(n,i),ea(n),e[Gr]=n.current,Zd(e),new Yo(n)},Qi.version="19.1.0",Qi}var J0;function T_(){if(J0)return of.exports;J0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),of.exports=C_(),of.exports}var R_=T_();const O_="modulepreload",D_=function(r){return"/ursa-minor-ascension/"+r},W0={},uh=function(t,a,s){let l=Promise.resolve();if(a&&a.length>0){let d=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));l=d(a.map(p=>{if(p=D_(p),p in W0)return;W0[p]=!0;const y=p.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const A=document.createElement("link");if(A.rel=y?"stylesheet":O_,y||(A.as="script"),A.crossOrigin="",A.href=p,m&&A.setAttribute("nonce",m),document.head.appendChild(A),y)return new Promise((v,S)=>{A.addEventListener("load",v),A.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return l.then(d=>{for(const f of d||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})};function M_(r={}){const{immediate:t=!1,onNeedRefresh:a,onOfflineReady:s,onRegistered:l,onRegisteredSW:u,onRegisterError:d}=r;let f,m;const p=async(b=!0)=>{await m};async function y(){if("serviceWorker"in navigator){if(f=await uh(async()=>{const{Workbox:b}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:b}},[]).then(({Workbox:b})=>new b("/ursa-minor-ascension/sw.js",{scope:"/ursa-minor-ascension/",type:"classic"})).catch(b=>{d==null||d(b)}),!f)return;f.addEventListener("activated",b=>{(b.isUpdate||b.isExternal)&&window.location.reload()}),f.addEventListener("installed",b=>{b.isUpdate||s==null||s()}),f.register({immediate:t}).then(b=>{u?u("/ursa-minor-ascension/sw.js",b):l==null||l(b)}).catch(b=>{d==null||d(b)})}}return m=y(),p}var Ki={},ey;function z_(){if(ey)return Ki;ey=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.parse=d,Ki.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function d(A,v){const S=new u,x=A.length;if(x<2)return S;const E=(v==null?void 0:v.decode)||y;let k=0;do{const N=A.indexOf("=",k);if(N===-1)break;const T=A.indexOf(";",k),M=T===-1?x:T;if(N>M){k=A.lastIndexOf(";",N-1)+1;continue}const R=f(A,k,N),H=m(A,N,R),q=A.slice(R,H);if(S[q]===void 0){let ne=f(A,N+1,M),Z=m(A,M,ne);const te=E(A.slice(ne,Z));S[q]=te}k=M+1}while(k<x);return S}function f(A,v,S){do{const x=A.charCodeAt(v);if(x!==32&&x!==9)return v}while(++v<S);return S}function m(A,v,S){for(;v>S;){const x=A.charCodeAt(--v);if(x!==32&&x!==9)return v+1}return S}function p(A,v,S){const x=(S==null?void 0:S.encode)||encodeURIComponent;if(!r.test(A))throw new TypeError(`argument name is invalid: ${A}`);const E=x(v);if(!t.test(E))throw new TypeError(`argument val is invalid: ${v}`);let k=A+"="+E;if(!S)return k;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);k+="; Max-Age="+S.maxAge}if(S.domain){if(!a.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);k+="; Domain="+S.domain}if(S.path){if(!s.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);k+="; Path="+S.path}if(S.expires){if(!b(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);k+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(k+="; HttpOnly"),S.secure&&(k+="; Secure"),S.partitioned&&(k+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return k}function y(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function b(A){return l.call(A)==="[object Date]"}return Ki}z_();var ty="popstate";function U_(r={}){function t(l,u){let{pathname:d="/",search:f="",hash:m=""}=qr(l.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Mf("",{pathname:d,search:f,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function a(l,u){let d=l.document.querySelector("base"),f="";if(d&&d.getAttribute("href")){let m=l.location.href,p=m.indexOf("#");f=p===-1?m:m.slice(0,p)}return f+"#"+(typeof u=="string"?u:cl(u))}function s(l,u){Yn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return L_(t,a,s,r)}function vt(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Yn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function B_(){return Math.random().toString(36).substring(2,10)}function ny(r,t){return{usr:r.state,key:r.key,idx:t}}function Mf(r,t,a=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?qr(t):t,state:a,key:t&&t.key||s||B_()}}function cl({pathname:r="/",search:t="",hash:a=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function qr(r){let t={};if(r){let a=r.indexOf("#");a>=0&&(t.hash=r.substring(a),r=r.substring(0,a));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function L_(r,t,a,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,d=l.history,f="POP",m=null,p=y();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function y(){return(d.state||{idx:null}).idx}function b(){f="POP";let E=y(),k=E==null?null:E-p;p=E,m&&m({action:f,location:x.location,delta:k})}function A(E,k){f="PUSH";let N=Mf(x.location,E,k);a&&a(N,E),p=y()+1;let T=ny(N,p),M=x.createHref(N);try{d.pushState(T,"",M)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;l.location.assign(M)}u&&m&&m({action:f,location:x.location,delta:1})}function v(E,k){f="REPLACE";let N=Mf(x.location,E,k);a&&a(N,E),p=y();let T=ny(N,p),M=x.createHref(N);d.replaceState(T,"",M),u&&m&&m({action:f,location:x.location,delta:0})}function S(E){return P_(E)}let x={get action(){return f},get location(){return r(l,d)},listen(E){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(ty,b),m=E,()=>{l.removeEventListener(ty,b),m=null}},createHref(E){return t(l,E)},createURL:S,encodeLocation(E){let k=S(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:A,replace:v,go(E){return d.go(E)}};return x}function P_(r,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),vt(a,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:cl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function Wy(r,t,a="/"){return Z_(r,t,a,!1)}function Z_(r,t,a,s){let l=typeof t=="string"?qr(t):t,u=Ra(l.pathname||"/",a);if(u==null)return null;let d=ev(r);$_(d);let f=null;for(let m=0;f==null&&m<d.length;++m){let p=J_(u);f=Q_(d[m],p,s)}return f}function ev(r,t=[],a=[],s=""){let l=(u,d,f)=>{let m={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};m.relativePath.startsWith("/")&&(vt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=Ta([s,m.relativePath]),y=a.concat(m);u.children&&u.children.length>0&&(vt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),ev(u.children,t,y,p)),!(u.path==null&&!u.index)&&t.push({path:p,score:G_(p,u.index),routesMeta:y})};return r.forEach((u,d)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,d);else for(let m of tv(u.path))l(u,d,m)}),t}function tv(r){let t=r.split("/");if(t.length===0)return[];let[a,...s]=t,l=a.endsWith("?"),u=a.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let d=tv(s.join("/")),f=[];return f.push(...d.map(m=>m===""?u:[u,m].join("/"))),l&&f.push(...d),f.map(m=>r.startsWith("/")&&m===""?"/":m)}function $_(r){r.sort((t,a)=>t.score!==a.score?a.score-t.score:X_(t.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var I_=/^:[\w-]+$/,H_=3,q_=2,F_=1,V_=10,Y_=-2,ay=r=>r==="*";function G_(r,t){let a=r.split("/"),s=a.length;return a.some(ay)&&(s+=Y_),t&&(s+=q_),a.filter(l=>!ay(l)).reduce((l,u)=>l+(I_.test(u)?H_:u===""?F_:V_),s)}function X_(r,t){return r.length===t.length&&r.slice(0,-1).every((s,l)=>s===t[l])?r[r.length-1]-t[t.length-1]:0}function Q_(r,t,a=!1){let{routesMeta:s}=r,l={},u="/",d=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=u==="/"?t:t.slice(u.length)||"/",b=yu({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),A=m.route;if(!b&&p&&a&&!s[s.length-1].route.index&&(b=yu({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!b)return null;Object.assign(l,b.params),d.push({params:l,pathname:Ta([u,b.pathname]),pathnameBase:nw(Ta([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=Ta([u,b.pathnameBase]))}return d}function yu(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[a,s]=K_(r.path,r.caseSensitive,r.end),l=t.match(a);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:b},A)=>{if(y==="*"){let S=f[A]||"";d=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const v=f[A];return b&&!v?p[y]=void 0:p[y]=(v||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:r}}function K_(r,t=!1,a=!0){Yn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function J_(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Ra(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=r.charAt(a);return s&&s!=="/"?null:r.slice(a)||"/"}function W_(r,t="/"){let{pathname:a,search:s="",hash:l=""}=typeof r=="string"?qr(r):r;return{pathname:a?a.startsWith("/")?a:ew(a,t):t,search:aw(s),hash:rw(l)}}function ew(r,t){let a=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?a.length>1&&a.pop():l!=="."&&a.push(l)}),a.length>1?a.join("/"):"/"}function ff(r,t,a,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tw(r){return r.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function nv(r){let t=tw(r);return t.map((a,s)=>s===t.length-1?a.pathname:a.pathnameBase)}function av(r,t,a,s=!1){let l;typeof r=="string"?l=qr(r):(l={...r},vt(!l.pathname||!l.pathname.includes("?"),ff("?","pathname","search",l)),vt(!l.pathname||!l.pathname.includes("#"),ff("#","pathname","hash",l)),vt(!l.search||!l.search.includes("#"),ff("#","search","hash",l)));let u=r===""||l.pathname==="",d=u?"/":l.pathname,f;if(d==null)f=a;else{let b=t.length-1;if(!s&&d.startsWith("..")){let A=d.split("/");for(;A[0]==="..";)A.shift(),b-=1;l.pathname=A.join("/")}f=b>=0?t[b]:"/"}let m=W_(l,f),p=d&&d!=="/"&&d.endsWith("/"),y=(u||d===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Ta=r=>r.join("/").replace(/\/\/+/g,"/"),nw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),aw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,rw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function sw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var rv=["POST","PUT","PATCH","DELETE"];new Set(rv);var iw=["GET",...rv];new Set(iw);var Qs=z.createContext(null);Qs.displayName="DataRouter";var Ru=z.createContext(null);Ru.displayName="DataRouterState";var sv=z.createContext({isTransitioning:!1});sv.displayName="ViewTransition";var lw=z.createContext(new Map);lw.displayName="Fetchers";var ow=z.createContext(null);ow.displayName="Await";var la=z.createContext(null);la.displayName="Navigation";var kl=z.createContext(null);kl.displayName="Location";var Xn=z.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var ch=z.createContext(null);ch.displayName="RouteError";function uw(r,{relative:t}={}){vt(Nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=z.useContext(la),{hash:l,pathname:u,search:d}=jl(r,{relative:t}),f=u;return a!=="/"&&(f=u==="/"?a:Ta([a,u])),s.createHref({pathname:f,search:d,hash:l})}function Nl(){return z.useContext(kl)!=null}function oa(){return vt(Nl(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(kl).location}var iv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lv(r){z.useContext(la).static||z.useLayoutEffect(r)}function Ks(){let{isDataRoute:r}=z.useContext(Xn);return r?Aw():cw()}function cw(){vt(Nl(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Qs),{basename:t,navigator:a}=z.useContext(la),{matches:s}=z.useContext(Xn),{pathname:l}=oa(),u=JSON.stringify(nv(s)),d=z.useRef(!1);return lv(()=>{d.current=!0}),z.useCallback((m,p={})=>{if(Yn(d.current,iv),!d.current)return;if(typeof m=="number"){a.go(m);return}let y=av(m,JSON.parse(u),l,p.relative==="path");r==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Ta([t,y.pathname])),(p.replace?a.replace:a.push)(y,p.state,p)},[t,a,u,l,r])}var dw=z.createContext(null);function fw(r){let t=z.useContext(Xn).outlet;return t&&z.createElement(dw.Provider,{value:r},t)}function dh(){let{matches:r}=z.useContext(Xn),t=r[r.length-1];return t?t.params:{}}function jl(r,{relative:t}={}){let{matches:a}=z.useContext(Xn),{pathname:s}=oa(),l=JSON.stringify(nv(a));return z.useMemo(()=>av(r,JSON.parse(l),s,t==="path"),[r,l,s,t])}function hw(r,t){return ov(r,t)}function ov(r,t,a,s){var N;vt(Nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=z.useContext(la),{matches:d}=z.useContext(Xn),f=d[d.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",b=f&&f.route;{let T=b&&b.path||"";uv(p,!b||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let A=oa(),v;if(t){let T=typeof t=="string"?qr(t):t;vt(y==="/"||((N=T.pathname)==null?void 0:N.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=A;let S=v.pathname||"/",x=S;if(y!=="/"){let T=y.replace(/^\//,"").split("/");x="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=!u&&a&&a.matches&&a.matches.length>0?a.matches:Wy(r,{pathname:x});Yn(b||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Yn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=vw(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},m,T.params),pathname:Ta([y,l.encodeLocation?l.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?y:Ta([y,l.encodeLocation?l.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),d,a,s);return t&&k?z.createElement(kl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},k):k}function mw(){let r=Sw(),t=sw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),a=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),a?z.createElement("pre",{style:l},a):null,d)}var pw=z.createElement(mw,null),gw=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?z.createElement(Xn.Provider,{value:this.props.routeContext},z.createElement(ch.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yw({routeContext:r,match:t,children:a}){let s=z.useContext(Qs);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(Xn.Provider,{value:r},a)}function vw(r,t=[],a=null,s=null){if(r==null){if(!a)return null;if(a.errors)r=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)r=a.matches;else return null}let l=r,u=a==null?void 0:a.errors;if(u!=null){let m=l.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);vt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,f=-1;if(a)for(let m=0;m<l.length;m++){let p=l[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:y,errors:b}=a,A=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||A){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((m,p,y)=>{let b,A=!1,v=null,S=null;a&&(b=u&&p.route.id?u[p.route.id]:void 0,v=p.route.errorElement||pw,d&&(f<0&&y===0?(uv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,S=null):f===y&&(A=!0,S=p.route.hydrateFallbackElement||null)));let x=t.concat(l.slice(0,y+1)),E=()=>{let k;return b?k=v:A?k=S:p.route.Component?k=z.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=m,z.createElement(yw,{match:p,routeContext:{outlet:m,matches:x,isDataRoute:a!=null},children:k})};return a&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?z.createElement(gw,{location:a.location,revalidation:a.revalidation,component:v,error:b,children:E(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):E()},null)}function fh(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bw(r){let t=z.useContext(Qs);return vt(t,fh(r)),t}function xw(r){let t=z.useContext(Ru);return vt(t,fh(r)),t}function _w(r){let t=z.useContext(Xn);return vt(t,fh(r)),t}function hh(r){let t=_w(r),a=t.matches[t.matches.length-1];return vt(a.route.id,`${r} can only be used on routes that contain a unique "id"`),a.route.id}function ww(){return hh("useRouteId")}function Sw(){var s;let r=z.useContext(ch),t=xw("useRouteError"),a=hh("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[a]}function Aw(){let{router:r}=bw("useNavigate"),t=hh("useNavigate"),a=z.useRef(!1);return lv(()=>{a.current=!0}),z.useCallback(async(l,u={})=>{Yn(a.current,iv),a.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...u}))},[r,t])}var ry={};function uv(r,t,a){!t&&!ry[r]&&(ry[r]=!0,Yn(!1,a))}z.memo(Ew);function Ew({routes:r,future:t,state:a}){return ov(r,void 0,a,t)}function cv(r){return fw(r.context)}function Tt(r){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kw({basename:r="/",children:t=null,location:a,navigationType:s="POP",navigator:l,static:u=!1}){vt(!Nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),f=z.useMemo(()=>({basename:d,navigator:l,static:u,future:{}}),[d,l,u]);typeof a=="string"&&(a=qr(a));let{pathname:m="/",search:p="",hash:y="",state:b=null,key:A="default"}=a,v=z.useMemo(()=>{let S=Ra(m,d);return S==null?null:{location:{pathname:S,search:p,hash:y,state:b,key:A},navigationType:s}},[d,m,p,y,b,A,s]);return Yn(v!=null,`<Router basename="${d}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:z.createElement(la.Provider,{value:f},z.createElement(kl.Provider,{children:t,value:v}))}function Nw({children:r,location:t}){return hw(zf(r),t)}function zf(r,t=[]){let a=[];return z.Children.forEach(r,(s,l)=>{if(!z.isValidElement(s))return;let u=[...t,l];if(s.type===z.Fragment){a.push.apply(a,zf(s.props.children,u));return}vt(s.type===Tt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=zf(s.props.children,u)),a.push(d)}),a}var ou="get",uu="application/x-www-form-urlencoded";function Ou(r){return r!=null&&typeof r.tagName=="string"}function jw(r){return Ou(r)&&r.tagName.toLowerCase()==="button"}function Cw(r){return Ou(r)&&r.tagName.toLowerCase()==="form"}function Tw(r){return Ou(r)&&r.tagName.toLowerCase()==="input"}function Rw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ow(r,t){return r.button===0&&(!t||t==="_self")&&!Rw(r)}var Qo=null;function Dw(){if(Qo===null)try{new FormData(document.createElement("form"),0),Qo=!1}catch{Qo=!0}return Qo}var Mw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hf(r){return r!=null&&!Mw.has(r)?(Yn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uu}"`),null):r}function zw(r,t){let a,s,l,u,d;if(Cw(r)){let f=r.getAttribute("action");s=f?Ra(f,t):null,a=r.getAttribute("method")||ou,l=hf(r.getAttribute("enctype"))||uu,u=new FormData(r)}else if(jw(r)||Tw(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||f.getAttribute("action");if(s=m?Ra(m,t):null,a=r.getAttribute("formmethod")||f.getAttribute("method")||ou,l=hf(r.getAttribute("formenctype"))||hf(f.getAttribute("enctype"))||uu,u=new FormData(f,r),!Dw()){let{name:p,type:y,value:b}=r;if(y==="image"){let A=p?`${p}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else p&&u.append(p,b)}}else{if(Ou(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=ou,s=null,l=uu,d=r}return u&&l==="text/plain"&&(d=u,u=void 0),{action:s,method:a.toLowerCase(),encType:l,formData:u,body:d}}function mh(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function Uw(r,t){if(r.id in t)return t[r.id];try{let a=await import(r.module);return t[r.id]=a,a}catch(a){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Lw(r,t,a){let s=await Promise.all(r.map(async l=>{let u=t.routes[l.route.id];if(u){let d=await Uw(u,a);return d.links?d.links():[]}return[]}));return Iw(s.flat(1).filter(Bw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function sy(r,t,a,s,l,u){let d=(m,p)=>a[p]?m.route.id!==a[p].route.id:!0,f=(m,p)=>{var y;return a[p].pathname!==m.pathname||((y=a[p].route.path)==null?void 0:y.endsWith("*"))&&a[p].params["*"]!==m.params["*"]};return u==="assets"?t.filter((m,p)=>d(m,p)||f(m,p)):u==="data"?t.filter((m,p)=>{var b;let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(d(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let A=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=a[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Pw(r,t,{includeHydrateFallback:a}={}){return Zw(r.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),a&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function Zw(r){return[...new Set(r)]}function $w(r){let t={},a=Object.keys(r).sort();for(let s of a)t[s]=r[s];return t}function Iw(r,t){let a=new Set;return new Set(t),r.reduce((s,l)=>{let u=JSON.stringify($w(l));return a.has(u)||(a.add(u),s.push({key:u,link:l})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Hw=new Set([100,101,204,205]);function qw(r,t){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname="_root.data":t&&Ra(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.data`:a.pathname=`${a.pathname.replace(/\/$/,"")}.data`,a}function dv(){let r=z.useContext(Qs);return mh(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Fw(){let r=z.useContext(Ru);return mh(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ph=z.createContext(void 0);ph.displayName="FrameworkContext";function fv(){let r=z.useContext(ph);return mh(r,"You must render this element inside a <HydratedRouter> element"),r}function Vw(r,t){let a=z.useContext(ph),[s,l]=z.useState(!1),[u,d]=z.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=t,A=z.useRef(null);z.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let x=k=>{k.forEach(N=>{d(N.isIntersecting)})},E=new IntersectionObserver(x,{threshold:.5});return A.current&&E.observe(A.current),()=>{E.disconnect()}}},[r]),z.useEffect(()=>{if(s){let x=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(x)}}},[s]);let v=()=>{l(!0)},S=()=>{l(!1),d(!1)};return a?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Ji(f,v),onBlur:Ji(m,S),onMouseEnter:Ji(p,v),onMouseLeave:Ji(y,S),onTouchStart:Ji(b,v)}]:[!1,A,{}]}function Ji(r,t){return a=>{r&&r(a),a.defaultPrevented||t(a)}}function Yw({page:r,...t}){let{router:a}=dv(),s=z.useMemo(()=>Wy(a.routes,r,a.basename),[a.routes,r,a.basename]);return s?z.createElement(Xw,{page:r,matches:s,...t}):null}function Gw(r){let{manifest:t,routeModules:a}=fv(),[s,l]=z.useState([]);return z.useEffect(()=>{let u=!1;return Lw(r,t,a).then(d=>{u||l(d)}),()=>{u=!0}},[r,t,a]),s}function Xw({page:r,matches:t,...a}){let s=oa(),{manifest:l,routeModules:u}=fv(),{basename:d}=dv(),{loaderData:f,matches:m}=Fw(),p=z.useMemo(()=>sy(r,t,m,l,s,"data"),[r,t,m,l,s]),y=z.useMemo(()=>sy(r,t,m,l,s,"assets"),[r,t,m,l,s]),b=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let S=new Set,x=!1;if(t.forEach(k=>{var T;let N=l.routes[k.route.id];!N||!N.hasLoader||(!p.some(M=>M.route.id===k.route.id)&&k.route.id in f&&((T=u[k.route.id])!=null&&T.shouldRevalidate)||N.hasClientLoader?x=!0:S.add(k.route.id))}),S.size===0)return[];let E=qw(r,d);return x&&S.size>0&&E.searchParams.set("_routes",t.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[E.pathname+E.search]},[d,f,s,l,p,t,r,u]),A=z.useMemo(()=>Pw(y,l),[y,l]),v=Gw(y);return z.createElement(z.Fragment,null,b.map(S=>z.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...a})),A.map(S=>z.createElement("link",{key:S,rel:"modulepreload",href:S,...a})),v.map(({key:S,link:x})=>z.createElement("link",{key:S,...x})))}function Qw(...r){return t=>{r.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var hv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hv&&(window.__reactRouterVersion="7.6.0")}catch{}function Kw({basename:r,children:t,window:a}){let s=z.useRef();s.current==null&&(s.current=U_({window:a,v5Compat:!0}));let l=s.current,[u,d]=z.useState({action:l.action,location:l.location}),f=z.useCallback(m=>{z.startTransition(()=>d(m))},[d]);return z.useLayoutEffect(()=>l.listen(f),[l,f]),z.createElement(kw,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:l})}var mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,It=z.forwardRef(function({onClick:t,discover:a="render",prefetch:s="none",relative:l,reloadDocument:u,replace:d,state:f,target:m,to:p,preventScrollReset:y,viewTransition:b,...A},v){let{basename:S}=z.useContext(la),x=typeof p=="string"&&mv.test(p),E,k=!1;if(typeof p=="string"&&x&&(E=p,hv))try{let Z=new URL(window.location.href),te=p.startsWith("//")?new URL(Z.protocol+p):new URL(p),ce=Ra(te.pathname,S);te.origin===Z.origin&&ce!=null?p=ce+te.search+te.hash:k=!0}catch{Yn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=uw(p,{relative:l}),[T,M,R]=Vw(s,A),H=t2(p,{replace:d,state:f,target:m,preventScrollReset:y,relative:l,viewTransition:b});function q(Z){t&&t(Z),Z.defaultPrevented||H(Z)}let ne=z.createElement("a",{...A,...R,href:E||N,onClick:k||u?t:q,ref:Qw(v,M),target:m,"data-discover":!x&&a==="render"?"true":void 0});return T&&!x?z.createElement(z.Fragment,null,ne,z.createElement(Yw,{page:N})):ne});It.displayName="Link";var Jw=z.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:s="",end:l=!1,style:u,to:d,viewTransition:f,children:m,...p},y){let b=jl(d,{relative:p.relative}),A=oa(),v=z.useContext(Ru),{navigator:S,basename:x}=z.useContext(la),E=v!=null&&i2(b)&&f===!0,k=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,N=A.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(N=N.toLowerCase(),T=T?T.toLowerCase():null,k=k.toLowerCase()),T&&x&&(T=Ra(T,x)||T);const M=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let R=N===k||!l&&N.startsWith(k)&&N.charAt(M)==="/",H=T!=null&&(T===k||!l&&T.startsWith(k)&&T.charAt(k.length)==="/"),q={isActive:R,isPending:H,isTransitioning:E},ne=R?t:void 0,Z;typeof s=="function"?Z=s(q):Z=[s,R?"active":null,H?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let te=typeof u=="function"?u(q):u;return z.createElement(It,{...p,"aria-current":ne,className:Z,ref:y,style:te,to:d,viewTransition:f},typeof m=="function"?m(q):m)});Jw.displayName="NavLink";var Ww=z.forwardRef(({discover:r="render",fetcherKey:t,navigate:a,reloadDocument:s,replace:l,state:u,method:d=ou,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:b,...A},v)=>{let S=r2(),x=s2(f,{relative:p}),E=d.toLowerCase()==="get"?"get":"post",k=typeof f=="string"&&mv.test(f),N=T=>{if(m&&m(T),T.defaultPrevented)return;T.preventDefault();let M=T.nativeEvent.submitter,R=(M==null?void 0:M.getAttribute("formmethod"))||d;S(M||T.currentTarget,{fetcherKey:t,method:R,navigate:a,replace:l,state:u,relative:p,preventScrollReset:y,viewTransition:b})};return z.createElement("form",{ref:v,method:E,action:x,onSubmit:s?m:N,...A,"data-discover":!k&&r==="render"?"true":void 0})});Ww.displayName="Form";function e2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pv(r){let t=z.useContext(Qs);return vt(t,e2(r)),t}function t2(r,{target:t,replace:a,state:s,preventScrollReset:l,relative:u,viewTransition:d}={}){let f=Ks(),m=oa(),p=jl(r,{relative:u});return z.useCallback(y=>{if(Ow(y,t)){y.preventDefault();let b=a!==void 0?a:cl(m)===cl(p);f(r,{replace:b,state:s,preventScrollReset:l,relative:u,viewTransition:d})}},[m,f,p,a,s,t,r,l,u,d])}var n2=0,a2=()=>`__${String(++n2)}__`;function r2(){let{router:r}=pv("useSubmit"),{basename:t}=z.useContext(la),a=ww();return z.useCallback(async(s,l={})=>{let{action:u,method:d,encType:f,formData:m,body:p}=zw(s,t);if(l.navigate===!1){let y=l.fetcherKey||a2();await r.fetch(y,a,l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:a,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,a])}function s2(r,{relative:t}={}){let{basename:a}=z.useContext(la),s=z.useContext(Xn);vt(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...jl(r||".",{relative:t})},d=oa();if(r==null){u.search=d.search;let f=new URLSearchParams(u.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(b=>b).forEach(b=>f.append("index",b));let y=f.toString();u.search=y?`?${y}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:Ta([a,u.pathname])),cl(u)}function i2(r,t={}){let a=z.useContext(sv);vt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=pv("useViewTransitionState"),l=jl(r,{relative:t.relative});if(!a.isTransitioning)return!1;let u=Ra(a.currentLocation.pathname,s)||a.currentLocation.pathname,d=Ra(a.nextLocation.pathname,s)||a.nextLocation.pathname;return yu(l.pathname,d)!=null||yu(l.pathname,u)!=null}[...Hw];function l2(){return g.jsxs("div",{className:"container mx-auto px-4 py-12",children:[g.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Ursa Minor Ascension"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 border-l-4 border-blue-600 hover:shadow-lg transition-shadow",children:[g.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Create"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Capture, process, and organize learning content. Generate flashcards from your materials."}),g.jsxs("div",{className:"mb-6",children:[g.jsxs("div",{className:"flex items-center mb-2",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"})}),g.jsx("span",{children:"Capture content with your camera"})]}),g.jsxs("div",{className:"flex items-center mb-2",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),g.jsx("span",{children:"Generate AI-powered flashcards"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})}),g.jsx("span",{children:"Create and organize study materials"})]})]}),"          ",g.jsx(It,{to:"/creator/dashboard",className:"block w-full py-2 px-4 bg-blue-600 text-white text-center rounded-md hover:bg-blue-700 transition-colors",children:"Content Creator Mode"})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 border-l-4 border-green-600 hover:shadow-lg transition-shadow",children:[g.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Study"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Access study materials, review flashcards, and improve your learning."}),g.jsxs("div",{className:"mb-6",children:[g.jsxs("div",{className:"flex items-center mb-2",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),g.jsx("span",{children:"Browse your learning materials"})]}),g.jsxs("div",{className:"flex items-center mb-2",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),g.jsx("span",{children:"Access pre-made study packs"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),g.jsx("span",{children:"Review flashcards and test your knowledge"})]})]}),"          ",g.jsx(It,{to:"/viewer/dashboard",className:"block w-full py-2 px-4 bg-green-600 text-white text-center rounded-md hover:bg-green-700 transition-colors",children:"Student Mode"})]})]})]})}const Zt=[];for(let r=0;r<256;++r)Zt.push((r+256).toString(16).slice(1));function o2(r,t=0){return(Zt[r[t+0]]+Zt[r[t+1]]+Zt[r[t+2]]+Zt[r[t+3]]+"-"+Zt[r[t+4]]+Zt[r[t+5]]+"-"+Zt[r[t+6]]+Zt[r[t+7]]+"-"+Zt[r[t+8]]+Zt[r[t+9]]+"-"+Zt[r[t+10]]+Zt[r[t+11]]+Zt[r[t+12]]+Zt[r[t+13]]+Zt[r[t+14]]+Zt[r[t+15]]).toLowerCase()}let mf;const u2=new Uint8Array(16);function c2(){if(!mf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");mf=crypto.getRandomValues.bind(crypto)}return mf(u2)}const d2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),iy={randomUUID:d2};function Du(r,t,a){var l;if(iy.randomUUID&&!r)return iy.randomUUID();r=r||{};const s=r.random??((l=r.rng)==null?void 0:l.call(r))??c2();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,o2(s)}const Uf="RFC3986",Bf={RFC1738:r=>String(r).replace(/%20/g,"+"),RFC3986:r=>String(r)},f2="RFC1738",h2=Array.isArray,ta=(()=>{const r=[];for(let t=0;t<256;++t)r.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return r})(),pf=1024,m2=(r,t,a,s,l)=>{if(r.length===0)return r;let u=r;if(typeof r=="symbol"?u=Symbol.prototype.toString.call(r):typeof r!="string"&&(u=String(r)),a==="iso-8859-1")return escape(u).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});let d="";for(let f=0;f<u.length;f+=pf){const m=u.length>=pf?u.slice(f,f+pf):u,p=[];for(let y=0;y<m.length;++y){let b=m.charCodeAt(y);if(b===45||b===46||b===95||b===126||b>=48&&b<=57||b>=65&&b<=90||b>=97&&b<=122||l===f2&&(b===40||b===41)){p[p.length]=m.charAt(y);continue}if(b<128){p[p.length]=ta[b];continue}if(b<2048){p[p.length]=ta[192|b>>6]+ta[128|b&63];continue}if(b<55296||b>=57344){p[p.length]=ta[224|b>>12]+ta[128|b>>6&63]+ta[128|b&63];continue}y+=1,b=65536+((b&1023)<<10|m.charCodeAt(y)&1023),p[p.length]=ta[240|b>>18]+ta[128|b>>12&63]+ta[128|b>>6&63]+ta[128|b&63]}d+=p.join("")}return d};function p2(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))}function ly(r,t){if(h2(r)){const a=[];for(let s=0;s<r.length;s+=1)a.push(t(r[s]));return a}return t(r)}const g2=Object.prototype.hasOwnProperty,gv={brackets(r){return String(r)+"[]"},comma:"comma",indices(r,t){return String(r)+"["+t+"]"},repeat(r){return String(r)}},na=Array.isArray,y2=Array.prototype.push,yv=function(r,t){y2.apply(r,na(t)?t:[t])},v2=Date.prototype.toISOString,Rt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:m2,encodeValuesOnly:!1,format:Uf,formatter:Bf[Uf],indices:!1,serializeDate(r){return v2.call(r)},skipNulls:!1,strictNullHandling:!1};function b2(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"}const gf={};function vv(r,t,a,s,l,u,d,f,m,p,y,b,A,v,S,x,E,k){let N=r,T=k,M=0,R=!1;for(;(T=T.get(gf))!==void 0&&!R;){const te=T.get(r);if(M+=1,typeof te<"u"){if(te===M)throw new RangeError("Cyclic object value");R=!0}typeof T.get(gf)>"u"&&(M=0)}if(typeof p=="function"?N=p(t,N):N instanceof Date?N=A==null?void 0:A(N):a==="comma"&&na(N)&&(N=ly(N,function(te){return te instanceof Date?A==null?void 0:A(te):te})),N===null){if(u)return m&&!x?m(t,Rt.encoder,E,"key",v):t;N=""}if(b2(N)||p2(N)){if(m){const te=x?t:m(t,Rt.encoder,E,"key",v);return[(S==null?void 0:S(te))+"="+(S==null?void 0:S(m(N,Rt.encoder,E,"value",v)))]}return[(S==null?void 0:S(t))+"="+(S==null?void 0:S(String(N)))]}const H=[];if(typeof N>"u")return H;let q;if(a==="comma"&&na(N))x&&m&&(N=ly(N,m)),q=[{value:N.length>0?N.join(",")||null:void 0}];else if(na(p))q=p;else{const te=Object.keys(N);q=y?te.sort(y):te}const ne=f?String(t).replace(/\./g,"%2E"):String(t),Z=s&&na(N)&&N.length===1?ne+"[]":ne;if(l&&na(N)&&N.length===0)return Z+"[]";for(let te=0;te<q.length;++te){const ce=q[te],D=typeof ce=="object"&&typeof ce.value<"u"?ce.value:N[ce];if(d&&D===null)continue;const ee=b&&f?ce.replace(/\./g,"%2E"):ce,j=na(N)?typeof a=="function"?a(Z,ee):Z:Z+(b?"."+ee:"["+ee+"]");k.set(r,M);const re=new WeakMap;re.set(gf,k),yv(H,vv(D,j,a,s,l,u,d,f,a==="comma"&&x&&na(N)?null:m,p,y,b,A,v,S,x,E,re))}return H}function x2(r=Rt){if(typeof r.allowEmptyArrays<"u"&&typeof r.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof r.encodeDotInKeys<"u"&&typeof r.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(r.encoder!==null&&typeof r.encoder<"u"&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=r.charset||Rt.charset;if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let a=Uf;if(typeof r.format<"u"){if(!g2.call(Bf,r.format))throw new TypeError("Unknown format option provided.");a=r.format}const s=Bf[a];let l=Rt.filter;(typeof r.filter=="function"||na(r.filter))&&(l=r.filter);let u;if(r.arrayFormat&&r.arrayFormat in gv?u=r.arrayFormat:"indices"in r?u=r.indices?"indices":"repeat":u=Rt.arrayFormat,"commaRoundTrip"in r&&typeof r.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const d=typeof r.allowDots>"u"?r.encodeDotInKeys?!0:Rt.allowDots:!!r.allowDots;return{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:Rt.addQueryPrefix,allowDots:d,allowEmptyArrays:typeof r.allowEmptyArrays=="boolean"?!!r.allowEmptyArrays:Rt.allowEmptyArrays,arrayFormat:u,charset:t,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:Rt.charsetSentinel,commaRoundTrip:!!r.commaRoundTrip,delimiter:typeof r.delimiter>"u"?Rt.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:Rt.encode,encodeDotInKeys:typeof r.encodeDotInKeys=="boolean"?r.encodeDotInKeys:Rt.encodeDotInKeys,encoder:typeof r.encoder=="function"?r.encoder:Rt.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:Rt.encodeValuesOnly,filter:l,format:a,formatter:s,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:Rt.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:Rt.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:Rt.strictNullHandling}}function _2(r,t={}){let a=r;const s=x2(t);let l,u;typeof s.filter=="function"?(u=s.filter,a=u("",a)):na(s.filter)&&(u=s.filter,l=u);const d=[];if(typeof a!="object"||a===null)return"";const f=gv[s.arrayFormat],m=f==="comma"&&s.commaRoundTrip;l||(l=Object.keys(a)),s.sort&&l.sort(s.sort);const p=new WeakMap;for(let A=0;A<l.length;++A){const v=l[A];s.skipNulls&&a[v]===null||yv(d,vv(a[v],v,f,m,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,p))}const y=d.join(s.delimiter);let b=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),y.length>0?b+y:""}const Bs="4.98.0";let oy=!1,ol,bv,xv,Lf,_v,wv,Sv,Av,Ev;function w2(r,t={auto:!1}){if(oy)throw new Error(`you must \`import 'openai/shims/${r.kind}'\` before importing anything else from openai`);if(ol)throw new Error(`can't \`import 'openai/shims/${r.kind}'\` after \`import 'openai/shims/${ol}'\``);oy=t.auto,ol=r.kind,bv=r.fetch,xv=r.FormData,Lf=r.File,_v=r.ReadableStream,wv=r.getMultipartRequestOptions,Sv=r.getDefaultAgent,Av=r.fileFromPath,Ev=r.isFsReadStream}class S2{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function A2({manuallyImported:r}={}){const t=r?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let a,s,l,u;try{a=fetch,s=Request,l=Response,u=Headers}catch(d){throw new Error(`this environment is missing the following Web Fetch API type: ${d.message}. ${t}`)}return{kind:"web",fetch:a,Request:s,Response:l,Headers:u,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(d,f)=>({...f,body:new S2(d)}),getDefaultAgent:d=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:d=>!1}}const kv=()=>{ol||w2(A2(),{auto:!0})};kv();class Re extends Error{}class Ht extends Re{constructor(t,a,s,l){super(`${Ht.makeMessage(t,a,s)}`),this.status=t,this.headers=l,this.request_id=l==null?void 0:l["x-request-id"],this.error=a;const u=a;this.code=u==null?void 0:u.code,this.param=u==null?void 0:u.param,this.type=u==null?void 0:u.type}static makeMessage(t,a,s){const l=a!=null&&a.message?typeof a.message=="string"?a.message:JSON.stringify(a.message):a?JSON.stringify(a):s;return t&&l?`${t} ${l}`:t?`${t} status code (no body)`:l||"(no status code or body)"}static generate(t,a,s,l){if(!t||!l)return new Mu({message:s,cause:Zf(a)});const u=a==null?void 0:a.error;return t===400?new Nv(t,u,s,l):t===401?new jv(t,u,s,l):t===403?new Cv(t,u,s,l):t===404?new Tv(t,u,s,l):t===409?new Rv(t,u,s,l):t===422?new Ov(t,u,s,l):t===429?new Dv(t,u,s,l):t>=500?new Mv(t,u,s,l):new Ht(t,u,s,l)}}class Rn extends Ht{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Mu extends Ht{constructor({message:t,cause:a}){super(void 0,void 0,t||"Connection error.",void 0),a&&(this.cause=a)}}class gh extends Mu{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Nv extends Ht{}class jv extends Ht{}class Cv extends Ht{}class Tv extends Ht{}class Rv extends Ht{}class Ov extends Ht{}class Dv extends Ht{}class Mv extends Ht{}class zv extends Re{constructor(){super("Could not parse response content as the length limit was reached")}}class Uv extends Re{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Ko=function(r,t,a,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!l:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(r,a):l?l.value=a:t.set(r,a),a},Mr=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},yn;class zu{constructor(){yn.set(this,void 0),this.buffer=new Uint8Array,Ko(this,yn,null,"f")}decode(t){if(t==null)return[];const a=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let s=new Uint8Array(this.buffer.length+a.length);s.set(this.buffer),s.set(a,this.buffer.length),this.buffer=s;const l=[];let u;for(;(u=E2(this.buffer,Mr(this,yn,"f")))!=null;){if(u.carriage&&Mr(this,yn,"f")==null){Ko(this,yn,u.index,"f");continue}if(Mr(this,yn,"f")!=null&&(u.index!==Mr(this,yn,"f")+1||u.carriage)){l.push(this.decodeText(this.buffer.slice(0,Mr(this,yn,"f")-1))),this.buffer=this.buffer.slice(Mr(this,yn,"f")),Ko(this,yn,null,"f");continue}const d=Mr(this,yn,"f")!==null?u.preceding-1:u.preceding,f=this.decodeText(this.buffer.slice(0,d));l.push(f),this.buffer=this.buffer.slice(u.index),Ko(this,yn,null,"f")}return l}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new Re(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new Re(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new Re("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}yn=new WeakMap;zu.NEWLINE_CHARS=new Set([`
`,"\r"]);zu.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function E2(r,t){for(let l=t??0;l<r.length;l++){if(r[l]===10)return{preceding:l,index:l+1,carriage:!1};if(r[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function k2(r){for(let s=0;s<r.length-1;s++){if(r[s]===10&&r[s+1]===10||r[s]===13&&r[s+1]===13)return s+2;if(r[s]===13&&r[s+1]===10&&s+3<r.length&&r[s+2]===13&&r[s+3]===10)return s+4}return-1}function Bv(r){if(r[Symbol.asyncIterator])return r;const t=r.getReader();return{async next(){try{const a=await t.read();return a!=null&&a.done&&t.releaseLock(),a}catch(a){throw t.releaseLock(),a}},async return(){const a=t.cancel();return t.releaseLock(),await a,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class ra{constructor(t,a){this.iterator=t,this.controller=a}static fromSSEResponse(t,a){let s=!1;async function*l(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let u=!1;try{for await(const d of N2(t,a))if(!u){if(d.data.startsWith("[DONE]")){u=!0;continue}if(d.event===null||d.event.startsWith("response.")||d.event.startsWith("transcript.")){let f;try{f=JSON.parse(d.data)}catch(m){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),m}if(f&&f.error)throw new Ht(void 0,f.error,void 0,qv(t.headers));yield f}else{let f;try{f=JSON.parse(d.data)}catch(m){throw console.error("Could not parse message into JSON:",d.data),console.error("From chunk:",d.raw),m}if(d.event=="error")throw new Ht(void 0,f.error,f.message,void 0);yield{event:d.event,data:f}}}u=!0}catch(d){if(d instanceof Error&&d.name==="AbortError")return;throw d}finally{u||a.abort()}}return new ra(l,a)}static fromReadableStream(t,a){let s=!1;async function*l(){const d=new zu,f=Bv(t);for await(const m of f)for(const p of d.decode(m))yield p;for(const m of d.flush())yield m}async function*u(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let d=!1;try{for await(const f of l())d||f&&(yield JSON.parse(f));d=!0}catch(f){if(f instanceof Error&&f.name==="AbortError")return;throw f}finally{d||a.abort()}}return new ra(u,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],a=[],s=this.iterator(),l=u=>({next:()=>{if(u.length===0){const d=s.next();t.push(d),a.push(d)}return u.shift()}});return[new ra(()=>l(t),this.controller),new ra(()=>l(a),this.controller)]}toReadableStream(){const t=this;let a;const s=new TextEncoder;return new _v({async start(){a=t[Symbol.asyncIterator]()},async pull(l){try{const{value:u,done:d}=await a.next();if(d)return l.close();const f=s.encode(JSON.stringify(u)+`
`);l.enqueue(f)}catch(u){l.error(u)}},async cancel(){var l;await((l=a.return)==null?void 0:l.call(a))}})}}async function*N2(r,t){if(!r.body)throw t.abort(),new Re("Attempted to iterate over a response with no body");const a=new C2,s=new zu,l=Bv(r.body);for await(const u of j2(l))for(const d of s.decode(u)){const f=a.decode(d);f&&(yield f)}for(const u of s.flush()){const d=a.decode(u);d&&(yield d)}}async function*j2(r){let t=new Uint8Array;for await(const a of r){if(a==null)continue;const s=a instanceof ArrayBuffer?new Uint8Array(a):typeof a=="string"?new TextEncoder().encode(a):a;let l=new Uint8Array(t.length+s.length);l.set(t),l.set(s,t.length),t=l;let u;for(;(u=k2(t))!==-1;)yield t.slice(0,u),t=t.slice(u)}t.length>0&&(yield t)}class C2{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(t),t.startsWith(":"))return null;let[a,s,l]=T2(t,":");return l.startsWith(" ")&&(l=l.substring(1)),a==="event"?this.event=l:a==="data"&&this.data.push(l),null}}function T2(r,t){const a=r.indexOf(t);return a!==-1?[r.substring(0,a),t,r.substring(a+t.length)]:[r,"",""]}const Lv=r=>r!=null&&typeof r=="object"&&typeof r.url=="string"&&typeof r.blob=="function",Pv=r=>r!=null&&typeof r=="object"&&typeof r.name=="string"&&typeof r.lastModified=="number"&&Uu(r),Uu=r=>r!=null&&typeof r=="object"&&typeof r.size=="number"&&typeof r.type=="string"&&typeof r.text=="function"&&typeof r.slice=="function"&&typeof r.arrayBuffer=="function",R2=r=>Pv(r)||Lv(r)||Ev(r);async function Zv(r,t,a){var l;if(r=await r,Pv(r))return r;if(Lv(r)){const u=await r.blob();t||(t=new URL(r.url).pathname.split(/[\\/]/).pop()??"unknown_file");const d=Uu(u)?[await u.arrayBuffer()]:[u];return new Lf(d,t,a)}const s=await O2(r);if(t||(t=M2(r)??"unknown_file"),!(a!=null&&a.type)){const u=(l=s[0])==null?void 0:l.type;typeof u=="string"&&(a={...a,type:u})}return new Lf(s,t,a)}async function O2(r){var a;let t=[];if(typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer)t.push(r);else if(Uu(r))t.push(await r.arrayBuffer());else if(z2(r))for await(const s of r)t.push(s);else throw new Error(`Unexpected data type: ${typeof r}; constructor: ${(a=r==null?void 0:r.constructor)==null?void 0:a.name}; props: ${D2(r)}`);return t}function D2(r){return`[${Object.getOwnPropertyNames(r).map(a=>`"${a}"`).join(", ")}]`}function M2(r){var t;return yf(r.name)||yf(r.filename)||((t=yf(r.path))==null?void 0:t.split(/[\\/]/).pop())}const yf=r=>{if(typeof r=="string")return r;if(typeof Buffer<"u"&&r instanceof Buffer)return String(r)},z2=r=>r!=null&&typeof r=="object"&&typeof r[Symbol.asyncIterator]=="function",uy=r=>r&&typeof r=="object"&&r.body&&r[Symbol.toStringTag]==="MultipartBody",Vs=async r=>{const t=await U2(r.body);return wv(t,r)},U2=async r=>{const t=new xv;return await Promise.all(Object.entries(r||{}).map(([a,s])=>Pf(t,a,s))),t},Pf=async(r,t,a)=>{if(a!==void 0){if(a==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")r.append(t,String(a));else if(R2(a)){const s=await Zv(a);r.append(t,s)}else if(Array.isArray(a))await Promise.all(a.map(s=>Pf(r,t+"[]",s)));else if(typeof a=="object")await Promise.all(Object.entries(a).map(([s,l])=>Pf(r,`${t}[${s}]`,l)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${a} instead`)}};var Is={},B2=function(r,t,a,s,l){if(typeof t=="function"?r!==t||!0:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(r,a),a},L2=function(r,t,a,s){if(typeof t=="function"?r!==t||!0:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},Jo;kv();async function $v(r){var d;const{response:t}=r;if(r.options.stream)return ir("response",t.status,t.url,t.headers,t.body),r.options.__streamClass?r.options.__streamClass.fromSSEResponse(t,r.controller):ra.fromSSEResponse(t,r.controller);if(t.status===204)return null;if(r.options.__binaryResponse)return t;const a=t.headers.get("content-type"),s=(d=a==null?void 0:a.split(";")[0])==null?void 0:d.trim();if((s==null?void 0:s.includes("application/json"))||(s==null?void 0:s.endsWith("+json"))){const f=await t.json();return ir("response",t.status,t.url,t.headers,f),Iv(f,t)}const u=await t.text();return ir("response",t.status,t.url,t.headers,u),u}function Iv(r,t){return!r||typeof r!="object"||Array.isArray(r)?r:Object.defineProperty(r,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class Bu extends Promise{constructor(t,a=$v){super(s=>{s(null)}),this.responsePromise=t,this.parseResponse=a}_thenUnwrap(t){return new Bu(this.responsePromise,async a=>Iv(t(await this.parseResponse(a),a),a.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,a]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:a,request_id:a.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,a){return this.parse().then(t,a)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class P2{constructor({baseURL:t,maxRetries:a=2,timeout:s=6e5,httpAgent:l,fetch:u}){this.baseURL=t,this.maxRetries=vf("maxRetries",a),this.timeout=vf("timeout",s),this.httpAgent=l,this.fetch=u??bv}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...q2(),...this.authHeaders(t)}}validateHeaders(t,a){}defaultIdempotencyKey(){return`stainless-node-retry-${G2()}`}get(t,a){return this.methodRequest("get",t,a)}post(t,a){return this.methodRequest("post",t,a)}patch(t,a){return this.methodRequest("patch",t,a)}put(t,a){return this.methodRequest("put",t,a)}delete(t,a){return this.methodRequest("delete",t,a)}methodRequest(t,a,s){return this.request(Promise.resolve(s).then(async l=>{const u=l&&Uu(l==null?void 0:l.body)?new DataView(await l.body.arrayBuffer()):(l==null?void 0:l.body)instanceof DataView?l.body:(l==null?void 0:l.body)instanceof ArrayBuffer?new DataView(l.body):l&&ArrayBuffer.isView(l==null?void 0:l.body)?new DataView(l.body.buffer):l==null?void 0:l.body;return{method:t,path:a,...l,body:u}}))}getAPIList(t,a,s){return this.requestAPIList(a,{method:"get",path:t,...s})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:a=0}={}){var x;const s={...t},{method:l,path:u,query:d,headers:f={}}=s,m=ArrayBuffer.isView(s.body)||s.__binaryRequest&&typeof s.body=="string"?s.body:uy(s.body)?s.body.body:s.body?JSON.stringify(s.body,null,2):null,p=this.calculateContentLength(m),y=this.buildURL(u,d);"timeout"in s&&vf("timeout",s.timeout),s.timeout=s.timeout??this.timeout;const b=s.httpAgent??this.httpAgent??Sv(y),A=s.timeout+1e3;typeof((x=b==null?void 0:b.options)==null?void 0:x.timeout)=="number"&&A>(b.options.timeout??0)&&(b.options.timeout=A),this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const v=this.buildHeaders({options:s,headers:f,contentLength:p,retryCount:a});return{req:{method:l,...m&&{body:m},headers:v,...b&&{agent:b},signal:s.signal??null},url:y,timeout:s.timeout}}buildHeaders({options:t,headers:a,contentLength:s,retryCount:l}){const u={};s&&(u["content-length"]=s);const d=this.defaultHeaders(t);return hy(u,d),hy(u,a),uy(t.body)&&ol!=="node"&&delete u["content-type"],Wo(d,"x-stainless-retry-count")===void 0&&Wo(a,"x-stainless-retry-count")===void 0&&(u["x-stainless-retry-count"]=String(l)),Wo(d,"x-stainless-timeout")===void 0&&Wo(a,"x-stainless-timeout")===void 0&&t.timeout&&(u["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(u,a),u}async prepareOptions(t){}async prepareRequest(t,{url:a,options:s}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(a=>[...a])):{...t}:{}}makeStatusError(t,a,s,l){return Ht.generate(t,a,s,l)}request(t,a=null){return new Bu(this.makeRequest(t,a))}async makeRequest(t,a){var b,A;const s=await t,l=s.maxRetries??this.maxRetries;a==null&&(a=l),await this.prepareOptions(s);const{req:u,url:d,timeout:f}=this.buildRequest(s,{retryCount:l-a});if(await this.prepareRequest(u,{url:d,options:s}),ir("request",d,s,u.headers),(b=s.signal)!=null&&b.aborted)throw new Rn;const m=new AbortController,p=await this.fetchWithTimeout(d,u,f,m).catch(Zf);if(p instanceof Error){if((A=s.signal)!=null&&A.aborted)throw new Rn;if(a)return this.retryRequest(s,a);throw p.name==="AbortError"?new gh:new Mu({cause:p})}const y=qv(p.headers);if(!p.ok){if(a&&this.shouldRetry(p)){const N=`retrying, ${a} attempts remaining`;return ir(`response (error; ${N})`,p.status,d,y),this.retryRequest(s,a,y)}const v=await p.text().catch(N=>Zf(N).message),S=F2(v),x=S?void 0:v;throw ir(`response (error; ${a?"(error; no more retries left)":"(error; not retryable)"})`,p.status,d,y,x),this.makeStatusError(p.status,S,x,y)}return{response:p,options:s,controller:m}}requestAPIList(t,a){const s=this.makeRequest(a,null);return new Z2(this,s,t)}buildURL(t,a){const s=Y2(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return Fv(l)||(a={...l,...a}),typeof a=="object"&&a&&!Array.isArray(a)&&(s.search=this.stringifyQuery(a)),s.toString()}stringifyQuery(t){return Object.entries(t).filter(([a,s])=>typeof s<"u").map(([a,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(a)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(a)}=`;throw new Re(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,a,s,l){const{signal:u,...d}=a||{};u&&u.addEventListener("abort",()=>l.abort());const f=setTimeout(()=>l.abort(),s),m={signal:l.signal,...d};return m.method&&(m.method=m.method.toUpperCase()),this.fetch.call(void 0,t,m).finally(()=>{clearTimeout(f)})}shouldRetry(t){const a=t.headers.get("x-should-retry");return a==="true"?!0:a==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,a,s){let l;const u=s==null?void 0:s["retry-after-ms"];if(u){const f=parseFloat(u);Number.isNaN(f)||(l=f)}const d=s==null?void 0:s["retry-after"];if(d&&!l){const f=parseFloat(d);Number.isNaN(f)?l=Date.parse(d)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){const f=t.maxRetries??this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(a,f)}return await Cl(l),this.makeRequest(t,a-1)}calculateDefaultRetryTimeoutMillis(t,a){const u=a-t,d=Math.min(.5*Math.pow(2,u),8),f=1-Math.random()*.25;return d*f*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Bs}`}}class Hv{constructor(t,a,s,l){Jo.set(this,void 0),B2(this,Jo,t),this.options=l,this.response=a,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new Re("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const a={...this.options};if("params"in t&&typeof a.query=="object")a.query={...a.query,...t.params};else if("url"in t){const s=[...Object.entries(a.query||{}),...t.url.searchParams.entries()];for(const[l,u]of s)t.url.searchParams.set(l,u);a.query=void 0,a.path=t.url.toString()}return await L2(this,Jo,"f").requestAPIList(this.constructor,a)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Jo=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const a of t.getPaginatedItems())yield a}}class Z2 extends Bu{constructor(t,a,s){super(a,async l=>new s(t,l.response,await $v(l),l.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const a of t)yield a}}const qv=r=>new Proxy(Object.fromEntries(r.entries()),{get(t,a){const s=a.toString();return t[s.toLowerCase()]||t[s]}}),$2={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},wt=r=>typeof r=="object"&&r!==null&&!Fv(r)&&Object.keys(r).every(t=>Vv($2,t)),I2=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bs,"X-Stainless-OS":dy(Deno.build.os),"X-Stainless-Arch":cy(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bs,"X-Stainless-OS":dy(process.platform),"X-Stainless-Arch":cy(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const r=H2();return r?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${r.browser}`,"X-Stainless-Runtime-Version":r.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function H2(){if(typeof navigator>"u"||!navigator)return null;const r=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:a}of r){const s=a.exec(navigator.userAgent);if(s){const l=s[1]||0,u=s[2]||0,d=s[3]||0;return{browser:t,version:`${l}.${u}.${d}`}}}return null}const cy=r=>r==="x32"?"x32":r==="x86_64"||r==="x64"?"x64":r==="arm"?"arm":r==="aarch64"||r==="arm64"?"arm64":r?`other:${r}`:"unknown",dy=r=>(r=r.toLowerCase(),r.includes("ios")?"iOS":r==="android"?"Android":r==="darwin"?"MacOS":r==="win32"?"Windows":r==="freebsd"?"FreeBSD":r==="openbsd"?"OpenBSD":r==="linux"?"Linux":r?`Other:${r}`:"Unknown");let fy;const q2=()=>fy??(fy=I2()),F2=r=>{try{return JSON.parse(r)}catch{return}},V2=/^[a-z][a-z0-9+.-]*:/i,Y2=r=>V2.test(r),Cl=r=>new Promise(t=>setTimeout(t,r)),vf=(r,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Re(`${r} must be an integer`);if(t<0)throw new Re(`${r} must be a positive integer`);return t},Zf=r=>{if(r instanceof Error)return r;if(typeof r=="object"&&r!==null)try{return new Error(JSON.stringify(r))}catch{}return new Error(r)},Br=r=>{var t,a,s,l;if(typeof process<"u")return((t=Is==null?void 0:Is[r])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(l=(s=(a=Deno.env)==null?void 0:a.get)==null?void 0:s.call(a,r))==null?void 0:l.trim()};function Fv(r){if(!r)return!0;for(const t in r)return!1;return!0}function Vv(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function hy(r,t){for(const a in t){if(!Vv(t,a))continue;const s=a.toLowerCase();if(!s)continue;const l=t[a];l===null?delete r[s]:l!==void 0&&(r[s]=l)}}const my=new Set(["authorization","api-key"]);function ir(r,...t){if(typeof process<"u"&&(Is==null?void 0:Is.DEBUG)==="true"){const a=t.map(s=>{if(!s)return s;if(s.headers){const u={...s,headers:{...s.headers}};for(const d in s.headers)my.has(d.toLowerCase())&&(u.headers[d]="REDACTED");return u}let l=null;for(const u in s)my.has(u.toLowerCase())&&(l??(l={...s}),l[u]="REDACTED");return l??s});console.log(`OpenAI:DEBUG:${r}`,...a)}}const G2=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=Math.random()*16|0;return(r==="x"?t:t&3|8).toString(16)}),X2=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Q2=r=>typeof(r==null?void 0:r.get)=="function",Wo=(r,t)=>{var s;const a=t.toLowerCase();if(Q2(r)){const l=((s=t[0])==null?void 0:s.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(u,d,f)=>d+f.toUpperCase());for(const u of[t,a,t.toUpperCase(),l]){const d=r.get(u);if(d)return d}}for(const[l,u]of Object.entries(r))if(l.toLowerCase()===a)return Array.isArray(u)?(u.length<=1||console.warn(`Received ${u.length} entries for the ${t} header, using the first entry.`),u[0]):u},K2=r=>{if(typeof Buffer<"u"){const t=Buffer.from(r,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(r),a=t.length,s=new Uint8Array(a);for(let l=0;l<a;l++)s[l]=t.charCodeAt(l);return Array.from(new Float32Array(s.buffer))}};function cu(r){return r!=null&&typeof r=="object"&&!Array.isArray(r)}class Lu extends Hv{constructor(t,a,s,l){super(t,a,s,l),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class qt extends Hv{constructor(t,a,s,l){super(t,a,s,l),this.data=s.data||[],this.has_more=s.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const a=Object.fromEntries(t.url.searchParams);return Object.keys(a).length?a:null}nextPageInfo(){var s;const t=this.getPaginatedItems();if(!t.length)return null;const a=(s=t[t.length-1])==null?void 0:s.id;return a?{params:{after:a}}:null}}class Ue{constructor(t){this._client=t}}let Yv=class extends Ue{list(t,a={},s){return wt(a)?this.list(t,{},a):this._client.getAPIList(`/chat/completions/${t}/messages`,J2,{query:a,...s})}},Pu=class extends Ue{constructor(){super(...arguments),this.messages=new Yv(this._client)}create(t,a){return this._client.post("/chat/completions",{body:t,...a,stream:t.stream??!1})}retrieve(t,a){return this._client.get(`/chat/completions/${t}`,a)}update(t,a,s){return this._client.post(`/chat/completions/${t}`,{body:a,...s})}list(t={},a){return wt(t)?this.list({},t):this._client.getAPIList("/chat/completions",Zu,{query:t,...a})}del(t,a){return this._client.delete(`/chat/completions/${t}`,a)}};class Zu extends qt{}class J2 extends qt{}Pu.ChatCompletionsPage=Zu;Pu.Messages=Yv;let $u=class extends Ue{constructor(){super(...arguments),this.completions=new Pu(this._client)}};$u.Completions=Pu;$u.ChatCompletionsPage=Zu;class Gv extends Ue{create(t,a){return this._client.post("/audio/speech",{body:t,...a,headers:{Accept:"application/octet-stream",...a==null?void 0:a.headers},__binaryResponse:!0})}}class Xv extends Ue{create(t,a){return this._client.post("/audio/transcriptions",Vs({body:t,...a,stream:t.stream??!1,__metadata:{model:t.model}}))}}class Qv extends Ue{create(t,a){return this._client.post("/audio/translations",Vs({body:t,...a,__metadata:{model:t.model}}))}}class Tl extends Ue{constructor(){super(...arguments),this.transcriptions=new Xv(this._client),this.translations=new Qv(this._client),this.speech=new Gv(this._client)}}Tl.Transcriptions=Xv;Tl.Translations=Qv;Tl.Speech=Gv;class yh extends Ue{create(t,a){return this._client.post("/batches",{body:t,...a})}retrieve(t,a){return this._client.get(`/batches/${t}`,a)}list(t={},a){return wt(t)?this.list({},t):this._client.getAPIList("/batches",vh,{query:t,...a})}cancel(t,a){return this._client.post(`/batches/${t}/cancel`,a)}}class vh extends qt{}yh.BatchesPage=vh;var $n=function(r,t,a,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!l:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(r,a):l?l.value=a:t.set(r,a),a},gt=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},$f,du,fu,el,tl,hu,nl,ka,al,vu,bu,Ls,Kv;class bh{constructor(){$f.add(this),this.controller=new AbortController,du.set(this,void 0),fu.set(this,()=>{}),el.set(this,()=>{}),tl.set(this,void 0),hu.set(this,()=>{}),nl.set(this,()=>{}),ka.set(this,{}),al.set(this,!1),vu.set(this,!1),bu.set(this,!1),Ls.set(this,!1),$n(this,du,new Promise((t,a)=>{$n(this,fu,t,"f"),$n(this,el,a,"f")}),"f"),$n(this,tl,new Promise((t,a)=>{$n(this,hu,t,"f"),$n(this,nl,a,"f")}),"f"),gt(this,du,"f").catch(()=>{}),gt(this,tl,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},gt(this,$f,"m",Kv).bind(this))},0)}_connected(){this.ended||(gt(this,fu,"f").call(this),this._emit("connect"))}get ended(){return gt(this,al,"f")}get errored(){return gt(this,vu,"f")}get aborted(){return gt(this,bu,"f")}abort(){this.controller.abort()}on(t,a){return(gt(this,ka,"f")[t]||(gt(this,ka,"f")[t]=[])).push({listener:a}),this}off(t,a){const s=gt(this,ka,"f")[t];if(!s)return this;const l=s.findIndex(u=>u.listener===a);return l>=0&&s.splice(l,1),this}once(t,a){return(gt(this,ka,"f")[t]||(gt(this,ka,"f")[t]=[])).push({listener:a,once:!0}),this}emitted(t){return new Promise((a,s)=>{$n(this,Ls,!0,"f"),t!=="error"&&this.once("error",s),this.once(t,a)})}async done(){$n(this,Ls,!0,"f"),await gt(this,tl,"f")}_emit(t,...a){if(gt(this,al,"f"))return;t==="end"&&($n(this,al,!0,"f"),gt(this,hu,"f").call(this));const s=gt(this,ka,"f")[t];if(s&&(gt(this,ka,"f")[t]=s.filter(l=>!l.once),s.forEach(({listener:l})=>l(...a))),t==="abort"){const l=a[0];!gt(this,Ls,"f")&&!(s!=null&&s.length)&&Promise.reject(l),gt(this,el,"f").call(this,l),gt(this,nl,"f").call(this,l),this._emit("end");return}if(t==="error"){const l=a[0];!gt(this,Ls,"f")&&!(s!=null&&s.length)&&Promise.reject(l),gt(this,el,"f").call(this,l),gt(this,nl,"f").call(this,l),this._emit("end")}}_emitFinal(){}}du=new WeakMap,fu=new WeakMap,el=new WeakMap,tl=new WeakMap,hu=new WeakMap,nl=new WeakMap,ka=new WeakMap,al=new WeakMap,vu=new WeakMap,bu=new WeakMap,Ls=new WeakMap,$f=new WeakSet,Kv=function(t){if($n(this,vu,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new Rn),t instanceof Rn)return $n(this,bu,!0,"f"),this._emit("abort",t);if(t instanceof Re)return this._emit("error",t);if(t instanceof Error){const a=new Re(t.message);return a.cause=t,this._emit("error",a)}return this._emit("error",new Re(String(t)))};var Te=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},gn=function(r,t,a,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!l:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(r,a):l?l.value=a:t.set(r,a),a},$t,If,aa,mu,In,Lr,Zs,Ur,xu,vn,pu,gu,ul,rl,sl,py,gy,yy,vy,by,xy,_y;class Hn extends bh{constructor(){super(...arguments),$t.add(this),If.set(this,[]),aa.set(this,{}),mu.set(this,{}),In.set(this,void 0),Lr.set(this,void 0),Zs.set(this,void 0),Ur.set(this,void 0),xu.set(this,void 0),vn.set(this,void 0),pu.set(this,void 0),gu.set(this,void 0),ul.set(this,void 0)}[(If=new WeakMap,aa=new WeakMap,mu=new WeakMap,In=new WeakMap,Lr=new WeakMap,Zs=new WeakMap,Ur=new WeakMap,xu=new WeakMap,vn=new WeakMap,pu=new WeakMap,gu=new WeakMap,ul=new WeakMap,$t=new WeakSet,Symbol.asyncIterator)](){const t=[],a=[];let s=!1;return this.on("event",l=>{const u=a.shift();u?u.resolve(l):t.push(l)}),this.on("end",()=>{s=!0;for(const l of a)l.resolve(void 0);a.length=0}),this.on("abort",l=>{s=!0;for(const u of a)u.reject(l);a.length=0}),this.on("error",l=>{s=!0;for(const u of a)u.reject(l);a.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((u,d)=>a.push({resolve:u,reject:d})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const a=new Hn;return a._run(()=>a._fromReadableStream(t)),a}async _fromReadableStream(t,a){var u;const s=a==null?void 0:a.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const l=ra.fromReadableStream(t,this.controller);for await(const d of l)Te(this,$t,"m",rl).call(this,d);if((u=l.controller.signal)!=null&&u.aborted)throw new Rn;return this._addRun(Te(this,$t,"m",sl).call(this))}toReadableStream(){return new ra(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,a,s,l,u){const d=new Hn;return d._run(()=>d._runToolAssistantStream(t,a,s,l,{...u,headers:{...u==null?void 0:u.headers,"X-Stainless-Helper-Method":"stream"}})),d}async _createToolAssistantStream(t,a,s,l,u){var p;const d=u==null?void 0:u.signal;d&&(d.aborted&&this.controller.abort(),d.addEventListener("abort",()=>this.controller.abort()));const f={...l,stream:!0},m=await t.submitToolOutputs(a,s,f,{...u,signal:this.controller.signal});this._connected();for await(const y of m)Te(this,$t,"m",rl).call(this,y);if((p=m.controller.signal)!=null&&p.aborted)throw new Rn;return this._addRun(Te(this,$t,"m",sl).call(this))}static createThreadAssistantStream(t,a,s){const l=new Hn;return l._run(()=>l._threadAssistantStream(t,a,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),l}static createAssistantStream(t,a,s,l){const u=new Hn;return u._run(()=>u._runAssistantStream(t,a,s,{...l,headers:{...l==null?void 0:l.headers,"X-Stainless-Helper-Method":"stream"}})),u}currentEvent(){return Te(this,pu,"f")}currentRun(){return Te(this,gu,"f")}currentMessageSnapshot(){return Te(this,In,"f")}currentRunStepSnapshot(){return Te(this,ul,"f")}async finalRunSteps(){return await this.done(),Object.values(Te(this,aa,"f"))}async finalMessages(){return await this.done(),Object.values(Te(this,mu,"f"))}async finalRun(){if(await this.done(),!Te(this,Lr,"f"))throw Error("Final run was not received.");return Te(this,Lr,"f")}async _createThreadAssistantStream(t,a,s){var f;const l=s==null?void 0:s.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort()));const u={...a,stream:!0},d=await t.createAndRun(u,{...s,signal:this.controller.signal});this._connected();for await(const m of d)Te(this,$t,"m",rl).call(this,m);if((f=d.controller.signal)!=null&&f.aborted)throw new Rn;return this._addRun(Te(this,$t,"m",sl).call(this))}async _createAssistantStream(t,a,s,l){var m;const u=l==null?void 0:l.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const d={...s,stream:!0},f=await t.create(a,d,{...l,signal:this.controller.signal});this._connected();for await(const p of f)Te(this,$t,"m",rl).call(this,p);if((m=f.controller.signal)!=null&&m.aborted)throw new Rn;return this._addRun(Te(this,$t,"m",sl).call(this))}static accumulateDelta(t,a){for(const[s,l]of Object.entries(a)){if(!t.hasOwnProperty(s)){t[s]=l;continue}let u=t[s];if(u==null){t[s]=l;continue}if(s==="index"||s==="type"){t[s]=l;continue}if(typeof u=="string"&&typeof l=="string")u+=l;else if(typeof u=="number"&&typeof l=="number")u+=l;else if(cu(u)&&cu(l))u=this.accumulateDelta(u,l);else if(Array.isArray(u)&&Array.isArray(l)){if(u.every(d=>typeof d=="string"||typeof d=="number")){u.push(...l);continue}for(const d of l){if(!cu(d))throw new Error(`Expected array delta entry to be an object but got: ${d}`);const f=d.index;if(f==null)throw console.error(d),new Error("Expected array delta entry to have an `index` property");if(typeof f!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${f}`);const m=u[f];m==null?u.push(d):u[f]=this.accumulateDelta(m,d)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${l}, accValue: ${u}`);t[s]=u}return t}_addRun(t){return t}async _threadAssistantStream(t,a,s){return await this._createThreadAssistantStream(a,t,s)}async _runAssistantStream(t,a,s,l){return await this._createAssistantStream(a,t,s,l)}async _runToolAssistantStream(t,a,s,l,u){return await this._createToolAssistantStream(s,t,a,l,u)}}rl=function(t){if(!this.ended)switch(gn(this,pu,t,"f"),Te(this,$t,"m",yy).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Te(this,$t,"m",_y).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Te(this,$t,"m",gy).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Te(this,$t,"m",py).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},sl=function(){if(this.ended)throw new Re("stream has ended, this shouldn't happen");if(!Te(this,Lr,"f"))throw Error("Final run has not been received");return Te(this,Lr,"f")},py=function(t){const[a,s]=Te(this,$t,"m",by).call(this,t,Te(this,In,"f"));gn(this,In,a,"f"),Te(this,mu,"f")[a.id]=a;for(const l of s){const u=a.content[l.index];(u==null?void 0:u.type)=="text"&&this._emit("textCreated",u.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,a),t.data.delta.content)for(const l of t.data.delta.content){if(l.type=="text"&&l.text){let u=l.text,d=a.content[l.index];if(d&&d.type=="text")this._emit("textDelta",u,d.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(l.index!=Te(this,Zs,"f")){if(Te(this,Ur,"f"))switch(Te(this,Ur,"f").type){case"text":this._emit("textDone",Te(this,Ur,"f").text,Te(this,In,"f"));break;case"image_file":this._emit("imageFileDone",Te(this,Ur,"f").image_file,Te(this,In,"f"));break}gn(this,Zs,l.index,"f")}gn(this,Ur,a.content[l.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(Te(this,Zs,"f")!==void 0){const l=t.data.content[Te(this,Zs,"f")];if(l)switch(l.type){case"image_file":this._emit("imageFileDone",l.image_file,Te(this,In,"f"));break;case"text":this._emit("textDone",l.text,Te(this,In,"f"));break}}Te(this,In,"f")&&this._emit("messageDone",t.data),gn(this,In,void 0,"f")}},gy=function(t){const a=Te(this,$t,"m",vy).call(this,t);switch(gn(this,ul,a,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const s=t.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&a.step_details.type=="tool_calls")for(const u of s.step_details.tool_calls)u.index==Te(this,xu,"f")?this._emit("toolCallDelta",u,a.step_details.tool_calls[u.index]):(Te(this,vn,"f")&&this._emit("toolCallDone",Te(this,vn,"f")),gn(this,xu,u.index,"f"),gn(this,vn,a.step_details.tool_calls[u.index],"f"),Te(this,vn,"f")&&this._emit("toolCallCreated",Te(this,vn,"f")));this._emit("runStepDelta",t.data.delta,a);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":gn(this,ul,void 0,"f"),t.data.step_details.type=="tool_calls"&&Te(this,vn,"f")&&(this._emit("toolCallDone",Te(this,vn,"f")),gn(this,vn,void 0,"f")),this._emit("runStepDone",t.data,a);break}},yy=function(t){Te(this,If,"f").push(t),this._emit("event",t)},vy=function(t){switch(t.event){case"thread.run.step.created":return Te(this,aa,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let a=Te(this,aa,"f")[t.data.id];if(!a)throw Error("Received a RunStepDelta before creation of a snapshot");let s=t.data;if(s.delta){const l=Hn.accumulateDelta(a,s.delta);Te(this,aa,"f")[t.data.id]=l}return Te(this,aa,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Te(this,aa,"f")[t.data.id]=t.data;break}if(Te(this,aa,"f")[t.data.id])return Te(this,aa,"f")[t.data.id];throw new Error("No snapshot available")},by=function(t,a){let s=[];switch(t.event){case"thread.message.created":return[t.data,s];case"thread.message.delta":if(!a)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let l=t.data;if(l.delta.content)for(const u of l.delta.content)if(u.index in a.content){let d=a.content[u.index];a.content[u.index]=Te(this,$t,"m",xy).call(this,u,d)}else a.content[u.index]=u,s.push(u);return[a,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(a)return[a,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},xy=function(t,a){return Hn.accumulateDelta(a,t)},_y=function(t){switch(gn(this,gu,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":gn(this,Lr,t.data,"f"),Te(this,vn,"f")&&(this._emit("toolCallDone",Te(this,vn,"f")),gn(this,vn,void 0,"f"));break}};class xh extends Ue{create(t,a){return this._client.post("/assistants",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(t,a){return this._client.get(`/assistants/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(t,a,s){return this._client.post(`/assistants/${t}`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t={},a){return wt(t)?this.list({},t):this._client.getAPIList("/assistants",_h,{query:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}del(t,a){return this._client.delete(`/assistants/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class _h extends qt{}xh.AssistantsPage=_h;function wy(r){return typeof r.parse=="function"}const Hs=r=>(r==null?void 0:r.role)==="assistant",Jv=r=>(r==null?void 0:r.role)==="function",Wv=r=>(r==null?void 0:r.role)==="tool";function W2(r,t){const a={...r};return Object.defineProperties(a,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),a}function wh(r){return(r==null?void 0:r.$brand)==="auto-parseable-response-format"}function Rl(r){return(r==null?void 0:r.$brand)==="auto-parseable-tool"}function eS(r,t){return!t||!eb(t)?{...r,choices:r.choices.map(a=>({...a,message:{...a.message,parsed:null,...a.message.tool_calls?{tool_calls:a.message.tool_calls}:void 0}}))}:Sh(r,t)}function Sh(r,t){const a=r.choices.map(s=>{var l;if(s.finish_reason==="length")throw new zv;if(s.finish_reason==="content_filter")throw new Uv;return{...s,message:{...s.message,...s.message.tool_calls?{tool_calls:((l=s.message.tool_calls)==null?void 0:l.map(u=>nS(t,u)))??void 0}:void 0,parsed:s.message.content&&!s.message.refusal?tS(t,s.message.content):null}}});return{...r,choices:a}}function tS(r,t){var a,s;return((a=r.response_format)==null?void 0:a.type)!=="json_schema"?null:((s=r.response_format)==null?void 0:s.type)==="json_schema"?"$parseRaw"in r.response_format?r.response_format.$parseRaw(t):JSON.parse(t):null}function nS(r,t){var s;const a=(s=r.tools)==null?void 0:s.find(l=>{var u;return((u=l.function)==null?void 0:u.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Rl(a)?a.$parseRaw(t.function.arguments):a!=null&&a.function.strict?JSON.parse(t.function.arguments):null}}}function aS(r,t){var s;if(!r)return!1;const a=(s=r.tools)==null?void 0:s.find(l=>{var u;return((u=l.function)==null?void 0:u.name)===t.function.name});return Rl(a)||(a==null?void 0:a.function.strict)||!1}function eb(r){var t;return wh(r.response_format)?!0:((t=r.tools)==null?void 0:t.some(a=>Rl(a)||a.type==="function"&&a.function.strict===!0))??!1}function rS(r){for(const t of r??[]){if(t.type!=="function")throw new Re(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new Re(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var on=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},Gt,Hf,_u,qf,Ff,Vf,tb,Yf;const Sy=10;class nb extends bh{constructor(){super(...arguments),Gt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var s;this._chatCompletions.push(t),this._emit("chatCompletion",t);const a=(s=t.choices[0])==null?void 0:s.message;return a&&this._addMessage(a),t}_addMessage(t,a=!0){if("content"in t||(t.content=null),this.messages.push(t),a){if(this._emit("message",t),(Jv(t)||Wv(t))&&t.content)this._emit("functionCallResult",t.content);else if(Hs(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Hs(t)&&t.tool_calls)for(const s of t.tool_calls)s.type==="function"&&this._emit("functionCall",s.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new Re("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),on(this,Gt,"m",Hf).call(this)}async finalMessage(){return await this.done(),on(this,Gt,"m",_u).call(this)}async finalFunctionCall(){return await this.done(),on(this,Gt,"m",qf).call(this)}async finalFunctionCallResult(){return await this.done(),on(this,Gt,"m",Ff).call(this)}async totalUsage(){return await this.done(),on(this,Gt,"m",Vf).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const a=on(this,Gt,"m",_u).call(this);a&&this._emit("finalMessage",a);const s=on(this,Gt,"m",Hf).call(this);s&&this._emit("finalContent",s);const l=on(this,Gt,"m",qf).call(this);l&&this._emit("finalFunctionCall",l);const u=on(this,Gt,"m",Ff).call(this);u!=null&&this._emit("finalFunctionCallResult",u),this._chatCompletions.some(d=>d.usage)&&this._emit("totalUsage",on(this,Gt,"m",Vf).call(this))}async _createChatCompletion(t,a,s){const l=s==null?void 0:s.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort())),on(this,Gt,"m",tb).call(this,a);const u=await t.chat.completions.create({...a,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Sh(u,a))}async _runChatCompletion(t,a,s){for(const l of a.messages)this._addMessage(l,!1);return await this._createChatCompletion(t,a,s)}async _runFunctions(t,a,s){var A;const l="function",{function_call:u="auto",stream:d,...f}=a,m=typeof u!="string"&&(u==null?void 0:u.name),{maxChatCompletions:p=Sy}=s||{},y={};for(const v of a.functions)y[v.name||v.function.name]=v;const b=a.functions.map(v=>({name:v.name||v.function.name,parameters:v.parameters,description:v.description}));for(const v of a.messages)this._addMessage(v,!1);for(let v=0;v<p;++v){const x=(A=(await this._createChatCompletion(t,{...f,function_call:u,functions:b,messages:[...this.messages]},s)).choices[0])==null?void 0:A.message;if(!x)throw new Re("missing message in ChatCompletion response");if(!x.function_call)return;const{name:E,arguments:k}=x.function_call,N=y[E];if(N){if(m&&m!==E){const H=`Invalid function_call: ${JSON.stringify(E)}. ${JSON.stringify(m)} requested. Please try again`;this._addMessage({role:l,name:E,content:H});continue}}else{const H=`Invalid function_call: ${JSON.stringify(E)}. Available options are: ${b.map(q=>JSON.stringify(q.name)).join(", ")}. Please try again`;this._addMessage({role:l,name:E,content:H});continue}let T;try{T=wy(N)?await N.parse(k):k}catch(H){this._addMessage({role:l,name:E,content:H instanceof Error?H.message:String(H)});continue}const M=await N.function(T,this),R=on(this,Gt,"m",Yf).call(this,M);if(this._addMessage({role:l,name:E,content:R}),m)return}}async _runTools(t,a,s){var v,S,x;const l="tool",{tool_choice:u="auto",stream:d,...f}=a,m=typeof u!="string"&&((v=u==null?void 0:u.function)==null?void 0:v.name),{maxChatCompletions:p=Sy}=s||{},y=a.tools.map(E=>{if(Rl(E)){if(!E.$callback)throw new Re("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:E.$callback,name:E.function.name,description:E.function.description||"",parameters:E.function.parameters,parse:E.$parseRaw,strict:!0}}}return E}),b={};for(const E of y)E.type==="function"&&(b[E.function.name||E.function.function.name]=E.function);const A="tools"in a?y.map(E=>E.type==="function"?{type:"function",function:{name:E.function.name||E.function.function.name,parameters:E.function.parameters,description:E.function.description,strict:E.function.strict}}:E):void 0;for(const E of a.messages)this._addMessage(E,!1);for(let E=0;E<p;++E){const N=(S=(await this._createChatCompletion(t,{...f,tool_choice:u,tools:A,messages:[...this.messages]},s)).choices[0])==null?void 0:S.message;if(!N)throw new Re("missing message in ChatCompletion response");if(!((x=N.tool_calls)!=null&&x.length))return;for(const T of N.tool_calls){if(T.type!=="function")continue;const M=T.id,{name:R,arguments:H}=T.function,q=b[R];if(q){if(m&&m!==R){const ce=`Invalid tool_call: ${JSON.stringify(R)}. ${JSON.stringify(m)} requested. Please try again`;this._addMessage({role:l,tool_call_id:M,content:ce});continue}}else{const ce=`Invalid tool_call: ${JSON.stringify(R)}. Available options are: ${Object.keys(b).map(D=>JSON.stringify(D)).join(", ")}. Please try again`;this._addMessage({role:l,tool_call_id:M,content:ce});continue}let ne;try{ne=wy(q)?await q.parse(H):H}catch(ce){const D=ce instanceof Error?ce.message:String(ce);this._addMessage({role:l,tool_call_id:M,content:D});continue}const Z=await q.function(ne,this),te=on(this,Gt,"m",Yf).call(this,Z);if(this._addMessage({role:l,tool_call_id:M,content:te}),m)return}}}}Gt=new WeakSet,Hf=function(){return on(this,Gt,"m",_u).call(this).content??null},_u=function(){let t=this.messages.length;for(;t-- >0;){const a=this.messages[t];if(Hs(a)){const{function_call:s,...l}=a,u={...l,content:a.content??null,refusal:a.refusal??null};return s&&(u.function_call=s),u}}throw new Re("stream ended without producing a ChatCompletionMessage with role=assistant")},qf=function(){var t,a;for(let s=this.messages.length-1;s>=0;s--){const l=this.messages[s];if(Hs(l)&&(l!=null&&l.function_call))return l.function_call;if(Hs(l)&&((t=l==null?void 0:l.tool_calls)!=null&&t.length))return(a=l.tool_calls.at(-1))==null?void 0:a.function}},Ff=function(){for(let t=this.messages.length-1;t>=0;t--){const a=this.messages[t];if(Jv(a)&&a.content!=null||Wv(a)&&a.content!=null&&typeof a.content=="string"&&this.messages.some(s=>{var l;return s.role==="assistant"&&((l=s.tool_calls)==null?void 0:l.some(u=>u.type==="function"&&u.id===a.tool_call_id))}))return a.content}},Vf=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:a}of this._chatCompletions)a&&(t.completion_tokens+=a.completion_tokens,t.prompt_tokens+=a.prompt_tokens,t.total_tokens+=a.total_tokens);return t},tb=function(t){if(t.n!=null&&t.n>1)throw new Re("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Yf=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class dl extends nb{static runFunctions(t,a,s){const l=new dl,u={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return l._run(()=>l._runFunctions(t,a,u)),l}static runTools(t,a,s){const l=new dl,u={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return l._run(()=>l._runTools(t,a,u)),l}_addMessage(t,a=!0){super._addMessage(t,a),Hs(t)&&t.content&&this._emit("content",t.content)}}const ab=1,rb=2,sb=4,ib=8,lb=16,ob=32,ub=64,cb=128,db=256,fb=cb|db,hb=lb|ob|fb|ub,mb=ab|rb|hb,pb=sb|ib,sS=mb|pb,Ut={STR:ab,NUM:rb,ARR:sb,OBJ:ib,NULL:lb,BOOL:ob,NAN:ub,INFINITY:cb,MINUS_INFINITY:db,INF:fb,SPECIAL:hb,ATOM:mb,COLLECTION:pb,ALL:sS};class iS extends Error{}class lS extends Error{}function oS(r,t=Ut.ALL){if(typeof r!="string")throw new TypeError(`expecting str, got ${typeof r}`);if(!r.trim())throw new Error(`${r} is empty`);return uS(r.trim(),t)}const uS=(r,t)=>{const a=r.length;let s=0;const l=A=>{throw new iS(`${A} at position ${s}`)},u=A=>{throw new lS(`${A} at position ${s}`)},d=()=>(b(),s>=a&&l("Unexpected end of input"),r[s]==='"'?f():r[s]==="{"?m():r[s]==="["?p():r.substring(s,s+4)==="null"||Ut.NULL&t&&a-s<4&&"null".startsWith(r.substring(s))?(s+=4,null):r.substring(s,s+4)==="true"||Ut.BOOL&t&&a-s<4&&"true".startsWith(r.substring(s))?(s+=4,!0):r.substring(s,s+5)==="false"||Ut.BOOL&t&&a-s<5&&"false".startsWith(r.substring(s))?(s+=5,!1):r.substring(s,s+8)==="Infinity"||Ut.INFINITY&t&&a-s<8&&"Infinity".startsWith(r.substring(s))?(s+=8,1/0):r.substring(s,s+9)==="-Infinity"||Ut.MINUS_INFINITY&t&&1<a-s&&a-s<9&&"-Infinity".startsWith(r.substring(s))?(s+=9,-1/0):r.substring(s,s+3)==="NaN"||Ut.NAN&t&&a-s<3&&"NaN".startsWith(r.substring(s))?(s+=3,NaN):y()),f=()=>{const A=s;let v=!1;for(s++;s<a&&(r[s]!=='"'||v&&r[s-1]==="\\");)v=r[s]==="\\"?!v:!1,s++;if(r.charAt(s)=='"')try{return JSON.parse(r.substring(A,++s-Number(v)))}catch(S){u(String(S))}else if(Ut.STR&t)try{return JSON.parse(r.substring(A,s-Number(v))+'"')}catch{return JSON.parse(r.substring(A,r.lastIndexOf("\\"))+'"')}l("Unterminated string literal")},m=()=>{s++,b();const A={};try{for(;r[s]!=="}";){if(b(),s>=a&&Ut.OBJ&t)return A;const v=f();b(),s++;try{const S=d();Object.defineProperty(A,v,{value:S,writable:!0,enumerable:!0,configurable:!0})}catch(S){if(Ut.OBJ&t)return A;throw S}b(),r[s]===","&&s++}}catch{if(Ut.OBJ&t)return A;l("Expected '}' at end of object")}return s++,A},p=()=>{s++;const A=[];try{for(;r[s]!=="]";)A.push(d()),b(),r[s]===","&&s++}catch{if(Ut.ARR&t)return A;l("Expected ']' at end of array")}return s++,A},y=()=>{if(s===0){r==="-"&&Ut.NUM&t&&l("Not sure what '-' is");try{return JSON.parse(r)}catch(v){if(Ut.NUM&t)try{return r[r.length-1]==="."?JSON.parse(r.substring(0,r.lastIndexOf("."))):JSON.parse(r.substring(0,r.lastIndexOf("e")))}catch{}u(String(v))}}const A=s;for(r[s]==="-"&&s++;r[s]&&!",]}".includes(r[s]);)s++;s==a&&!(Ut.NUM&t)&&l("Unterminated number literal");try{return JSON.parse(r.substring(A,s))}catch{r.substring(A,s)==="-"&&Ut.NUM&t&&l("Not sure what '-' is");try{return JSON.parse(r.substring(A,r.lastIndexOf("e")))}catch(S){u(String(S))}}},b=()=>{for(;s<a&&` 
\r	`.includes(r[s]);)s++};return d()},Ay=r=>oS(r,Ut.ALL^Ut.NUM);var Ds=function(r,t,a,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!l:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(r,a):l?l.value=a:t.set(r,a),a},ot=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},Ct,Ea,Ms,ar,bf,eu,xf,_f,wf,tu,Sf,Ey;class fl extends nb{constructor(t){super(),Ct.add(this),Ea.set(this,void 0),Ms.set(this,void 0),ar.set(this,void 0),Ds(this,Ea,t,"f"),Ds(this,Ms,[],"f")}get currentChatCompletionSnapshot(){return ot(this,ar,"f")}static fromReadableStream(t){const a=new fl(null);return a._run(()=>a._fromReadableStream(t)),a}static createChatCompletion(t,a,s){const l=new fl(a);return l._run(()=>l._runChatCompletion(t,{...a,stream:!0},{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),l}async _createChatCompletion(t,a,s){var d;super._createChatCompletion;const l=s==null?void 0:s.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort())),ot(this,Ct,"m",bf).call(this);const u=await t.chat.completions.create({...a,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const f of u)ot(this,Ct,"m",xf).call(this,f);if((d=u.controller.signal)!=null&&d.aborted)throw new Rn;return this._addChatCompletion(ot(this,Ct,"m",tu).call(this))}async _fromReadableStream(t,a){var d;const s=a==null?void 0:a.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ot(this,Ct,"m",bf).call(this),this._connected();const l=ra.fromReadableStream(t,this.controller);let u;for await(const f of l)u&&u!==f.id&&this._addChatCompletion(ot(this,Ct,"m",tu).call(this)),ot(this,Ct,"m",xf).call(this,f),u=f.id;if((d=l.controller.signal)!=null&&d.aborted)throw new Rn;return this._addChatCompletion(ot(this,Ct,"m",tu).call(this))}[(Ea=new WeakMap,Ms=new WeakMap,ar=new WeakMap,Ct=new WeakSet,bf=function(){this.ended||Ds(this,ar,void 0,"f")},eu=function(a){let s=ot(this,Ms,"f")[a.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ot(this,Ms,"f")[a.index]=s,s)},xf=function(a){var l,u,d,f,m,p,y,b,A,v,S,x,E,k,N;if(this.ended)return;const s=ot(this,Ct,"m",Ey).call(this,a);this._emit("chunk",a,s);for(const T of a.choices){const M=s.choices[T.index];T.delta.content!=null&&((l=M.message)==null?void 0:l.role)==="assistant"&&((u=M.message)!=null&&u.content)&&(this._emit("content",T.delta.content,M.message.content),this._emit("content.delta",{delta:T.delta.content,snapshot:M.message.content,parsed:M.message.parsed})),T.delta.refusal!=null&&((d=M.message)==null?void 0:d.role)==="assistant"&&((f=M.message)!=null&&f.refusal)&&this._emit("refusal.delta",{delta:T.delta.refusal,snapshot:M.message.refusal}),((m=T.logprobs)==null?void 0:m.content)!=null&&((p=M.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(y=T.logprobs)==null?void 0:y.content,snapshot:((b=M.logprobs)==null?void 0:b.content)??[]}),((A=T.logprobs)==null?void 0:A.refusal)!=null&&((v=M.message)==null?void 0:v.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(S=T.logprobs)==null?void 0:S.refusal,snapshot:((x=M.logprobs)==null?void 0:x.refusal)??[]});const R=ot(this,Ct,"m",eu).call(this,M);M.finish_reason&&(ot(this,Ct,"m",wf).call(this,M),R.current_tool_call_index!=null&&ot(this,Ct,"m",_f).call(this,M,R.current_tool_call_index));for(const H of T.delta.tool_calls??[])R.current_tool_call_index!==H.index&&(ot(this,Ct,"m",wf).call(this,M),R.current_tool_call_index!=null&&ot(this,Ct,"m",_f).call(this,M,R.current_tool_call_index)),R.current_tool_call_index=H.index;for(const H of T.delta.tool_calls??[]){const q=(E=M.message.tool_calls)==null?void 0:E[H.index];q!=null&&q.type&&((q==null?void 0:q.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(k=q.function)==null?void 0:k.name,index:H.index,arguments:q.function.arguments,parsed_arguments:q.function.parsed_arguments,arguments_delta:((N=H.function)==null?void 0:N.arguments)??""}):(q==null||q.type,void 0))}}},_f=function(a,s){var d,f,m;if(ot(this,Ct,"m",eu).call(this,a).done_tool_calls.has(s))return;const u=(d=a.message.tool_calls)==null?void 0:d[s];if(!u)throw new Error("no tool call snapshot");if(!u.type)throw new Error("tool call snapshot missing `type`");if(u.type==="function"){const p=(m=(f=ot(this,Ea,"f"))==null?void 0:f.tools)==null?void 0:m.find(y=>y.type==="function"&&y.function.name===u.function.name);this._emit("tool_calls.function.arguments.done",{name:u.function.name,index:s,arguments:u.function.arguments,parsed_arguments:Rl(p)?p.$parseRaw(u.function.arguments):p!=null&&p.function.strict?JSON.parse(u.function.arguments):null})}else u.type},wf=function(a){var l,u;const s=ot(this,Ct,"m",eu).call(this,a);if(a.message.content&&!s.content_done){s.content_done=!0;const d=ot(this,Ct,"m",Sf).call(this);this._emit("content.done",{content:a.message.content,parsed:d?d.$parseRaw(a.message.content):null})}a.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:a.message.refusal})),(l=a.logprobs)!=null&&l.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:a.logprobs.content})),(u=a.logprobs)!=null&&u.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:a.logprobs.refusal}))},tu=function(){if(this.ended)throw new Re("stream has ended, this shouldn't happen");const a=ot(this,ar,"f");if(!a)throw new Re("request ended without sending any chunks");return Ds(this,ar,void 0,"f"),Ds(this,Ms,[],"f"),cS(a,ot(this,Ea,"f"))},Sf=function(){var s;const a=(s=ot(this,Ea,"f"))==null?void 0:s.response_format;return wh(a)?a:null},Ey=function(a){var s,l,u,d;let f=ot(this,ar,"f");const{choices:m,...p}=a;f?Object.assign(f,p):f=Ds(this,ar,{...p,choices:[]},"f");for(const{delta:y,finish_reason:b,index:A,logprobs:v=null,...S}of a.choices){let x=f.choices[A];if(x||(x=f.choices[A]={finish_reason:b,index:A,message:{},logprobs:v,...S}),v)if(!x.logprobs)x.logprobs=Object.assign({},v);else{const{content:H,refusal:q,...ne}=v;Object.assign(x.logprobs,ne),H&&((s=x.logprobs).content??(s.content=[]),x.logprobs.content.push(...H)),q&&((l=x.logprobs).refusal??(l.refusal=[]),x.logprobs.refusal.push(...q))}if(b&&(x.finish_reason=b,ot(this,Ea,"f")&&eb(ot(this,Ea,"f")))){if(b==="length")throw new zv;if(b==="content_filter")throw new Uv}if(Object.assign(x,S),!y)continue;const{content:E,refusal:k,function_call:N,role:T,tool_calls:M,...R}=y;if(Object.assign(x.message,R),k&&(x.message.refusal=(x.message.refusal||"")+k),T&&(x.message.role=T),N&&(x.message.function_call?(N.name&&(x.message.function_call.name=N.name),N.arguments&&((u=x.message.function_call).arguments??(u.arguments=""),x.message.function_call.arguments+=N.arguments)):x.message.function_call=N),E&&(x.message.content=(x.message.content||"")+E,!x.message.refusal&&ot(this,Ct,"m",Sf).call(this)&&(x.message.parsed=Ay(x.message.content))),M){x.message.tool_calls||(x.message.tool_calls=[]);for(const{index:H,id:q,type:ne,function:Z,...te}of M){const ce=(d=x.message.tool_calls)[H]??(d[H]={});Object.assign(ce,te),q&&(ce.id=q),ne&&(ce.type=ne),Z&&(ce.function??(ce.function={name:Z.name??"",arguments:""})),Z!=null&&Z.name&&(ce.function.name=Z.name),Z!=null&&Z.arguments&&(ce.function.arguments+=Z.arguments,aS(ot(this,Ea,"f"),ce)&&(ce.function.parsed_arguments=Ay(ce.function.arguments)))}}}return f},Symbol.asyncIterator)](){const t=[],a=[];let s=!1;return this.on("chunk",l=>{const u=a.shift();u?u.resolve(l):t.push(l)}),this.on("end",()=>{s=!0;for(const l of a)l.resolve(void 0);a.length=0}),this.on("abort",l=>{s=!0;for(const u of a)u.reject(l);a.length=0}),this.on("error",l=>{s=!0;for(const u of a)u.reject(l);a.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((u,d)=>a.push({resolve:u,reject:d})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ra(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function cS(r,t){const{id:a,choices:s,created:l,model:u,system_fingerprint:d,...f}=r,m={...f,id:a,choices:s.map(({message:p,finish_reason:y,index:b,logprobs:A,...v})=>{if(!y)throw new Re(`missing finish_reason for choice ${b}`);const{content:S=null,function_call:x,tool_calls:E,...k}=p,N=p.role;if(!N)throw new Re(`missing role for choice ${b}`);if(x){const{arguments:T,name:M}=x;if(T==null)throw new Re(`missing function_call.arguments for choice ${b}`);if(!M)throw new Re(`missing function_call.name for choice ${b}`);return{...v,message:{content:S,function_call:{arguments:T,name:M},role:N,refusal:p.refusal??null},finish_reason:y,index:b,logprobs:A}}return E?{...v,index:b,finish_reason:y,logprobs:A,message:{...k,role:N,content:S,refusal:p.refusal??null,tool_calls:E.map((T,M)=>{const{function:R,type:H,id:q,...ne}=T,{arguments:Z,name:te,...ce}=R||{};if(q==null)throw new Re(`missing choices[${b}].tool_calls[${M}].id
${nu(r)}`);if(H==null)throw new Re(`missing choices[${b}].tool_calls[${M}].type
${nu(r)}`);if(te==null)throw new Re(`missing choices[${b}].tool_calls[${M}].function.name
${nu(r)}`);if(Z==null)throw new Re(`missing choices[${b}].tool_calls[${M}].function.arguments
${nu(r)}`);return{...ne,id:q,type:H,function:{...ce,name:te,arguments:Z}}})}}:{...v,message:{...k,content:S,role:N,refusal:p.refusal??null},finish_reason:y,index:b,logprobs:A}}),created:l,model:u,object:"chat.completion",...d?{system_fingerprint:d}:{}};return eS(m,t)}function nu(r){return JSON.stringify(r)}class qs extends fl{static fromReadableStream(t){const a=new qs(null);return a._run(()=>a._fromReadableStream(t)),a}static runFunctions(t,a,s){const l=new qs(null),u={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return l._run(()=>l._runFunctions(t,a,u)),l}static runTools(t,a,s){const l=new qs(a),u={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return l._run(()=>l._runTools(t,a,u)),l}}let gb=class extends Ue{parse(t,a){return rS(t.tools),this._client.chat.completions.create(t,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(s=>Sh(s,t))}runFunctions(t,a){return t.stream?qs.runFunctions(this._client,t,a):dl.runFunctions(this._client,t,a)}runTools(t,a){return t.stream?qs.runTools(this._client,t,a):dl.runTools(this._client,t,a)}stream(t,a){return fl.createChatCompletion(this._client,t,a)}};class Gf extends Ue{constructor(){super(...arguments),this.completions=new gb(this._client)}}(function(r){r.Completions=gb})(Gf||(Gf={}));class yb extends Ue{create(t,a){return this._client.post("/realtime/sessions",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class vb extends Ue{create(t,a){return this._client.post("/realtime/transcription_sessions",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class Iu extends Ue{constructor(){super(...arguments),this.sessions=new yb(this._client),this.transcriptionSessions=new vb(this._client)}}Iu.Sessions=yb;Iu.TranscriptionSessions=vb;class Ah extends Ue{create(t,a,s){return this._client.post(`/threads/${t}/messages`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,a,s){return this._client.get(`/threads/${t}/messages/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,a,s,l){return this._client.post(`/threads/${t}/messages/${a}`,{body:s,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers}})}list(t,a={},s){return wt(a)?this.list(t,{},a):this._client.getAPIList(`/threads/${t}/messages`,Eh,{query:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,a,s){return this._client.delete(`/threads/${t}/messages/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Eh extends qt{}Ah.MessagesPage=Eh;class kh extends Ue{retrieve(t,a,s,l={},u){return wt(l)?this.retrieve(t,a,s,{},l):this._client.get(`/threads/${t}/runs/${a}/steps/${s}`,{query:l,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}list(t,a,s={},l){return wt(s)?this.list(t,a,{},s):this._client.getAPIList(`/threads/${t}/runs/${a}/steps`,Nh,{query:s,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers}})}}class Nh extends qt{}kh.RunStepsPage=Nh;let Ol=class extends Ue{constructor(){super(...arguments),this.steps=new kh(this._client)}create(t,a,s){const{include:l,...u}=a;return this._client.post(`/threads/${t}/runs`,{query:{include:l},body:u,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:a.stream??!1})}retrieve(t,a,s){return this._client.get(`/threads/${t}/runs/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,a,s,l){return this._client.post(`/threads/${t}/runs/${a}`,{body:s,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers}})}list(t,a={},s){return wt(a)?this.list(t,{},a):this._client.getAPIList(`/threads/${t}/runs`,jh,{query:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(t,a,s){return this._client.post(`/threads/${t}/runs/${a}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,a,s){const l=await this.create(t,a,s);return await this.poll(t,l.id,s)}createAndStream(t,a,s){return Hn.createAssistantStream(t,this._client.beta.threads.runs,a,s)}async poll(t,a,s){const l={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(l["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:u,response:d}=await this.retrieve(t,a,{...s,headers:{...s==null?void 0:s.headers,...l}}).withResponse();switch(u.status){case"queued":case"in_progress":case"cancelling":let f=5e3;if(s!=null&&s.pollIntervalMs)f=s.pollIntervalMs;else{const m=d.headers.get("openai-poll-after-ms");if(m){const p=parseInt(m);isNaN(p)||(f=p)}}await Cl(f);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return u}}}stream(t,a,s){return Hn.createAssistantStream(t,this._client.beta.threads.runs,a,s)}submitToolOutputs(t,a,s,l){return this._client.post(`/threads/${t}/runs/${a}/submit_tool_outputs`,{body:s,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers},stream:s.stream??!1})}async submitToolOutputsAndPoll(t,a,s,l){const u=await this.submitToolOutputs(t,a,s,l);return await this.poll(t,u.id,l)}submitToolOutputsStream(t,a,s,l){return Hn.createToolAssistantStream(t,a,this._client.beta.threads.runs,s,l)}};class jh extends qt{}Ol.RunsPage=jh;Ol.Steps=kh;Ol.RunStepsPage=Nh;class Js extends Ue{constructor(){super(...arguments),this.runs=new Ol(this._client),this.messages=new Ah(this._client)}create(t={},a){return wt(t)?this.create({},t):this._client.post("/threads",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(t,a){return this._client.get(`/threads/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(t,a,s){return this._client.post(`/threads/${t}`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,a){return this._client.delete(`/threads/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}createAndRun(t,a){return this._client.post("/threads/runs",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers},stream:t.stream??!1})}async createAndRunPoll(t,a){const s=await this.createAndRun(t,a);return await this.runs.poll(s.thread_id,s.id,a)}createAndRunStream(t,a){return Hn.createThreadAssistantStream(t,this._client.beta.threads,a)}}Js.Runs=Ol;Js.RunsPage=jh;Js.Messages=Ah;Js.MessagesPage=Eh;class Ws extends Ue{constructor(){super(...arguments),this.realtime=new Iu(this._client),this.chat=new Gf(this._client),this.assistants=new xh(this._client),this.threads=new Js(this._client)}}Ws.Realtime=Iu;Ws.Assistants=xh;Ws.AssistantsPage=_h;Ws.Threads=Js;class bb extends Ue{create(t,a){return this._client.post("/completions",{body:t,...a,stream:t.stream??!1})}}class xb extends Ue{create(t,a){const s=!!t.encoding_format;let l=s?t.encoding_format:"base64";s&&ir("Request","User defined encoding_format:",t.encoding_format);const u=this._client.post("/embeddings",{body:{...t,encoding_format:l},...a});return s?u:(ir("response","Decoding base64 embeddings to float32 array"),u._thenUnwrap(d=>(d&&d.data&&d.data.forEach(f=>{const m=f.embedding;f.embedding=K2(m)}),d)))}}class Ch extends Ue{retrieve(t,a,s,l){return this._client.get(`/evals/${t}/runs/${a}/output_items/${s}`,l)}list(t,a,s={},l){return wt(s)?this.list(t,a,{},s):this._client.getAPIList(`/evals/${t}/runs/${a}/output_items`,Th,{query:s,...l})}}class Th extends qt{}Ch.OutputItemListResponsesPage=Th;class Dl extends Ue{constructor(){super(...arguments),this.outputItems=new Ch(this._client)}create(t,a,s){return this._client.post(`/evals/${t}/runs`,{body:a,...s})}retrieve(t,a,s){return this._client.get(`/evals/${t}/runs/${a}`,s)}list(t,a={},s){return wt(a)?this.list(t,{},a):this._client.getAPIList(`/evals/${t}/runs`,Rh,{query:a,...s})}del(t,a,s){return this._client.delete(`/evals/${t}/runs/${a}`,s)}cancel(t,a,s){return this._client.post(`/evals/${t}/runs/${a}`,s)}}class Rh extends qt{}Dl.RunListResponsesPage=Rh;Dl.OutputItems=Ch;Dl.OutputItemListResponsesPage=Th;class Ml extends Ue{constructor(){super(...arguments),this.runs=new Dl(this._client)}create(t,a){return this._client.post("/evals",{body:t,...a})}retrieve(t,a){return this._client.get(`/evals/${t}`,a)}update(t,a,s){return this._client.post(`/evals/${t}`,{body:a,...s})}list(t={},a){return wt(t)?this.list({},t):this._client.getAPIList("/evals",Oh,{query:t,...a})}del(t,a){return this._client.delete(`/evals/${t}`,a)}}class Oh extends qt{}Ml.EvalListResponsesPage=Oh;Ml.Runs=Dl;Ml.RunListResponsesPage=Rh;let Dh=class extends Ue{create(t,a){return this._client.post("/files",Vs({body:t,...a}))}retrieve(t,a){return this._client.get(`/files/${t}`,a)}list(t={},a){return wt(t)?this.list({},t):this._client.getAPIList("/files",Mh,{query:t,...a})}del(t,a){return this._client.delete(`/files/${t}`,a)}content(t,a){return this._client.get(`/files/${t}/content`,{...a,headers:{Accept:"application/binary",...a==null?void 0:a.headers},__binaryResponse:!0})}retrieveContent(t,a){return this._client.get(`/files/${t}/content`,a)}async waitForProcessing(t,{pollInterval:a=5e3,maxWait:s=30*60*1e3}={}){const l=new Set(["processed","error","deleted"]),u=Date.now();let d=await this.retrieve(t);for(;!d.status||!l.has(d.status);)if(await Cl(a),d=await this.retrieve(t),Date.now()-u>s)throw new gh({message:`Giving up on waiting for file ${t} to finish processing after ${s} milliseconds.`});return d}};class Mh extends qt{}Dh.FileObjectsPage=Mh;class _b extends Ue{}let wb=class extends Ue{run(t,a){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...a})}validate(t,a){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...a})}};class zh extends Ue{constructor(){super(...arguments),this.graders=new wb(this._client)}}zh.Graders=wb;class Uh extends Ue{create(t,a,s){return this._client.getAPIList(`/fine_tuning/checkpoints/${t}/permissions`,Bh,{body:a,method:"post",...s})}retrieve(t,a={},s){return wt(a)?this.retrieve(t,{},a):this._client.get(`/fine_tuning/checkpoints/${t}/permissions`,{query:a,...s})}del(t,a,s){return this._client.delete(`/fine_tuning/checkpoints/${t}/permissions/${a}`,s)}}class Bh extends Lu{}Uh.PermissionCreateResponsesPage=Bh;let Hu=class extends Ue{constructor(){super(...arguments),this.permissions=new Uh(this._client)}};Hu.Permissions=Uh;Hu.PermissionCreateResponsesPage=Bh;class Lh extends Ue{list(t,a={},s){return wt(a)?this.list(t,{},a):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,Ph,{query:a,...s})}}class Ph extends qt{}Lh.FineTuningJobCheckpointsPage=Ph;class ei extends Ue{constructor(){super(...arguments),this.checkpoints=new Lh(this._client)}create(t,a){return this._client.post("/fine_tuning/jobs",{body:t,...a})}retrieve(t,a){return this._client.get(`/fine_tuning/jobs/${t}`,a)}list(t={},a){return wt(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",Zh,{query:t,...a})}cancel(t,a){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,a)}listEvents(t,a={},s){return wt(a)?this.listEvents(t,{},a):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,$h,{query:a,...s})}pause(t,a){return this._client.post(`/fine_tuning/jobs/${t}/pause`,a)}resume(t,a){return this._client.post(`/fine_tuning/jobs/${t}/resume`,a)}}class Zh extends qt{}class $h extends qt{}ei.FineTuningJobsPage=Zh;ei.FineTuningJobEventsPage=$h;ei.Checkpoints=Lh;ei.FineTuningJobCheckpointsPage=Ph;class dr extends Ue{constructor(){super(...arguments),this.methods=new _b(this._client),this.jobs=new ei(this._client),this.checkpoints=new Hu(this._client),this.alpha=new zh(this._client)}}dr.Methods=_b;dr.Jobs=ei;dr.FineTuningJobsPage=Zh;dr.FineTuningJobEventsPage=$h;dr.Checkpoints=Hu;dr.Alpha=zh;class Sb extends Ue{}class Ih extends Ue{constructor(){super(...arguments),this.graderModels=new Sb(this._client)}}Ih.GraderModels=Sb;class Ab extends Ue{createVariation(t,a){return this._client.post("/images/variations",Vs({body:t,...a}))}edit(t,a){return this._client.post("/images/edits",Vs({body:t,...a}))}generate(t,a){return this._client.post("/images/generations",{body:t,...a})}}class Hh extends Ue{retrieve(t,a){return this._client.get(`/models/${t}`,a)}list(t){return this._client.getAPIList("/models",qh,t)}del(t,a){return this._client.delete(`/models/${t}`,a)}}class qh extends Lu{}Hh.ModelsPage=qh;class Eb extends Ue{create(t,a){return this._client.post("/moderations",{body:t,...a})}}function dS(r,t){return!t||!hS(t)?{...r,output_parsed:null,output:r.output.map(a=>a.type==="function_call"?{...a,parsed_arguments:null}:a.type==="message"?{...a,content:a.content.map(s=>({...s,parsed:null}))}:a)}:kb(r,t)}function kb(r,t){const a=r.output.map(l=>{if(l.type==="function_call")return{...l,parsed_arguments:gS(t,l)};if(l.type==="message"){const u=l.content.map(d=>d.type==="output_text"?{...d,parsed:fS(t,d.text)}:d);return{...l,content:u}}return l}),s=Object.assign({},r,{output:a});return Object.getOwnPropertyDescriptor(r,"output_text")||Nb(s),Object.defineProperty(s,"output_parsed",{enumerable:!0,get(){for(const l of s.output)if(l.type==="message"){for(const u of l.content)if(u.type==="output_text"&&u.parsed!==null)return u.parsed}return null}}),s}function fS(r,t){var a,s,l,u;return((s=(a=r.text)==null?void 0:a.format)==null?void 0:s.type)!=="json_schema"?null:"$parseRaw"in((l=r.text)==null?void 0:l.format)?((u=r.text)==null?void 0:u.format).$parseRaw(t):JSON.parse(t)}function hS(r){var t;return!!wh((t=r.text)==null?void 0:t.format)}function mS(r){return(r==null?void 0:r.$brand)==="auto-parseable-tool"}function pS(r,t){return r.find(a=>a.type==="function"&&a.name===t)}function gS(r,t){const a=pS(r.tools??[],t.name);return{...t,...t,parsed_arguments:mS(a)?a.$parseRaw(t.arguments):a!=null&&a.strict?JSON.parse(t.arguments):null}}function Nb(r){const t=[];for(const a of r.output)if(a.type==="message")for(const s of a.content)s.type==="output_text"&&t.push(s.text);r.output_text=t.join("")}class jb extends Ue{list(t,a={},s){return wt(a)?this.list(t,{},a):this._client.getAPIList(`/responses/${t}/input_items`,vS,{query:a,...s})}}var zs=function(r,t,a,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!l:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(r,a):l?l.value=a:t.set(r,a),a},rr=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},Us,au,sr,ru,ky,Ny,jy,Cy;class Fh extends bh{constructor(t){super(),Us.add(this),au.set(this,void 0),sr.set(this,void 0),ru.set(this,void 0),zs(this,au,t,"f")}static createResponse(t,a,s){const l=new Fh(a);return l._run(()=>l._createResponse(t,a,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),l}async _createResponse(t,a,s){var d;const l=s==null?void 0:s.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort())),rr(this,Us,"m",ky).call(this);const u=await t.responses.create({...a,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const f of u)rr(this,Us,"m",Ny).call(this,f);if((d=u.controller.signal)!=null&&d.aborted)throw new Rn;return rr(this,Us,"m",jy).call(this)}[(au=new WeakMap,sr=new WeakMap,ru=new WeakMap,Us=new WeakSet,ky=function(){this.ended||zs(this,sr,void 0,"f")},Ny=function(a){if(this.ended)return;const s=rr(this,Us,"m",Cy).call(this,a);switch(this._emit("event",a),a.type){case"response.output_text.delta":{const l=s.output[a.output_index];if(!l)throw new Re(`missing output at index ${a.output_index}`);if(l.type==="message"){const u=l.content[a.content_index];if(!u)throw new Re(`missing content at index ${a.content_index}`);if(u.type!=="output_text")throw new Re(`expected content to be 'output_text', got ${u.type}`);this._emit("response.output_text.delta",{...a,snapshot:u.text})}break}case"response.function_call_arguments.delta":{const l=s.output[a.output_index];if(!l)throw new Re(`missing output at index ${a.output_index}`);l.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...a,snapshot:l.arguments});break}default:this._emit(a.type,a);break}},jy=function(){if(this.ended)throw new Re("stream has ended, this shouldn't happen");const a=rr(this,sr,"f");if(!a)throw new Re("request ended without sending any events");zs(this,sr,void 0,"f");const s=yS(a,rr(this,au,"f"));return zs(this,ru,s,"f"),s},Cy=function(a){let s=rr(this,sr,"f");if(!s){if(a.type!=="response.created")throw new Re(`When snapshot hasn't been set yet, expected 'response.created' event, got ${a.type}`);return s=zs(this,sr,a.response,"f"),s}switch(a.type){case"response.output_item.added":{s.output.push(a.item);break}case"response.content_part.added":{const l=s.output[a.output_index];if(!l)throw new Re(`missing output at index ${a.output_index}`);l.type==="message"&&l.content.push(a.part);break}case"response.output_text.delta":{const l=s.output[a.output_index];if(!l)throw new Re(`missing output at index ${a.output_index}`);if(l.type==="message"){const u=l.content[a.content_index];if(!u)throw new Re(`missing content at index ${a.content_index}`);if(u.type!=="output_text")throw new Re(`expected content to be 'output_text', got ${u.type}`);u.text+=a.delta}break}case"response.function_call_arguments.delta":{const l=s.output[a.output_index];if(!l)throw new Re(`missing output at index ${a.output_index}`);l.type==="function_call"&&(l.arguments+=a.delta);break}case"response.completed":{zs(this,sr,a.response,"f");break}}return s},Symbol.asyncIterator)](){const t=[],a=[];let s=!1;return this.on("event",l=>{const u=a.shift();u?u.resolve(l):t.push(l)}),this.on("end",()=>{s=!0;for(const l of a)l.resolve(void 0);a.length=0}),this.on("abort",l=>{s=!0;for(const u of a)u.reject(l);a.length=0}),this.on("error",l=>{s=!0;for(const u of a)u.reject(l);a.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((u,d)=>a.push({resolve:u,reject:d})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=rr(this,ru,"f");if(!t)throw new Re("stream ended without producing a ChatCompletion");return t}}function yS(r,t){return dS(r,t)}class Vh extends Ue{constructor(){super(...arguments),this.inputItems=new jb(this._client)}create(t,a){return this._client.post("/responses",{body:t,...a,stream:t.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&Nb(s),s))}retrieve(t,a={},s){return wt(a)?this.retrieve(t,{},a):this._client.get(`/responses/${t}`,{query:a,...s})}del(t,a){return this._client.delete(`/responses/${t}`,{...a,headers:{Accept:"*/*",...a==null?void 0:a.headers}})}parse(t,a){return this._client.responses.create(t,a)._thenUnwrap(s=>kb(s,t))}stream(t,a){return Fh.createResponse(this._client,t,a)}}class vS extends qt{}Vh.InputItems=jb;class Cb extends Ue{create(t,a,s){return this._client.post(`/uploads/${t}/parts`,Vs({body:a,...s}))}}class Yh extends Ue{constructor(){super(...arguments),this.parts=new Cb(this._client)}create(t,a){return this._client.post("/uploads",{body:t,...a})}cancel(t,a){return this._client.post(`/uploads/${t}/cancel`,a)}complete(t,a,s){return this._client.post(`/uploads/${t}/complete`,{body:a,...s})}}Yh.Parts=Cb;const bS=async r=>{const t=await Promise.allSettled(r),a=t.filter(l=>l.status==="rejected");if(a.length){for(const l of a)console.error(l.reason);throw new Error(`${a.length} promise(s) failed - see the above errors`)}const s=[];for(const l of t)l.status==="fulfilled"&&s.push(l.value);return s};class qu extends Ue{create(t,a,s){return this._client.post(`/vector_stores/${t}/files`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,a,s){return this._client.get(`/vector_stores/${t}/files/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,a,s,l){return this._client.post(`/vector_stores/${t}/files/${a}`,{body:s,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers}})}list(t,a={},s){return wt(a)?this.list(t,{},a):this._client.getAPIList(`/vector_stores/${t}/files`,Fu,{query:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,a,s){return this._client.delete(`/vector_stores/${t}/files/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,a,s){const l=await this.create(t,a,s);return await this.poll(t,l.id,s)}async poll(t,a,s){const l={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(l["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const u=await this.retrieve(t,a,{...s,headers:l}).withResponse(),d=u.data;switch(d.status){case"in_progress":let f=5e3;if(s!=null&&s.pollIntervalMs)f=s.pollIntervalMs;else{const m=u.response.headers.get("openai-poll-after-ms");if(m){const p=parseInt(m);isNaN(p)||(f=p)}}await Cl(f);break;case"failed":case"completed":return d}}}async upload(t,a,s){const l=await this._client.files.create({file:a,purpose:"assistants"},s);return this.create(t,{file_id:l.id},s)}async uploadAndPoll(t,a,s){const l=await this.upload(t,a,s);return await this.poll(t,l.id,s)}content(t,a,s){return this._client.getAPIList(`/vector_stores/${t}/files/${a}/content`,Gh,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Fu extends qt{}class Gh extends Lu{}qu.VectorStoreFilesPage=Fu;qu.FileContentResponsesPage=Gh;class Tb extends Ue{create(t,a,s){return this._client.post(`/vector_stores/${t}/file_batches`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,a,s){return this._client.get(`/vector_stores/${t}/file_batches/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(t,a,s){return this._client.post(`/vector_stores/${t}/file_batches/${a}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,a,s){const l=await this.create(t,a);return await this.poll(t,l.id,s)}listFiles(t,a,s={},l){return wt(s)?this.listFiles(t,a,{},s):this._client.getAPIList(`/vector_stores/${t}/file_batches/${a}/files`,Fu,{query:s,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers}})}async poll(t,a,s){const l={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(l["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:u,response:d}=await this.retrieve(t,a,{...s,headers:l}).withResponse();switch(u.status){case"in_progress":let f=5e3;if(s!=null&&s.pollIntervalMs)f=s.pollIntervalMs;else{const m=d.headers.get("openai-poll-after-ms");if(m){const p=parseInt(m);isNaN(p)||(f=p)}}await Cl(f);break;case"failed":case"cancelled":case"completed":return u}}}async uploadAndPoll(t,{files:a,fileIds:s=[]},l){if(a==null||a.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const u=(l==null?void 0:l.maxConcurrency)??5,d=Math.min(u,a.length),f=this._client,m=a.values(),p=[...s];async function y(A){for(let v of A){const S=await f.files.create({file:v,purpose:"assistants"},l);p.push(S.id)}}const b=Array(d).fill(m).map(y);return await bS(b),await this.createAndPoll(t,{file_ids:p})}}class fr extends Ue{constructor(){super(...arguments),this.files=new qu(this._client),this.fileBatches=new Tb(this._client)}create(t,a){return this._client.post("/vector_stores",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(t,a){return this._client.get(`/vector_stores/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(t,a,s){return this._client.post(`/vector_stores/${t}`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t={},a){return wt(t)?this.list({},t):this._client.getAPIList("/vector_stores",Xh,{query:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}del(t,a){return this._client.delete(`/vector_stores/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}search(t,a,s){return this._client.getAPIList(`/vector_stores/${t}/search`,Qh,{body:a,method:"post",...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Xh extends qt{}class Qh extends Lu{}fr.VectorStoresPage=Xh;fr.VectorStoreSearchResponsesPage=Qh;fr.Files=qu;fr.VectorStoreFilesPage=Fu;fr.FileContentResponsesPage=Gh;fr.FileBatches=Tb;var xS={},Rb;class Pe extends P2{constructor({baseURL:t=Br("OPENAI_BASE_URL"),apiKey:a=Br("OPENAI_API_KEY"),organization:s=Br("OPENAI_ORG_ID")??null,project:l=Br("OPENAI_PROJECT_ID")??null,...u}={}){if(a===void 0)throw new Re("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const d={apiKey:a,organization:s,project:l,...u,baseURL:t||"https://api.openai.com/v1"};if(!d.dangerouslyAllowBrowser&&X2())throw new Re(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:d.baseURL,timeout:d.timeout??6e5,httpAgent:d.httpAgent,maxRetries:d.maxRetries,fetch:d.fetch}),this.completions=new bb(this),this.chat=new $u(this),this.embeddings=new xb(this),this.files=new Dh(this),this.images=new Ab(this),this.audio=new Tl(this),this.moderations=new Eb(this),this.models=new Hh(this),this.fineTuning=new dr(this),this.graders=new Ih(this),this.vectorStores=new fr(this),this.beta=new Ws(this),this.batches=new yh(this),this.uploads=new Yh(this),this.responses=new Vh(this),this.evals=new Ml(this),this._options=d,this.apiKey=a,this.organization=s,this.project=l}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return _2(t,{arrayFormat:"brackets"})}}Rb=Pe;Pe.OpenAI=Rb;Pe.DEFAULT_TIMEOUT=6e5;Pe.OpenAIError=Re;Pe.APIError=Ht;Pe.APIConnectionError=Mu;Pe.APIConnectionTimeoutError=gh;Pe.APIUserAbortError=Rn;Pe.NotFoundError=Tv;Pe.ConflictError=Rv;Pe.RateLimitError=Dv;Pe.BadRequestError=Nv;Pe.AuthenticationError=jv;Pe.InternalServerError=Mv;Pe.PermissionDeniedError=Cv;Pe.UnprocessableEntityError=Ov;Pe.toFile=Zv;Pe.fileFromPath=Av;Pe.Completions=bb;Pe.Chat=$u;Pe.ChatCompletionsPage=Zu;Pe.Embeddings=xb;Pe.Files=Dh;Pe.FileObjectsPage=Mh;Pe.Images=Ab;Pe.Audio=Tl;Pe.Moderations=Eb;Pe.Models=Hh;Pe.ModelsPage=qh;Pe.FineTuning=dr;Pe.Graders=Ih;Pe.VectorStores=fr;Pe.VectorStoresPage=Xh;Pe.VectorStoreSearchResponsesPage=Qh;Pe.Beta=Ws;Pe.Batches=yh;Pe.BatchesPage=vh;Pe.Uploads=Yh;Pe.Responses=Vh;Pe.Evals=Ml;Pe.EvalListResponsesPage=Oh;class _S extends Pe{constructor({baseURL:t=Br("OPENAI_BASE_URL"),apiKey:a=Br("AZURE_OPENAI_API_KEY"),apiVersion:s=Br("OPENAI_API_VERSION"),endpoint:l,deployment:u,azureADTokenProvider:d,dangerouslyAllowBrowser:f,...m}={}){if(!s)throw new Re("The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).");if(typeof d=="function"&&(f=!0),!d&&!a)throw new Re("Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.");if(d&&a)throw new Re("The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.");if(a??(a=Ty),m.defaultQuery={...m.defaultQuery,"api-version":s},t){if(l)throw new Re("baseURL and endpoint are mutually exclusive")}else{if(l||(l=xS.AZURE_OPENAI_ENDPOINT),!l)throw new Re("Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable");t=`${l}/openai`}super({apiKey:a,baseURL:t,...m,...f!==void 0?{dangerouslyAllowBrowser:f}:{}}),this.apiVersion="",this._azureADTokenProvider=d,this.apiVersion=s,this.deploymentName=u}buildRequest(t,a={}){var s;if(wS.has(t.path)&&t.method==="post"&&t.body!==void 0){if(!cu(t.body))throw new Error("Expected request body to be an object");const l=this.deploymentName||t.body.model||((s=t.__metadata)==null?void 0:s.model);l!==void 0&&!this.baseURL.includes("/deployments")&&(t.path=`/deployments/${l}${t.path}`)}return super.buildRequest(t,a)}async _getAzureADToken(){if(typeof this._azureADTokenProvider=="function"){const t=await this._azureADTokenProvider();if(!t||typeof t!="string")throw new Re(`Expected 'azureADTokenProvider' argument to return a string but it returned ${t}`);return t}}authHeaders(t){return{}}async prepareOptions(t){var s;if((s=t.headers)!=null&&s["api-key"])return super.prepareOptions(t);const a=await this._getAzureADToken();if(t.headers??(t.headers={}),a)t.headers.Authorization=`Bearer ${a}`;else if(this.apiKey!==Ty)t.headers["api-key"]=this.apiKey;else throw new Re("Unable to handle auth");return super.prepareOptions(t)}}const wS=new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations"]),Ty="<Missing Key>",SS=Symbol("Let zodToJsonSchema decide on which parser to use"),Ry={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},AS=r=>typeof r=="string"?{...Ry,basePath:["#"],definitions:{},name:r}:{...Ry,basePath:["#"],definitions:{},...r},Xf=r=>"_def"in r?r._def:r;function ES(r){if(!r)return!0;for(const t in r)return!1;return!0}const kS=r=>{const t=AS(r),a=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:a,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(t.definitions).map(([s,l])=>[Xf(l),{def:Xf(l),path:[...t.basePath,t.definitionPath,s],jsonSchema:void 0}]))}};function Ob(r,t,a,s){s!=null&&s.errorMessages&&a&&(r.errorMessage={...r.errorMessage,[t]:a})}function at(r,t,a,s,l){r[t]=a,Ob(r,t,s,l)}var Xe;(function(r){r.assertEqual=l=>l;function t(l){}r.assertIs=t;function a(l){throw new Error}r.assertNever=a,r.arrayToEnum=l=>{const u={};for(const d of l)u[d]=d;return u},r.getValidEnumValues=l=>{const u=r.objectKeys(l).filter(f=>typeof l[l[f]]!="number"),d={};for(const f of u)d[f]=l[f];return r.objectValues(d)},r.objectValues=l=>r.objectKeys(l).map(function(u){return l[u]}),r.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const u=[];for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&u.push(d);return u},r.find=(l,u)=>{for(const d of l)if(u(d))return d},r.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&isFinite(l)&&Math.floor(l)===l;function s(l,u=" | "){return l.map(d=>typeof d=="string"?`'${d}'`:d).join(u)}r.joinValues=s,r.jsonStringifyReplacer=(l,u)=>typeof u=="bigint"?u.toString():u})(Xe||(Xe={}));var Qf;(function(r){r.mergeShapes=(t,a)=>({...t,...a})})(Qf||(Qf={}));const we=Xe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ca=r=>{switch(typeof r){case"undefined":return we.undefined;case"string":return we.string;case"number":return isNaN(r)?we.nan:we.number;case"boolean":return we.boolean;case"function":return we.function;case"bigint":return we.bigint;case"symbol":return we.symbol;case"object":return Array.isArray(r)?we.array:r===null?we.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?we.promise:typeof Map<"u"&&r instanceof Map?we.map:typeof Set<"u"&&r instanceof Set?we.set:typeof Date<"u"&&r instanceof Date?we.date:we.object;default:return we.unknown}},ye=Xe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),NS=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");class xn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=t}format(t){const a=t||function(u){return u.message},s={_errors:[]},l=u=>{for(const d of u.issues)if(d.code==="invalid_union")d.unionErrors.map(l);else if(d.code==="invalid_return_type")l(d.returnTypeError);else if(d.code==="invalid_arguments")l(d.argumentsError);else if(d.path.length===0)s._errors.push(a(d));else{let f=s,m=0;for(;m<d.path.length;){const p=d.path[m];m===d.path.length-1?(f[p]=f[p]||{_errors:[]},f[p]._errors.push(a(d))):f[p]=f[p]||{_errors:[]},f=f[p],m++}}};return l(this),s}static assert(t){if(!(t instanceof xn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Xe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=a=>a.message){const a={},s=[];for(const l of this.issues)l.path.length>0?(a[l.path[0]]=a[l.path[0]]||[],a[l.path[0]].push(t(l))):s.push(t(l));return{formErrors:s,fieldErrors:a}}get formErrors(){return this.flatten()}}xn.create=r=>new xn(r);const Ys=(r,t)=>{let a;switch(r.code){case ye.invalid_type:r.received===we.undefined?a="Required":a=`Expected ${r.expected}, received ${r.received}`;break;case ye.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(r.expected,Xe.jsonStringifyReplacer)}`;break;case ye.unrecognized_keys:a=`Unrecognized key(s) in object: ${Xe.joinValues(r.keys,", ")}`;break;case ye.invalid_union:a="Invalid input";break;case ye.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${Xe.joinValues(r.options)}`;break;case ye.invalid_enum_value:a=`Invalid enum value. Expected ${Xe.joinValues(r.options)}, received '${r.received}'`;break;case ye.invalid_arguments:a="Invalid function arguments";break;case ye.invalid_return_type:a="Invalid function return type";break;case ye.invalid_date:a="Invalid date";break;case ye.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(a=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?a=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?a=`Invalid input: must end with "${r.validation.endsWith}"`:Xe.assertNever(r.validation):r.validation!=="regex"?a=`Invalid ${r.validation}`:a="Invalid";break;case ye.too_small:r.type==="array"?a=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?a=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?a=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?a=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:a="Invalid input";break;case ye.too_big:r.type==="array"?a=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?a=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?a=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?a=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?a=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:a="Invalid input";break;case ye.custom:a="Invalid input";break;case ye.invalid_intersection_types:a="Intersection results could not be merged";break;case ye.not_multiple_of:a=`Number must be a multiple of ${r.multipleOf}`;break;case ye.not_finite:a="Number must be finite";break;default:a=t.defaultError,Xe.assertNever(r)}return{message:a}};let Db=Ys;function jS(r){Db=r}function wu(){return Db}const Su=r=>{const{data:t,path:a,errorMaps:s,issueData:l}=r,u=[...a,...l.path||[]],d={...l,path:u};if(l.message!==void 0)return{...l,path:u,message:l.message};let f="";const m=s.filter(p=>!!p).slice().reverse();for(const p of m)f=p(d,{data:t,defaultError:f}).message;return{...l,path:u,message:f}},CS=[];function _e(r,t){const a=wu(),s=Su({issueData:t,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,a,a===Ys?void 0:Ys].filter(l=>!!l)});r.common.issues.push(s)}class Xt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,a){const s=[];for(const l of a){if(l.status==="aborted")return ze;l.status==="dirty"&&t.dirty(),s.push(l.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,a){const s=[];for(const l of a){const u=await l.key,d=await l.value;s.push({key:u,value:d})}return Xt.mergeObjectSync(t,s)}static mergeObjectSync(t,a){const s={};for(const l of a){const{key:u,value:d}=l;if(u.status==="aborted"||d.status==="aborted")return ze;u.status==="dirty"&&t.dirty(),d.status==="dirty"&&t.dirty(),u.value!=="__proto__"&&(typeof d.value<"u"||l.alwaysSet)&&(s[u.value]=d.value)}return{status:t.value,value:s}}}const ze=Object.freeze({status:"aborted"}),$s=r=>({status:"dirty",value:r}),Wt=r=>({status:"valid",value:r}),Kf=r=>r.status==="aborted",Jf=r=>r.status==="dirty",$r=r=>r.status==="valid",hl=r=>typeof Promise<"u"&&r instanceof Promise;function Au(r,t,a,s){if(typeof t=="function"?r!==t||!0:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(r)}function Mb(r,t,a,s,l){if(typeof t=="function"?r!==t||!0:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(r,a),a}var ke;(function(r){r.errToObj=t=>typeof t=="string"?{message:t}:t||{},r.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ke||(ke={}));var il,ll;class sa{constructor(t,a,s,l){this._cachedPath=[],this.parent=t,this.data=a,this._path=s,this._key=l}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Oy=(r,t)=>{if($r(t))return{success:!0,data:t.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new xn(r.common.issues);return this._error=a,this._error}}};function Le(r){if(!r)return{};const{errorMap:t,invalid_type_error:a,required_error:s,description:l}=r;if(t&&(a||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:l}:{errorMap:(d,f)=>{var m,p;const{message:y}=r;return d.code==="invalid_enum_value"?{message:y??f.defaultError}:typeof f.data>"u"?{message:(m=y??s)!==null&&m!==void 0?m:f.defaultError}:d.code!=="invalid_type"?{message:f.defaultError}:{message:(p=y??a)!==null&&p!==void 0?p:f.defaultError}},description:l}}class Ie{get description(){return this._def.description}_getType(t){return Ca(t.data)}_getOrReturnCtx(t,a){return a||{common:t.parent.common,data:t.data,parsedType:Ca(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Xt,ctx:{common:t.parent.common,data:t.data,parsedType:Ca(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const a=this._parse(t);if(hl(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(t){const a=this._parse(t);return Promise.resolve(a)}parse(t,a){const s=this.safeParse(t,a);if(s.success)return s.data;throw s.error}safeParse(t,a){var s;const l={common:{issues:[],async:(s=a==null?void 0:a.async)!==null&&s!==void 0?s:!1,contextualErrorMap:a==null?void 0:a.errorMap},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ca(t)},u=this._parseSync({data:t,path:l.path,parent:l});return Oy(l,u)}"~validate"(t){var a,s;const l={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ca(t)};if(!this["~standard"].async)try{const u=this._parseSync({data:t,path:[],parent:l});return $r(u)?{value:u.value}:{issues:l.common.issues}}catch(u){!((s=(a=u==null?void 0:u.message)===null||a===void 0?void 0:a.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),l.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:l}).then(u=>$r(u)?{value:u.value}:{issues:l.common.issues})}async parseAsync(t,a){const s=await this.safeParseAsync(t,a);if(s.success)return s.data;throw s.error}async safeParseAsync(t,a){const s={common:{issues:[],contextualErrorMap:a==null?void 0:a.errorMap,async:!0},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ca(t)},l=this._parse({data:t,path:s.path,parent:s}),u=await(hl(l)?l:Promise.resolve(l));return Oy(s,u)}refine(t,a){const s=l=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(l):a;return this._refinement((l,u)=>{const d=t(l),f=()=>u.addIssue({code:ye.custom,...s(l)});return typeof Promise<"u"&&d instanceof Promise?d.then(m=>m?!0:(f(),!1)):d?!0:(f(),!1)})}refinement(t,a){return this._refinement((s,l)=>t(s)?!0:(l.addIssue(typeof a=="function"?a(s,l):a),!1))}_refinement(t){return new Gn({schema:this,typeName:se.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return Vn.create(this,this._def)}nullable(){return cr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fn.create(this)}promise(){return Xs.create(this,this._def)}or(t){return yl.create([this,t],this._def)}and(t){return vl.create(this,t,this._def)}transform(t){return new Gn({...Le(this._def),schema:this,typeName:se.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const a=typeof t=="function"?t:()=>t;return new Sl({...Le(this._def),innerType:this,defaultValue:a,typeName:se.ZodDefault})}brand(){return new Kh({typeName:se.ZodBranded,type:this,...Le(this._def)})}catch(t){const a=typeof t=="function"?t:()=>t;return new Al({...Le(this._def),innerType:this,catchValue:a,typeName:se.ZodCatch})}describe(t){const a=this.constructor;return new a({...this._def,description:t})}pipe(t){return zl.create(this,t)}readonly(){return El.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const TS=/^c[^\s-]{8,}$/i,RS=/^[0-9a-z]+$/,OS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,DS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,MS=/^[a-z0-9_-]{21}$/i,zS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,US=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,BS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,LS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Af;const PS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ZS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,$S=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,IS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,HS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",FS=new RegExp(`^${zb}$`);function Ub(r){let t="[0-5]\\d";r.precision?t=`${t}\\.\\d{${r.precision}}`:r.precision==null&&(t=`${t}(\\.\\d+)?`);const a=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${a}`}function VS(r){return new RegExp(`^${Ub(r)}$`)}function Bb(r){let t=`${zb}T${Ub(r)}`;const a=[];return a.push(r.local?"Z?":"Z"),r.offset&&a.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${a.join("|")})`,new RegExp(`^${t}$`)}function YS(r,t){return!!((t==="v4"||!t)&&PS.test(r)||(t==="v6"||!t)&&$S.test(r))}function GS(r,t){if(!zS.test(r))return!1;try{const[a]=r.split("."),s=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),l=JSON.parse(atob(s));return!(typeof l!="object"||l===null||!l.typ||!l.alg||t&&l.alg!==t)}catch{return!1}}function XS(r,t){return!!((t==="v4"||!t)&&ZS.test(r)||(t==="v6"||!t)&&IS.test(r))}class qn extends Ie{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==we.string){const u=this._getOrReturnCtx(t);return _e(u,{code:ye.invalid_type,expected:we.string,received:u.parsedType}),ze}const s=new Xt;let l;for(const u of this._def.checks)if(u.kind==="min")t.data.length<u.value&&(l=this._getOrReturnCtx(t,l),_e(l,{code:ye.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),s.dirty());else if(u.kind==="max")t.data.length>u.value&&(l=this._getOrReturnCtx(t,l),_e(l,{code:ye.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),s.dirty());else if(u.kind==="length"){const d=t.data.length>u.value,f=t.data.length<u.value;(d||f)&&(l=this._getOrReturnCtx(t,l),d?_e(l,{code:ye.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):f&&_e(l,{code:ye.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),s.dirty())}else if(u.kind==="email")BS.test(t.data)||(l=this._getOrReturnCtx(t,l),_e(l,{validation:"email",code:ye.invalid_string,message:u.message}),s.dirty());else if(u.kind==="emoji")Af||(Af=new RegExp(LS,"u")),Af.test(t.data)||(l=this._getOrReturnCtx(t,l),_e(l,{validation:"emoji",code:ye.invalid_string,message:u.message}),s.dirty());else if(u.kind==="uuid")DS.test(t.data)||(l=this._getOrReturnCtx(t,l),_e(l,{validation:"uuid",code:ye.invalid_string,message:u.message}),s.dirty());else if(u.kind==="nanoid")MS.test(t.data)||(l=this._getOrReturnCtx(t,l),_e(l,{validation:"nanoid",code:ye.invalid_string,message:u.message}),s.dirty());else if(u.kind==="cuid")TS.test(t.data)||(l=this._getOrReturnCtx(t,l),_e(l,{validation:"cuid",code:ye.invalid_string,message:u.message}),s.dirty());else if(u.kind==="cuid2")RS.test(t.data)||(l=this._getOrReturnCtx(t,l),_e(l,{validation:"cuid2",code:ye.invalid_string,message:u.message}),s.dirty());else if(u.kind==="ulid")OS.test(t.data)||(l=this._getOrReturnCtx(t,l),_e(l,{validation:"ulid",code:ye.invalid_string,message:u.message}),s.dirty());else if(u.kind==="url")try{new URL(t.data)}catch{l=this._getOrReturnCtx(t,l),_e(l,{validation:"url",code:ye.invalid_string,message:u.message}),s.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(t.data)||(l=this._getOrReturnCtx(t,l),_e(l,{validation:"regex",code:ye.invalid_string,message:u.message}),s.dirty())):u.kind==="trim"?t.data=t.data.trim():u.kind==="includes"?t.data.includes(u.value,u.position)||(l=this._getOrReturnCtx(t,l),_e(l,{code:ye.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),s.dirty()):u.kind==="toLowerCase"?t.data=t.data.toLowerCase():u.kind==="toUpperCase"?t.data=t.data.toUpperCase():u.kind==="startsWith"?t.data.startsWith(u.value)||(l=this._getOrReturnCtx(t,l),_e(l,{code:ye.invalid_string,validation:{startsWith:u.value},message:u.message}),s.dirty()):u.kind==="endsWith"?t.data.endsWith(u.value)||(l=this._getOrReturnCtx(t,l),_e(l,{code:ye.invalid_string,validation:{endsWith:u.value},message:u.message}),s.dirty()):u.kind==="datetime"?Bb(u).test(t.data)||(l=this._getOrReturnCtx(t,l),_e(l,{code:ye.invalid_string,validation:"datetime",message:u.message}),s.dirty()):u.kind==="date"?FS.test(t.data)||(l=this._getOrReturnCtx(t,l),_e(l,{code:ye.invalid_string,validation:"date",message:u.message}),s.dirty()):u.kind==="time"?VS(u).test(t.data)||(l=this._getOrReturnCtx(t,l),_e(l,{code:ye.invalid_string,validation:"time",message:u.message}),s.dirty()):u.kind==="duration"?US.test(t.data)||(l=this._getOrReturnCtx(t,l),_e(l,{validation:"duration",code:ye.invalid_string,message:u.message}),s.dirty()):u.kind==="ip"?YS(t.data,u.version)||(l=this._getOrReturnCtx(t,l),_e(l,{validation:"ip",code:ye.invalid_string,message:u.message}),s.dirty()):u.kind==="jwt"?GS(t.data,u.alg)||(l=this._getOrReturnCtx(t,l),_e(l,{validation:"jwt",code:ye.invalid_string,message:u.message}),s.dirty()):u.kind==="cidr"?XS(t.data,u.version)||(l=this._getOrReturnCtx(t,l),_e(l,{validation:"cidr",code:ye.invalid_string,message:u.message}),s.dirty()):u.kind==="base64"?HS.test(t.data)||(l=this._getOrReturnCtx(t,l),_e(l,{validation:"base64",code:ye.invalid_string,message:u.message}),s.dirty()):u.kind==="base64url"?qS.test(t.data)||(l=this._getOrReturnCtx(t,l),_e(l,{validation:"base64url",code:ye.invalid_string,message:u.message}),s.dirty()):Xe.assertNever(u);return{status:s.value,value:t.data}}_regex(t,a,s){return this.refinement(l=>t.test(l),{validation:a,code:ye.invalid_string,...ke.errToObj(s)})}_addCheck(t){return new qn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ke.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ke.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ke.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ke.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ke.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ke.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ke.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ke.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ke.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ke.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ke.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ke.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ke.errToObj(t)})}datetime(t){var a,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(a=t==null?void 0:t.offset)!==null&&a!==void 0?a:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...ke.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ke.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ke.errToObj(t)})}regex(t,a){return this._addCheck({kind:"regex",regex:t,...ke.errToObj(a)})}includes(t,a){return this._addCheck({kind:"includes",value:t,position:a==null?void 0:a.position,...ke.errToObj(a==null?void 0:a.message)})}startsWith(t,a){return this._addCheck({kind:"startsWith",value:t,...ke.errToObj(a)})}endsWith(t,a){return this._addCheck({kind:"endsWith",value:t,...ke.errToObj(a)})}min(t,a){return this._addCheck({kind:"min",value:t,...ke.errToObj(a)})}max(t,a){return this._addCheck({kind:"max",value:t,...ke.errToObj(a)})}length(t,a){return this._addCheck({kind:"length",value:t,...ke.errToObj(a)})}nonempty(t){return this.min(1,ke.errToObj(t))}trim(){return new qn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxLength(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}}qn.create=r=>{var t;return new qn({checks:[],typeName:se.ZodString,coerce:(t=r==null?void 0:r.coerce)!==null&&t!==void 0?t:!1,...Le(r)})};function QS(r,t){const a=(r.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,l=a>s?a:s,u=parseInt(r.toFixed(l).replace(".","")),d=parseInt(t.toFixed(l).replace(".",""));return u%d/Math.pow(10,l)}class lr extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==we.number){const u=this._getOrReturnCtx(t);return _e(u,{code:ye.invalid_type,expected:we.number,received:u.parsedType}),ze}let s;const l=new Xt;for(const u of this._def.checks)u.kind==="int"?Xe.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{code:ye.invalid_type,expected:"integer",received:"float",message:u.message}),l.dirty()):u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(s=this._getOrReturnCtx(t,s),_e(s,{code:ye.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),l.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(s=this._getOrReturnCtx(t,s),_e(s,{code:ye.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),l.dirty()):u.kind==="multipleOf"?QS(t.data,u.value)!==0&&(s=this._getOrReturnCtx(t,s),_e(s,{code:ye.not_multiple_of,multipleOf:u.value,message:u.message}),l.dirty()):u.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),_e(s,{code:ye.not_finite,message:u.message}),l.dirty()):Xe.assertNever(u);return{status:l.value,value:t.data}}gte(t,a){return this.setLimit("min",t,!0,ke.toString(a))}gt(t,a){return this.setLimit("min",t,!1,ke.toString(a))}lte(t,a){return this.setLimit("max",t,!0,ke.toString(a))}lt(t,a){return this.setLimit("max",t,!1,ke.toString(a))}setLimit(t,a,s,l){return new lr({...this._def,checks:[...this._def.checks,{kind:t,value:a,inclusive:s,message:ke.toString(l)}]})}_addCheck(t){return new lr({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ke.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ke.toString(t)})}multipleOf(t,a){return this._addCheck({kind:"multipleOf",value:t,message:ke.toString(a)})}finite(t){return this._addCheck({kind:"finite",message:ke.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ke.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ke.toString(t)})}get minValue(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxValue(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Xe.isInteger(t.value))}get isFinite(){let t=null,a=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(a===null||s.value>a)&&(a=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(a)&&Number.isFinite(t)}}lr.create=r=>new lr({checks:[],typeName:se.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...Le(r)});class or extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==we.bigint)return this._getInvalidInput(t);let s;const l=new Xt;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(s=this._getOrReturnCtx(t,s),_e(s,{code:ye.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),l.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(s=this._getOrReturnCtx(t,s),_e(s,{code:ye.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),l.dirty()):u.kind==="multipleOf"?t.data%u.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),_e(s,{code:ye.not_multiple_of,multipleOf:u.value,message:u.message}),l.dirty()):Xe.assertNever(u);return{status:l.value,value:t.data}}_getInvalidInput(t){const a=this._getOrReturnCtx(t);return _e(a,{code:ye.invalid_type,expected:we.bigint,received:a.parsedType}),ze}gte(t,a){return this.setLimit("min",t,!0,ke.toString(a))}gt(t,a){return this.setLimit("min",t,!1,ke.toString(a))}lte(t,a){return this.setLimit("max",t,!0,ke.toString(a))}lt(t,a){return this.setLimit("max",t,!1,ke.toString(a))}setLimit(t,a,s,l){return new or({...this._def,checks:[...this._def.checks,{kind:t,value:a,inclusive:s,message:ke.toString(l)}]})}_addCheck(t){return new or({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ke.toString(t)})}multipleOf(t,a){return this._addCheck({kind:"multipleOf",value:t,message:ke.toString(a)})}get minValue(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxValue(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}}or.create=r=>{var t;return new or({checks:[],typeName:se.ZodBigInt,coerce:(t=r==null?void 0:r.coerce)!==null&&t!==void 0?t:!1,...Le(r)})};class ml extends Ie{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==we.boolean){const s=this._getOrReturnCtx(t);return _e(s,{code:ye.invalid_type,expected:we.boolean,received:s.parsedType}),ze}return Wt(t.data)}}ml.create=r=>new ml({typeName:se.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...Le(r)});class Ir extends Ie{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==we.date){const u=this._getOrReturnCtx(t);return _e(u,{code:ye.invalid_type,expected:we.date,received:u.parsedType}),ze}if(isNaN(t.data.getTime())){const u=this._getOrReturnCtx(t);return _e(u,{code:ye.invalid_date}),ze}const s=new Xt;let l;for(const u of this._def.checks)u.kind==="min"?t.data.getTime()<u.value&&(l=this._getOrReturnCtx(t,l),_e(l,{code:ye.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),s.dirty()):u.kind==="max"?t.data.getTime()>u.value&&(l=this._getOrReturnCtx(t,l),_e(l,{code:ye.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),s.dirty()):Xe.assertNever(u);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ir({...this._def,checks:[...this._def.checks,t]})}min(t,a){return this._addCheck({kind:"min",value:t.getTime(),message:ke.toString(a)})}max(t,a){return this._addCheck({kind:"max",value:t.getTime(),message:ke.toString(a)})}get minDate(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t!=null?new Date(t):null}}Ir.create=r=>new Ir({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:se.ZodDate,...Le(r)});class Eu extends Ie{_parse(t){if(this._getType(t)!==we.symbol){const s=this._getOrReturnCtx(t);return _e(s,{code:ye.invalid_type,expected:we.symbol,received:s.parsedType}),ze}return Wt(t.data)}}Eu.create=r=>new Eu({typeName:se.ZodSymbol,...Le(r)});class pl extends Ie{_parse(t){if(this._getType(t)!==we.undefined){const s=this._getOrReturnCtx(t);return _e(s,{code:ye.invalid_type,expected:we.undefined,received:s.parsedType}),ze}return Wt(t.data)}}pl.create=r=>new pl({typeName:se.ZodUndefined,...Le(r)});class gl extends Ie{_parse(t){if(this._getType(t)!==we.null){const s=this._getOrReturnCtx(t);return _e(s,{code:ye.invalid_type,expected:we.null,received:s.parsedType}),ze}return Wt(t.data)}}gl.create=r=>new gl({typeName:se.ZodNull,...Le(r)});class Gs extends Ie{constructor(){super(...arguments),this._any=!0}_parse(t){return Wt(t.data)}}Gs.create=r=>new Gs({typeName:se.ZodAny,...Le(r)});class Pr extends Ie{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Wt(t.data)}}Pr.create=r=>new Pr({typeName:se.ZodUnknown,...Le(r)});class Oa extends Ie{_parse(t){const a=this._getOrReturnCtx(t);return _e(a,{code:ye.invalid_type,expected:we.never,received:a.parsedType}),ze}}Oa.create=r=>new Oa({typeName:se.ZodNever,...Le(r)});class ku extends Ie{_parse(t){if(this._getType(t)!==we.undefined){const s=this._getOrReturnCtx(t);return _e(s,{code:ye.invalid_type,expected:we.void,received:s.parsedType}),ze}return Wt(t.data)}}ku.create=r=>new ku({typeName:se.ZodVoid,...Le(r)});class Fn extends Ie{_parse(t){const{ctx:a,status:s}=this._processInputParams(t),l=this._def;if(a.parsedType!==we.array)return _e(a,{code:ye.invalid_type,expected:we.array,received:a.parsedType}),ze;if(l.exactLength!==null){const d=a.data.length>l.exactLength.value,f=a.data.length<l.exactLength.value;(d||f)&&(_e(a,{code:d?ye.too_big:ye.too_small,minimum:f?l.exactLength.value:void 0,maximum:d?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),s.dirty())}if(l.minLength!==null&&a.data.length<l.minLength.value&&(_e(a,{code:ye.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),s.dirty()),l.maxLength!==null&&a.data.length>l.maxLength.value&&(_e(a,{code:ye.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),s.dirty()),a.common.async)return Promise.all([...a.data].map((d,f)=>l.type._parseAsync(new sa(a,d,a.path,f)))).then(d=>Xt.mergeArray(s,d));const u=[...a.data].map((d,f)=>l.type._parseSync(new sa(a,d,a.path,f)));return Xt.mergeArray(s,u)}get element(){return this._def.type}min(t,a){return new Fn({...this._def,minLength:{value:t,message:ke.toString(a)}})}max(t,a){return new Fn({...this._def,maxLength:{value:t,message:ke.toString(a)}})}length(t,a){return new Fn({...this._def,exactLength:{value:t,message:ke.toString(a)}})}nonempty(t){return this.min(1,t)}}Fn.create=(r,t)=>new Fn({type:r,minLength:null,maxLength:null,exactLength:null,typeName:se.ZodArray,...Le(t)});function Ps(r){if(r instanceof yt){const t={};for(const a in r.shape){const s=r.shape[a];t[a]=Vn.create(Ps(s))}return new yt({...r._def,shape:()=>t})}else return r instanceof Fn?new Fn({...r._def,type:Ps(r.element)}):r instanceof Vn?Vn.create(Ps(r.unwrap())):r instanceof cr?cr.create(Ps(r.unwrap())):r instanceof ia?ia.create(r.items.map(t=>Ps(t))):r}class yt extends Ie{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),a=Xe.objectKeys(t);return this._cached={shape:t,keys:a}}_parse(t){if(this._getType(t)!==we.object){const p=this._getOrReturnCtx(t);return _e(p,{code:ye.invalid_type,expected:we.object,received:p.parsedType}),ze}const{status:s,ctx:l}=this._processInputParams(t),{shape:u,keys:d}=this._getCached(),f=[];if(!(this._def.catchall instanceof Oa&&this._def.unknownKeys==="strip"))for(const p in l.data)d.includes(p)||f.push(p);const m=[];for(const p of d){const y=u[p],b=l.data[p];m.push({key:{status:"valid",value:p},value:y._parse(new sa(l,b,l.path,p)),alwaysSet:p in l.data})}if(this._def.catchall instanceof Oa){const p=this._def.unknownKeys;if(p==="passthrough")for(const y of f)m.push({key:{status:"valid",value:y},value:{status:"valid",value:l.data[y]}});else if(p==="strict")f.length>0&&(_e(l,{code:ye.unrecognized_keys,keys:f}),s.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const y of f){const b=l.data[y];m.push({key:{status:"valid",value:y},value:p._parse(new sa(l,b,l.path,y)),alwaysSet:y in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const p=[];for(const y of m){const b=await y.key,A=await y.value;p.push({key:b,value:A,alwaysSet:y.alwaysSet})}return p}).then(p=>Xt.mergeObjectSync(s,p)):Xt.mergeObjectSync(s,m)}get shape(){return this._def.shape()}strict(t){return ke.errToObj,new yt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(a,s)=>{var l,u,d,f;const m=(d=(u=(l=this._def).errorMap)===null||u===void 0?void 0:u.call(l,a,s).message)!==null&&d!==void 0?d:s.defaultError;return a.code==="unrecognized_keys"?{message:(f=ke.errToObj(t).message)!==null&&f!==void 0?f:m}:{message:m}}}:{}})}strip(){return new yt({...this._def,unknownKeys:"strip"})}passthrough(){return new yt({...this._def,unknownKeys:"passthrough"})}extend(t){return new yt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new yt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:se.ZodObject})}setKey(t,a){return this.augment({[t]:a})}catchall(t){return new yt({...this._def,catchall:t})}pick(t){const a={};return Xe.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(a[s]=this.shape[s])}),new yt({...this._def,shape:()=>a})}omit(t){const a={};return Xe.objectKeys(this.shape).forEach(s=>{t[s]||(a[s]=this.shape[s])}),new yt({...this._def,shape:()=>a})}deepPartial(){return Ps(this)}partial(t){const a={};return Xe.objectKeys(this.shape).forEach(s=>{const l=this.shape[s];t&&!t[s]?a[s]=l:a[s]=l.optional()}),new yt({...this._def,shape:()=>a})}required(t){const a={};return Xe.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])a[s]=this.shape[s];else{let u=this.shape[s];for(;u instanceof Vn;)u=u._def.innerType;a[s]=u}}),new yt({...this._def,shape:()=>a})}keyof(){return Lb(Xe.objectKeys(this.shape))}}yt.create=(r,t)=>new yt({shape:()=>r,unknownKeys:"strip",catchall:Oa.create(),typeName:se.ZodObject,...Le(t)});yt.strictCreate=(r,t)=>new yt({shape:()=>r,unknownKeys:"strict",catchall:Oa.create(),typeName:se.ZodObject,...Le(t)});yt.lazycreate=(r,t)=>new yt({shape:r,unknownKeys:"strip",catchall:Oa.create(),typeName:se.ZodObject,...Le(t)});class yl extends Ie{_parse(t){const{ctx:a}=this._processInputParams(t),s=this._def.options;function l(u){for(const f of u)if(f.result.status==="valid")return f.result;for(const f of u)if(f.result.status==="dirty")return a.common.issues.push(...f.ctx.common.issues),f.result;const d=u.map(f=>new xn(f.ctx.common.issues));return _e(a,{code:ye.invalid_union,unionErrors:d}),ze}if(a.common.async)return Promise.all(s.map(async u=>{const d={...a,common:{...a.common,issues:[]},parent:null};return{result:await u._parseAsync({data:a.data,path:a.path,parent:d}),ctx:d}})).then(l);{let u;const d=[];for(const m of s){const p={...a,common:{...a.common,issues:[]},parent:null},y=m._parseSync({data:a.data,path:a.path,parent:p});if(y.status==="valid")return y;y.status==="dirty"&&!u&&(u={result:y,ctx:p}),p.common.issues.length&&d.push(p.common.issues)}if(u)return a.common.issues.push(...u.ctx.common.issues),u.result;const f=d.map(m=>new xn(m));return _e(a,{code:ye.invalid_union,unionErrors:f}),ze}}get options(){return this._def.options}}yl.create=(r,t)=>new yl({options:r,typeName:se.ZodUnion,...Le(t)});const Na=r=>r instanceof xl?Na(r.schema):r instanceof Gn?Na(r.innerType()):r instanceof _l?[r.value]:r instanceof ur?r.options:r instanceof wl?Xe.objectValues(r.enum):r instanceof Sl?Na(r._def.innerType):r instanceof pl?[void 0]:r instanceof gl?[null]:r instanceof Vn?[void 0,...Na(r.unwrap())]:r instanceof cr?[null,...Na(r.unwrap())]:r instanceof Kh||r instanceof El?Na(r.unwrap()):r instanceof Al?Na(r._def.innerType):[];class Vu extends Ie{_parse(t){const{ctx:a}=this._processInputParams(t);if(a.parsedType!==we.object)return _e(a,{code:ye.invalid_type,expected:we.object,received:a.parsedType}),ze;const s=this.discriminator,l=a.data[s],u=this.optionsMap.get(l);return u?a.common.async?u._parseAsync({data:a.data,path:a.path,parent:a}):u._parseSync({data:a.data,path:a.path,parent:a}):(_e(a,{code:ye.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),ze)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,a,s){const l=new Map;for(const u of a){const d=Na(u.shape[t]);if(!d.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const f of d){if(l.has(f))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(f)}`);l.set(f,u)}}return new Vu({typeName:se.ZodDiscriminatedUnion,discriminator:t,options:a,optionsMap:l,...Le(s)})}}function Wf(r,t){const a=Ca(r),s=Ca(t);if(r===t)return{valid:!0,data:r};if(a===we.object&&s===we.object){const l=Xe.objectKeys(t),u=Xe.objectKeys(r).filter(f=>l.indexOf(f)!==-1),d={...r,...t};for(const f of u){const m=Wf(r[f],t[f]);if(!m.valid)return{valid:!1};d[f]=m.data}return{valid:!0,data:d}}else if(a===we.array&&s===we.array){if(r.length!==t.length)return{valid:!1};const l=[];for(let u=0;u<r.length;u++){const d=r[u],f=t[u],m=Wf(d,f);if(!m.valid)return{valid:!1};l.push(m.data)}return{valid:!0,data:l}}else return a===we.date&&s===we.date&&+r==+t?{valid:!0,data:r}:{valid:!1}}class vl extends Ie{_parse(t){const{status:a,ctx:s}=this._processInputParams(t),l=(u,d)=>{if(Kf(u)||Kf(d))return ze;const f=Wf(u.value,d.value);return f.valid?((Jf(u)||Jf(d))&&a.dirty(),{status:a.value,value:f.data}):(_e(s,{code:ye.invalid_intersection_types}),ze)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([u,d])=>l(u,d)):l(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}vl.create=(r,t,a)=>new vl({left:r,right:t,typeName:se.ZodIntersection,...Le(a)});class ia extends Ie{_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.parsedType!==we.array)return _e(s,{code:ye.invalid_type,expected:we.array,received:s.parsedType}),ze;if(s.data.length<this._def.items.length)return _e(s,{code:ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ze;!this._def.rest&&s.data.length>this._def.items.length&&(_e(s,{code:ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const u=[...s.data].map((d,f)=>{const m=this._def.items[f]||this._def.rest;return m?m._parse(new sa(s,d,s.path,f)):null}).filter(d=>!!d);return s.common.async?Promise.all(u).then(d=>Xt.mergeArray(a,d)):Xt.mergeArray(a,u)}get items(){return this._def.items}rest(t){return new ia({...this._def,rest:t})}}ia.create=(r,t)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ia({items:r,typeName:se.ZodTuple,rest:null,...Le(t)})};class bl extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.parsedType!==we.object)return _e(s,{code:ye.invalid_type,expected:we.object,received:s.parsedType}),ze;const l=[],u=this._def.keyType,d=this._def.valueType;for(const f in s.data)l.push({key:u._parse(new sa(s,f,s.path,f)),value:d._parse(new sa(s,s.data[f],s.path,f)),alwaysSet:f in s.data});return s.common.async?Xt.mergeObjectAsync(a,l):Xt.mergeObjectSync(a,l)}get element(){return this._def.valueType}static create(t,a,s){return a instanceof Ie?new bl({keyType:t,valueType:a,typeName:se.ZodRecord,...Le(s)}):new bl({keyType:qn.create(),valueType:t,typeName:se.ZodRecord,...Le(a)})}}class Nu extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.parsedType!==we.map)return _e(s,{code:ye.invalid_type,expected:we.map,received:s.parsedType}),ze;const l=this._def.keyType,u=this._def.valueType,d=[...s.data.entries()].map(([f,m],p)=>({key:l._parse(new sa(s,f,s.path,[p,"key"])),value:u._parse(new sa(s,m,s.path,[p,"value"]))}));if(s.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const m of d){const p=await m.key,y=await m.value;if(p.status==="aborted"||y.status==="aborted")return ze;(p.status==="dirty"||y.status==="dirty")&&a.dirty(),f.set(p.value,y.value)}return{status:a.value,value:f}})}else{const f=new Map;for(const m of d){const p=m.key,y=m.value;if(p.status==="aborted"||y.status==="aborted")return ze;(p.status==="dirty"||y.status==="dirty")&&a.dirty(),f.set(p.value,y.value)}return{status:a.value,value:f}}}}Nu.create=(r,t,a)=>new Nu({valueType:t,keyType:r,typeName:se.ZodMap,...Le(a)});class Hr extends Ie{_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.parsedType!==we.set)return _e(s,{code:ye.invalid_type,expected:we.set,received:s.parsedType}),ze;const l=this._def;l.minSize!==null&&s.data.size<l.minSize.value&&(_e(s,{code:ye.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),a.dirty()),l.maxSize!==null&&s.data.size>l.maxSize.value&&(_e(s,{code:ye.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),a.dirty());const u=this._def.valueType;function d(m){const p=new Set;for(const y of m){if(y.status==="aborted")return ze;y.status==="dirty"&&a.dirty(),p.add(y.value)}return{status:a.value,value:p}}const f=[...s.data.values()].map((m,p)=>u._parse(new sa(s,m,s.path,p)));return s.common.async?Promise.all(f).then(m=>d(m)):d(f)}min(t,a){return new Hr({...this._def,minSize:{value:t,message:ke.toString(a)}})}max(t,a){return new Hr({...this._def,maxSize:{value:t,message:ke.toString(a)}})}size(t,a){return this.min(t,a).max(t,a)}nonempty(t){return this.min(1,t)}}Hr.create=(r,t)=>new Hr({valueType:r,minSize:null,maxSize:null,typeName:se.ZodSet,...Le(t)});class Fs extends Ie{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:a}=this._processInputParams(t);if(a.parsedType!==we.function)return _e(a,{code:ye.invalid_type,expected:we.function,received:a.parsedType}),ze;function s(f,m){return Su({data:f,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,wu(),Ys].filter(p=>!!p),issueData:{code:ye.invalid_arguments,argumentsError:m}})}function l(f,m){return Su({data:f,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,wu(),Ys].filter(p=>!!p),issueData:{code:ye.invalid_return_type,returnTypeError:m}})}const u={errorMap:a.common.contextualErrorMap},d=a.data;if(this._def.returns instanceof Xs){const f=this;return Wt(async function(...m){const p=new xn([]),y=await f._def.args.parseAsync(m,u).catch(v=>{throw p.addIssue(s(m,v)),p}),b=await Reflect.apply(d,this,y);return await f._def.returns._def.type.parseAsync(b,u).catch(v=>{throw p.addIssue(l(b,v)),p})})}else{const f=this;return Wt(function(...m){const p=f._def.args.safeParse(m,u);if(!p.success)throw new xn([s(m,p.error)]);const y=Reflect.apply(d,this,p.data),b=f._def.returns.safeParse(y,u);if(!b.success)throw new xn([l(y,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Fs({...this._def,args:ia.create(t).rest(Pr.create())})}returns(t){return new Fs({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,a,s){return new Fs({args:t||ia.create([]).rest(Pr.create()),returns:a||Pr.create(),typeName:se.ZodFunction,...Le(s)})}}class xl extends Ie{get schema(){return this._def.getter()}_parse(t){const{ctx:a}=this._processInputParams(t);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}xl.create=(r,t)=>new xl({getter:r,typeName:se.ZodLazy,...Le(t)});class _l extends Ie{_parse(t){if(t.data!==this._def.value){const a=this._getOrReturnCtx(t);return _e(a,{received:a.data,code:ye.invalid_literal,expected:this._def.value}),ze}return{status:"valid",value:t.data}}get value(){return this._def.value}}_l.create=(r,t)=>new _l({value:r,typeName:se.ZodLiteral,...Le(t)});function Lb(r,t){return new ur({values:r,typeName:se.ZodEnum,...Le(t)})}class ur extends Ie{constructor(){super(...arguments),il.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const a=this._getOrReturnCtx(t),s=this._def.values;return _e(a,{expected:Xe.joinValues(s),received:a.parsedType,code:ye.invalid_type}),ze}if(Au(this,il)||Mb(this,il,new Set(this._def.values)),!Au(this,il).has(t.data)){const a=this._getOrReturnCtx(t),s=this._def.values;return _e(a,{received:a.data,code:ye.invalid_enum_value,options:s}),ze}return Wt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const a of this._def.values)t[a]=a;return t}get Values(){const t={};for(const a of this._def.values)t[a]=a;return t}get Enum(){const t={};for(const a of this._def.values)t[a]=a;return t}extract(t,a=this._def){return ur.create(t,{...this._def,...a})}exclude(t,a=this._def){return ur.create(this.options.filter(s=>!t.includes(s)),{...this._def,...a})}}il=new WeakMap;ur.create=Lb;class wl extends Ie{constructor(){super(...arguments),ll.set(this,void 0)}_parse(t){const a=Xe.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==we.string&&s.parsedType!==we.number){const l=Xe.objectValues(a);return _e(s,{expected:Xe.joinValues(l),received:s.parsedType,code:ye.invalid_type}),ze}if(Au(this,ll)||Mb(this,ll,new Set(Xe.getValidEnumValues(this._def.values))),!Au(this,ll).has(t.data)){const l=Xe.objectValues(a);return _e(s,{received:s.data,code:ye.invalid_enum_value,options:l}),ze}return Wt(t.data)}get enum(){return this._def.values}}ll=new WeakMap;wl.create=(r,t)=>new wl({values:r,typeName:se.ZodNativeEnum,...Le(t)});class Xs extends Ie{unwrap(){return this._def.type}_parse(t){const{ctx:a}=this._processInputParams(t);if(a.parsedType!==we.promise&&a.common.async===!1)return _e(a,{code:ye.invalid_type,expected:we.promise,received:a.parsedType}),ze;const s=a.parsedType===we.promise?a.data:Promise.resolve(a.data);return Wt(s.then(l=>this._def.type.parseAsync(l,{path:a.path,errorMap:a.common.contextualErrorMap})))}}Xs.create=(r,t)=>new Xs({type:r,typeName:se.ZodPromise,...Le(t)});class Gn extends Ie{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:a,ctx:s}=this._processInputParams(t),l=this._def.effect||null,u={addIssue:d=>{_e(s,d),d.fatal?a.abort():a.dirty()},get path(){return s.path}};if(u.addIssue=u.addIssue.bind(u),l.type==="preprocess"){const d=l.transform(s.data,u);if(s.common.async)return Promise.resolve(d).then(async f=>{if(a.value==="aborted")return ze;const m=await this._def.schema._parseAsync({data:f,path:s.path,parent:s});return m.status==="aborted"?ze:m.status==="dirty"||a.value==="dirty"?$s(m.value):m});{if(a.value==="aborted")return ze;const f=this._def.schema._parseSync({data:d,path:s.path,parent:s});return f.status==="aborted"?ze:f.status==="dirty"||a.value==="dirty"?$s(f.value):f}}if(l.type==="refinement"){const d=f=>{const m=l.refinement(f,u);if(s.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(s.common.async===!1){const f=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return f.status==="aborted"?ze:(f.status==="dirty"&&a.dirty(),d(f.value),{status:a.value,value:f.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(f=>f.status==="aborted"?ze:(f.status==="dirty"&&a.dirty(),d(f.value).then(()=>({status:a.value,value:f.value}))))}if(l.type==="transform")if(s.common.async===!1){const d=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!$r(d))return d;const f=l.transform(d.value,u);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:f}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(d=>$r(d)?Promise.resolve(l.transform(d.value,u)).then(f=>({status:a.value,value:f})):d);Xe.assertNever(l)}}Gn.create=(r,t,a)=>new Gn({schema:r,typeName:se.ZodEffects,effect:t,...Le(a)});Gn.createWithPreprocess=(r,t,a)=>new Gn({schema:t,effect:{type:"preprocess",transform:r},typeName:se.ZodEffects,...Le(a)});class Vn extends Ie{_parse(t){return this._getType(t)===we.undefined?Wt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Vn.create=(r,t)=>new Vn({innerType:r,typeName:se.ZodOptional,...Le(t)});class cr extends Ie{_parse(t){return this._getType(t)===we.null?Wt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}cr.create=(r,t)=>new cr({innerType:r,typeName:se.ZodNullable,...Le(t)});class Sl extends Ie{_parse(t){const{ctx:a}=this._processInputParams(t);let s=a.data;return a.parsedType===we.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}Sl.create=(r,t)=>new Sl({innerType:r,typeName:se.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Le(t)});class Al extends Ie{_parse(t){const{ctx:a}=this._processInputParams(t),s={...a,common:{...a.common,issues:[]}},l=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return hl(l)?l.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new xn(s.common.issues)},input:s.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new xn(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Al.create=(r,t)=>new Al({innerType:r,typeName:se.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Le(t)});class ju extends Ie{_parse(t){if(this._getType(t)!==we.nan){const s=this._getOrReturnCtx(t);return _e(s,{code:ye.invalid_type,expected:we.nan,received:s.parsedType}),ze}return{status:"valid",value:t.data}}}ju.create=r=>new ju({typeName:se.ZodNaN,...Le(r)});const KS=Symbol("zod_brand");class Kh extends Ie{_parse(t){const{ctx:a}=this._processInputParams(t),s=a.data;return this._def.type._parse({data:s,path:a.path,parent:a})}unwrap(){return this._def.type}}class zl extends Ie{_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return u.status==="aborted"?ze:u.status==="dirty"?(a.dirty(),$s(u.value)):this._def.out._parseAsync({data:u.value,path:s.path,parent:s})})();{const l=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?ze:l.status==="dirty"?(a.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:s.path,parent:s})}}static create(t,a){return new zl({in:t,out:a,typeName:se.ZodPipeline})}}class El extends Ie{_parse(t){const a=this._def.innerType._parse(t),s=l=>($r(l)&&(l.value=Object.freeze(l.value)),l);return hl(a)?a.then(l=>s(l)):s(a)}unwrap(){return this._def.innerType}}El.create=(r,t)=>new El({innerType:r,typeName:se.ZodReadonly,...Le(t)});function Dy(r,t){const a=typeof r=="function"?r(t):typeof r=="string"?{message:r}:r;return typeof a=="string"?{message:a}:a}function Pb(r,t={},a){return r?Gs.create().superRefine((s,l)=>{var u,d;const f=r(s);if(f instanceof Promise)return f.then(m=>{var p,y;if(!m){const b=Dy(t,s),A=(y=(p=b.fatal)!==null&&p!==void 0?p:a)!==null&&y!==void 0?y:!0;l.addIssue({code:"custom",...b,fatal:A})}});if(!f){const m=Dy(t,s),p=(d=(u=m.fatal)!==null&&u!==void 0?u:a)!==null&&d!==void 0?d:!0;l.addIssue({code:"custom",...m,fatal:p})}}):Gs.create()}const JS={object:yt.lazycreate};var se;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(se||(se={}));const WS=(r,t={message:`Input not instance of ${r.name}`})=>Pb(a=>a instanceof r,t),Zb=qn.create,$b=lr.create,e4=ju.create,t4=or.create,Ib=ml.create,n4=Ir.create,a4=Eu.create,r4=pl.create,s4=gl.create,i4=Gs.create,l4=Pr.create,o4=Oa.create,u4=ku.create,c4=Fn.create,d4=yt.create,f4=yt.strictCreate,h4=yl.create,m4=Vu.create,p4=vl.create,g4=ia.create,y4=bl.create,v4=Nu.create,b4=Hr.create,x4=Fs.create,_4=xl.create,w4=_l.create,S4=ur.create,A4=wl.create,E4=Xs.create,My=Gn.create,k4=Vn.create,N4=cr.create,j4=Gn.createWithPreprocess,C4=zl.create,T4=()=>Zb().optional(),R4=()=>$b().optional(),O4=()=>Ib().optional(),D4={string:r=>qn.create({...r,coerce:!0}),number:r=>lr.create({...r,coerce:!0}),boolean:r=>ml.create({...r,coerce:!0}),bigint:r=>or.create({...r,coerce:!0}),date:r=>Ir.create({...r,coerce:!0})},M4=ze;var bn=Object.freeze({__proto__:null,defaultErrorMap:Ys,setErrorMap:jS,getErrorMap:wu,makeIssue:Su,EMPTY_PATH:CS,addIssueToContext:_e,ParseStatus:Xt,INVALID:ze,DIRTY:$s,OK:Wt,isAborted:Kf,isDirty:Jf,isValid:$r,isAsync:hl,get util(){return Xe},get objectUtil(){return Qf},ZodParsedType:we,getParsedType:Ca,ZodType:Ie,datetimeRegex:Bb,ZodString:qn,ZodNumber:lr,ZodBigInt:or,ZodBoolean:ml,ZodDate:Ir,ZodSymbol:Eu,ZodUndefined:pl,ZodNull:gl,ZodAny:Gs,ZodUnknown:Pr,ZodNever:Oa,ZodVoid:ku,ZodArray:Fn,ZodObject:yt,ZodUnion:yl,ZodDiscriminatedUnion:Vu,ZodIntersection:vl,ZodTuple:ia,ZodRecord:bl,ZodMap:Nu,ZodSet:Hr,ZodFunction:Fs,ZodLazy:xl,ZodLiteral:_l,ZodEnum:ur,ZodNativeEnum:wl,ZodPromise:Xs,ZodEffects:Gn,ZodTransformer:Gn,ZodOptional:Vn,ZodNullable:cr,ZodDefault:Sl,ZodCatch:Al,ZodNaN:ju,BRAND:KS,ZodBranded:Kh,ZodPipeline:zl,ZodReadonly:El,custom:Pb,Schema:Ie,ZodSchema:Ie,late:JS,get ZodFirstPartyTypeKind(){return se},coerce:D4,any:i4,array:c4,bigint:t4,boolean:Ib,date:n4,discriminatedUnion:m4,effect:My,enum:S4,function:x4,instanceof:WS,intersection:p4,lazy:_4,literal:w4,map:v4,nan:e4,nativeEnum:A4,never:o4,null:s4,nullable:N4,number:$b,object:d4,oboolean:O4,onumber:R4,optional:k4,ostring:T4,pipeline:C4,preprocess:j4,promise:E4,record:y4,set:b4,strictObject:f4,string:Zb,symbol:a4,transformer:My,tuple:g4,undefined:r4,union:h4,unknown:l4,void:u4,NEVER:M4,ZodIssueCode:ye,quotelessJson:NS,ZodError:xn});function z4(){return{}}function U4(r,t){var s,l;const a={type:"array"};return((l=(s=r.type)==null?void 0:s._def)==null?void 0:l.typeName)!==se.ZodAny&&(a.items=Ke(r.type._def,{...t,currentPath:[...t.currentPath,"items"]})),r.minLength&&at(a,"minItems",r.minLength.value,r.minLength.message,t),r.maxLength&&at(a,"maxItems",r.maxLength.value,r.maxLength.message,t),r.exactLength&&(at(a,"minItems",r.exactLength.value,r.exactLength.message,t),at(a,"maxItems",r.exactLength.value,r.exactLength.message,t)),a}function B4(r,t){const a={type:"integer",format:"int64"};if(!r.checks)return a;for(const s of r.checks)switch(s.kind){case"min":t.target==="jsonSchema7"?s.inclusive?at(a,"minimum",s.value,s.message,t):at(a,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(a.exclusiveMinimum=!0),at(a,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?at(a,"maximum",s.value,s.message,t):at(a,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(a.exclusiveMaximum=!0),at(a,"maximum",s.value,s.message,t));break;case"multipleOf":at(a,"multipleOf",s.value,s.message,t);break}return a}function L4(){return{type:"boolean"}}function P4(r,t){return Ke(r.type._def,t)}const Z4=(r,t)=>Ke(r.innerType._def,t);function Hb(r,t,a){const s=a??t.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((l,u)=>Hb(r,t,l))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return $4(r,t)}}const $4=(r,t)=>{const a={type:"integer",format:"unix-time"};if(t.target==="openApi3")return a;for(const s of r.checks)switch(s.kind){case"min":at(a,"minimum",s.value,s.message,t);break;case"max":at(a,"maximum",s.value,s.message,t);break}return a};function I4(r,t){return{...Ke(r.innerType._def,t),default:r.defaultValue()}}function H4(r,t,a){return t.effectStrategy==="input"?Ke(r.schema._def,t,a):{}}function q4(r){return{type:"string",enum:[...r.values]}}const F4=r=>"type"in r&&r.type==="string"?!1:"allOf"in r;function V4(r,t){const a=[Ke(r.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Ke(r.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(u=>!!u);let s=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const l=[];return a.forEach(u=>{if(F4(u))l.push(...u.allOf),u.unevaluatedProperties===void 0&&(s=void 0);else{let d=u;if("additionalProperties"in u&&u.additionalProperties===!1){const{additionalProperties:f,...m}=u;d=m}else s=void 0;l.push(d)}}),l.length?{allOf:l,...s}:void 0}function Y4(r,t){const a=typeof r.value;return a!=="bigint"&&a!=="number"&&a!=="boolean"&&a!=="string"?{type:Array.isArray(r.value)?"array":"object"}:t.target==="openApi3"?{type:a==="bigint"?"integer":a,enum:[r.value]}:{type:a==="bigint"?"integer":a,const:r.value}}let Ef;const zr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Ef===void 0&&(Ef=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ef),base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function qb(r,t){const a={type:"string"};function s(l){return t.patternStrategy==="escape"?G4(l):l}if(r.checks)for(const l of r.checks)switch(l.kind){case"min":at(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,l.value):l.value,l.message,t);break;case"max":at(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,l.value):l.value,l.message,t);break;case"email":switch(t.emailStrategy){case"format:email":Bn(a,"email",l.message,t);break;case"format:idn-email":Bn(a,"idn-email",l.message,t);break;case"pattern:zod":Ln(a,zr.email,l.message,t);break}break;case"url":Bn(a,"uri",l.message,t);break;case"uuid":Bn(a,"uuid",l.message,t);break;case"regex":Ln(a,l.regex,l.message,t);break;case"cuid":Ln(a,zr.cuid,l.message,t);break;case"cuid2":Ln(a,zr.cuid2,l.message,t);break;case"startsWith":Ln(a,RegExp(`^${s(l.value)}`),l.message,t);break;case"endsWith":Ln(a,RegExp(`${s(l.value)}$`),l.message,t);break;case"datetime":Bn(a,"date-time",l.message,t);break;case"date":Bn(a,"date",l.message,t);break;case"time":Bn(a,"time",l.message,t);break;case"duration":Bn(a,"duration",l.message,t);break;case"length":at(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,l.value):l.value,l.message,t),at(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,l.value):l.value,l.message,t);break;case"includes":{Ln(a,RegExp(s(l.value)),l.message,t);break}case"ip":{l.version!=="v6"&&Bn(a,"ipv4",l.message,t),l.version!=="v4"&&Bn(a,"ipv6",l.message,t);break}case"emoji":Ln(a,zr.emoji,l.message,t);break;case"ulid":{Ln(a,zr.ulid,l.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Bn(a,"binary",l.message,t);break}case"contentEncoding:base64":{at(a,"contentEncoding","base64",l.message,t);break}case"pattern:zod":{Ln(a,zr.base64,l.message,t);break}}break}case"nanoid":Ln(a,zr.nanoid,l.message,t)}return a}const G4=r=>Array.from(r).map(t=>/[a-zA-Z0-9]/.test(t)?t:`\\${t}`).join(""),Bn=(r,t,a,s)=>{var l;r.format||(l=r.anyOf)!=null&&l.some(u=>u.format)?(r.anyOf||(r.anyOf=[]),r.format&&(r.anyOf.push({format:r.format,...r.errorMessage&&s.errorMessages&&{errorMessage:{format:r.errorMessage.format}}}),delete r.format,r.errorMessage&&(delete r.errorMessage.format,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.anyOf.push({format:t,...a&&s.errorMessages&&{errorMessage:{format:a}}})):at(r,"format",t,a,s)},Ln=(r,t,a,s)=>{var l;r.pattern||(l=r.allOf)!=null&&l.some(u=>u.pattern)?(r.allOf||(r.allOf=[]),r.pattern&&(r.allOf.push({pattern:r.pattern,...r.errorMessage&&s.errorMessages&&{errorMessage:{pattern:r.errorMessage.pattern}}}),delete r.pattern,r.errorMessage&&(delete r.errorMessage.pattern,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.allOf.push({pattern:zy(t,s),...a&&s.errorMessages&&{errorMessage:{pattern:a}}})):at(r,"pattern",zy(t,s),a,s)},zy=(r,t)=>{var p;const a=typeof r=="function"?r():r;if(!t.applyRegexFlags||!a.flags)return a.source;const s={i:a.flags.includes("i"),m:a.flags.includes("m"),s:a.flags.includes("s")},l=s.i?a.source.toLowerCase():a.source;let u="",d=!1,f=!1,m=!1;for(let y=0;y<l.length;y++){if(d){u+=l[y],d=!1;continue}if(s.i){if(f){if(l[y].match(/[a-z]/)){m?(u+=l[y],u+=`${l[y-2]}-${l[y]}`.toUpperCase(),m=!1):l[y+1]==="-"&&((p=l[y+2])!=null&&p.match(/[a-z]/))?(u+=l[y],m=!0):u+=`${l[y]}${l[y].toUpperCase()}`;continue}}else if(l[y].match(/[a-z]/)){u+=`[${l[y]}${l[y].toUpperCase()}]`;continue}}if(s.m){if(l[y]==="^"){u+=`(^|(?<=[\r
]))`;continue}else if(l[y]==="$"){u+=`($|(?=[\r
]))`;continue}}if(s.s&&l[y]==="."){u+=f?`${l[y]}\r
`:`[${l[y]}\r
]`;continue}u+=l[y],l[y]==="\\"?d=!0:f&&l[y]==="]"?f=!1:!f&&l[y]==="["&&(f=!0)}try{const y=new RegExp(u)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),a.source}return u};function Fb(r,t){var s,l,u,d;if(t.target==="openApi3"&&((s=r.keyType)==null?void 0:s._def.typeName)===se.ZodEnum)return{type:"object",required:r.keyType._def.values,properties:r.keyType._def.values.reduce((f,m)=>({...f,[m]:Ke(r.valueType._def,{...t,currentPath:[...t.currentPath,"properties",m]})??{}}),{}),additionalProperties:!1};const a={type:"object",additionalProperties:Ke(r.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if(t.target==="openApi3")return a;if(((l=r.keyType)==null?void 0:l._def.typeName)===se.ZodString&&((u=r.keyType._def.checks)!=null&&u.length)){const f=Object.entries(qb(r.keyType._def,t)).reduce((m,[p,y])=>p==="type"?m:{...m,[p]:y},{});return{...a,propertyNames:f}}else if(((d=r.keyType)==null?void 0:d._def.typeName)===se.ZodEnum)return{...a,propertyNames:{enum:r.keyType._def.values}};return a}function X4(r,t){if(t.mapStrategy==="record")return Fb(r,t);const a=Ke(r.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},s=Ke(r.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[a,s],minItems:2,maxItems:2}}}function Q4(r){const t=r.values,s=Object.keys(r.values).filter(u=>typeof t[t[u]]!="number").map(u=>t[u]),l=Array.from(new Set(s.map(u=>typeof u)));return{type:l.length===1?l[0]==="string"?"string":"number":["string","number"],enum:s}}function K4(){return{not:{}}}function J4(r){return r.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Cu={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function W4(r,t){if(t.target==="openApi3")return Uy(r,t);const a=r.options instanceof Map?Array.from(r.options.values()):r.options;if(a.every(s=>s._def.typeName in Cu&&(!s._def.checks||!s._def.checks.length))){const s=a.reduce((l,u)=>{const d=Cu[u._def.typeName];return d&&!l.includes(d)?[...l,d]:l},[]);return{type:s.length>1?s:s[0]}}else if(a.every(s=>s._def.typeName==="ZodLiteral"&&!s.description)){const s=a.reduce((l,u)=>{const d=typeof u._def.value;switch(d){case"string":case"number":case"boolean":return[...l,d];case"bigint":return[...l,"integer"];case"object":if(u._def.value===null)return[...l,"null"];case"symbol":case"undefined":case"function":default:return l}},[]);if(s.length===a.length){const l=s.filter((u,d,f)=>f.indexOf(u)===d);return{type:l.length>1?l:l[0],enum:a.reduce((u,d)=>u.includes(d._def.value)?u:[...u,d._def.value],[])}}}else if(a.every(s=>s._def.typeName==="ZodEnum"))return{type:"string",enum:a.reduce((s,l)=>[...s,...l._def.values.filter(u=>!s.includes(u))],[])};return Uy(r,t)}const Uy=(r,t)=>{const a=(r.options instanceof Map?Array.from(r.options.values()):r.options).map((s,l)=>Ke(s._def,{...t,currentPath:[...t.currentPath,"anyOf",`${l}`]})).filter(s=>!!s&&(!t.strictUnions||typeof s=="object"&&Object.keys(s).length>0));return a.length?{anyOf:a}:void 0};function eA(r,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(r.innerType._def.typeName)&&(!r.innerType._def.checks||!r.innerType._def.checks.length))return t.target==="openApi3"||t.nullableStrategy==="property"?{type:Cu[r.innerType._def.typeName],nullable:!0}:{type:[Cu[r.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const s=Ke(r.innerType._def,{...t,currentPath:[...t.currentPath]});return s&&"$ref"in s?{allOf:[s],nullable:!0}:s&&{...s,nullable:!0}}const a=Ke(r.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return a&&{anyOf:[a,{type:"null"}]}}function tA(r,t){const a={type:"number"};if(!r.checks)return a;for(const s of r.checks)switch(s.kind){case"int":a.type="integer",Ob(a,"type",s.message,t);break;case"min":t.target==="jsonSchema7"?s.inclusive?at(a,"minimum",s.value,s.message,t):at(a,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(a.exclusiveMinimum=!0),at(a,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?at(a,"maximum",s.value,s.message,t):at(a,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(a.exclusiveMaximum=!0),at(a,"maximum",s.value,s.message,t));break;case"multipleOf":at(a,"multipleOf",s.value,s.message,t);break}return a}function nA(r,t){return t.removeAdditionalStrategy==="strict"?r.catchall._def.typeName==="ZodNever"?r.unknownKeys!=="strict":Ke(r.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:r.catchall._def.typeName==="ZodNever"?r.unknownKeys==="passthrough":Ke(r.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function aA(r,t){const a={type:"object",...Object.entries(r.shape()).reduce((s,[l,u])=>{if(u===void 0||u._def===void 0)return s;const d=[...t.currentPath,"properties",l],f=Ke(u._def,{...t,currentPath:d,propertyPath:d});return f===void 0?s:(t.openaiStrictMode&&u.isOptional()&&!u.isNullable()&&console.warn(`Zod field at \`${d.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required
This will become an error in a future version of the SDK.`),{properties:{...s.properties,[l]:f},required:u.isOptional()&&!t.openaiStrictMode?s.required:[...s.required,l]})},{properties:{},required:[]}),additionalProperties:nA(r,t)};return a.required.length||delete a.required,a}const rA=(r,t)=>{var s;if(t.currentPath.toString()===((s=t.propertyPath)==null?void 0:s.toString()))return Ke(r.innerType._def,t);const a=Ke(r.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return a?{anyOf:[{not:{}},a]}:{}},sA=(r,t)=>{if(t.pipeStrategy==="input")return Ke(r.in._def,t);if(t.pipeStrategy==="output")return Ke(r.out._def,t);const a=Ke(r.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),s=Ke(r.out._def,{...t,currentPath:[...t.currentPath,"allOf",a?"1":"0"]});return{allOf:[a,s].filter(l=>l!==void 0)}};function iA(r,t){return Ke(r.type._def,t)}function lA(r,t){const s={type:"array",uniqueItems:!0,items:Ke(r.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return r.minSize&&at(s,"minItems",r.minSize.value,r.minSize.message,t),r.maxSize&&at(s,"maxItems",r.maxSize.value,r.maxSize.message,t),s}function oA(r,t){return r.rest?{type:"array",minItems:r.items.length,items:r.items.map((a,s)=>Ke(a._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((a,s)=>s===void 0?a:[...a,s],[]),additionalItems:Ke(r.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:r.items.length,maxItems:r.items.length,items:r.items.map((a,s)=>Ke(a._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((a,s)=>s===void 0?a:[...a,s],[])}}function uA(){return{not:{}}}function cA(){return{}}const dA=(r,t)=>Ke(r.innerType._def,t);function Ke(r,t,a=!1){var d;const s=t.seen.get(r);if(t.override){const f=(d=t.override)==null?void 0:d.call(t,r,t,s,a);if(f!==SS)return f}if(s&&!a){const f=fA(s,t);if(f!==void 0)return"$ref"in f&&t.seenRefs.add(f.$ref),f}const l={def:r,path:t.currentPath,jsonSchema:void 0};t.seen.set(r,l);const u=mA(r,r.typeName,t,a);return u&&pA(r,t,u),l.jsonSchema=u,u}const fA=(r,t)=>{switch(t.$refStrategy){case"root":return{$ref:r.path.join("/")};case"extract-to-root":const a=r.path.slice(t.basePath.length+1).join("_");return a!==t.name&&t.nameStrategy==="duplicate-ref"&&(t.definitions[a]=r.def),{$ref:[...t.basePath,t.definitionPath,a].join("/")};case"relative":return{$ref:hA(t.currentPath,r.path)};case"none":case"seen":return r.path.length<t.currentPath.length&&r.path.every((s,l)=>t.currentPath[l]===s)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},hA=(r,t)=>{let a=0;for(;a<r.length&&a<t.length&&r[a]===t[a];a++);return[(r.length-a).toString(),...t.slice(a)].join("/")},mA=(r,t,a,s)=>{switch(t){case se.ZodString:return qb(r,a);case se.ZodNumber:return tA(r,a);case se.ZodObject:return aA(r,a);case se.ZodBigInt:return B4(r,a);case se.ZodBoolean:return L4();case se.ZodDate:return Hb(r,a);case se.ZodUndefined:return uA();case se.ZodNull:return J4(a);case se.ZodArray:return U4(r,a);case se.ZodUnion:case se.ZodDiscriminatedUnion:return W4(r,a);case se.ZodIntersection:return V4(r,a);case se.ZodTuple:return oA(r,a);case se.ZodRecord:return Fb(r,a);case se.ZodLiteral:return Y4(r,a);case se.ZodEnum:return q4(r);case se.ZodNativeEnum:return Q4(r);case se.ZodNullable:return eA(r,a);case se.ZodOptional:return rA(r,a);case se.ZodMap:return X4(r,a);case se.ZodSet:return lA(r,a);case se.ZodLazy:return Ke(r.getter()._def,a);case se.ZodPromise:return iA(r,a);case se.ZodNaN:case se.ZodNever:return K4();case se.ZodEffects:return H4(r,a,s);case se.ZodAny:return z4();case se.ZodUnknown:return cA();case se.ZodDefault:return I4(r,a);case se.ZodBranded:return P4(r,a);case se.ZodReadonly:return dA(r,a);case se.ZodCatch:return Z4(r,a);case se.ZodPipeline:return sA(r,a);case se.ZodFunction:case se.ZodVoid:case se.ZodSymbol:return;default:return(l=>{})()}},pA=(r,t,a)=>(r.description&&(a.description=r.description,t.markdownDescription&&(a.markdownDescription=r.description)),a),gA=(r,t)=>{const a=kS(t),s=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,l=Ke(r._def,s===void 0?a:{...a,currentPath:[...a.basePath,a.definitionPath,s]},!1)??{},u=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;u!==void 0&&(l.title=u);const d=(()=>{if(ES(a.definitions))return;const m={},p=new Set;for(let y=0;y<500;y++){const b=Object.entries(a.definitions).filter(([A])=>!p.has(A));if(b.length===0)break;for(const[A,v]of b)m[A]=Ke(Xf(v),{...a,currentPath:[...a.basePath,a.definitionPath,A]},!0)??{},p.add(A)}return m})(),f=s===void 0?d?{...l,[a.definitionPath]:d}:l:a.nameStrategy==="duplicate-ref"?{...l,...d||a.seenRefs.size?{[a.definitionPath]:{...d,...a.seenRefs.size?{[s]:l}:void 0}}:void 0}:{$ref:[...a.$refStrategy==="relative"?[]:a.basePath,a.definitionPath,s].join("/"),[a.definitionPath]:{...d,[s]:l}};return a.target==="jsonSchema7"?f.$schema="http://json-schema.org/draft-07/schema#":a.target==="jsonSchema2019-09"&&(f.$schema="https://json-schema.org/draft/2019-09/schema#"),f};function yA(r,t){return gA(r,{openaiStrictMode:!0,name:t.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}function vA(r,t,a){return W2({type:"json_schema",json_schema:{...a,name:t,strict:!0,schema:yA(r,{name:t})}},s=>r.parse(JSON.parse(s)))}const bA=Symbol("Let zodToJsonSchema decide on which parser to use"),By={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},xA=r=>typeof r=="string"?{...By,name:r}:{...By,...r},_A=r=>{const t=xA(r),a=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:a,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([s,l])=>[l._def,{def:l._def,path:[...t.basePath,t.definitionPath,s],jsonSchema:void 0}]))}};function Vb(r,t,a,s){s!=null&&s.errorMessages&&a&&(r.errorMessage={...r.errorMessage,[t]:a})}function rt(r,t,a,s,l){r[t]=a,Vb(r,t,s,l)}function wA(){return{}}function SA(r,t){var s,l,u;const a={type:"array"};return(s=r.type)!=null&&s._def&&((u=(l=r.type)==null?void 0:l._def)==null?void 0:u.typeName)!==se.ZodAny&&(a.items=We(r.type._def,{...t,currentPath:[...t.currentPath,"items"]})),r.minLength&&rt(a,"minItems",r.minLength.value,r.minLength.message,t),r.maxLength&&rt(a,"maxItems",r.maxLength.value,r.maxLength.message,t),r.exactLength&&(rt(a,"minItems",r.exactLength.value,r.exactLength.message,t),rt(a,"maxItems",r.exactLength.value,r.exactLength.message,t)),a}function AA(r,t){const a={type:"integer",format:"int64"};if(!r.checks)return a;for(const s of r.checks)switch(s.kind){case"min":t.target==="jsonSchema7"?s.inclusive?rt(a,"minimum",s.value,s.message,t):rt(a,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(a.exclusiveMinimum=!0),rt(a,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?rt(a,"maximum",s.value,s.message,t):rt(a,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(a.exclusiveMaximum=!0),rt(a,"maximum",s.value,s.message,t));break;case"multipleOf":rt(a,"multipleOf",s.value,s.message,t);break}return a}function EA(){return{type:"boolean"}}function Yb(r,t){return We(r.type._def,t)}const kA=(r,t)=>We(r.innerType._def,t);function Gb(r,t,a){const s=a??t.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((l,u)=>Gb(r,t,l))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return NA(r,t)}}const NA=(r,t)=>{const a={type:"integer",format:"unix-time"};if(t.target==="openApi3")return a;for(const s of r.checks)switch(s.kind){case"min":rt(a,"minimum",s.value,s.message,t);break;case"max":rt(a,"maximum",s.value,s.message,t);break}return a};function jA(r,t){return{...We(r.innerType._def,t),default:r.defaultValue()}}function CA(r,t){return t.effectStrategy==="input"?We(r.schema._def,t):{}}function TA(r){return{type:"string",enum:Array.from(r.values)}}const RA=r=>"type"in r&&r.type==="string"?!1:"allOf"in r;function OA(r,t){const a=[We(r.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),We(r.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(u=>!!u);let s=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const l=[];return a.forEach(u=>{if(RA(u))l.push(...u.allOf),u.unevaluatedProperties===void 0&&(s=void 0);else{let d=u;if("additionalProperties"in u&&u.additionalProperties===!1){const{additionalProperties:f,...m}=u;d=m}else s=void 0;l.push(d)}}),l.length?{allOf:l,...s}:void 0}function DA(r,t){const a=typeof r.value;return a!=="bigint"&&a!=="number"&&a!=="boolean"&&a!=="string"?{type:Array.isArray(r.value)?"array":"object"}:t.target==="openApi3"?{type:a==="bigint"?"integer":a,enum:[r.value]}:{type:a==="bigint"?"integer":a,const:r.value}}let kf;const Pn={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(kf===void 0&&(kf=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),kf),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Xb(r,t){const a={type:"string"};if(r.checks)for(const s of r.checks)switch(s.kind){case"min":rt(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,s.value):s.value,s.message,t);break;case"max":rt(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,s.value):s.value,s.message,t);break;case"email":switch(t.emailStrategy){case"format:email":Zn(a,"email",s.message,t);break;case"format:idn-email":Zn(a,"idn-email",s.message,t);break;case"pattern:zod":Jt(a,Pn.email,s.message,t);break}break;case"url":Zn(a,"uri",s.message,t);break;case"uuid":Zn(a,"uuid",s.message,t);break;case"regex":Jt(a,s.regex,s.message,t);break;case"cuid":Jt(a,Pn.cuid,s.message,t);break;case"cuid2":Jt(a,Pn.cuid2,s.message,t);break;case"startsWith":Jt(a,RegExp(`^${Nf(s.value,t)}`),s.message,t);break;case"endsWith":Jt(a,RegExp(`${Nf(s.value,t)}$`),s.message,t);break;case"datetime":Zn(a,"date-time",s.message,t);break;case"date":Zn(a,"date",s.message,t);break;case"time":Zn(a,"time",s.message,t);break;case"duration":Zn(a,"duration",s.message,t);break;case"length":rt(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,s.value):s.value,s.message,t),rt(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,s.value):s.value,s.message,t);break;case"includes":{Jt(a,RegExp(Nf(s.value,t)),s.message,t);break}case"ip":{s.version!=="v6"&&Zn(a,"ipv4",s.message,t),s.version!=="v4"&&Zn(a,"ipv6",s.message,t);break}case"base64url":Jt(a,Pn.base64url,s.message,t);break;case"jwt":Jt(a,Pn.jwt,s.message,t);break;case"cidr":{s.version!=="v6"&&Jt(a,Pn.ipv4Cidr,s.message,t),s.version!=="v4"&&Jt(a,Pn.ipv6Cidr,s.message,t);break}case"emoji":Jt(a,Pn.emoji(),s.message,t);break;case"ulid":{Jt(a,Pn.ulid,s.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Zn(a,"binary",s.message,t);break}case"contentEncoding:base64":{rt(a,"contentEncoding","base64",s.message,t);break}case"pattern:zod":{Jt(a,Pn.base64,s.message,t);break}}break}case"nanoid":Jt(a,Pn.nanoid,s.message,t)}return a}function Nf(r,t){return t.patternStrategy==="escape"?zA(r):r}const MA=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function zA(r){let t="";for(let a=0;a<r.length;a++)MA.has(r[a])||(t+="\\"),t+=r[a];return t}function Zn(r,t,a,s){var l;r.format||(l=r.anyOf)!=null&&l.some(u=>u.format)?(r.anyOf||(r.anyOf=[]),r.format&&(r.anyOf.push({format:r.format,...r.errorMessage&&s.errorMessages&&{errorMessage:{format:r.errorMessage.format}}}),delete r.format,r.errorMessage&&(delete r.errorMessage.format,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.anyOf.push({format:t,...a&&s.errorMessages&&{errorMessage:{format:a}}})):rt(r,"format",t,a,s)}function Jt(r,t,a,s){var l;r.pattern||(l=r.allOf)!=null&&l.some(u=>u.pattern)?(r.allOf||(r.allOf=[]),r.pattern&&(r.allOf.push({pattern:r.pattern,...r.errorMessage&&s.errorMessages&&{errorMessage:{pattern:r.errorMessage.pattern}}}),delete r.pattern,r.errorMessage&&(delete r.errorMessage.pattern,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.allOf.push({pattern:Ly(t,s),...a&&s.errorMessages&&{errorMessage:{pattern:a}}})):rt(r,"pattern",Ly(t,s),a,s)}function Ly(r,t){var m;if(!t.applyRegexFlags||!r.flags)return r.source;const a={i:r.flags.includes("i"),m:r.flags.includes("m"),s:r.flags.includes("s")},s=a.i?r.source.toLowerCase():r.source;let l="",u=!1,d=!1,f=!1;for(let p=0;p<s.length;p++){if(u){l+=s[p],u=!1;continue}if(a.i){if(d){if(s[p].match(/[a-z]/)){f?(l+=s[p],l+=`${s[p-2]}-${s[p]}`.toUpperCase(),f=!1):s[p+1]==="-"&&((m=s[p+2])!=null&&m.match(/[a-z]/))?(l+=s[p],f=!0):l+=`${s[p]}${s[p].toUpperCase()}`;continue}}else if(s[p].match(/[a-z]/)){l+=`[${s[p]}${s[p].toUpperCase()}]`;continue}}if(a.m){if(s[p]==="^"){l+=`(^|(?<=[\r
]))`;continue}else if(s[p]==="$"){l+=`($|(?=[\r
]))`;continue}}if(a.s&&s[p]==="."){l+=d?`${s[p]}\r
`:`[${s[p]}\r
]`;continue}l+=s[p],s[p]==="\\"?u=!0:d&&s[p]==="]"?d=!1:!d&&s[p]==="["&&(d=!0)}try{new RegExp(l)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),r.source}return l}function Qb(r,t){var s,l,u,d,f,m;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((s=r.keyType)==null?void 0:s._def.typeName)===se.ZodEnum)return{type:"object",required:r.keyType._def.values,properties:r.keyType._def.values.reduce((p,y)=>({...p,[y]:We(r.valueType._def,{...t,currentPath:[...t.currentPath,"properties",y]})??{}}),{}),additionalProperties:t.rejectedAdditionalProperties};const a={type:"object",additionalProperties:We(r.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return a;if(((l=r.keyType)==null?void 0:l._def.typeName)===se.ZodString&&((u=r.keyType._def.checks)!=null&&u.length)){const{type:p,...y}=Xb(r.keyType._def,t);return{...a,propertyNames:y}}else{if(((d=r.keyType)==null?void 0:d._def.typeName)===se.ZodEnum)return{...a,propertyNames:{enum:r.keyType._def.values}};if(((f=r.keyType)==null?void 0:f._def.typeName)===se.ZodBranded&&r.keyType._def.type._def.typeName===se.ZodString&&((m=r.keyType._def.type._def.checks)!=null&&m.length)){const{type:p,...y}=Yb(r.keyType._def,t);return{...a,propertyNames:y}}}return a}function UA(r,t){if(t.mapStrategy==="record")return Qb(r,t);const a=We(r.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},s=We(r.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[a,s],minItems:2,maxItems:2}}}function BA(r){const t=r.values,s=Object.keys(r.values).filter(u=>typeof t[t[u]]!="number").map(u=>t[u]),l=Array.from(new Set(s.map(u=>typeof u)));return{type:l.length===1?l[0]==="string"?"string":"number":["string","number"],enum:s}}function LA(){return{not:{}}}function PA(r){return r.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Tu={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function ZA(r,t){if(t.target==="openApi3")return Py(r,t);const a=r.options instanceof Map?Array.from(r.options.values()):r.options;if(a.every(s=>s._def.typeName in Tu&&(!s._def.checks||!s._def.checks.length))){const s=a.reduce((l,u)=>{const d=Tu[u._def.typeName];return d&&!l.includes(d)?[...l,d]:l},[]);return{type:s.length>1?s:s[0]}}else if(a.every(s=>s._def.typeName==="ZodLiteral"&&!s.description)){const s=a.reduce((l,u)=>{const d=typeof u._def.value;switch(d){case"string":case"number":case"boolean":return[...l,d];case"bigint":return[...l,"integer"];case"object":if(u._def.value===null)return[...l,"null"];case"symbol":case"undefined":case"function":default:return l}},[]);if(s.length===a.length){const l=s.filter((u,d,f)=>f.indexOf(u)===d);return{type:l.length>1?l:l[0],enum:a.reduce((u,d)=>u.includes(d._def.value)?u:[...u,d._def.value],[])}}}else if(a.every(s=>s._def.typeName==="ZodEnum"))return{type:"string",enum:a.reduce((s,l)=>[...s,...l._def.values.filter(u=>!s.includes(u))],[])};return Py(r,t)}const Py=(r,t)=>{const a=(r.options instanceof Map?Array.from(r.options.values()):r.options).map((s,l)=>We(s._def,{...t,currentPath:[...t.currentPath,"anyOf",`${l}`]})).filter(s=>!!s&&(!t.strictUnions||typeof s=="object"&&Object.keys(s).length>0));return a.length?{anyOf:a}:void 0};function $A(r,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(r.innerType._def.typeName)&&(!r.innerType._def.checks||!r.innerType._def.checks.length))return t.target==="openApi3"?{type:Tu[r.innerType._def.typeName],nullable:!0}:{type:[Tu[r.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const s=We(r.innerType._def,{...t,currentPath:[...t.currentPath]});return s&&"$ref"in s?{allOf:[s],nullable:!0}:s&&{...s,nullable:!0}}const a=We(r.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return a&&{anyOf:[a,{type:"null"}]}}function IA(r,t){const a={type:"number"};if(!r.checks)return a;for(const s of r.checks)switch(s.kind){case"int":a.type="integer",Vb(a,"type",s.message,t);break;case"min":t.target==="jsonSchema7"?s.inclusive?rt(a,"minimum",s.value,s.message,t):rt(a,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(a.exclusiveMinimum=!0),rt(a,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?rt(a,"maximum",s.value,s.message,t):rt(a,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(a.exclusiveMaximum=!0),rt(a,"maximum",s.value,s.message,t));break;case"multipleOf":rt(a,"multipleOf",s.value,s.message,t);break}return a}function HA(r,t){const a=t.target==="openAi",s={type:"object",properties:{}},l=[],u=r.shape();for(const f in u){let m=u[f];if(m===void 0||m._def===void 0)continue;let p=FA(m);p&&a&&(m instanceof Vn&&(m=m._def.innerType),m.isNullable()||(m=m.nullable()),p=!1);const y=We(m._def,{...t,currentPath:[...t.currentPath,"properties",f],propertyPath:[...t.currentPath,"properties",f]});y!==void 0&&(s.properties[f]=y,p||l.push(f))}l.length&&(s.required=l);const d=qA(r,t);return d!==void 0&&(s.additionalProperties=d),s}function qA(r,t){if(r.catchall._def.typeName!=="ZodNever")return We(r.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(r.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function FA(r){try{return r.isOptional()}catch{return!0}}const VA=(r,t)=>{var s;if(t.currentPath.toString()===((s=t.propertyPath)==null?void 0:s.toString()))return We(r.innerType._def,t);const a=We(r.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return a?{anyOf:[{not:{}},a]}:{}},YA=(r,t)=>{if(t.pipeStrategy==="input")return We(r.in._def,t);if(t.pipeStrategy==="output")return We(r.out._def,t);const a=We(r.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),s=We(r.out._def,{...t,currentPath:[...t.currentPath,"allOf",a?"1":"0"]});return{allOf:[a,s].filter(l=>l!==void 0)}};function GA(r,t){return We(r.type._def,t)}function XA(r,t){const s={type:"array",uniqueItems:!0,items:We(r.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return r.minSize&&rt(s,"minItems",r.minSize.value,r.minSize.message,t),r.maxSize&&rt(s,"maxItems",r.maxSize.value,r.maxSize.message,t),s}function QA(r,t){return r.rest?{type:"array",minItems:r.items.length,items:r.items.map((a,s)=>We(a._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((a,s)=>s===void 0?a:[...a,s],[]),additionalItems:We(r.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:r.items.length,maxItems:r.items.length,items:r.items.map((a,s)=>We(a._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((a,s)=>s===void 0?a:[...a,s],[])}}function KA(){return{not:{}}}function JA(){return{}}const WA=(r,t)=>We(r.innerType._def,t),eE=(r,t,a)=>{switch(t){case se.ZodString:return Xb(r,a);case se.ZodNumber:return IA(r,a);case se.ZodObject:return HA(r,a);case se.ZodBigInt:return AA(r,a);case se.ZodBoolean:return EA();case se.ZodDate:return Gb(r,a);case se.ZodUndefined:return KA();case se.ZodNull:return PA(a);case se.ZodArray:return SA(r,a);case se.ZodUnion:case se.ZodDiscriminatedUnion:return ZA(r,a);case se.ZodIntersection:return OA(r,a);case se.ZodTuple:return QA(r,a);case se.ZodRecord:return Qb(r,a);case se.ZodLiteral:return DA(r,a);case se.ZodEnum:return TA(r);case se.ZodNativeEnum:return BA(r);case se.ZodNullable:return $A(r,a);case se.ZodOptional:return VA(r,a);case se.ZodMap:return UA(r,a);case se.ZodSet:return XA(r,a);case se.ZodLazy:return()=>r.getter()._def;case se.ZodPromise:return GA(r,a);case se.ZodNaN:case se.ZodNever:return LA();case se.ZodEffects:return CA(r,a);case se.ZodAny:return wA();case se.ZodUnknown:return JA();case se.ZodDefault:return jA(r,a);case se.ZodBranded:return Yb(r,a);case se.ZodReadonly:return WA(r,a);case se.ZodCatch:return kA(r,a);case se.ZodPipeline:return YA(r,a);case se.ZodFunction:case se.ZodVoid:case se.ZodSymbol:return;default:return(s=>{})()}};function We(r,t,a=!1){var f;const s=t.seen.get(r);if(t.override){const m=(f=t.override)==null?void 0:f.call(t,r,t,s,a);if(m!==bA)return m}if(s&&!a){const m=tE(s,t);if(m!==void 0)return m}const l={def:r,path:t.currentPath,jsonSchema:void 0};t.seen.set(r,l);const u=eE(r,r.typeName,t),d=typeof u=="function"?We(u(),t):u;if(d&&aE(r,t,d),t.postProcess){const m=t.postProcess(d,r,t);return l.jsonSchema=d,m}return l.jsonSchema=d,d}const tE=(r,t)=>{switch(t.$refStrategy){case"root":return{$ref:r.path.join("/")};case"relative":return{$ref:nE(t.currentPath,r.path)};case"none":case"seen":return r.path.length<t.currentPath.length&&r.path.every((a,s)=>t.currentPath[s]===a)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},nE=(r,t)=>{let a=0;for(;a<r.length&&a<t.length&&r[a]===t[a];a++);return[(r.length-a).toString(),...t.slice(a)].join("/")},aE=(r,t,a)=>(r.description&&(a.description=r.description,t.markdownDescription&&(a.markdownDescription=r.description)),a),rE=(r,t)=>{const a=_A(t),s=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((m,[p,y])=>({...m,[p]:We(y._def,{...a,currentPath:[...a.basePath,a.definitionPath,p]},!0)??{}}),{}):void 0,l=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,u=We(r._def,l===void 0?a:{...a,currentPath:[...a.basePath,a.definitionPath,l]},!1)??{},d=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;d!==void 0&&(u.title=d);const f=l===void 0?s?{...u,[a.definitionPath]:s}:u:{$ref:[...a.$refStrategy==="relative"?[]:a.basePath,a.definitionPath,l].join("/"),[a.definitionPath]:{...s,[l]:u}};return a.target==="jsonSchema7"?f.$schema="http://json-schema.org/draft-07/schema#":(a.target==="jsonSchema2019-09"||a.target==="openAi")&&(f.$schema="https://json-schema.org/draft/2019-09/schema#"),a.target==="openAi"&&("anyOf"in f||"oneOf"in f||"allOf"in f||"type"in f&&Array.isArray(f.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),f},eh=bn.object({text:bn.string().describe("A verbatim, HTML representation of the page, including captions/descriptions of images"),page:bn.string().optional().describe("The page number, if available"),chapter_name:bn.string().optional().describe("The chapter name, if available"),title:bn.string().optional().describe("The book title, if available"),figures:bn.array(bn.object({number:bn.string().optional().describe("Figure number if available"),description:bn.string().describe("Detailed description of the figure content")})).optional().describe("Descriptions of any figures on the page"),error:bn.boolean().optional().describe("Flag to indicate if there was an error extracting text from the image")}),sE=rE(eh,{target:"openApi3"});function iE(r){const t=[],a=r.matchAll(/Figure (\d+)(?:[.:])?\s*(.*?)(?:\n\n|\n(?=Figure)|\n$)/gis);for(const s of a)s&&s[2]&&t.push({number:s[1],description:s[2].trim()});return t}async function lE(r,t){var a;try{let s=t.extractedDeployment||"gpt-4",l=t.extractedApiVersion||"2024-05-01",u=t.baseEndpoint||t.endpoint;if(!t.extractedDeployment||!t.extractedApiVersion||!t.baseEndpoint)try{const f=new URL(t.endpoint);if(!t.extractedDeployment){const m=f.pathname.split("/"),p=m.findIndex(y=>y==="deployments");p>=0&&p+1<m.length&&(s=m[p+1],console.log("Extracted deployment from URL:",s))}if(!t.extractedApiVersion){const m=f.searchParams.get("api-version");m&&(l=m,console.log("Extracted API version from URL:",l))}t.baseEndpoint||(u=f.origin)}catch(f){console.warn("Failed to parse endpoint URL for deployment and API version:",f)}else console.log("Using pre-extracted values - Deployment:",s,"API Version:",l);const d=new _S({apiKey:t.apiKey,endpoint:u,deployment:s,apiVersion:l,dangerouslyAllowBrowser:!0});console.log("Using Azure OpenAI client with endpoint:",t.endpoint);try{const m=(a=(await d.beta.chat.completions.parse({model:s,messages:[{role:"system",content:`You are a skilled assistant that analyzes images of textbook pages. 
                        Extract all text content from the page verbatim, and provide any metadata available such as page numbers, 
                        chapter names, and book titles. Also identify and describe all figures, tables, and images on the page.
                        If you cannot extract meaningful text from the image, set the error flag to true.`},{role:"user",content:[{type:"text",text:"Please analyze this textbook page and provide the information in the structured format."},{type:"image_url",image_url:{url:`data:image/jpeg;base64,${r}`}}]}],temperature:0,max_tokens:16384,response_format:vA(eh,"textbookPage")})).choices[0])==null?void 0:a.message;if(!m)throw new Error("Invalid response from Azure OpenAI API");if(m.parsed){const p=m.parsed,y=!p.text||p.text.trim().length===0;return{text:p.text,metadata:{pageNumber:p.page,chapter:p.chapter_name,bookTitle:p.title,figures:p.figures||[],error:p.error===!0||y}}}else{if(m.refusal)throw console.warn("The model refused to process the request:",m.refusal),new Error(`The model refused to process the request: ${m.refusal}`);if(console.warn("No parsed data available from the response"),m.content)return jf(m.content);throw new Error("No usable content received from Azure OpenAI API")}}catch(f){console.error("Error with beta structured output:",f),console.log("Falling back to legacy approach...");const m=await d.chat.completions.create({model:s,messages:[{role:"system",content:`You are a skilled assistant that analyzes images of textbook pages. 
                        Extract the following information in a structured format following this JSON schema:
                        ${JSON.stringify(sE,null,2)}
                        
                        Always provide output exactly according to this schema.
                        If you cannot extract meaningful text from the image, set the error flag to true.`},{role:"user",content:[{type:"text",text:"Please analyze this textbook page and provide the information in the structured format."},{type:"image_url",image_url:{url:`data:image/jpeg;base64,${r}`}}]}],temperature:0,max_tokens:16384,response_format:{type:"json_object"}});if(!m||!m.choices||!m.choices[0]||!m.choices[0].message)throw new Error("Invalid response format from Azure OpenAI API");const p=m.choices[0].message.content||"";if(!p)throw new Error("No content received from Azure OpenAI API");try{const y=JSON.parse(p),b=eh.safeParse(y);if(!b.success)return console.warn("Response didn't match expected schema:",b.error),jf(p);const A=b.data,v=!A.text||A.text.trim().length===0;return{text:A.text,metadata:{pageNumber:A.page,chapter:A.chapter_name,bookTitle:A.title,figures:A.figures||[],rawContent:p,error:A.error===!0||v}}}catch(y){return console.error("Error parsing structured output:",y),jf(p)}}}catch(s){throw console.warn("Failed to analyze image:",s),s}}function jf(r){const t=r.match(/Page (\d+)/i)||r.match(/p\. (\d+)/i),a=r.match(/Chapter (\d+|[IVX]+)/i),s=r.match(/Title: (.*?)(?:\n|$)/i)||r.match(/Book: (.*?)(?:\n|$)/i),l=iE(r),u=!r||r.trim().length<10;return{text:r,metadata:{pageNumber:t?t[1]:void 0,chapter:a?a[1]:void 0,bookTitle:s?s[1]:void 0,figures:l.length>0?l:void 0,rawContent:r,error:u}}}async function oE(r){try{const t=atob(r),a=JSON.parse(t),l=bn.object({endpoint:bn.string().url({message:"Invalid endpoint URL"}),apiKey:bn.string().min(1,{message:"API key cannot be empty"})}).safeParse(a);if(!l.success){console.error("Invalid connection key format:",l.error.flatten().fieldErrors);const f=Object.values(l.error.flatten().fieldErrors).flat().join(", ");throw new Error(`Invalid connection key format: ${f||"Validation failed."}`)}const u=l.data,d={...u};try{const f=new URL(u.endpoint),m=f.pathname.split("/"),p=m.findIndex(b=>b==="deployments");p>=0&&p+1<m.length&&(d.extractedDeployment=m[p+1]);const y=f.searchParams.get("api-version");y&&(d.extractedApiVersion=y),d.baseEndpoint=f.origin}catch(f){console.warn("Failed to parse endpoint URL for deployment and API version:",f)}return console.log("Decoded connection key successfully"),d}catch(t){throw console.error("Failed to decode connection key:",t),t instanceof Error?new Error(`Failed to decode connection key. ${t.message}`):new Error("Failed to decode connection key. Please check the format.")}}const th=(r,t)=>t.some(a=>r instanceof a);let Zy,$y;function uE(){return Zy||(Zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cE(){return $y||($y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nh=new WeakMap,Cf=new WeakMap,Yu=new WeakMap;function dE(r){const t=new Promise((a,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{a(Zr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return Yu.set(t,r),t}function fE(r){if(nh.has(r))return;const t=new Promise((a,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{a(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});nh.set(r,t)}let ah={get(r,t,a){if(r instanceof IDBTransaction){if(t==="done")return nh.get(r);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Zr(r[t])},set(r,t,a){return r[t]=a,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Kb(r){ah=r(ah)}function hE(r){return cE().includes(r)?function(...t){return r.apply(rh(this),t),Zr(this.request)}:function(...t){return Zr(r.apply(rh(this),t))}}function mE(r){return typeof r=="function"?hE(r):(r instanceof IDBTransaction&&fE(r),th(r,uE())?new Proxy(r,ah):r)}function Zr(r){if(r instanceof IDBRequest)return dE(r);if(Cf.has(r))return Cf.get(r);const t=mE(r);return t!==r&&(Cf.set(r,t),Yu.set(t,r)),t}const rh=r=>Yu.get(r);function pE(r,t,{blocked:a,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(r,t),f=Zr(d);return s&&d.addEventListener("upgradeneeded",m=>{s(Zr(d.result),m.oldVersion,m.newVersion,Zr(d.transaction),m)}),a&&d.addEventListener("blocked",m=>a(m.oldVersion,m.newVersion,m)),f.then(m=>{u&&m.addEventListener("close",()=>u()),l&&m.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const gE=["get","getKey","getAll","getAllKeys","count"],yE=["put","add","delete","clear"],Tf=new Map;function Iy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Tf.get(t))return Tf.get(t);const a=t.replace(/FromIndex$/,""),s=t!==a,l=yE.includes(a);if(!(a in(s?IDBIndex:IDBObjectStore).prototype)||!(l||gE.includes(a)))return;const u=async function(d,...f){const m=this.transaction(d,l?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[a](...f),l&&m.done]))[0]};return Tf.set(t,u),u}Kb(r=>({...r,get:(t,a,s)=>Iy(t,a)||r.get(t,a,s),has:(t,a)=>!!Iy(t,a)||r.has(t,a)}));const vE=["continue","continuePrimaryKey","advance"],Hy={},sh=new WeakMap,Jb=new WeakMap,bE={get(r,t){if(!vE.includes(t))return r[t];let a=Hy[t];return a||(a=Hy[t]=function(...s){sh.set(this,Jb.get(this)[t](...s))}),a}};async function*xE(...r){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...r)),!t)return;t=t;const a=new Proxy(t,bE);for(Jb.set(a,t),Yu.set(a,rh(t));t;)yield a,t=await(sh.get(a)||t.continue()),sh.delete(a)}function qy(r,t){return t===Symbol.asyncIterator&&th(r,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&th(r,[IDBIndex,IDBObjectStore])}Kb(r=>({...r,get(t,a,s){return qy(t,a)?xE:r.get(t,a,s)},has(t,a){return qy(t,a)||r.has(t,a)}}));const _E="ascension-db",wE=2;async function SE(){return pE(_E,wE,{upgrade(r,t){t<1&&(r.createObjectStore("series",{keyPath:"id"}).createIndex("by-date","createdAt"),r.createObjectStore("settings",{keyPath:"id"})),t<2&&console.log("Upgrading database to version 2: Adding flashcards support")}})}let Rf;function Fr(){return Rf||(Rf=SE()),Rf}async function Jh(r){await(await Fr()).put("series",r)}async function AE(){return(await Fr()).getAllFromIndex("series","by-date")}async function Wb(r){return(await Fr()).get("series",r)}async function EE(r){await(await Fr()).delete("series",r)}async function ih(r){await(await Fr()).put("settings",{id:"connection",connectionKey:r})}async function ex(){const t=await(await Fr()).get("settings","connection");return t==null?void 0:t.connectionKey}async function kE(){try{return await Fr(),!1}catch{return!0}}const tx=z.createContext({endpoint:null,apiKey:null,isLoading:!0,error:null});function NE({children:r}){const[t,a]=z.useState(null),[s,l]=z.useState(null),[u,d]=z.useState(!0),[f,m]=z.useState(null);return z.useEffect(()=>{async function p(){try{const y=await ex();if(y){const b=await oE(y);a(b.endpoint),l(b.apiKey)}else m("Connection key not found")}catch(y){m("Failed to decode connection key"),console.error("Error loading Azure credentials:",y)}finally{d(!1)}}p()},[]),g.jsx(tx.Provider,{value:{endpoint:t,apiKey:s,isLoading:u,error:f},children:r})}function Wh(){return z.useContext(tx)}const nx=z.createContext({draft:null,initializeDraft:()=>{},addPage:()=>"",updatePage:()=>{},removePage:()=>{},setSeriesName:()=>{},clearDraft:()=>{}});function jE({children:r}){const[t,a]=z.useState(null),s=z.useCallback(()=>{a({pages:[]})},[]),l=z.useCallback(p=>{const y=Du();return a(b=>b?{...b,pages:[...b.pages,{...p,id:y}]}:{pages:[{...p,id:y}]}),y},[]),u=z.useCallback((p,y)=>{console.log("Updating page:",p,"with data:",y),a(b=>b?b.pages.some(S=>S.id===p)?{...b,pages:b.pages.map(S=>{if(S.id===p){const x={...S,...y};return console.log("Page updated from:",S,"to:",x),x}return S})}:(console.error(`Cannot update page: page with ID ${p} not found`),console.log("Available pages:",b.pages.map(S=>S.id)),b):(console.error("Cannot update page: draft is null"),null))},[]),d=z.useCallback(p=>{a(y=>y?{...y,pages:y.pages.filter(b=>b.id!==p)}:null)},[]),f=z.useCallback(p=>{a(y=>y?{...y,name:p}:null)},[]),m=z.useCallback(()=>{a(null)},[]);return g.jsx(nx.Provider,{value:{draft:t,initializeDraft:s,addPage:l,updatePage:u,removePage:d,setSeriesName:f,clearDraft:m},children:r})}function em(){return z.useContext(nx)}class CE{constructor(){Dr(this,"processingQueue",[]);Dr(this,"isProcessing",!1);Dr(this,"maxConcurrent",2);Dr(this,"maxRetries",3);Dr(this,"currentlyProcessing",0)}enqueue(t,a,s,l,u,d){const f={id:t,imageData:a,retries:0,config:s,onComplete:l,onError:u,onStatusChange:d,status:"queued"};this.processingQueue.push(f),this.isProcessing||this.processQueue()}getStatus(){const t={queued:0,processing:0,completed:0,error:0};for(const a of this.processingQueue)a.status==="queued"&&t.queued++,a.status==="processing"&&t.processing++,a.status==="complete"&&t.completed++,a.status==="error"&&t.error++;return{...t,total:this.processingQueue.length}}retry(t){const a=this.processingQueue.findIndex(l=>l.id===t&&l.status==="error");if(a===-1)return!1;const s=this.processingQueue[a];return s.status="queued",s.onStatusChange&&s.onStatusChange(s.id,"queued"),s.retries=0,s.error=void 0,this.isProcessing||this.processQueue(),!0}clearCompleted(){this.processingQueue=this.processingQueue.filter(t=>t.status!=="complete")}async processQueue(){if(this.currentlyProcessing>=this.maxConcurrent)return;this.isProcessing=!0;const t=this.processingQueue.findIndex(s=>s.status==="queued");if(t===-1){this.currentlyProcessing===0&&(this.isProcessing=!1);return}const a=this.processingQueue[t];a.status="processing",a.onStatusChange&&a.onStatusChange(a.id,"processing"),this.currentlyProcessing++;try{const s=await lE(a.imageData,a.config),l=[];if(s.metadata&&s.metadata.figures){const u=s.metadata.figures;for(const d of u)d.description&&l.push(d.description)}a.status="complete",a.onStatusChange&&a.onStatusChange(a.id,"complete"),a.onComplete({id:a.id,text:s.text,imageDescriptions:l,meta:s.metadata||{}})}catch(s){console.error("Image processing error:",s);const l=s instanceof Error?s.message:"Unknown error";if(a.retries<this.maxRetries){a.retries++,a.status="queued",a.onStatusChange&&a.onStatusChange(a.id,"queued"),a.error=`Error: ${l}. Retry ${a.retries} of ${this.maxRetries}.`;const u=Math.pow(2,a.retries)*1e3;setTimeout(()=>{this.processQueue()},u)}else a.status="error",a.error=`Failed after ${this.maxRetries} attempts: ${l}`,a.onStatusChange&&a.onStatusChange(a.id,"error"),s instanceof Error?a.onError(s,a.id):a.onError(new Error(l),a.id)}finally{this.currentlyProcessing--,this.processQueue()}}}const tm=new CE;function TE({onCapture:r,onError:t}){const a=z.useRef(null),s=z.useRef(null),[l,u]=z.useState(null),[d,f]=z.useState("environment"),[m,p]=z.useState("prompt"),[y,b]=z.useState(!1);z.useEffect(()=>{async function x(){try{l&&l.getTracks().forEach(k=>k.stop());const E=await navigator.mediaDevices.getUserMedia({video:{facingMode:d,width:{ideal:1920},height:{ideal:1080}},audio:!1});u(E),p("granted"),a.current&&(a.current.srcObject=E)}catch(E){p("denied"),t(E instanceof Error?E:new Error("Failed to access camera"))}}return x(),()=>{l&&l.getTracks().forEach(E=>E.stop())}},[d,t]);const A=z.useCallback(()=>{f(x=>x==="user"?"environment":"user")},[]),v=z.useCallback(async()=>{if(l)try{const x=l.getVideoTracks()[0];if(!x.getCapabilities().torch){console.log("Flashlight not supported on this device");return}const k=!y;await x.applyConstraints({advanced:[{torch:k}]}),b(k)}catch(x){console.error("Error toggling flashlight:",x)}},[l,y]),S=z.useCallback(()=>{if(!a.current||!s.current)return;const x=a.current,E=s.current;E.width=x.videoWidth,E.height=x.videoHeight;const k=E.getContext("2d");if(k){k.drawImage(x,0,0);try{const N=E.toDataURL("image/jpeg",.95).split(",")[1];r(N)}catch(N){t(N instanceof Error?N:new Error("Failed to capture image"))}}},[r,t]);return g.jsxs("div",{className:"camera-container w-full",children:[g.jsxs("div",{className:"relative rounded-lg overflow-hidden shadow-lg bg-gray-900",style:{height:"70vh",minHeight:"400px",position:"relative"},children:[g.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",style:{transform:d==="user"?"scaleX(-1)":"none"}}),"            ","                ",g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex justify-center items-center space-x-8 py-6 px-4 bg-black bg-opacity-40 z-50",children:[g.jsx("button",{onClick:A,className:"flex items-center justify-center p-5 bg-green-600 rounded-full hover:bg-green-700 shadow-lg border-2 border-white transition-transform hover:scale-105 w-16 h-16 min-w-16 min-h-16","aria-label":"Switch camera",style:{boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),"                    ",g.jsx("button",{onClick:S,className:"flex items-center justify-center p-3 bg-white rounded-full hover:bg-gray-100 shadow-lg transform transition-transform hover:scale-105 w-28 h-28","aria-label":"Take photo",style:{boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:g.jsx("div",{className:"h-20 w-20 rounded-full border-4 border-gray-800 flex items-center justify-center",children:g.jsx("div",{className:"h-16 w-16 rounded-full bg-red-600"})})}),"                    ",g.jsx("button",{onClick:v,className:`flex items-center justify-center p-5 rounded-full shadow-lg transition-all hover:scale-105 border-2 border-white w-16 h-16 min-w-16 min-h-16 ${y?"bg-yellow-400 text-black":"bg-gray-800 text-white"}`,"aria-label":"Toggle flashlight",style:{boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})]})]}),m==="denied"&&g.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-md",children:[g.jsx("p",{className:"font-medium mb-2",children:"Camera Access Denied"}),g.jsx("p",{className:"mb-4",children:"Please allow camera access to use this feature."})]}),g.jsx("canvas",{ref:s,className:"hidden"})]})}function RE(){const{draft:r}=em(),[t,a]=z.useState({queued:0,processing:0,completed:0,error:0,total:0});return z.useEffect(()=>{const s=setInterval(()=>{a(tm.getStatus())},1e3);return()=>clearInterval(s)},[]),!r||t.queued===0&&t.processing===0&&t.error===0?null:g.jsxs("div",{className:"fixed top-4 right-4 bg-gray-800 text-white p-3 rounded-lg shadow-lg max-w-xs opacity-80",children:[g.jsx("h4",{className:"font-medium text-sm mb-1",children:"Processing Status"}),g.jsxs("div",{className:"space-y-1 text-xs",children:[t.processing>0&&g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-t-2 border-b-2 border-blue-400 mr-2"}),g.jsxs("span",{children:["Processing: ",t.processing]})]}),t.queued>0&&g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full mr-2"}),g.jsxs("span",{children:["Queued: ",t.queued]})]}),t.completed>0&&g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full mr-2"}),g.jsxs("span",{children:["Completed: ",t.completed]})]}),t.error>0&&g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full mr-2"}),g.jsxs("span",{children:["Failed: ",t.error]})]})]}),t.processing>0||t.queued>0?g.jsx("p",{className:"text-xs mt-2 text-gray-300",children:"Processing images in the background. You can continue capturing more pages."}):null]})}function Fy(){const r=Ks(),[t,a]=z.useState("camera"),[s,l]=z.useState(null),[u,d]=z.useState(""),{draft:f,initializeDraft:m,addPage:p,updatePage:y}=em(),{endpoint:b,apiKey:A}=Wh();z.useEffect(()=>{f||m()},[f,m]);const v=z.useCallback(N=>{l(N),a("preview")},[]),S=z.useCallback(()=>{l(null),a("camera")},[]),x=z.useCallback(N=>{d(`Camera error: ${N.message}`),a("error")},[]),E=z.useCallback(()=>{if(!s||!b||!A){d("Missing image data or Azure configuration"),a("error");return}const N=atob(s),T=new Array(N.length);for(let Z=0;Z<N.length;Z++)T[Z]=N.charCodeAt(Z);const M=new Uint8Array(T),R=new Blob([M],{type:"image/jpeg"}),H=Du(),q=p({imageBlob:R,text:"",imageDescriptions:[],meta:{},status:"queued"});console.log("Added page with ID:",q,"Generated ID was:",H);const ne={endpoint:b,apiKey:A};tm.enqueue(q,s,ne,Z=>{console.log("Page processed successfully:",Z),y(q,{text:Z.text,imageDescriptions:Z.imageDescriptions,meta:Z.meta,status:"complete"})},(Z,te)=>{console.error("Error processing page:",Z),y(te,{error:Z.message,status:"error"})},(Z,te)=>{console.log(`Status change for page ${Z}: ${te}`),y(q,{status:te})}),l(null),a("camera")},[s,b,A,p,y]),k=z.useCallback(()=>{r("/review")},[r]);return g.jsxs("div",{className:"max-w-2xl mx-auto w-full px-2",children:[g.jsx(RE,{}),t==="camera"&&g.jsx("div",{className:"w-full",children:g.jsx(TE,{onCapture:v,onError:x})}),t==="preview"&&s&&g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-lg bg-gray-900 w-full",children:g.jsx("img",{src:`data:image/jpeg;base64,${s}`,alt:"Captured",className:"w-full object-contain"})}),g.jsxs("div",{className:"flex space-x-4",children:["                        ",g.jsx("button",{onClick:S,className:"flex-1 py-2 px-4 bg-gray-200 rounded-md hover:bg-gray-300",children:"Retake"}),g.jsx("button",{onClick:E,className:"flex-1 py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Use Photo"})]})]}),t==="processing"&&g.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[g.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary mb-4"}),g.jsx("p",{children:"Processing image with Azure GPT-4o..."})]}),t==="error"&&g.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-md",children:[g.jsx("p",{className:"font-medium mb-2",children:"Error"}),g.jsx("p",{className:"mb-4",children:u}),g.jsxs("div",{className:"mb-4",children:[g.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.jsx("strong",{children:"Troubleshooting:"})}),g.jsxs("ul",{className:"text-sm list-disc pl-5 text-gray-600",children:[g.jsx("li",{children:"Check if the connection key is valid"}),g.jsx("li",{children:"Verify the Azure OpenAI service is properly configured"}),g.jsx("li",{children:"Make sure your Azure OpenAI service has the GPT-4 model deployed"})]})]}),g.jsx("button",{onClick:()=>a("camera"),className:"py-2 px-4 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]}),f&&f.pages.length>0&&t!=="processing"&&g.jsx("div",{className:"mt-8 flex space-x-4",children:g.jsxs("button",{onClick:k,className:"flex-1 py-3 px-4 bg-green-600 text-white rounded-md hover:bg-green-700",children:["Finish Series (",f.pages.length," ",f.pages.length===1?"page":"pages",")"]})})]})}function Vy(){const[r,t]=z.useState([]),[a,s]=z.useState(!0),[l,u]=z.useState(null),d=z.useCallback(async()=>{s(!0),u(null);try{const m=await AE();m.sort((p,y)=>new Date(y.createdAt).getTime()-new Date(p.createdAt).getTime()),t(m)}catch(m){u("Failed to load your series. Please try again."),console.error("Error loading series:",m)}finally{s(!1)}},[]);z.useEffect(()=>{d()},[d]);const f=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return a?g.jsx("div",{className:"flex justify-center my-12",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})}):l?g.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md my-4",children:[l,g.jsx("button",{onClick:d,className:"ml-4 text-red-700 hover:text-red-900 underline",children:"Try Again"})]}):g.jsxs("div",{children:["            ",g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:"text-xl sm:text-2xl font-semibold",children:"My Content"}),"                ",g.jsxs(It,{to:"/creator/capture",className:"flex items-center py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New Series"]})]}),r.length===0?g.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 p-4 rounded-md text-center",children:[g.jsx("p",{className:"font-medium mb-2",children:"No series yet"}),g.jsx("p",{className:"mb-4",children:"Start by creating your first series to capture content and generate flash cards."}),"                    ",g.jsxs(It,{to:"/creator/capture",className:"inline-flex items-center py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Capture New Content"]})]}):g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:["                    ",r.map(m=>g.jsxs(It,{to:`/creator/series/${m.id}`,className:"block bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[g.jsx("div",{className:"relative pt-[56.25%] bg-gray-100 rounded-t-lg overflow-hidden",children:m.pages.length>0&&m.pages[0].imageBlob?g.jsx("img",{src:URL.createObjectURL(m.pages[0].imageBlob),alt:`First page of ${m.name}`,className:"absolute top-0 left-0 w-full h-full object-cover",onLoad:p=>{const y=p.target;URL.revokeObjectURL(y.src)}}):g.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center bg-gray-200 text-gray-400",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),g.jsxs("div",{className:"p-4",children:[g.jsx("h3",{className:"font-medium text-lg mb-1 truncate",children:m.name}),g.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[g.jsxs("span",{children:[m.pages.length," pages"]}),g.jsx("span",{children:m.flashcards?`${m.flashcards.length} cards`:""})]}),g.jsx("div",{className:"mt-2 text-xs text-gray-400",children:f(m.createdAt)}),g.jsx("div",{className:"mt-3 flex justify-end",children:g.jsx("span",{className:"text-blue-600 text-sm",children:"Manage "})})]})]},m.id))]})]})}const ax=z.createContext({domain:"viewer",setDomain:()=>{},isCreator:!1,isViewer:!0});function OE({children:r}){const[t,a]=z.useState("viewer"),s=oa();z.useEffect(()=>{const d=["/creator","/capture","/creator/dashboard","/creator/series","/review"],f=["/viewer","/viewer/dashboard","/viewer/series","/studypacks","/studypack","/viewer/studypacks","/viewer/studypack"];let m=t;d.some(p=>s.pathname.startsWith(p))?m="creator":f.some(p=>s.pathname.startsWith(p))?m="viewer":s.pathname.includes("/series/")&&(s.pathname.includes("/creator/series/")?m="creator":s.pathname.includes("/viewer/series/")&&(m="viewer")),m!==t&&a(m)},[s.pathname,t]);const l=t==="creator",u=t==="viewer";return g.jsx(ax.Provider,{value:{domain:t,setDomain:a,isCreator:l,isViewer:u},children:r})}function hr(){return z.useContext(ax)}function DE(){const{setDomain:r}=hr(),t=oa();z.useEffect(()=>{r("creator")},[r]);const a=s=>t.pathname===s||t.pathname.startsWith(`${s}/`);return g.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g.jsx("header",{className:"bg-blue-600 text-white shadow-md",children:g.jsx("div",{className:"container mx-auto px-4 py-3",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),g.jsx("h1",{className:"text-xl font-semibold",children:"Creator Mode"})]}),"                        ",g.jsxs("nav",{className:"flex items-center space-x-4",children:[g.jsx(It,{to:"/creator/dashboard",className:`px-3 py-2 rounded-md ${a("/creator/dashboard")?"bg-blue-700":"hover:bg-blue-700"}`,children:"Dashboard"}),g.jsx(It,{to:"/",className:"px-3 py-2 rounded-md hover:bg-blue-700",children:"Switch Mode"})]})]})})}),g.jsx("main",{className:"container mx-auto px-4 py-6",children:g.jsx(cv,{})})]})}const ja=new Map;async function ME(r,t,a,s,l,u){if(ja.has(r.id)){const d=ja.get(r.id);d==null||d.terminate(),ja.delete(r.id)}try{const d=new Worker(new URL("/ursa-minor-ascension/assets/flashCardWorker-BQCpAGCY.js",import.meta.url),{type:"module"});console.log("Worker created successfully"),ja.set(r.id,d),d.onmessage=m=>{var y;const p=m.data;switch(console.log("Worker response received:",p),p.type){case"status":p.status&&(console.log("Status update:",p.status),s(p.status));break;case"complete":console.log("Generation complete, received cards:",(y=p.flashcards)==null?void 0:y.length),p.flashcards&&(l(p.flashcards),d.terminate(),ja.delete(r.id));break;case"error":u(p.error||"Unknown error occurred"),d.terminate(),ja.delete(r.id);break}},d.onerror=m=>{console.error("Worker error:",m),u(`Worker error: ${m.message||"Unknown worker error"}`),d.terminate(),ja.delete(r.id)};const f={type:"generate",series:r,config:t,request:a};console.log("Sending message to worker:",f.type),d.postMessage(f),console.log("Message sent to worker")}catch(d){u(d instanceof Error?d.message:"Failed to start flash card generation")}}async function zE(r,t){const a={...r,flashcards:t,updatedAt:new Date().toISOString()};return await Jh(a),a}function UE(r){const t=ja.get(r);t&&(t.terminate(),ja.delete(r),console.log(`Flash card generation cancelled for series: ${r}`))}function su(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Of={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Yy;function BE(){return Yy||(Yy=1,function(r,t){(function(a){r.exports=a()})(function(){return function a(s,l,u){function d(p,y){if(!l[p]){if(!s[p]){var b=typeof su=="function"&&su;if(!y&&b)return b(p,!0);if(f)return f(p,!0);var A=new Error("Cannot find module '"+p+"'");throw A.code="MODULE_NOT_FOUND",A}var v=l[p]={exports:{}};s[p][0].call(v.exports,function(S){var x=s[p][1][S];return d(x||S)},v,v.exports,a,s,l,u)}return l[p].exports}for(var f=typeof su=="function"&&su,m=0;m<u.length;m++)d(u[m]);return d}({1:[function(a,s,l){var u=a("./utils"),d=a("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(m){for(var p,y,b,A,v,S,x,E=[],k=0,N=m.length,T=N,M=u.getTypeOf(m)!=="string";k<m.length;)T=N-k,b=M?(p=m[k++],y=k<N?m[k++]:0,k<N?m[k++]:0):(p=m.charCodeAt(k++),y=k<N?m.charCodeAt(k++):0,k<N?m.charCodeAt(k++):0),A=p>>2,v=(3&p)<<4|y>>4,S=1<T?(15&y)<<2|b>>6:64,x=2<T?63&b:64,E.push(f.charAt(A)+f.charAt(v)+f.charAt(S)+f.charAt(x));return E.join("")},l.decode=function(m){var p,y,b,A,v,S,x=0,E=0,k="data:";if(m.substr(0,k.length)===k)throw new Error("Invalid base64 input, it looks like a data url.");var N,T=3*(m=m.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(m.charAt(m.length-1)===f.charAt(64)&&T--,m.charAt(m.length-2)===f.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=d.uint8array?new Uint8Array(0|T):new Array(0|T);x<m.length;)p=f.indexOf(m.charAt(x++))<<2|(A=f.indexOf(m.charAt(x++)))>>4,y=(15&A)<<4|(v=f.indexOf(m.charAt(x++)))>>2,b=(3&v)<<6|(S=f.indexOf(m.charAt(x++))),N[E++]=p,v!==64&&(N[E++]=y),S!==64&&(N[E++]=b);return N}},{"./support":30,"./utils":32}],2:[function(a,s,l){var u=a("./external"),d=a("./stream/DataWorker"),f=a("./stream/Crc32Probe"),m=a("./stream/DataLengthProbe");function p(y,b,A,v,S){this.compressedSize=y,this.uncompressedSize=b,this.crc32=A,this.compression=v,this.compressedContent=S}p.prototype={getContentWorker:function(){var y=new d(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new m("data_length")),b=this;return y.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new d(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(y,b,A){return y.pipe(new f).pipe(new m("uncompressedSize")).pipe(b.compressWorker(A)).pipe(new m("compressedSize")).withStreamInfo("compression",b)},s.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(a,s,l){var u=a("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},l.DEFLATE=a("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(a,s,l){var u=a("./utils"),d=function(){for(var f,m=[],p=0;p<256;p++){f=p;for(var y=0;y<8;y++)f=1&f?3988292384^f>>>1:f>>>1;m[p]=f}return m}();s.exports=function(f,m){return f!==void 0&&f.length?u.getTypeOf(f)!=="string"?function(p,y,b,A){var v=d,S=A+b;p^=-1;for(var x=A;x<S;x++)p=p>>>8^v[255&(p^y[x])];return-1^p}(0|m,f,f.length,0):function(p,y,b,A){var v=d,S=A+b;p^=-1;for(var x=A;x<S;x++)p=p>>>8^v[255&(p^y.charCodeAt(x))];return-1^p}(0|m,f,f.length,0):0}},{"./utils":32}],5:[function(a,s,l){l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(a,s,l){var u=null;u=typeof Promise<"u"?Promise:a("lie"),s.exports={Promise:u}},{lie:37}],7:[function(a,s,l){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=a("pako"),f=a("./utils"),m=a("./stream/GenericWorker"),p=u?"uint8array":"array";function y(b,A){m.call(this,"FlateWorker/"+b),this._pako=null,this._pakoAction=b,this._pakoOptions=A,this.meta={}}l.magic="\b\0",f.inherits(y,m),y.prototype.processChunk=function(b){this.meta=b.meta,this._pako===null&&this._createPako(),this._pako.push(f.transformTo(p,b.data),!1)},y.prototype.flush=function(){m.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var b=this;this._pako.onData=function(A){b.push({data:A,meta:b.meta})}},l.compressWorker=function(b){return new y("Deflate",b)},l.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(a,s,l){function u(v,S){var x,E="";for(x=0;x<S;x++)E+=String.fromCharCode(255&v),v>>>=8;return E}function d(v,S,x,E,k,N){var T,M,R=v.file,H=v.compression,q=N!==p.utf8encode,ne=f.transformTo("string",N(R.name)),Z=f.transformTo("string",p.utf8encode(R.name)),te=R.comment,ce=f.transformTo("string",N(te)),D=f.transformTo("string",p.utf8encode(te)),ee=Z.length!==R.name.length,j=D.length!==te.length,re="",Y="",G="",be=R.dir,de=R.date,B={crc32:0,compressedSize:0,uncompressedSize:0};S&&!x||(B.crc32=v.crc32,B.compressedSize=v.compressedSize,B.uncompressedSize=v.uncompressedSize);var L=0;S&&(L|=8),q||!ee&&!j||(L|=2048);var $=0,ie=0;be&&($|=16),k==="UNIX"?(ie=798,$|=function(me,Ae){var et=me;return me||(et=Ae?16893:33204),(65535&et)<<16}(R.unixPermissions,be)):(ie=20,$|=function(me){return 63&(me||0)}(R.dosPermissions)),T=de.getUTCHours(),T<<=6,T|=de.getUTCMinutes(),T<<=5,T|=de.getUTCSeconds()/2,M=de.getUTCFullYear()-1980,M<<=4,M|=de.getUTCMonth()+1,M<<=5,M|=de.getUTCDate(),ee&&(Y=u(1,1)+u(y(ne),4)+Z,re+="up"+u(Y.length,2)+Y),j&&(G=u(1,1)+u(y(ce),4)+D,re+="uc"+u(G.length,2)+G);var oe="";return oe+=`
\0`,oe+=u(L,2),oe+=H.magic,oe+=u(T,2),oe+=u(M,2),oe+=u(B.crc32,4),oe+=u(B.compressedSize,4),oe+=u(B.uncompressedSize,4),oe+=u(ne.length,2),oe+=u(re.length,2),{fileRecord:b.LOCAL_FILE_HEADER+oe+ne+re,dirRecord:b.CENTRAL_FILE_HEADER+u(ie,2)+oe+u(ce.length,2)+"\0\0\0\0"+u($,4)+u(E,4)+ne+re+ce}}var f=a("../utils"),m=a("../stream/GenericWorker"),p=a("../utf8"),y=a("../crc32"),b=a("../signature");function A(v,S,x,E){m.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=x,this.encodeFileName=E,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}f.inherits(A,m),A.prototype.push=function(v){var S=v.meta.percent||0,x=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,m.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:x?(S+100*(x-E-1))/x:100}}))},A.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var S=this.streamFiles&&!v.file.dir;if(S){var x=d(v,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},A.prototype.closedSource=function(v){this.accumulate=!1;var S=this.streamFiles&&!v.file.dir,x=d(v,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),S)this.push({data:function(E){return b.DATA_DESCRIPTOR+u(E.crc32,4)+u(E.compressedSize,4)+u(E.uncompressedSize,4)}(v),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},A.prototype.flush=function(){for(var v=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var x=this.bytesWritten-v,E=function(k,N,T,M,R){var H=f.transformTo("string",R(M));return b.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(k,2)+u(k,2)+u(N,4)+u(T,4)+u(H.length,2)+H}(this.dirRecords.length,x,v,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},A.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},A.prototype.registerPrevious=function(v){this._sources.push(v);var S=this;return v.on("data",function(x){S.processChunk(x)}),v.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),v.on("error",function(x){S.error(x)}),this},A.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},A.prototype.error=function(v){var S=this._sources;if(!m.prototype.error.call(this,v))return!1;for(var x=0;x<S.length;x++)try{S[x].error(v)}catch{}return!0},A.prototype.lock=function(){m.prototype.lock.call(this);for(var v=this._sources,S=0;S<v.length;S++)v[S].lock()},s.exports=A},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(a,s,l){var u=a("../compressions"),d=a("./ZipFileWorker");l.generateWorker=function(f,m,p){var y=new d(m.streamFiles,p,m.platform,m.encodeFileName),b=0;try{f.forEach(function(A,v){b++;var S=function(N,T){var M=N||T,R=u[M];if(!R)throw new Error(M+" is not a valid compression method !");return R}(v.options.compression,m.compression),x=v.options.compressionOptions||m.compressionOptions||{},E=v.dir,k=v.date;v._compressWorker(S,x).withStreamInfo("file",{name:A,dir:E,date:k,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(y)}),y.entriesCount=b}catch(A){y.error(A)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(a,s,l){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new u;for(var f in this)typeof this[f]!="function"&&(d[f]=this[f]);return d}}(u.prototype=a("./object")).loadAsync=a("./load"),u.support=a("./support"),u.defaults=a("./defaults"),u.version="3.10.1",u.loadAsync=function(d,f){return new u().loadAsync(d,f)},u.external=a("./external"),s.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(a,s,l){var u=a("./utils"),d=a("./external"),f=a("./utf8"),m=a("./zipEntries"),p=a("./stream/Crc32Probe"),y=a("./nodejsUtils");function b(A){return new d.Promise(function(v,S){var x=A.decompressed.getContentWorker().pipe(new p);x.on("error",function(E){S(E)}).on("end",function(){x.streamInfo.crc32!==A.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}s.exports=function(A,v){var S=this;return v=u.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:f.utf8decode}),y.isNode&&y.isStream(A)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",A,!0,v.optimizedBinaryString,v.base64).then(function(x){var E=new m(v);return E.load(x),E}).then(function(x){var E=[d.Promise.resolve(x)],k=x.files;if(v.checkCRC32)for(var N=0;N<k.length;N++)E.push(b(k[N]));return d.Promise.all(E)}).then(function(x){for(var E=x.shift(),k=E.files,N=0;N<k.length;N++){var T=k[N],M=T.fileNameStr,R=u.resolve(T.fileNameStr);S.file(R,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:v.createFolders}),T.dir||(S.file(R).unsafeOriginalName=M)}return E.zipComment.length&&(S.comment=E.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(a,s,l){var u=a("../utils"),d=a("../stream/GenericWorker");function f(m,p){d.call(this,"Nodejs stream input adapter for "+m),this._upstreamEnded=!1,this._bindStream(p)}u.inherits(f,d),f.prototype._bindStream=function(m){var p=this;(this._stream=m).pause(),m.on("data",function(y){p.push({data:y,meta:{percent:0}})}).on("error",function(y){p.isPaused?this.generatedError=y:p.error(y)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},f.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},f.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=f},{"../stream/GenericWorker":28,"../utils":32}],13:[function(a,s,l){var u=a("readable-stream").Readable;function d(f,m,p){u.call(this,m),this._helper=f;var y=this;f.on("data",function(b,A){y.push(b)||y._helper.pause(),p&&p(A)}).on("error",function(b){y.emit("error",b)}).on("end",function(){y.push(null)})}a("../utils").inherits(d,u),d.prototype._read=function(){this._helper.resume()},s.exports=d},{"../utils":32,"readable-stream":16}],14:[function(a,s,l){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,d);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new Buffer(u,d)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var d=new Buffer(u);return d.fill(0),d},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(a,s,l){function u(R,H,q){var ne,Z=f.getTypeOf(H),te=f.extend(q||{},y);te.date=te.date||new Date,te.compression!==null&&(te.compression=te.compression.toUpperCase()),typeof te.unixPermissions=="string"&&(te.unixPermissions=parseInt(te.unixPermissions,8)),te.unixPermissions&&16384&te.unixPermissions&&(te.dir=!0),te.dosPermissions&&16&te.dosPermissions&&(te.dir=!0),te.dir&&(R=k(R)),te.createFolders&&(ne=E(R))&&N.call(this,ne,!0);var ce=Z==="string"&&te.binary===!1&&te.base64===!1;q&&q.binary!==void 0||(te.binary=!ce),(H instanceof b&&H.uncompressedSize===0||te.dir||!H||H.length===0)&&(te.base64=!1,te.binary=!0,H="",te.compression="STORE",Z="string");var D=null;D=H instanceof b||H instanceof m?H:S.isNode&&S.isStream(H)?new x(R,H):f.prepareContent(R,H,te.binary,te.optimizedBinaryString,te.base64);var ee=new A(R,D,te);this.files[R]=ee}var d=a("./utf8"),f=a("./utils"),m=a("./stream/GenericWorker"),p=a("./stream/StreamHelper"),y=a("./defaults"),b=a("./compressedObject"),A=a("./zipObject"),v=a("./generate"),S=a("./nodejsUtils"),x=a("./nodejs/NodejsStreamInputAdapter"),E=function(R){R.slice(-1)==="/"&&(R=R.substring(0,R.length-1));var H=R.lastIndexOf("/");return 0<H?R.substring(0,H):""},k=function(R){return R.slice(-1)!=="/"&&(R+="/"),R},N=function(R,H){return H=H!==void 0?H:y.createFolders,R=k(R),this.files[R]||u.call(this,R,null,{dir:!0,createFolders:H}),this.files[R]};function T(R){return Object.prototype.toString.call(R)==="[object RegExp]"}var M={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(R){var H,q,ne;for(H in this.files)ne=this.files[H],(q=H.slice(this.root.length,H.length))&&H.slice(0,this.root.length)===this.root&&R(q,ne)},filter:function(R){var H=[];return this.forEach(function(q,ne){R(q,ne)&&H.push(ne)}),H},file:function(R,H,q){if(arguments.length!==1)return R=this.root+R,u.call(this,R,H,q),this;if(T(R)){var ne=R;return this.filter(function(te,ce){return!ce.dir&&ne.test(te)})}var Z=this.files[this.root+R];return Z&&!Z.dir?Z:null},folder:function(R){if(!R)return this;if(T(R))return this.filter(function(Z,te){return te.dir&&R.test(Z)});var H=this.root+R,q=N.call(this,H),ne=this.clone();return ne.root=q.name,ne},remove:function(R){R=this.root+R;var H=this.files[R];if(H||(R.slice(-1)!=="/"&&(R+="/"),H=this.files[R]),H&&!H.dir)delete this.files[R];else for(var q=this.filter(function(Z,te){return te.name.slice(0,R.length)===R}),ne=0;ne<q.length;ne++)delete this.files[q[ne].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(R){var H,q={};try{if((q=f.extend(R||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=q.type.toLowerCase(),q.compression=q.compression.toUpperCase(),q.type==="binarystring"&&(q.type="string"),!q.type)throw new Error("No output type specified.");f.checkSupport(q.type),q.platform!=="darwin"&&q.platform!=="freebsd"&&q.platform!=="linux"&&q.platform!=="sunos"||(q.platform="UNIX"),q.platform==="win32"&&(q.platform="DOS");var ne=q.comment||this.comment||"";H=v.generateWorker(this,q,ne)}catch(Z){(H=new m("error")).error(Z)}return new p(H,q.type||"string",q.mimeType)},generateAsync:function(R,H){return this.generateInternalStream(R).accumulate(H)},generateNodeStream:function(R,H){return(R=R||{}).type||(R.type="nodebuffer"),this.generateInternalStream(R).toNodejsStream(H)}};s.exports=M},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(a,s,l){s.exports=a("stream")},{stream:void 0}],17:[function(a,s,l){var u=a("./DataReader");function d(f){u.call(this,f);for(var m=0;m<this.data.length;m++)f[m]=255&f[m]}a("../utils").inherits(d,u),d.prototype.byteAt=function(f){return this.data[this.zero+f]},d.prototype.lastIndexOfSignature=function(f){for(var m=f.charCodeAt(0),p=f.charCodeAt(1),y=f.charCodeAt(2),b=f.charCodeAt(3),A=this.length-4;0<=A;--A)if(this.data[A]===m&&this.data[A+1]===p&&this.data[A+2]===y&&this.data[A+3]===b)return A-this.zero;return-1},d.prototype.readAndCheckSignature=function(f){var m=f.charCodeAt(0),p=f.charCodeAt(1),y=f.charCodeAt(2),b=f.charCodeAt(3),A=this.readData(4);return m===A[0]&&p===A[1]&&y===A[2]&&b===A[3]},d.prototype.readData=function(f){if(this.checkOffset(f),f===0)return[];var m=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,m},s.exports=d},{"../utils":32,"./DataReader":18}],18:[function(a,s,l){var u=a("../utils");function d(f){this.data=f,this.length=f.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(f){this.checkIndex(this.index+f)},checkIndex:function(f){if(this.length<this.zero+f||f<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+f+"). Corrupted zip ?")},setIndex:function(f){this.checkIndex(f),this.index=f},skip:function(f){this.setIndex(this.index+f)},byteAt:function(){},readInt:function(f){var m,p=0;for(this.checkOffset(f),m=this.index+f-1;m>=this.index;m--)p=(p<<8)+this.byteAt(m);return this.index+=f,p},readString:function(f){return u.transformTo("string",this.readData(f))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var f=this.readInt(4);return new Date(Date.UTC(1980+(f>>25&127),(f>>21&15)-1,f>>16&31,f>>11&31,f>>5&63,(31&f)<<1))}},s.exports=d},{"../utils":32}],19:[function(a,s,l){var u=a("./Uint8ArrayReader");function d(f){u.call(this,f)}a("../utils").inherits(d,u),d.prototype.readData=function(f){this.checkOffset(f);var m=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,m},s.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(a,s,l){var u=a("./DataReader");function d(f){u.call(this,f)}a("../utils").inherits(d,u),d.prototype.byteAt=function(f){return this.data.charCodeAt(this.zero+f)},d.prototype.lastIndexOfSignature=function(f){return this.data.lastIndexOf(f)-this.zero},d.prototype.readAndCheckSignature=function(f){return f===this.readData(4)},d.prototype.readData=function(f){this.checkOffset(f);var m=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,m},s.exports=d},{"../utils":32,"./DataReader":18}],21:[function(a,s,l){var u=a("./ArrayReader");function d(f){u.call(this,f)}a("../utils").inherits(d,u),d.prototype.readData=function(f){if(this.checkOffset(f),f===0)return new Uint8Array(0);var m=this.data.subarray(this.zero+this.index,this.zero+this.index+f);return this.index+=f,m},s.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(a,s,l){var u=a("../utils"),d=a("../support"),f=a("./ArrayReader"),m=a("./StringReader"),p=a("./NodeBufferReader"),y=a("./Uint8ArrayReader");s.exports=function(b){var A=u.getTypeOf(b);return u.checkSupport(A),A!=="string"||d.uint8array?A==="nodebuffer"?new p(b):d.uint8array?new y(u.transformTo("uint8array",b)):new f(u.transformTo("array",b)):new m(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(a,s,l){l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(a,s,l){var u=a("./GenericWorker"),d=a("../utils");function f(m){u.call(this,"ConvertWorker to "+m),this.destType=m}d.inherits(f,u),f.prototype.processChunk=function(m){this.push({data:d.transformTo(this.destType,m.data),meta:m.meta})},s.exports=f},{"../utils":32,"./GenericWorker":28}],25:[function(a,s,l){var u=a("./GenericWorker"),d=a("../crc32");function f(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a("../utils").inherits(f,u),f.prototype.processChunk=function(m){this.streamInfo.crc32=d(m.data,this.streamInfo.crc32||0),this.push(m)},s.exports=f},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(a,s,l){var u=a("../utils"),d=a("./GenericWorker");function f(m){d.call(this,"DataLengthProbe for "+m),this.propName=m,this.withStreamInfo(m,0)}u.inherits(f,d),f.prototype.processChunk=function(m){if(m){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+m.data.length}d.prototype.processChunk.call(this,m)},s.exports=f},{"../utils":32,"./GenericWorker":28}],27:[function(a,s,l){var u=a("../utils"),d=a("./GenericWorker");function f(m){d.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,m.then(function(y){p.dataIsReady=!0,p.data=y,p.max=y&&y.length||0,p.type=u.getTypeOf(y),p.isPaused||p._tickAndRepeat()},function(y){p.error(y)})}u.inherits(f,d),f.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},f.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},f.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},f.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var m=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":m=this.data.substring(this.index,p);break;case"uint8array":m=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":m=this.data.slice(this.index,p)}return this.index=p,this.push({data:m,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=f},{"../utils":32,"./GenericWorker":28}],28:[function(a,s,l){function u(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,f){return this._listeners[d].push(f),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,f){if(this._listeners[d])for(var m=0;m<this._listeners[d].length;m++)this._listeners[d][m].call(this,f)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var f=this;return d.on("data",function(m){f.processChunk(m)}),d.on("end",function(){f.end()}),d.on("error",function(m){f.error(m)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,f){return this.extraStreamInfo[d]=f,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},s.exports=u},{}],29:[function(a,s,l){var u=a("../utils"),d=a("./ConvertWorker"),f=a("./GenericWorker"),m=a("../base64"),p=a("../support"),y=a("../external"),b=null;if(p.nodestream)try{b=a("../nodejs/NodejsStreamOutputAdapter")}catch{}function A(S,x){return new y.Promise(function(E,k){var N=[],T=S._internalType,M=S._outputType,R=S._mimeType;S.on("data",function(H,q){N.push(H),x&&x(q)}).on("error",function(H){N=[],k(H)}).on("end",function(){try{var H=function(q,ne,Z){switch(q){case"blob":return u.newBlob(u.transformTo("arraybuffer",ne),Z);case"base64":return m.encode(ne);default:return u.transformTo(q,ne)}}(M,function(q,ne){var Z,te=0,ce=null,D=0;for(Z=0;Z<ne.length;Z++)D+=ne[Z].length;switch(q){case"string":return ne.join("");case"array":return Array.prototype.concat.apply([],ne);case"uint8array":for(ce=new Uint8Array(D),Z=0;Z<ne.length;Z++)ce.set(ne[Z],te),te+=ne[Z].length;return ce;case"nodebuffer":return Buffer.concat(ne);default:throw new Error("concat : unsupported type '"+q+"'")}}(T,N),R);E(H)}catch(q){k(q)}N=[]}).resume()})}function v(S,x,E){var k=x;switch(x){case"blob":case"arraybuffer":k="uint8array";break;case"base64":k="string"}try{this._internalType=k,this._outputType=x,this._mimeType=E,u.checkSupport(k),this._worker=S.pipe(new d(k)),S.lock()}catch(N){this._worker=new f("error"),this._worker.error(N)}}v.prototype={accumulate:function(S){return A(this,S)},on:function(S,x){var E=this;return S==="data"?this._worker.on(S,function(k){x.call(E,k.data,k.meta)}):this._worker.on(S,function(){u.delay(x,arguments,E)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new b(this,{objectMode:this._outputType!=="nodebuffer"},S)}},s.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(a,s,l){if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var u=new ArrayBuffer(0);try{l.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(u),l.blob=d.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!a("readable-stream").Readable}catch{l.nodestream=!1}},{"readable-stream":16}],31:[function(a,s,l){for(var u=a("./utils"),d=a("./support"),f=a("./nodejsUtils"),m=a("./stream/GenericWorker"),p=new Array(256),y=0;y<256;y++)p[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;p[254]=p[254]=1;function b(){m.call(this,"utf-8 decode"),this.leftOver=null}function A(){m.call(this,"utf-8 encode")}l.utf8encode=function(v){return d.nodebuffer?f.newBufferFrom(v,"utf-8"):function(S){var x,E,k,N,T,M=S.length,R=0;for(N=0;N<M;N++)(64512&(E=S.charCodeAt(N)))==55296&&N+1<M&&(64512&(k=S.charCodeAt(N+1)))==56320&&(E=65536+(E-55296<<10)+(k-56320),N++),R+=E<128?1:E<2048?2:E<65536?3:4;for(x=d.uint8array?new Uint8Array(R):new Array(R),N=T=0;T<R;N++)(64512&(E=S.charCodeAt(N)))==55296&&N+1<M&&(64512&(k=S.charCodeAt(N+1)))==56320&&(E=65536+(E-55296<<10)+(k-56320),N++),E<128?x[T++]=E:(E<2048?x[T++]=192|E>>>6:(E<65536?x[T++]=224|E>>>12:(x[T++]=240|E>>>18,x[T++]=128|E>>>12&63),x[T++]=128|E>>>6&63),x[T++]=128|63&E);return x}(v)},l.utf8decode=function(v){return d.nodebuffer?u.transformTo("nodebuffer",v).toString("utf-8"):function(S){var x,E,k,N,T=S.length,M=new Array(2*T);for(x=E=0;x<T;)if((k=S[x++])<128)M[E++]=k;else if(4<(N=p[k]))M[E++]=65533,x+=N-1;else{for(k&=N===2?31:N===3?15:7;1<N&&x<T;)k=k<<6|63&S[x++],N--;1<N?M[E++]=65533:k<65536?M[E++]=k:(k-=65536,M[E++]=55296|k>>10&1023,M[E++]=56320|1023&k)}return M.length!==E&&(M.subarray?M=M.subarray(0,E):M.length=E),u.applyFromCharCode(M)}(v=u.transformTo(d.uint8array?"uint8array":"array",v))},u.inherits(b,m),b.prototype.processChunk=function(v){var S=u.transformTo(d.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var x=S;(S=new Uint8Array(x.length+this.leftOver.length)).set(this.leftOver,0),S.set(x,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var E=function(N,T){var M;for((T=T||N.length)>N.length&&(T=N.length),M=T-1;0<=M&&(192&N[M])==128;)M--;return M<0||M===0?T:M+p[N[M]]>T?M:T}(S),k=S;E!==S.length&&(d.uint8array?(k=S.subarray(0,E),this.leftOver=S.subarray(E,S.length)):(k=S.slice(0,E),this.leftOver=S.slice(E,S.length))),this.push({data:l.utf8decode(k),meta:v.meta})},b.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=b,u.inherits(A,m),A.prototype.processChunk=function(v){this.push({data:l.utf8encode(v.data),meta:v.meta})},l.Utf8EncodeWorker=A},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(a,s,l){var u=a("./support"),d=a("./base64"),f=a("./nodejsUtils"),m=a("./external");function p(x){return x}function y(x,E){for(var k=0;k<x.length;++k)E[k]=255&x.charCodeAt(k);return E}a("setimmediate"),l.newBlob=function(x,E){l.checkSupport("blob");try{return new Blob([x],{type:E})}catch{try{var k=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return k.append(x),k.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};var b={stringifyByChunk:function(x,E,k){var N=[],T=0,M=x.length;if(M<=k)return String.fromCharCode.apply(null,x);for(;T<M;)E==="array"||E==="nodebuffer"?N.push(String.fromCharCode.apply(null,x.slice(T,Math.min(T+k,M)))):N.push(String.fromCharCode.apply(null,x.subarray(T,Math.min(T+k,M)))),T+=k;return N.join("")},stringifyByChar:function(x){for(var E="",k=0;k<x.length;k++)E+=String.fromCharCode(x[k]);return E},applyCanBeUsed:{uint8array:function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,f.allocBuffer(1)).length===1}catch{return!1}}()}};function A(x){var E=65536,k=l.getTypeOf(x),N=!0;if(k==="uint8array"?N=b.applyCanBeUsed.uint8array:k==="nodebuffer"&&(N=b.applyCanBeUsed.nodebuffer),N)for(;1<E;)try{return b.stringifyByChunk(x,k,E)}catch{E=Math.floor(E/2)}return b.stringifyByChar(x)}function v(x,E){for(var k=0;k<x.length;k++)E[k]=x[k];return E}l.applyFromCharCode=A;var S={};S.string={string:p,array:function(x){return y(x,new Array(x.length))},arraybuffer:function(x){return S.string.uint8array(x).buffer},uint8array:function(x){return y(x,new Uint8Array(x.length))},nodebuffer:function(x){return y(x,f.allocBuffer(x.length))}},S.array={string:A,array:p,arraybuffer:function(x){return new Uint8Array(x).buffer},uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return f.newBufferFrom(x)}},S.arraybuffer={string:function(x){return A(new Uint8Array(x))},array:function(x){return v(new Uint8Array(x),new Array(x.byteLength))},arraybuffer:p,uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return f.newBufferFrom(new Uint8Array(x))}},S.uint8array={string:A,array:function(x){return v(x,new Array(x.length))},arraybuffer:function(x){return x.buffer},uint8array:p,nodebuffer:function(x){return f.newBufferFrom(x)}},S.nodebuffer={string:A,array:function(x){return v(x,new Array(x.length))},arraybuffer:function(x){return S.nodebuffer.uint8array(x).buffer},uint8array:function(x){return v(x,new Uint8Array(x.length))},nodebuffer:p},l.transformTo=function(x,E){if(E=E||"",!x)return E;l.checkSupport(x);var k=l.getTypeOf(E);return S[k][x](E)},l.resolve=function(x){for(var E=x.split("/"),k=[],N=0;N<E.length;N++){var T=E[N];T==="."||T===""&&N!==0&&N!==E.length-1||(T===".."?k.pop():k.push(T))}return k.join("/")},l.getTypeOf=function(x){return typeof x=="string"?"string":Object.prototype.toString.call(x)==="[object Array]"?"array":u.nodebuffer&&f.isBuffer(x)?"nodebuffer":u.uint8array&&x instanceof Uint8Array?"uint8array":u.arraybuffer&&x instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(x){if(!u[x.toLowerCase()])throw new Error(x+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(x){var E,k,N="";for(k=0;k<(x||"").length;k++)N+="\\x"+((E=x.charCodeAt(k))<16?"0":"")+E.toString(16).toUpperCase();return N},l.delay=function(x,E,k){setImmediate(function(){x.apply(k||null,E||[])})},l.inherits=function(x,E){function k(){}k.prototype=E.prototype,x.prototype=new k},l.extend=function(){var x,E,k={};for(x=0;x<arguments.length;x++)for(E in arguments[x])Object.prototype.hasOwnProperty.call(arguments[x],E)&&k[E]===void 0&&(k[E]=arguments[x][E]);return k},l.prepareContent=function(x,E,k,N,T){return m.Promise.resolve(E).then(function(M){return u.blob&&(M instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(M))!==-1)&&typeof FileReader<"u"?new m.Promise(function(R,H){var q=new FileReader;q.onload=function(ne){R(ne.target.result)},q.onerror=function(ne){H(ne.target.error)},q.readAsArrayBuffer(M)}):M}).then(function(M){var R=l.getTypeOf(M);return R?(R==="arraybuffer"?M=l.transformTo("uint8array",M):R==="string"&&(T?M=d.decode(M):k&&N!==!0&&(M=function(H){return y(H,u.uint8array?new Uint8Array(H.length):new Array(H.length))}(M))),M):m.Promise.reject(new Error("Can't read the data of '"+x+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(a,s,l){var u=a("./reader/readerFor"),d=a("./utils"),f=a("./signature"),m=a("./zipEntry"),p=a("./support");function y(b){this.files=[],this.loadOptions=b}y.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var A=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(A)+", expected "+d.pretty(b)+")")}},isSignature:function(b,A){var v=this.reader.index;this.reader.setIndex(b);var S=this.reader.readString(4)===A;return this.reader.setIndex(v),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),A=p.uint8array?"uint8array":"array",v=d.transformTo(A,b);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var b,A,v,S=this.zip64EndOfCentralSize-44;0<S;)b=this.reader.readInt(2),A=this.reader.readInt(4),v=this.reader.readData(A),this.zip64ExtensibleData[b]={id:b,length:A,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var b,A;for(b=0;b<this.files.length;b++)A=this.files[b],this.reader.setIndex(A.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),A.readLocalPart(this.reader),A.handleUTF8(),A.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)(b=new m({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(b<0)throw this.isSignature(0,f.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(b);var A=b;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(b=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(b),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var S=A-v;if(0<S)this.isSignature(A,f.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(b){this.reader=u(b)},load:function(b){this.prepareReader(b),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(a,s,l){var u=a("./reader/readerFor"),d=a("./utils"),f=a("./compressedObject"),m=a("./crc32"),p=a("./utf8"),y=a("./compressions"),b=a("./support");function A(v,S){this.options=v,this.loadOptions=S}A.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var S,x;if(v.skip(22),this.fileNameLength=v.readInt(2),x=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(x),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((S=function(E){for(var k in y)if(Object.prototype.hasOwnProperty.call(y,k)&&y[k].magic===E)return y[k];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,S,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var S=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(S),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=u(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var S,x,E,k=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<k;)S=v.readInt(2),x=v.readInt(2),E=v.readData(x),this.extraFields[S]={id:S,length:x,value:E};v.setIndex(k)},handleUTF8:function(){var v=b.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(S!==null)this.fileNameStr=S;else{var x=d.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(x)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var k=d.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(k)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var S=u(v.value);return S.readInt(1)!==1||m(this.fileName)!==S.readInt(4)?null:p.utf8decode(S.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var S=u(v.value);return S.readInt(1)!==1||m(this.fileComment)!==S.readInt(4)?null:p.utf8decode(S.readData(v.length-5))}return null}},s.exports=A},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(a,s,l){function u(S,x,E){this.name=S,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=x,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}}var d=a("./stream/StreamHelper"),f=a("./stream/DataWorker"),m=a("./utf8"),p=a("./compressedObject"),y=a("./stream/GenericWorker");u.prototype={internalStream:function(S){var x=null,E="string";try{if(!S)throw new Error("No output type specified.");var k=(E=S.toLowerCase())==="string"||E==="text";E!=="binarystring"&&E!=="text"||(E="string"),x=this._decompressWorker();var N=!this._dataBinary;N&&!k&&(x=x.pipe(new m.Utf8EncodeWorker)),!N&&k&&(x=x.pipe(new m.Utf8DecodeWorker))}catch(T){(x=new y("error")).error(T)}return new d(x,E,"")},async:function(S,x){return this.internalStream(S).accumulate(x)},nodeStream:function(S,x){return this.internalStream(S||"nodebuffer").toNodejsStream(x)},_compressWorker:function(S,x){if(this._data instanceof p&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var E=this._decompressWorker();return this._dataBinary||(E=E.pipe(new m.Utf8EncodeWorker)),p.createWorkerFrom(E,S,x)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof y?this._data:new f(this._data)}};for(var b=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],A=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<b.length;v++)u.prototype[b[v]]=A;s.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(a,s,l){(function(u){var d,f,m=u.MutationObserver||u.WebKitMutationObserver;if(m){var p=0,y=new m(S),b=u.document.createTextNode("");y.observe(b,{characterData:!0}),d=function(){b.data=p=++p%2}}else if(u.setImmediate||u.MessageChannel===void 0)d="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var x=u.document.createElement("script");x.onreadystatechange=function(){S(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},u.document.documentElement.appendChild(x)}:function(){setTimeout(S,0)};else{var A=new u.MessageChannel;A.port1.onmessage=S,d=function(){A.port2.postMessage(0)}}var v=[];function S(){var x,E;f=!0;for(var k=v.length;k;){for(E=v,v=[],x=-1;++x<k;)E[x]();k=v.length}f=!1}s.exports=function(x){v.push(x)!==1||f||d()}}).call(this,typeof Xo<"u"?Xo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(a,s,l){var u=a("immediate");function d(){}var f={},m=["REJECTED"],p=["FULFILLED"],y=["PENDING"];function b(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,k!==d&&x(this,k)}function A(k,N,T){this.promise=k,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function v(k,N,T){u(function(){var M;try{M=N(T)}catch(R){return f.reject(k,R)}M===k?f.reject(k,new TypeError("Cannot resolve promise with itself")):f.resolve(k,M)})}function S(k){var N=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof N=="function")return function(){N.apply(k,arguments)}}function x(k,N){var T=!1;function M(q){T||(T=!0,f.reject(k,q))}function R(q){T||(T=!0,f.resolve(k,q))}var H=E(function(){N(R,M)});H.status==="error"&&M(H.value)}function E(k,N){var T={};try{T.value=k(N),T.status="success"}catch(M){T.status="error",T.value=M}return T}(s.exports=b).prototype.finally=function(k){if(typeof k!="function")return this;var N=this.constructor;return this.then(function(T){return N.resolve(k()).then(function(){return T})},function(T){return N.resolve(k()).then(function(){throw T})})},b.prototype.catch=function(k){return this.then(null,k)},b.prototype.then=function(k,N){if(typeof k!="function"&&this.state===p||typeof N!="function"&&this.state===m)return this;var T=new this.constructor(d);return this.state!==y?v(T,this.state===p?k:N,this.outcome):this.queue.push(new A(T,k,N)),T},A.prototype.callFulfilled=function(k){f.resolve(this.promise,k)},A.prototype.otherCallFulfilled=function(k){v(this.promise,this.onFulfilled,k)},A.prototype.callRejected=function(k){f.reject(this.promise,k)},A.prototype.otherCallRejected=function(k){v(this.promise,this.onRejected,k)},f.resolve=function(k,N){var T=E(S,N);if(T.status==="error")return f.reject(k,T.value);var M=T.value;if(M)x(k,M);else{k.state=p,k.outcome=N;for(var R=-1,H=k.queue.length;++R<H;)k.queue[R].callFulfilled(N)}return k},f.reject=function(k,N){k.state=m,k.outcome=N;for(var T=-1,M=k.queue.length;++T<M;)k.queue[T].callRejected(N);return k},b.resolve=function(k){return k instanceof this?k:f.resolve(new this(d),k)},b.reject=function(k){var N=new this(d);return f.reject(N,k)},b.all=function(k){var N=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=k.length,M=!1;if(!T)return this.resolve([]);for(var R=new Array(T),H=0,q=-1,ne=new this(d);++q<T;)Z(k[q],q);return ne;function Z(te,ce){N.resolve(te).then(function(D){R[ce]=D,++H!==T||M||(M=!0,f.resolve(ne,R))},function(D){M||(M=!0,f.reject(ne,D))})}},b.race=function(k){var N=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=k.length,M=!1;if(!T)return this.resolve([]);for(var R=-1,H=new this(d);++R<T;)q=k[R],N.resolve(q).then(function(ne){M||(M=!0,f.resolve(H,ne))},function(ne){M||(M=!0,f.reject(H,ne))});var q;return H}},{immediate:36}],38:[function(a,s,l){var u={};(0,a("./lib/utils/common").assign)(u,a("./lib/deflate"),a("./lib/inflate"),a("./lib/zlib/constants")),s.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(a,s,l){var u=a("./zlib/deflate"),d=a("./utils/common"),f=a("./utils/strings"),m=a("./zlib/messages"),p=a("./zlib/zstream"),y=Object.prototype.toString,b=0,A=-1,v=0,S=8;function x(k){if(!(this instanceof x))return new x(k);this.options=d.assign({level:A,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},k||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var T=u.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(T!==b)throw new Error(m[T]);if(N.header&&u.deflateSetHeader(this.strm,N.header),N.dictionary){var M;if(M=typeof N.dictionary=="string"?f.string2buf(N.dictionary):y.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(T=u.deflateSetDictionary(this.strm,M))!==b)throw new Error(m[T]);this._dict_set=!0}}function E(k,N){var T=new x(N);if(T.push(k,!0),T.err)throw T.msg||m[T.err];return T.result}x.prototype.push=function(k,N){var T,M,R=this.strm,H=this.options.chunkSize;if(this.ended)return!1;M=N===~~N?N:N===!0?4:0,typeof k=="string"?R.input=f.string2buf(k):y.call(k)==="[object ArrayBuffer]"?R.input=new Uint8Array(k):R.input=k,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new d.Buf8(H),R.next_out=0,R.avail_out=H),(T=u.deflate(R,M))!==1&&T!==b)return this.onEnd(T),!(this.ended=!0);R.avail_out!==0&&(R.avail_in!==0||M!==4&&M!==2)||(this.options.to==="string"?this.onData(f.buf2binstring(d.shrinkBuf(R.output,R.next_out))):this.onData(d.shrinkBuf(R.output,R.next_out)))}while((0<R.avail_in||R.avail_out===0)&&T!==1);return M===4?(T=u.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===b):M!==2||(this.onEnd(b),!(R.avail_out=0))},x.prototype.onData=function(k){this.chunks.push(k)},x.prototype.onEnd=function(k){k===b&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},l.Deflate=x,l.deflate=E,l.deflateRaw=function(k,N){return(N=N||{}).raw=!0,E(k,N)},l.gzip=function(k,N){return(N=N||{}).gzip=!0,E(k,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(a,s,l){var u=a("./zlib/inflate"),d=a("./utils/common"),f=a("./utils/strings"),m=a("./zlib/constants"),p=a("./zlib/messages"),y=a("./zlib/zstream"),b=a("./zlib/gzheader"),A=Object.prototype.toString;function v(x){if(!(this instanceof v))return new v(x);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},x||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||x&&x.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&(15&E.windowBits)==0&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var k=u.inflateInit2(this.strm,E.windowBits);if(k!==m.Z_OK)throw new Error(p[k]);this.header=new b,u.inflateGetHeader(this.strm,this.header)}function S(x,E){var k=new v(E);if(k.push(x,!0),k.err)throw k.msg||p[k.err];return k.result}v.prototype.push=function(x,E){var k,N,T,M,R,H,q=this.strm,ne=this.options.chunkSize,Z=this.options.dictionary,te=!1;if(this.ended)return!1;N=E===~~E?E:E===!0?m.Z_FINISH:m.Z_NO_FLUSH,typeof x=="string"?q.input=f.binstring2buf(x):A.call(x)==="[object ArrayBuffer]"?q.input=new Uint8Array(x):q.input=x,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new d.Buf8(ne),q.next_out=0,q.avail_out=ne),(k=u.inflate(q,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&Z&&(H=typeof Z=="string"?f.string2buf(Z):A.call(Z)==="[object ArrayBuffer]"?new Uint8Array(Z):Z,k=u.inflateSetDictionary(this.strm,H)),k===m.Z_BUF_ERROR&&te===!0&&(k=m.Z_OK,te=!1),k!==m.Z_STREAM_END&&k!==m.Z_OK)return this.onEnd(k),!(this.ended=!0);q.next_out&&(q.avail_out!==0&&k!==m.Z_STREAM_END&&(q.avail_in!==0||N!==m.Z_FINISH&&N!==m.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=f.utf8border(q.output,q.next_out),M=q.next_out-T,R=f.buf2string(q.output,T),q.next_out=M,q.avail_out=ne-M,M&&d.arraySet(q.output,q.output,T,M,0),this.onData(R)):this.onData(d.shrinkBuf(q.output,q.next_out)))),q.avail_in===0&&q.avail_out===0&&(te=!0)}while((0<q.avail_in||q.avail_out===0)&&k!==m.Z_STREAM_END);return k===m.Z_STREAM_END&&(N=m.Z_FINISH),N===m.Z_FINISH?(k=u.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===m.Z_OK):N!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(q.avail_out=0))},v.prototype.onData=function(x){this.chunks.push(x)},v.prototype.onEnd=function(x){x===m.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},l.Inflate=v,l.inflate=S,l.inflateRaw=function(x,E){return(E=E||{}).raw=!0,S(x,E)},l.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(a,s,l){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(m){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var y=p.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var b in y)y.hasOwnProperty(b)&&(m[b]=y[b])}}return m},l.shrinkBuf=function(m,p){return m.length===p?m:m.subarray?m.subarray(0,p):(m.length=p,m)};var d={arraySet:function(m,p,y,b,A){if(p.subarray&&m.subarray)m.set(p.subarray(y,y+b),A);else for(var v=0;v<b;v++)m[A+v]=p[y+v]},flattenChunks:function(m){var p,y,b,A,v,S;for(p=b=0,y=m.length;p<y;p++)b+=m[p].length;for(S=new Uint8Array(b),p=A=0,y=m.length;p<y;p++)v=m[p],S.set(v,A),A+=v.length;return S}},f={arraySet:function(m,p,y,b,A){for(var v=0;v<b;v++)m[A+v]=p[y+v]},flattenChunks:function(m){return[].concat.apply([],m)}};l.setTyped=function(m){m?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,d)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,f))},l.setTyped(u)},{}],42:[function(a,s,l){var u=a("./common"),d=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var m=new u.Buf8(256),p=0;p<256;p++)m[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function y(b,A){if(A<65537&&(b.subarray&&f||!b.subarray&&d))return String.fromCharCode.apply(null,u.shrinkBuf(b,A));for(var v="",S=0;S<A;S++)v+=String.fromCharCode(b[S]);return v}m[254]=m[254]=1,l.string2buf=function(b){var A,v,S,x,E,k=b.length,N=0;for(x=0;x<k;x++)(64512&(v=b.charCodeAt(x)))==55296&&x+1<k&&(64512&(S=b.charCodeAt(x+1)))==56320&&(v=65536+(v-55296<<10)+(S-56320),x++),N+=v<128?1:v<2048?2:v<65536?3:4;for(A=new u.Buf8(N),x=E=0;E<N;x++)(64512&(v=b.charCodeAt(x)))==55296&&x+1<k&&(64512&(S=b.charCodeAt(x+1)))==56320&&(v=65536+(v-55296<<10)+(S-56320),x++),v<128?A[E++]=v:(v<2048?A[E++]=192|v>>>6:(v<65536?A[E++]=224|v>>>12:(A[E++]=240|v>>>18,A[E++]=128|v>>>12&63),A[E++]=128|v>>>6&63),A[E++]=128|63&v);return A},l.buf2binstring=function(b){return y(b,b.length)},l.binstring2buf=function(b){for(var A=new u.Buf8(b.length),v=0,S=A.length;v<S;v++)A[v]=b.charCodeAt(v);return A},l.buf2string=function(b,A){var v,S,x,E,k=A||b.length,N=new Array(2*k);for(v=S=0;v<k;)if((x=b[v++])<128)N[S++]=x;else if(4<(E=m[x]))N[S++]=65533,v+=E-1;else{for(x&=E===2?31:E===3?15:7;1<E&&v<k;)x=x<<6|63&b[v++],E--;1<E?N[S++]=65533:x<65536?N[S++]=x:(x-=65536,N[S++]=55296|x>>10&1023,N[S++]=56320|1023&x)}return y(N,S)},l.utf8border=function(b,A){var v;for((A=A||b.length)>b.length&&(A=b.length),v=A-1;0<=v&&(192&b[v])==128;)v--;return v<0||v===0?A:v+m[b[v]]>A?v:A}},{"./common":41}],43:[function(a,s,l){s.exports=function(u,d,f,m){for(var p=65535&u|0,y=u>>>16&65535|0,b=0;f!==0;){for(f-=b=2e3<f?2e3:f;y=y+(p=p+d[m++]|0)|0,--b;);p%=65521,y%=65521}return p|y<<16|0}},{}],44:[function(a,s,l){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(a,s,l){var u=function(){for(var d,f=[],m=0;m<256;m++){d=m;for(var p=0;p<8;p++)d=1&d?3988292384^d>>>1:d>>>1;f[m]=d}return f}();s.exports=function(d,f,m,p){var y=u,b=p+m;d^=-1;for(var A=p;A<b;A++)d=d>>>8^y[255&(d^f[A])];return-1^d}},{}],46:[function(a,s,l){var u,d=a("../utils/common"),f=a("./trees"),m=a("./adler32"),p=a("./crc32"),y=a("./messages"),b=0,A=4,v=0,S=-2,x=-1,E=4,k=2,N=8,T=9,M=286,R=30,H=19,q=2*M+1,ne=15,Z=3,te=258,ce=te+Z+1,D=42,ee=113,j=1,re=2,Y=3,G=4;function be(w,fe){return w.msg=y[fe],fe}function de(w){return(w<<1)-(4<w?9:0)}function B(w){for(var fe=w.length;0<=--fe;)w[fe]=0}function L(w){var fe=w.state,ae=fe.pending;ae>w.avail_out&&(ae=w.avail_out),ae!==0&&(d.arraySet(w.output,fe.pending_buf,fe.pending_out,ae,w.next_out),w.next_out+=ae,fe.pending_out+=ae,w.total_out+=ae,w.avail_out-=ae,fe.pending-=ae,fe.pending===0&&(fe.pending_out=0))}function $(w,fe){f._tr_flush_block(w,0<=w.block_start?w.block_start:-1,w.strstart-w.block_start,fe),w.block_start=w.strstart,L(w.strm)}function ie(w,fe){w.pending_buf[w.pending++]=fe}function oe(w,fe){w.pending_buf[w.pending++]=fe>>>8&255,w.pending_buf[w.pending++]=255&fe}function me(w,fe){var ae,U,O=w.max_chain_length,F=w.strstart,pe=w.prev_length,ge=w.nice_match,K=w.strstart>w.w_size-ce?w.strstart-(w.w_size-ce):0,ve=w.window,Se=w.w_mask,xe=w.prev,je=w.strstart+te,$e=ve[F+pe-1],Be=ve[F+pe];w.prev_length>=w.good_match&&(O>>=2),ge>w.lookahead&&(ge=w.lookahead);do if(ve[(ae=fe)+pe]===Be&&ve[ae+pe-1]===$e&&ve[ae]===ve[F]&&ve[++ae]===ve[F+1]){F+=2,ae++;do;while(ve[++F]===ve[++ae]&&ve[++F]===ve[++ae]&&ve[++F]===ve[++ae]&&ve[++F]===ve[++ae]&&ve[++F]===ve[++ae]&&ve[++F]===ve[++ae]&&ve[++F]===ve[++ae]&&ve[++F]===ve[++ae]&&F<je);if(U=te-(je-F),F=je-te,pe<U){if(w.match_start=fe,ge<=(pe=U))break;$e=ve[F+pe-1],Be=ve[F+pe]}}while((fe=xe[fe&Se])>K&&--O!=0);return pe<=w.lookahead?pe:w.lookahead}function Ae(w){var fe,ae,U,O,F,pe,ge,K,ve,Se,xe=w.w_size;do{if(O=w.window_size-w.lookahead-w.strstart,w.strstart>=xe+(xe-ce)){for(d.arraySet(w.window,w.window,xe,xe,0),w.match_start-=xe,w.strstart-=xe,w.block_start-=xe,fe=ae=w.hash_size;U=w.head[--fe],w.head[fe]=xe<=U?U-xe:0,--ae;);for(fe=ae=xe;U=w.prev[--fe],w.prev[fe]=xe<=U?U-xe:0,--ae;);O+=xe}if(w.strm.avail_in===0)break;if(pe=w.strm,ge=w.window,K=w.strstart+w.lookahead,ve=O,Se=void 0,Se=pe.avail_in,ve<Se&&(Se=ve),ae=Se===0?0:(pe.avail_in-=Se,d.arraySet(ge,pe.input,pe.next_in,Se,K),pe.state.wrap===1?pe.adler=m(pe.adler,ge,Se,K):pe.state.wrap===2&&(pe.adler=p(pe.adler,ge,Se,K)),pe.next_in+=Se,pe.total_in+=Se,Se),w.lookahead+=ae,w.lookahead+w.insert>=Z)for(F=w.strstart-w.insert,w.ins_h=w.window[F],w.ins_h=(w.ins_h<<w.hash_shift^w.window[F+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[F+Z-1])&w.hash_mask,w.prev[F&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=F,F++,w.insert--,!(w.lookahead+w.insert<Z)););}while(w.lookahead<ce&&w.strm.avail_in!==0)}function et(w,fe){for(var ae,U;;){if(w.lookahead<ce){if(Ae(w),w.lookahead<ce&&fe===b)return j;if(w.lookahead===0)break}if(ae=0,w.lookahead>=Z&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+Z-1])&w.hash_mask,ae=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),ae!==0&&w.strstart-ae<=w.w_size-ce&&(w.match_length=me(w,ae)),w.match_length>=Z)if(U=f._tr_tally(w,w.strstart-w.match_start,w.match_length-Z),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=Z){for(w.match_length--;w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+Z-1])&w.hash_mask,ae=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart,--w.match_length!=0;);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else U=f._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(U&&($(w,!1),w.strm.avail_out===0))return j}return w.insert=w.strstart<Z-1?w.strstart:Z-1,fe===A?($(w,!0),w.strm.avail_out===0?Y:G):w.last_lit&&($(w,!1),w.strm.avail_out===0)?j:re}function Ne(w,fe){for(var ae,U,O;;){if(w.lookahead<ce){if(Ae(w),w.lookahead<ce&&fe===b)return j;if(w.lookahead===0)break}if(ae=0,w.lookahead>=Z&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+Z-1])&w.hash_mask,ae=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=Z-1,ae!==0&&w.prev_length<w.max_lazy_match&&w.strstart-ae<=w.w_size-ce&&(w.match_length=me(w,ae),w.match_length<=5&&(w.strategy===1||w.match_length===Z&&4096<w.strstart-w.match_start)&&(w.match_length=Z-1)),w.prev_length>=Z&&w.match_length<=w.prev_length){for(O=w.strstart+w.lookahead-Z,U=f._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-Z),w.lookahead-=w.prev_length-1,w.prev_length-=2;++w.strstart<=O&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+Z-1])&w.hash_mask,ae=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),--w.prev_length!=0;);if(w.match_available=0,w.match_length=Z-1,w.strstart++,U&&($(w,!1),w.strm.avail_out===0))return j}else if(w.match_available){if((U=f._tr_tally(w,0,w.window[w.strstart-1]))&&$(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return j}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(U=f._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<Z-1?w.strstart:Z-1,fe===A?($(w,!0),w.strm.avail_out===0?Y:G):w.last_lit&&($(w,!1),w.strm.avail_out===0)?j:re}function He(w,fe,ae,U,O){this.good_length=w,this.max_lazy=fe,this.nice_length=ae,this.max_chain=U,this.func=O}function bt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*q),this.dyn_dtree=new d.Buf16(2*(2*R+1)),this.bl_tree=new d.Buf16(2*(2*H+1)),B(this.dyn_ltree),B(this.dyn_dtree),B(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(ne+1),this.heap=new d.Buf16(2*M+1),B(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*M+1),B(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ct(w){var fe;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=k,(fe=w.state).pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?D:ee,w.adler=fe.wrap===2?0:1,fe.last_flush=b,f._tr_init(fe),v):be(w,S)}function en(w){var fe=ct(w);return fe===v&&function(ae){ae.window_size=2*ae.w_size,B(ae.head),ae.max_lazy_match=u[ae.level].max_lazy,ae.good_match=u[ae.level].good_length,ae.nice_match=u[ae.level].nice_length,ae.max_chain_length=u[ae.level].max_chain,ae.strstart=0,ae.block_start=0,ae.lookahead=0,ae.insert=0,ae.match_length=ae.prev_length=Z-1,ae.match_available=0,ae.ins_h=0}(w.state),fe}function Qt(w,fe,ae,U,O,F){if(!w)return S;var pe=1;if(fe===x&&(fe=6),U<0?(pe=0,U=-U):15<U&&(pe=2,U-=16),O<1||T<O||ae!==N||U<8||15<U||fe<0||9<fe||F<0||E<F)return be(w,S);U===8&&(U=9);var ge=new bt;return(w.state=ge).strm=w,ge.wrap=pe,ge.gzhead=null,ge.w_bits=U,ge.w_size=1<<ge.w_bits,ge.w_mask=ge.w_size-1,ge.hash_bits=O+7,ge.hash_size=1<<ge.hash_bits,ge.hash_mask=ge.hash_size-1,ge.hash_shift=~~((ge.hash_bits+Z-1)/Z),ge.window=new d.Buf8(2*ge.w_size),ge.head=new d.Buf16(ge.hash_size),ge.prev=new d.Buf16(ge.w_size),ge.lit_bufsize=1<<O+6,ge.pending_buf_size=4*ge.lit_bufsize,ge.pending_buf=new d.Buf8(ge.pending_buf_size),ge.d_buf=1*ge.lit_bufsize,ge.l_buf=3*ge.lit_bufsize,ge.level=fe,ge.strategy=F,ge.method=ae,en(w)}u=[new He(0,0,0,0,function(w,fe){var ae=65535;for(ae>w.pending_buf_size-5&&(ae=w.pending_buf_size-5);;){if(w.lookahead<=1){if(Ae(w),w.lookahead===0&&fe===b)return j;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var U=w.block_start+ae;if((w.strstart===0||w.strstart>=U)&&(w.lookahead=w.strstart-U,w.strstart=U,$(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-ce&&($(w,!1),w.strm.avail_out===0))return j}return w.insert=0,fe===A?($(w,!0),w.strm.avail_out===0?Y:G):(w.strstart>w.block_start&&($(w,!1),w.strm.avail_out),j)}),new He(4,4,8,4,et),new He(4,5,16,8,et),new He(4,6,32,32,et),new He(4,4,16,16,Ne),new He(8,16,32,32,Ne),new He(8,16,128,128,Ne),new He(8,32,128,256,Ne),new He(32,128,258,1024,Ne),new He(32,258,258,4096,Ne)],l.deflateInit=function(w,fe){return Qt(w,fe,N,15,8,0)},l.deflateInit2=Qt,l.deflateReset=en,l.deflateResetKeep=ct,l.deflateSetHeader=function(w,fe){return w&&w.state?w.state.wrap!==2?S:(w.state.gzhead=fe,v):S},l.deflate=function(w,fe){var ae,U,O,F;if(!w||!w.state||5<fe||fe<0)return w?be(w,S):S;if(U=w.state,!w.output||!w.input&&w.avail_in!==0||U.status===666&&fe!==A)return be(w,w.avail_out===0?-5:S);if(U.strm=w,ae=U.last_flush,U.last_flush=fe,U.status===D)if(U.wrap===2)w.adler=0,ie(U,31),ie(U,139),ie(U,8),U.gzhead?(ie(U,(U.gzhead.text?1:0)+(U.gzhead.hcrc?2:0)+(U.gzhead.extra?4:0)+(U.gzhead.name?8:0)+(U.gzhead.comment?16:0)),ie(U,255&U.gzhead.time),ie(U,U.gzhead.time>>8&255),ie(U,U.gzhead.time>>16&255),ie(U,U.gzhead.time>>24&255),ie(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),ie(U,255&U.gzhead.os),U.gzhead.extra&&U.gzhead.extra.length&&(ie(U,255&U.gzhead.extra.length),ie(U,U.gzhead.extra.length>>8&255)),U.gzhead.hcrc&&(w.adler=p(w.adler,U.pending_buf,U.pending,0)),U.gzindex=0,U.status=69):(ie(U,0),ie(U,0),ie(U,0),ie(U,0),ie(U,0),ie(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),ie(U,3),U.status=ee);else{var pe=N+(U.w_bits-8<<4)<<8;pe|=(2<=U.strategy||U.level<2?0:U.level<6?1:U.level===6?2:3)<<6,U.strstart!==0&&(pe|=32),pe+=31-pe%31,U.status=ee,oe(U,pe),U.strstart!==0&&(oe(U,w.adler>>>16),oe(U,65535&w.adler)),w.adler=1}if(U.status===69)if(U.gzhead.extra){for(O=U.pending;U.gzindex<(65535&U.gzhead.extra.length)&&(U.pending!==U.pending_buf_size||(U.gzhead.hcrc&&U.pending>O&&(w.adler=p(w.adler,U.pending_buf,U.pending-O,O)),L(w),O=U.pending,U.pending!==U.pending_buf_size));)ie(U,255&U.gzhead.extra[U.gzindex]),U.gzindex++;U.gzhead.hcrc&&U.pending>O&&(w.adler=p(w.adler,U.pending_buf,U.pending-O,O)),U.gzindex===U.gzhead.extra.length&&(U.gzindex=0,U.status=73)}else U.status=73;if(U.status===73)if(U.gzhead.name){O=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>O&&(w.adler=p(w.adler,U.pending_buf,U.pending-O,O)),L(w),O=U.pending,U.pending===U.pending_buf_size)){F=1;break}F=U.gzindex<U.gzhead.name.length?255&U.gzhead.name.charCodeAt(U.gzindex++):0,ie(U,F)}while(F!==0);U.gzhead.hcrc&&U.pending>O&&(w.adler=p(w.adler,U.pending_buf,U.pending-O,O)),F===0&&(U.gzindex=0,U.status=91)}else U.status=91;if(U.status===91)if(U.gzhead.comment){O=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>O&&(w.adler=p(w.adler,U.pending_buf,U.pending-O,O)),L(w),O=U.pending,U.pending===U.pending_buf_size)){F=1;break}F=U.gzindex<U.gzhead.comment.length?255&U.gzhead.comment.charCodeAt(U.gzindex++):0,ie(U,F)}while(F!==0);U.gzhead.hcrc&&U.pending>O&&(w.adler=p(w.adler,U.pending_buf,U.pending-O,O)),F===0&&(U.status=103)}else U.status=103;if(U.status===103&&(U.gzhead.hcrc?(U.pending+2>U.pending_buf_size&&L(w),U.pending+2<=U.pending_buf_size&&(ie(U,255&w.adler),ie(U,w.adler>>8&255),w.adler=0,U.status=ee)):U.status=ee),U.pending!==0){if(L(w),w.avail_out===0)return U.last_flush=-1,v}else if(w.avail_in===0&&de(fe)<=de(ae)&&fe!==A)return be(w,-5);if(U.status===666&&w.avail_in!==0)return be(w,-5);if(w.avail_in!==0||U.lookahead!==0||fe!==b&&U.status!==666){var ge=U.strategy===2?function(K,ve){for(var Se;;){if(K.lookahead===0&&(Ae(K),K.lookahead===0)){if(ve===b)return j;break}if(K.match_length=0,Se=f._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++,Se&&($(K,!1),K.strm.avail_out===0))return j}return K.insert=0,ve===A?($(K,!0),K.strm.avail_out===0?Y:G):K.last_lit&&($(K,!1),K.strm.avail_out===0)?j:re}(U,fe):U.strategy===3?function(K,ve){for(var Se,xe,je,$e,Be=K.window;;){if(K.lookahead<=te){if(Ae(K),K.lookahead<=te&&ve===b)return j;if(K.lookahead===0)break}if(K.match_length=0,K.lookahead>=Z&&0<K.strstart&&(xe=Be[je=K.strstart-1])===Be[++je]&&xe===Be[++je]&&xe===Be[++je]){$e=K.strstart+te;do;while(xe===Be[++je]&&xe===Be[++je]&&xe===Be[++je]&&xe===Be[++je]&&xe===Be[++je]&&xe===Be[++je]&&xe===Be[++je]&&xe===Be[++je]&&je<$e);K.match_length=te-($e-je),K.match_length>K.lookahead&&(K.match_length=K.lookahead)}if(K.match_length>=Z?(Se=f._tr_tally(K,1,K.match_length-Z),K.lookahead-=K.match_length,K.strstart+=K.match_length,K.match_length=0):(Se=f._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++),Se&&($(K,!1),K.strm.avail_out===0))return j}return K.insert=0,ve===A?($(K,!0),K.strm.avail_out===0?Y:G):K.last_lit&&($(K,!1),K.strm.avail_out===0)?j:re}(U,fe):u[U.level].func(U,fe);if(ge!==Y&&ge!==G||(U.status=666),ge===j||ge===Y)return w.avail_out===0&&(U.last_flush=-1),v;if(ge===re&&(fe===1?f._tr_align(U):fe!==5&&(f._tr_stored_block(U,0,0,!1),fe===3&&(B(U.head),U.lookahead===0&&(U.strstart=0,U.block_start=0,U.insert=0))),L(w),w.avail_out===0))return U.last_flush=-1,v}return fe!==A?v:U.wrap<=0?1:(U.wrap===2?(ie(U,255&w.adler),ie(U,w.adler>>8&255),ie(U,w.adler>>16&255),ie(U,w.adler>>24&255),ie(U,255&w.total_in),ie(U,w.total_in>>8&255),ie(U,w.total_in>>16&255),ie(U,w.total_in>>24&255)):(oe(U,w.adler>>>16),oe(U,65535&w.adler)),L(w),0<U.wrap&&(U.wrap=-U.wrap),U.pending!==0?v:1)},l.deflateEnd=function(w){var fe;return w&&w.state?(fe=w.state.status)!==D&&fe!==69&&fe!==73&&fe!==91&&fe!==103&&fe!==ee&&fe!==666?be(w,S):(w.state=null,fe===ee?be(w,-3):v):S},l.deflateSetDictionary=function(w,fe){var ae,U,O,F,pe,ge,K,ve,Se=fe.length;if(!w||!w.state||(F=(ae=w.state).wrap)===2||F===1&&ae.status!==D||ae.lookahead)return S;for(F===1&&(w.adler=m(w.adler,fe,Se,0)),ae.wrap=0,Se>=ae.w_size&&(F===0&&(B(ae.head),ae.strstart=0,ae.block_start=0,ae.insert=0),ve=new d.Buf8(ae.w_size),d.arraySet(ve,fe,Se-ae.w_size,ae.w_size,0),fe=ve,Se=ae.w_size),pe=w.avail_in,ge=w.next_in,K=w.input,w.avail_in=Se,w.next_in=0,w.input=fe,Ae(ae);ae.lookahead>=Z;){for(U=ae.strstart,O=ae.lookahead-(Z-1);ae.ins_h=(ae.ins_h<<ae.hash_shift^ae.window[U+Z-1])&ae.hash_mask,ae.prev[U&ae.w_mask]=ae.head[ae.ins_h],ae.head[ae.ins_h]=U,U++,--O;);ae.strstart=U,ae.lookahead=Z-1,Ae(ae)}return ae.strstart+=ae.lookahead,ae.block_start=ae.strstart,ae.insert=ae.lookahead,ae.lookahead=0,ae.match_length=ae.prev_length=Z-1,ae.match_available=0,w.next_in=ge,w.input=K,w.avail_in=pe,ae.wrap=F,v},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(a,s,l){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(a,s,l){s.exports=function(u,d){var f,m,p,y,b,A,v,S,x,E,k,N,T,M,R,H,q,ne,Z,te,ce,D,ee,j,re;f=u.state,m=u.next_in,j=u.input,p=m+(u.avail_in-5),y=u.next_out,re=u.output,b=y-(d-u.avail_out),A=y+(u.avail_out-257),v=f.dmax,S=f.wsize,x=f.whave,E=f.wnext,k=f.window,N=f.hold,T=f.bits,M=f.lencode,R=f.distcode,H=(1<<f.lenbits)-1,q=(1<<f.distbits)-1;e:do{T<15&&(N+=j[m++]<<T,T+=8,N+=j[m++]<<T,T+=8),ne=M[N&H];t:for(;;){if(N>>>=Z=ne>>>24,T-=Z,(Z=ne>>>16&255)===0)re[y++]=65535&ne;else{if(!(16&Z)){if((64&Z)==0){ne=M[(65535&ne)+(N&(1<<Z)-1)];continue t}if(32&Z){f.mode=12;break e}u.msg="invalid literal/length code",f.mode=30;break e}te=65535&ne,(Z&=15)&&(T<Z&&(N+=j[m++]<<T,T+=8),te+=N&(1<<Z)-1,N>>>=Z,T-=Z),T<15&&(N+=j[m++]<<T,T+=8,N+=j[m++]<<T,T+=8),ne=R[N&q];n:for(;;){if(N>>>=Z=ne>>>24,T-=Z,!(16&(Z=ne>>>16&255))){if((64&Z)==0){ne=R[(65535&ne)+(N&(1<<Z)-1)];continue n}u.msg="invalid distance code",f.mode=30;break e}if(ce=65535&ne,T<(Z&=15)&&(N+=j[m++]<<T,(T+=8)<Z&&(N+=j[m++]<<T,T+=8)),v<(ce+=N&(1<<Z)-1)){u.msg="invalid distance too far back",f.mode=30;break e}if(N>>>=Z,T-=Z,(Z=y-b)<ce){if(x<(Z=ce-Z)&&f.sane){u.msg="invalid distance too far back",f.mode=30;break e}if(ee=k,(D=0)===E){if(D+=S-Z,Z<te){for(te-=Z;re[y++]=k[D++],--Z;);D=y-ce,ee=re}}else if(E<Z){if(D+=S+E-Z,(Z-=E)<te){for(te-=Z;re[y++]=k[D++],--Z;);if(D=0,E<te){for(te-=Z=E;re[y++]=k[D++],--Z;);D=y-ce,ee=re}}}else if(D+=E-Z,Z<te){for(te-=Z;re[y++]=k[D++],--Z;);D=y-ce,ee=re}for(;2<te;)re[y++]=ee[D++],re[y++]=ee[D++],re[y++]=ee[D++],te-=3;te&&(re[y++]=ee[D++],1<te&&(re[y++]=ee[D++]))}else{for(D=y-ce;re[y++]=re[D++],re[y++]=re[D++],re[y++]=re[D++],2<(te-=3););te&&(re[y++]=re[D++],1<te&&(re[y++]=re[D++]))}break}}break}}while(m<p&&y<A);m-=te=T>>3,N&=(1<<(T-=te<<3))-1,u.next_in=m,u.next_out=y,u.avail_in=m<p?p-m+5:5-(m-p),u.avail_out=y<A?A-y+257:257-(y-A),f.hold=N,f.bits=T}},{}],49:[function(a,s,l){var u=a("../utils/common"),d=a("./adler32"),f=a("./crc32"),m=a("./inffast"),p=a("./inftrees"),y=1,b=2,A=0,v=-2,S=1,x=852,E=592;function k(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(D){var ee;return D&&D.state?(ee=D.state,D.total_in=D.total_out=ee.total=0,D.msg="",ee.wrap&&(D.adler=1&ee.wrap),ee.mode=S,ee.last=0,ee.havedict=0,ee.dmax=32768,ee.head=null,ee.hold=0,ee.bits=0,ee.lencode=ee.lendyn=new u.Buf32(x),ee.distcode=ee.distdyn=new u.Buf32(E),ee.sane=1,ee.back=-1,A):v}function M(D){var ee;return D&&D.state?((ee=D.state).wsize=0,ee.whave=0,ee.wnext=0,T(D)):v}function R(D,ee){var j,re;return D&&D.state?(re=D.state,ee<0?(j=0,ee=-ee):(j=1+(ee>>4),ee<48&&(ee&=15)),ee&&(ee<8||15<ee)?v:(re.window!==null&&re.wbits!==ee&&(re.window=null),re.wrap=j,re.wbits=ee,M(D))):v}function H(D,ee){var j,re;return D?(re=new N,(D.state=re).window=null,(j=R(D,ee))!==A&&(D.state=null),j):v}var q,ne,Z=!0;function te(D){if(Z){var ee;for(q=new u.Buf32(512),ne=new u.Buf32(32),ee=0;ee<144;)D.lens[ee++]=8;for(;ee<256;)D.lens[ee++]=9;for(;ee<280;)D.lens[ee++]=7;for(;ee<288;)D.lens[ee++]=8;for(p(y,D.lens,0,288,q,0,D.work,{bits:9}),ee=0;ee<32;)D.lens[ee++]=5;p(b,D.lens,0,32,ne,0,D.work,{bits:5}),Z=!1}D.lencode=q,D.lenbits=9,D.distcode=ne,D.distbits=5}function ce(D,ee,j,re){var Y,G=D.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new u.Buf8(G.wsize)),re>=G.wsize?(u.arraySet(G.window,ee,j-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(re<(Y=G.wsize-G.wnext)&&(Y=re),u.arraySet(G.window,ee,j-re,Y,G.wnext),(re-=Y)?(u.arraySet(G.window,ee,j-re,re,0),G.wnext=re,G.whave=G.wsize):(G.wnext+=Y,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=Y))),0}l.inflateReset=M,l.inflateReset2=R,l.inflateResetKeep=T,l.inflateInit=function(D){return H(D,15)},l.inflateInit2=H,l.inflate=function(D,ee){var j,re,Y,G,be,de,B,L,$,ie,oe,me,Ae,et,Ne,He,bt,ct,en,Qt,w,fe,ae,U,O=0,F=new u.Buf8(4),pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return v;(j=D.state).mode===12&&(j.mode=13),be=D.next_out,Y=D.output,B=D.avail_out,G=D.next_in,re=D.input,de=D.avail_in,L=j.hold,$=j.bits,ie=de,oe=B,fe=A;e:for(;;)switch(j.mode){case S:if(j.wrap===0){j.mode=13;break}for(;$<16;){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}if(2&j.wrap&&L===35615){F[j.check=0]=255&L,F[1]=L>>>8&255,j.check=f(j.check,F,2,0),$=L=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&L)<<8)+(L>>8))%31){D.msg="incorrect header check",j.mode=30;break}if((15&L)!=8){D.msg="unknown compression method",j.mode=30;break}if($-=4,w=8+(15&(L>>>=4)),j.wbits===0)j.wbits=w;else if(w>j.wbits){D.msg="invalid window size",j.mode=30;break}j.dmax=1<<w,D.adler=j.check=1,j.mode=512&L?10:12,$=L=0;break;case 2:for(;$<16;){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}if(j.flags=L,(255&j.flags)!=8){D.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){D.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=L>>8&1),512&j.flags&&(F[0]=255&L,F[1]=L>>>8&255,j.check=f(j.check,F,2,0)),$=L=0,j.mode=3;case 3:for(;$<32;){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}j.head&&(j.head.time=L),512&j.flags&&(F[0]=255&L,F[1]=L>>>8&255,F[2]=L>>>16&255,F[3]=L>>>24&255,j.check=f(j.check,F,4,0)),$=L=0,j.mode=4;case 4:for(;$<16;){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}j.head&&(j.head.xflags=255&L,j.head.os=L>>8),512&j.flags&&(F[0]=255&L,F[1]=L>>>8&255,j.check=f(j.check,F,2,0)),$=L=0,j.mode=5;case 5:if(1024&j.flags){for(;$<16;){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}j.length=L,j.head&&(j.head.extra_len=L),512&j.flags&&(F[0]=255&L,F[1]=L>>>8&255,j.check=f(j.check,F,2,0)),$=L=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(de<(me=j.length)&&(me=de),me&&(j.head&&(w=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),u.arraySet(j.head.extra,re,G,me,w)),512&j.flags&&(j.check=f(j.check,re,me,G)),de-=me,G+=me,j.length-=me),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(de===0)break e;for(me=0;w=re[G+me++],j.head&&w&&j.length<65536&&(j.head.name+=String.fromCharCode(w)),w&&me<de;);if(512&j.flags&&(j.check=f(j.check,re,me,G)),de-=me,G+=me,w)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(de===0)break e;for(me=0;w=re[G+me++],j.head&&w&&j.length<65536&&(j.head.comment+=String.fromCharCode(w)),w&&me<de;);if(512&j.flags&&(j.check=f(j.check,re,me,G)),de-=me,G+=me,w)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;$<16;){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}if(L!==(65535&j.check)){D.msg="header crc mismatch",j.mode=30;break}$=L=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),D.adler=j.check=0,j.mode=12;break;case 10:for(;$<32;){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}D.adler=j.check=k(L),$=L=0,j.mode=11;case 11:if(j.havedict===0)return D.next_out=be,D.avail_out=B,D.next_in=G,D.avail_in=de,j.hold=L,j.bits=$,2;D.adler=j.check=1,j.mode=12;case 12:if(ee===5||ee===6)break e;case 13:if(j.last){L>>>=7&$,$-=7&$,j.mode=27;break}for(;$<3;){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}switch(j.last=1&L,$-=1,3&(L>>>=1)){case 0:j.mode=14;break;case 1:if(te(j),j.mode=20,ee!==6)break;L>>>=2,$-=2;break e;case 2:j.mode=17;break;case 3:D.msg="invalid block type",j.mode=30}L>>>=2,$-=2;break;case 14:for(L>>>=7&$,$-=7&$;$<32;){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}if((65535&L)!=(L>>>16^65535)){D.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&L,$=L=0,j.mode=15,ee===6)break e;case 15:j.mode=16;case 16:if(me=j.length){if(de<me&&(me=de),B<me&&(me=B),me===0)break e;u.arraySet(Y,re,G,me,be),de-=me,G+=me,B-=me,be+=me,j.length-=me;break}j.mode=12;break;case 17:for(;$<14;){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}if(j.nlen=257+(31&L),L>>>=5,$-=5,j.ndist=1+(31&L),L>>>=5,$-=5,j.ncode=4+(15&L),L>>>=4,$-=4,286<j.nlen||30<j.ndist){D.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;$<3;){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}j.lens[pe[j.have++]]=7&L,L>>>=3,$-=3}for(;j.have<19;)j.lens[pe[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,ae={bits:j.lenbits},fe=p(0,j.lens,0,19,j.lencode,0,j.work,ae),j.lenbits=ae.bits,fe){D.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;He=(O=j.lencode[L&(1<<j.lenbits)-1])>>>16&255,bt=65535&O,!((Ne=O>>>24)<=$);){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}if(bt<16)L>>>=Ne,$-=Ne,j.lens[j.have++]=bt;else{if(bt===16){for(U=Ne+2;$<U;){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}if(L>>>=Ne,$-=Ne,j.have===0){D.msg="invalid bit length repeat",j.mode=30;break}w=j.lens[j.have-1],me=3+(3&L),L>>>=2,$-=2}else if(bt===17){for(U=Ne+3;$<U;){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}$-=Ne,w=0,me=3+(7&(L>>>=Ne)),L>>>=3,$-=3}else{for(U=Ne+7;$<U;){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}$-=Ne,w=0,me=11+(127&(L>>>=Ne)),L>>>=7,$-=7}if(j.have+me>j.nlen+j.ndist){D.msg="invalid bit length repeat",j.mode=30;break}for(;me--;)j.lens[j.have++]=w}}if(j.mode===30)break;if(j.lens[256]===0){D.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,ae={bits:j.lenbits},fe=p(y,j.lens,0,j.nlen,j.lencode,0,j.work,ae),j.lenbits=ae.bits,fe){D.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,ae={bits:j.distbits},fe=p(b,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,ae),j.distbits=ae.bits,fe){D.msg="invalid distances set",j.mode=30;break}if(j.mode=20,ee===6)break e;case 20:j.mode=21;case 21:if(6<=de&&258<=B){D.next_out=be,D.avail_out=B,D.next_in=G,D.avail_in=de,j.hold=L,j.bits=$,m(D,oe),be=D.next_out,Y=D.output,B=D.avail_out,G=D.next_in,re=D.input,de=D.avail_in,L=j.hold,$=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;He=(O=j.lencode[L&(1<<j.lenbits)-1])>>>16&255,bt=65535&O,!((Ne=O>>>24)<=$);){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}if(He&&(240&He)==0){for(ct=Ne,en=He,Qt=bt;He=(O=j.lencode[Qt+((L&(1<<ct+en)-1)>>ct)])>>>16&255,bt=65535&O,!(ct+(Ne=O>>>24)<=$);){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}L>>>=ct,$-=ct,j.back+=ct}if(L>>>=Ne,$-=Ne,j.back+=Ne,j.length=bt,He===0){j.mode=26;break}if(32&He){j.back=-1,j.mode=12;break}if(64&He){D.msg="invalid literal/length code",j.mode=30;break}j.extra=15&He,j.mode=22;case 22:if(j.extra){for(U=j.extra;$<U;){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}j.length+=L&(1<<j.extra)-1,L>>>=j.extra,$-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;He=(O=j.distcode[L&(1<<j.distbits)-1])>>>16&255,bt=65535&O,!((Ne=O>>>24)<=$);){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}if((240&He)==0){for(ct=Ne,en=He,Qt=bt;He=(O=j.distcode[Qt+((L&(1<<ct+en)-1)>>ct)])>>>16&255,bt=65535&O,!(ct+(Ne=O>>>24)<=$);){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}L>>>=ct,$-=ct,j.back+=ct}if(L>>>=Ne,$-=Ne,j.back+=Ne,64&He){D.msg="invalid distance code",j.mode=30;break}j.offset=bt,j.extra=15&He,j.mode=24;case 24:if(j.extra){for(U=j.extra;$<U;){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}j.offset+=L&(1<<j.extra)-1,L>>>=j.extra,$-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){D.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(B===0)break e;if(me=oe-B,j.offset>me){if((me=j.offset-me)>j.whave&&j.sane){D.msg="invalid distance too far back",j.mode=30;break}Ae=me>j.wnext?(me-=j.wnext,j.wsize-me):j.wnext-me,me>j.length&&(me=j.length),et=j.window}else et=Y,Ae=be-j.offset,me=j.length;for(B<me&&(me=B),B-=me,j.length-=me;Y[be++]=et[Ae++],--me;);j.length===0&&(j.mode=21);break;case 26:if(B===0)break e;Y[be++]=j.length,B--,j.mode=21;break;case 27:if(j.wrap){for(;$<32;){if(de===0)break e;de--,L|=re[G++]<<$,$+=8}if(oe-=B,D.total_out+=oe,j.total+=oe,oe&&(D.adler=j.check=j.flags?f(j.check,Y,oe,be-oe):d(j.check,Y,oe,be-oe)),oe=B,(j.flags?L:k(L))!==j.check){D.msg="incorrect data check",j.mode=30;break}$=L=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;$<32;){if(de===0)break e;de--,L+=re[G++]<<$,$+=8}if(L!==(4294967295&j.total)){D.msg="incorrect length check",j.mode=30;break}$=L=0}j.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return v}return D.next_out=be,D.avail_out=B,D.next_in=G,D.avail_in=de,j.hold=L,j.bits=$,(j.wsize||oe!==D.avail_out&&j.mode<30&&(j.mode<27||ee!==4))&&ce(D,D.output,D.next_out,oe-D.avail_out)?(j.mode=31,-4):(ie-=D.avail_in,oe-=D.avail_out,D.total_in+=ie,D.total_out+=oe,j.total+=oe,j.wrap&&oe&&(D.adler=j.check=j.flags?f(j.check,Y,oe,D.next_out-oe):d(j.check,Y,oe,D.next_out-oe)),D.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(ie==0&&oe===0||ee===4)&&fe===A&&(fe=-5),fe)},l.inflateEnd=function(D){if(!D||!D.state)return v;var ee=D.state;return ee.window&&(ee.window=null),D.state=null,A},l.inflateGetHeader=function(D,ee){var j;return D&&D.state?(2&(j=D.state).wrap)==0?v:((j.head=ee).done=!1,A):v},l.inflateSetDictionary=function(D,ee){var j,re=ee.length;return D&&D.state?(j=D.state).wrap!==0&&j.mode!==11?v:j.mode===11&&d(1,ee,re,0)!==j.check?-3:ce(D,ee,re,re)?(j.mode=31,-4):(j.havedict=1,A):v},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(a,s,l){var u=a("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(y,b,A,v,S,x,E,k){var N,T,M,R,H,q,ne,Z,te,ce=k.bits,D=0,ee=0,j=0,re=0,Y=0,G=0,be=0,de=0,B=0,L=0,$=null,ie=0,oe=new u.Buf16(16),me=new u.Buf16(16),Ae=null,et=0;for(D=0;D<=15;D++)oe[D]=0;for(ee=0;ee<v;ee++)oe[b[A+ee]]++;for(Y=ce,re=15;1<=re&&oe[re]===0;re--);if(re<Y&&(Y=re),re===0)return S[x++]=20971520,S[x++]=20971520,k.bits=1,0;for(j=1;j<re&&oe[j]===0;j++);for(Y<j&&(Y=j),D=de=1;D<=15;D++)if(de<<=1,(de-=oe[D])<0)return-1;if(0<de&&(y===0||re!==1))return-1;for(me[1]=0,D=1;D<15;D++)me[D+1]=me[D]+oe[D];for(ee=0;ee<v;ee++)b[A+ee]!==0&&(E[me[b[A+ee]]++]=ee);if(q=y===0?($=Ae=E,19):y===1?($=d,ie-=257,Ae=f,et-=257,256):($=m,Ae=p,-1),D=j,H=x,be=ee=L=0,M=-1,R=(B=1<<(G=Y))-1,y===1&&852<B||y===2&&592<B)return 1;for(;;){for(ne=D-be,te=E[ee]<q?(Z=0,E[ee]):E[ee]>q?(Z=Ae[et+E[ee]],$[ie+E[ee]]):(Z=96,0),N=1<<D-be,j=T=1<<G;S[H+(L>>be)+(T-=N)]=ne<<24|Z<<16|te|0,T!==0;);for(N=1<<D-1;L&N;)N>>=1;if(N!==0?(L&=N-1,L+=N):L=0,ee++,--oe[D]==0){if(D===re)break;D=b[A+E[ee]]}if(Y<D&&(L&R)!==M){for(be===0&&(be=Y),H+=j,de=1<<(G=D-be);G+be<re&&!((de-=oe[G+be])<=0);)G++,de<<=1;if(B+=1<<G,y===1&&852<B||y===2&&592<B)return 1;S[M=L&R]=Y<<24|G<<16|H-x|0}}return L!==0&&(S[H+L]=D-be<<24|64<<16|0),k.bits=Y,0}},{"../utils/common":41}],51:[function(a,s,l){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(a,s,l){var u=a("../utils/common"),d=0,f=1;function m(O){for(var F=O.length;0<=--F;)O[F]=0}var p=0,y=29,b=256,A=b+1+y,v=30,S=19,x=2*A+1,E=15,k=16,N=7,T=256,M=16,R=17,H=18,q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=new Array(2*(A+2));m(ce);var D=new Array(2*v);m(D);var ee=new Array(512);m(ee);var j=new Array(256);m(j);var re=new Array(y);m(re);var Y,G,be,de=new Array(v);function B(O,F,pe,ge,K){this.static_tree=O,this.extra_bits=F,this.extra_base=pe,this.elems=ge,this.max_length=K,this.has_stree=O&&O.length}function L(O,F){this.dyn_tree=O,this.max_code=0,this.stat_desc=F}function $(O){return O<256?ee[O]:ee[256+(O>>>7)]}function ie(O,F){O.pending_buf[O.pending++]=255&F,O.pending_buf[O.pending++]=F>>>8&255}function oe(O,F,pe){O.bi_valid>k-pe?(O.bi_buf|=F<<O.bi_valid&65535,ie(O,O.bi_buf),O.bi_buf=F>>k-O.bi_valid,O.bi_valid+=pe-k):(O.bi_buf|=F<<O.bi_valid&65535,O.bi_valid+=pe)}function me(O,F,pe){oe(O,pe[2*F],pe[2*F+1])}function Ae(O,F){for(var pe=0;pe|=1&O,O>>>=1,pe<<=1,0<--F;);return pe>>>1}function et(O,F,pe){var ge,K,ve=new Array(E+1),Se=0;for(ge=1;ge<=E;ge++)ve[ge]=Se=Se+pe[ge-1]<<1;for(K=0;K<=F;K++){var xe=O[2*K+1];xe!==0&&(O[2*K]=Ae(ve[xe]++,xe))}}function Ne(O){var F;for(F=0;F<A;F++)O.dyn_ltree[2*F]=0;for(F=0;F<v;F++)O.dyn_dtree[2*F]=0;for(F=0;F<S;F++)O.bl_tree[2*F]=0;O.dyn_ltree[2*T]=1,O.opt_len=O.static_len=0,O.last_lit=O.matches=0}function He(O){8<O.bi_valid?ie(O,O.bi_buf):0<O.bi_valid&&(O.pending_buf[O.pending++]=O.bi_buf),O.bi_buf=0,O.bi_valid=0}function bt(O,F,pe,ge){var K=2*F,ve=2*pe;return O[K]<O[ve]||O[K]===O[ve]&&ge[F]<=ge[pe]}function ct(O,F,pe){for(var ge=O.heap[pe],K=pe<<1;K<=O.heap_len&&(K<O.heap_len&&bt(F,O.heap[K+1],O.heap[K],O.depth)&&K++,!bt(F,ge,O.heap[K],O.depth));)O.heap[pe]=O.heap[K],pe=K,K<<=1;O.heap[pe]=ge}function en(O,F,pe){var ge,K,ve,Se,xe=0;if(O.last_lit!==0)for(;ge=O.pending_buf[O.d_buf+2*xe]<<8|O.pending_buf[O.d_buf+2*xe+1],K=O.pending_buf[O.l_buf+xe],xe++,ge===0?me(O,K,F):(me(O,(ve=j[K])+b+1,F),(Se=q[ve])!==0&&oe(O,K-=re[ve],Se),me(O,ve=$(--ge),pe),(Se=ne[ve])!==0&&oe(O,ge-=de[ve],Se)),xe<O.last_lit;);me(O,T,F)}function Qt(O,F){var pe,ge,K,ve=F.dyn_tree,Se=F.stat_desc.static_tree,xe=F.stat_desc.has_stree,je=F.stat_desc.elems,$e=-1;for(O.heap_len=0,O.heap_max=x,pe=0;pe<je;pe++)ve[2*pe]!==0?(O.heap[++O.heap_len]=$e=pe,O.depth[pe]=0):ve[2*pe+1]=0;for(;O.heap_len<2;)ve[2*(K=O.heap[++O.heap_len]=$e<2?++$e:0)]=1,O.depth[K]=0,O.opt_len--,xe&&(O.static_len-=Se[2*K+1]);for(F.max_code=$e,pe=O.heap_len>>1;1<=pe;pe--)ct(O,ve,pe);for(K=je;pe=O.heap[1],O.heap[1]=O.heap[O.heap_len--],ct(O,ve,1),ge=O.heap[1],O.heap[--O.heap_max]=pe,O.heap[--O.heap_max]=ge,ve[2*K]=ve[2*pe]+ve[2*ge],O.depth[K]=(O.depth[pe]>=O.depth[ge]?O.depth[pe]:O.depth[ge])+1,ve[2*pe+1]=ve[2*ge+1]=K,O.heap[1]=K++,ct(O,ve,1),2<=O.heap_len;);O.heap[--O.heap_max]=O.heap[1],function(Be,dt){var mr,_n,pr,ft,ua,On,tn=dt.dyn_tree,Da=dt.max_code,Gu=dt.stat_desc.static_tree,Ul=dt.stat_desc.has_stree,Bl=dt.stat_desc.extra_bits,Vr=dt.stat_desc.extra_base,Dn=dt.stat_desc.max_length,Yr=0;for(ft=0;ft<=E;ft++)Be.bl_count[ft]=0;for(tn[2*Be.heap[Be.heap_max]+1]=0,mr=Be.heap_max+1;mr<x;mr++)Dn<(ft=tn[2*tn[2*(_n=Be.heap[mr])+1]+1]+1)&&(ft=Dn,Yr++),tn[2*_n+1]=ft,Da<_n||(Be.bl_count[ft]++,ua=0,Vr<=_n&&(ua=Bl[_n-Vr]),On=tn[2*_n],Be.opt_len+=On*(ft+ua),Ul&&(Be.static_len+=On*(Gu[2*_n+1]+ua)));if(Yr!==0){do{for(ft=Dn-1;Be.bl_count[ft]===0;)ft--;Be.bl_count[ft]--,Be.bl_count[ft+1]+=2,Be.bl_count[Dn]--,Yr-=2}while(0<Yr);for(ft=Dn;ft!==0;ft--)for(_n=Be.bl_count[ft];_n!==0;)Da<(pr=Be.heap[--mr])||(tn[2*pr+1]!==ft&&(Be.opt_len+=(ft-tn[2*pr+1])*tn[2*pr],tn[2*pr+1]=ft),_n--)}}(O,F),et(ve,$e,O.bl_count)}function w(O,F,pe){var ge,K,ve=-1,Se=F[1],xe=0,je=7,$e=4;for(Se===0&&(je=138,$e=3),F[2*(pe+1)+1]=65535,ge=0;ge<=pe;ge++)K=Se,Se=F[2*(ge+1)+1],++xe<je&&K===Se||(xe<$e?O.bl_tree[2*K]+=xe:K!==0?(K!==ve&&O.bl_tree[2*K]++,O.bl_tree[2*M]++):xe<=10?O.bl_tree[2*R]++:O.bl_tree[2*H]++,ve=K,$e=(xe=0)===Se?(je=138,3):K===Se?(je=6,3):(je=7,4))}function fe(O,F,pe){var ge,K,ve=-1,Se=F[1],xe=0,je=7,$e=4;for(Se===0&&(je=138,$e=3),ge=0;ge<=pe;ge++)if(K=Se,Se=F[2*(ge+1)+1],!(++xe<je&&K===Se)){if(xe<$e)for(;me(O,K,O.bl_tree),--xe!=0;);else K!==0?(K!==ve&&(me(O,K,O.bl_tree),xe--),me(O,M,O.bl_tree),oe(O,xe-3,2)):xe<=10?(me(O,R,O.bl_tree),oe(O,xe-3,3)):(me(O,H,O.bl_tree),oe(O,xe-11,7));ve=K,$e=(xe=0)===Se?(je=138,3):K===Se?(je=6,3):(je=7,4)}}m(de);var ae=!1;function U(O,F,pe,ge){oe(O,(p<<1)+(ge?1:0),3),function(K,ve,Se,xe){He(K),ie(K,Se),ie(K,~Se),u.arraySet(K.pending_buf,K.window,ve,Se,K.pending),K.pending+=Se}(O,F,pe)}l._tr_init=function(O){ae||(function(){var F,pe,ge,K,ve,Se=new Array(E+1);for(K=ge=0;K<y-1;K++)for(re[K]=ge,F=0;F<1<<q[K];F++)j[ge++]=K;for(j[ge-1]=K,K=ve=0;K<16;K++)for(de[K]=ve,F=0;F<1<<ne[K];F++)ee[ve++]=K;for(ve>>=7;K<v;K++)for(de[K]=ve<<7,F=0;F<1<<ne[K]-7;F++)ee[256+ve++]=K;for(pe=0;pe<=E;pe++)Se[pe]=0;for(F=0;F<=143;)ce[2*F+1]=8,F++,Se[8]++;for(;F<=255;)ce[2*F+1]=9,F++,Se[9]++;for(;F<=279;)ce[2*F+1]=7,F++,Se[7]++;for(;F<=287;)ce[2*F+1]=8,F++,Se[8]++;for(et(ce,A+1,Se),F=0;F<v;F++)D[2*F+1]=5,D[2*F]=Ae(F,5);Y=new B(ce,q,b+1,A,E),G=new B(D,ne,0,v,E),be=new B(new Array(0),Z,0,S,N)}(),ae=!0),O.l_desc=new L(O.dyn_ltree,Y),O.d_desc=new L(O.dyn_dtree,G),O.bl_desc=new L(O.bl_tree,be),O.bi_buf=0,O.bi_valid=0,Ne(O)},l._tr_stored_block=U,l._tr_flush_block=function(O,F,pe,ge){var K,ve,Se=0;0<O.level?(O.strm.data_type===2&&(O.strm.data_type=function(xe){var je,$e=4093624447;for(je=0;je<=31;je++,$e>>>=1)if(1&$e&&xe.dyn_ltree[2*je]!==0)return d;if(xe.dyn_ltree[18]!==0||xe.dyn_ltree[20]!==0||xe.dyn_ltree[26]!==0)return f;for(je=32;je<b;je++)if(xe.dyn_ltree[2*je]!==0)return f;return d}(O)),Qt(O,O.l_desc),Qt(O,O.d_desc),Se=function(xe){var je;for(w(xe,xe.dyn_ltree,xe.l_desc.max_code),w(xe,xe.dyn_dtree,xe.d_desc.max_code),Qt(xe,xe.bl_desc),je=S-1;3<=je&&xe.bl_tree[2*te[je]+1]===0;je--);return xe.opt_len+=3*(je+1)+5+5+4,je}(O),K=O.opt_len+3+7>>>3,(ve=O.static_len+3+7>>>3)<=K&&(K=ve)):K=ve=pe+5,pe+4<=K&&F!==-1?U(O,F,pe,ge):O.strategy===4||ve===K?(oe(O,2+(ge?1:0),3),en(O,ce,D)):(oe(O,4+(ge?1:0),3),function(xe,je,$e,Be){var dt;for(oe(xe,je-257,5),oe(xe,$e-1,5),oe(xe,Be-4,4),dt=0;dt<Be;dt++)oe(xe,xe.bl_tree[2*te[dt]+1],3);fe(xe,xe.dyn_ltree,je-1),fe(xe,xe.dyn_dtree,$e-1)}(O,O.l_desc.max_code+1,O.d_desc.max_code+1,Se+1),en(O,O.dyn_ltree,O.dyn_dtree)),Ne(O),ge&&He(O)},l._tr_tally=function(O,F,pe){return O.pending_buf[O.d_buf+2*O.last_lit]=F>>>8&255,O.pending_buf[O.d_buf+2*O.last_lit+1]=255&F,O.pending_buf[O.l_buf+O.last_lit]=255&pe,O.last_lit++,F===0?O.dyn_ltree[2*pe]++:(O.matches++,F--,O.dyn_ltree[2*(j[pe]+b+1)]++,O.dyn_dtree[2*$(F)]++),O.last_lit===O.lit_bufsize-1},l._tr_align=function(O){oe(O,2,3),me(O,T,ce),function(F){F.bi_valid===16?(ie(F,F.bi_buf),F.bi_buf=0,F.bi_valid=0):8<=F.bi_valid&&(F.pending_buf[F.pending++]=255&F.bi_buf,F.bi_buf>>=8,F.bi_valid-=8)}(O)}},{"../utils/common":41}],53:[function(a,s,l){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(a,s,l){(function(u){(function(d,f){if(!d.setImmediate){var m,p,y,b,A=1,v={},S=!1,x=d.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(d);E=E&&E.setTimeout?E:d,m={}.toString.call(d.process)==="[object process]"?function(M){process.nextTick(function(){N(M)})}:function(){if(d.postMessage&&!d.importScripts){var M=!0,R=d.onmessage;return d.onmessage=function(){M=!1},d.postMessage("","*"),d.onmessage=R,M}}()?(b="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",T,!1):d.attachEvent("onmessage",T),function(M){d.postMessage(b+M,"*")}):d.MessageChannel?((y=new MessageChannel).port1.onmessage=function(M){N(M.data)},function(M){y.port2.postMessage(M)}):x&&"onreadystatechange"in x.createElement("script")?(p=x.documentElement,function(M){var R=x.createElement("script");R.onreadystatechange=function(){N(M),R.onreadystatechange=null,p.removeChild(R),R=null},p.appendChild(R)}):function(M){setTimeout(N,0,M)},E.setImmediate=function(M){typeof M!="function"&&(M=new Function(""+M));for(var R=new Array(arguments.length-1),H=0;H<R.length;H++)R[H]=arguments[H+1];var q={callback:M,args:R};return v[A]=q,m(A),A++},E.clearImmediate=k}function k(M){delete v[M]}function N(M){if(S)setTimeout(N,0,M);else{var R=v[M];if(R){S=!0;try{(function(H){var q=H.callback,ne=H.args;switch(ne.length){case 0:q();break;case 1:q(ne[0]);break;case 2:q(ne[0],ne[1]);break;case 3:q(ne[0],ne[1],ne[2]);break;default:q.apply(f,ne)}})(R)}finally{k(M),S=!1}}}}function T(M){M.source===d&&typeof M.data=="string"&&M.data.indexOf(b)===0&&N(+M.data.slice(b.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,typeof Xo<"u"?Xo:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Of)),Of.exports}var LE=BE();const rx=__(LE);async function PE(r,t){if(!r.flashcards||r.flashcards.length===0)throw new Error("Series contains no flash cards to export");const a=(t==null?void 0:t.deckName)||r.name||"Flashcard Deck",s=new rx,l=ZE(r,a);s.file("deck.xml",l);const u=s.folder("blob");if(!u)throw new Error("Failed to create blob folder in ZIP");return await $E(r,u),s.generateAsync({type:"blob"})}function ZE(r,t,a){var d;const s=`<?xml version="1.0" encoding="UTF-8"?>
<deck name="${iu(t)}">
  <fields>
    <rich-text name="Front" sides="11" />
    <rich-text name="Back" sides="01" />
    <rich-text name="Source" sides="01" />
  </fields>
  <cards>`,l=`
  </cards>
</deck>`,u=((d=r.flashcards)==null?void 0:d.map(f=>{const m=f.sourcePages.map(b=>r.pages.find(A=>A.id===b)).filter(b=>b!==void 0),p=m.length>0?m.map(b=>`<img src="blob/image_${b.id}.png" />`).join(""):"",y=f.pageReferences||m.map(b=>`${b!=null&&b.meta.pageNumber?`Page ${b.meta.pageNumber}`:"Page unknown"} (ID: ${b.id})`).join(", ");return`
    <card>
      <rich-text name="Front">${iu(f.question)}</rich-text>
      <rich-text name="Back">${iu(f.answer)}${p}</rich-text>
      <rich-text name="Source">${iu(y)}</rich-text>
    </card>`}).join(""))||"";return s+u+l}async function $E(r,t){const a=new Set;if(r.flashcards){const s=new Set;for(const l of r.flashcards)for(const u of l.sourcePages)s.add(u);for(const l of s){const u=r.pages.find(d=>d.id===l);u&&u.imageBlob&&!a.has(l)&&(t.file(`image_${l}.png`,u.imageBlob),a.add(l))}}}function iu(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}async function IE(r,t){if(!navigator.share)return!1;try{const a=new File([r],t,{type:"application/zip"});return"canShare"in navigator&&navigator.canShare&&navigator.canShare({files:[a]})?(await navigator.share({files:[a],title:"Share AnkiApp Flashcards",text:"Flashcards exported from Ursa Minor Ascension"}),!0):(await navigator.share({title:"AnkiApp Flashcards",text:"Please download the AnkiApp Flashcards file"}),!1)}catch(a){return console.error("Error sharing file:",a),!1}}function Df(r,t){const a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}function sx({text:r,className:t=""}){const[a,s]=z.useState(!1);return g.jsxs("div",{className:`relative inline-block ${t}`,children:[g.jsxs("button",{type:"button",className:"text-gray-500 hover:text-gray-700 focus:outline-none",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:()=>s(!a),children:[g.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),g.jsx("span",{className:"sr-only",children:"Info"})]}),a&&g.jsxs("div",{className:"absolute z-10 w-64 px-3 py-2 text-sm text-white bg-gray-800 rounded-md shadow-lg -left-32 bottom-full mb-2",children:[r,g.jsx("div",{className:"absolute w-3 h-3 bg-gray-800 transform rotate-45 left-1/2 -translate-x-1/2 -bottom-1"})]})]})}function HE({series:r,className:t=""}){const[a,s]=z.useState(!1),[l,u]=z.useState(null),[d,f]=z.useState(null);if(z.useEffect(()=>{let p;return d&&(p=window.setTimeout(()=>{f(null)},5e3)),()=>{p&&window.clearTimeout(p)}},[d]),!r.flashcards||r.flashcards.length===0)return null;const m=async(p=!1)=>{try{s(!0),u(null),f(null);const b=`${r.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_ankiapp.zip`,A=await PE(r,{deckName:r.name,includeSourceImages:!0});if(p&&typeof navigator<"u"&&"share"in navigator)try{await IE(A,b)?f("Your AnkiApp deck has been shared successfully."):(Df(A,b),f("Your AnkiApp deck has been downloaded successfully."))}catch(v){console.warn("Sharing failed, falling back to download:",v),Df(A,b),f("Your AnkiApp deck has been downloaded successfully.")}else Df(A,b),f("Your AnkiApp deck has been downloaded successfully.")}catch(y){console.error("Error exporting to AnkiApp format:",y),u(y instanceof Error?y.message:"Failed to export flashcards"),f(null)}finally{s(!1)}};return g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("button",{onClick:()=>m(!1),disabled:a,className:`py-2 px-4 bg-purple-600 text-white rounded-md hover:bg-purple-700 flex items-center ${t} ${a?"opacity-50 cursor-not-allowed":""}`,children:a?g.jsxs(g.Fragment,{children:[g.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):g.jsxs(g.Fragment,{children:[g.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download for AnkiApp"]})}),g.jsx(sx,{className:"ml-1",text:"Export flashcards as a ZIP file compatible with AnkiApp. The file includes your questions and answers along with source page images."})]}),typeof navigator<"u"&&"share"in navigator&&g.jsxs("button",{onClick:()=>m(!0),disabled:a,className:`py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center ${a?"opacity-50 cursor-not-allowed":""}`,children:[g.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})}),"Share AnkiApp Deck"]})]}),"      ",l&&g.jsx("div",{className:"mt-2 text-sm text-red-600",children:l}),d&&g.jsxs("div",{className:"mt-2 text-sm text-green-600 flex items-center",children:[g.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),d]})]})}async function qE(r,t={}){var A;if((!r.flashcards||r.flashcards.length===0)&&(!r.widgets||r.widgets.length===0))throw new Error("Series contains no content to export");const a=t.title||r.name||"Untitled Study Pack",s=t.includeImages!==!1,l=new rx,u=new Set;if(r.flashcards)for(const v of r.flashcards)for(const S of v.sourcePages)u.add(S);if(r.widgets)for(const v of r.widgets)for(const S of v.sourcePages)u.add(S);if(s){const v=l.folder("images");if(!v)throw new Error("Failed to create images folder in ZIP");for(const S of u){const x=r.pages.find(E=>E.id===S);x&&x.imageBlob&&v.file(`${S}.png`,x.imageBlob)}}const d=new Map;if(r.flashcards&&r.flashcards.length>0&&d.set("flashcard",r.flashcards.length),r.widgets)for(const v of r.widgets){const S=d.get(v.type)||0;d.set(v.type,S+1)}Array.from(d.entries()).map(([v,S])=>({type:v,count:S}));const f={id:Du(),title:a,description:t.description||"",author:t.author||"",createdAt:new Date().toISOString(),cardCount:((A=r.flashcards)==null?void 0:A.length)||0,hasImages:s&&u.size>0,widgets:Array.from(d.entries()).map(([v,S])=>({type:v,count:S}))},m=[];if(r.widgets&&r.widgets.length>0&&m.push(...r.widgets),r.flashcards&&r.flashcards.length>0){const v=new Set(m.map(x=>x.id)),S=r.flashcards.filter(x=>!v.has(x.id));m.push(...S)}m.length>0&&l.file("widgets.json",JSON.stringify(m,null,2));const p=m.filter(v=>v.type==="flashcard");if(p.length>0&&l.file("cards.json",JSON.stringify(p,null,2)),Array.from(u).length>0){const v=Array.from(u).map(S=>{const x=r.pages.find(E=>E.id===S);return{id:S,pageNumber:x==null?void 0:x.meta.pageNumber,chapter:x==null?void 0:x.meta.chapter,bookTitle:x==null?void 0:x.meta.bookTitle}});l.file("page-references.json",JSON.stringify(v,null,2))}const y=Array.from(d.entries()).map(([v,S])=>`${S} ${v}${S>1&&!v.endsWith("s")?"s":""}`).join(", "),b=`# StudyPack: ${a}

This StudyPack was exported from Ursa Minor Ascension.

## Contents
- ${y}
- ${u.size} source images

## How to use
Send this file to the application developer to be added to the application.

## Metadata
- Title: ${f.title}
- Description: ${f.description||"None"}
- Author: ${f.author||"Unknown"}
- Created: ${new Date(f.createdAt).toLocaleDateString()}
`;return l.file("README.md",b),l.generateAsync({type:"blob"})}function FE(r,t){const a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}function VE({series:r,className:t=""}){const[a,s]=z.useState(!1),[l,u]=z.useState(!1),[d,f]=z.useState(null),[m,p]=z.useState(null),[y,b]=z.useState({title:r.name,description:"",author:"",includeImages:!0}),A=()=>{u(!0),f(null),p(null)},v=x=>{const{name:E,value:k,type:N}=x.target,T=N==="checkbox"?x.target.checked:void 0;b(M=>({...M,[E]:N==="checkbox"?T:k}))},S=async x=>{x.preventDefault();try{if(s(!0),f(null),p(null),!y.title.trim()){f("Title is required"),s(!1);return}const k=`${y.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.studypack`,N=await qE(r,{title:y.title,description:y.description,author:y.author,includeImages:y.includeImages});FE(N,k),p("StudyPack exported successfully. Send this file to the application developer for integration."),setTimeout(()=>{u(!1)},3e3)}catch(E){console.error("Error exporting StudyPack:",E),f(E instanceof Error?E.message:"Failed to export StudyPack")}finally{s(!1)}};return!r.flashcards||r.flashcards.length===0?null:g.jsx("div",{className:"relative",children:l?g.jsxs("div",{className:"absolute top-0 right-0 z-10 w-80 bg-white rounded-lg shadow-xl p-4 border border-gray-200",children:[g.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Export StudyPack"}),g.jsxs("form",{onSubmit:S,children:[g.jsxs("div",{className:"mb-3",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"title",children:"Title*"}),g.jsx("input",{type:"text",id:"title",name:"title",value:y.title,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",required:!0})]}),g.jsxs("div",{className:"mb-3",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"description",children:"Description"}),g.jsx("textarea",{id:"description",name:"description",value:y.description,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",rows:2})]}),g.jsxs("div",{className:"mb-3",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"author",children:"Author"}),g.jsx("input",{type:"text",id:"author",name:"author",value:y.author,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"})]}),g.jsx("div",{className:"mb-4",children:g.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700",children:[g.jsx("input",{type:"checkbox",name:"includeImages",checked:y.includeImages,onChange:v,className:"mr-2"}),"Include source images"]})}),d&&g.jsx("div",{className:"mb-3 text-sm text-red-600",children:d}),m&&g.jsx("div",{className:"mb-3 text-sm text-green-600",children:m}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{type:"submit",disabled:a,className:`flex-1 py-2 px-3 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm ${a?"opacity-75 cursor-not-allowed":""}`,children:a?"Exporting...":"Export"}),g.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 py-2 px-3 border border-gray-300 rounded-md hover:bg-gray-50 text-sm",children:"Cancel"})]})]})]}):g.jsxs("button",{onClick:A,className:`py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center ${t}`,children:[g.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"Export for Integration",g.jsx(sx,{className:"ml-1",text:"Export this series as a StudyPack that can be integrated into the application by the developer."})]})})}function YE({card:r,series:t,isSelected:a,onClick:s,onDelete:l}){const[u,d]=z.useState(!1),[f,m]=z.useState(!1),[p,y]=z.useState(r.question),[b,A]=z.useState(r.answer),[v,S]=z.useState(r.pageReferences||""),x=r.sourcePages.map(N=>{const T=t.pages.find(M=>M.id===N);return(T==null?void 0:T.meta.pageNumber)||"unknown"}),E=()=>{switch(r.difficulty){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},k=()=>{r.question=p,r.answer=b,r.pageReferences=v,m(!1)};return f?g.jsx("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border-2 ${a?"border-primary":"border-transparent"}`,children:g.jsxs("div",{className:"p-4",children:[g.jsxs("div",{className:"mb-3",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question"}),g.jsx("textarea",{value:p,onChange:N=>y(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:2})]}),"                    ",g.jsxs("div",{className:"mb-3",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer"}),g.jsx("textarea",{value:b,onChange:N=>A(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3})]}),g.jsxs("div",{className:"mb-3",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Page References"}),g.jsx("input",{type:"text",value:v,onChange:N=>S(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"e.g., Page 5, Page 10"})]}),g.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[g.jsx("button",{onClick:()=>m(!1),className:"py-1 px-3 border border-gray-300 rounded-md",children:"Cancel"}),g.jsx("button",{onClick:k,className:"py-1 px-3 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Save"})]})]})}):g.jsx("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border-2 ${a?"border-primary":"border-transparent"}`,onClick:s,children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:`transition-all duration-500 ${u?"rotateY-180 opacity-0 h-0 overflow-hidden":"rotateY-0 opacity-100"}`,children:g.jsxs("div",{className:"p-4",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${E()}`,children:r.difficulty}),g.jsxs("div",{className:"flex space-x-1",children:[g.jsx("button",{onClick:N=>{N.stopPropagation(),m(!0)},className:"text-gray-400 hover:text-gray-600 p-1",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),g.jsx("button",{onClick:N=>{N.stopPropagation(),l()},className:"text-gray-400 hover:text-red-600 p-1",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),g.jsx("p",{className:"text-gray-800 font-medium",dangerouslySetInnerHTML:{__html:r.question}}),g.jsx("button",{onClick:N=>{N.stopPropagation(),d(!u)},className:"mt-4 text-primary text-sm hover:underline",children:"Show Answer"})]})}),g.jsx("div",{className:`transition-all duration-500 ${u?"rotateY-0 opacity-100":"rotateY-180 opacity-0 h-0 overflow-hidden"}`,children:g.jsxs("div",{className:"p-4",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${E()}`,children:r.difficulty}),g.jsxs("div",{className:"flex space-x-1",children:[g.jsx("button",{onClick:N=>{N.stopPropagation(),m(!0)},className:"text-gray-400 hover:text-gray-600 p-1",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),g.jsx("button",{onClick:N=>{N.stopPropagation(),l()},className:"text-gray-400 hover:text-red-600 p-1",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),g.jsx("p",{className:"text-gray-800",dangerouslySetInnerHTML:{__html:r.answer}}),"                        ",g.jsx("div",{className:"mt-3",children:r.pageReferences?g.jsx("p",{className:"text-xs text-gray-600 italic mb-1",children:r.pageReferences}):g.jsx("div",{className:"flex flex-wrap gap-1",children:x.map((N,T)=>g.jsxs("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:["Page ",N]},T))})}),g.jsx("button",{onClick:N=>{N.stopPropagation(),d(!u)},className:"mt-4 text-primary text-sm hover:underline",children:"Show Question"})]})})]})})}const GE=1e4,Wi=5,lu=50,XE=4;function QE({series:r,status:t,onStartGeneration:a,onCancel:s}){var A;const[l,u]=z.useState(Wi),[d,f]=z.useState(null),[m,p]=z.useState(!1);z.useEffect(()=>{f(null),p(!1)},[r.id]),z.useEffect(()=>{let v=null;return t.status==="estimating"&&!m&&d===null&&(v=setTimeout(()=>{var x;console.log("Estimation timeout reached"),p(!0);const S=Math.min(Math.max((((x=r.pages)==null?void 0:x.length)||0)*XE,Wi),lu);f(S)},GE)),()=>{v&&clearTimeout(v)}},[t.status,m,(A=r.pages)==null?void 0:A.length,d]),z.useEffect(()=>{t.estimatedCount!==void 0&&t.estimatedCount!==null&&(f(t.estimatedCount),p(!1))},[t.estimatedCount]);const y=z.useCallback(v=>{const S=parseInt(v.target.value,10);!isNaN(S)&&S>=Wi&&S<=lu&&u(S)},[]),b=z.useCallback(v=>{v.preventDefault(),a(l)},[l,a]);if(t.status==="error")return g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[g.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:g.jsxs("div",{className:"flex",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),g.jsxs("div",{className:"ml-3",children:[g.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Flash Card Generation Failed"}),g.jsx("div",{className:"mt-2 text-sm text-red-700",children:g.jsx("p",{children:t.error||"An unknown error occurred"})})]})]})}),g.jsx("button",{onClick:()=>a(l),className:"w-full py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Try Again"})]});if(t.status==="generating"){const v=t.progress&&t.total?Math.round(t.progress/t.total*100):0;return g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Generating Flash Cards"}),g.jsxs("div",{className:"mb-4",children:[g.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:g.jsx("div",{className:"bg-green-600 h-2.5 rounded-full transition-all duration-300 ease-in-out",style:{width:`${v}%`}})}),g.jsx("p",{className:"text-sm text-gray-600 mt-2",children:t.progress!==void 0&&t.total!==void 0?`${t.progress} of ${t.total} steps complete (${v}%)`:"Processing..."})]}),g.jsx("button",{onClick:s,className:"py-2 px-4 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})}return g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Generate Flash Cards"}),g.jsxs("div",{className:"mb-6",children:[g.jsx("p",{className:"text-gray-600 mb-2",children:"Create flash cards from your series content to help with studying and retention."}),t.status==="estimating"&&!m&&d===null?g.jsxs("div",{className:"flex items-center mt-4 text-gray-600",role:"status","aria-live":"polite",children:[g.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full"}),g.jsx("p",{children:"Estimating optimal number of flash cards..."})]}):d!==null?g.jsx("div",{className:"mt-4 bg-blue-50 border-l-4 border-blue-400 p-3",children:g.jsx("p",{className:"text-blue-700",children:m?`Estimation is taking longer than expected. Based on your content, we suggest starting with approximately ${d} flash cards.`:`Based on your content, we recommend generating approximately ${d} flash cards.`})}):null]}),g.jsxs("form",{onSubmit:b,children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{htmlFor:"cardCount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Flash Cards"}),g.jsx("input",{type:"range",id:"cardCount",min:Wi,max:lu,step:"1",value:l,onChange:y,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),g.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[g.jsx("span",{children:Wi}),g.jsx("span",{children:l}),g.jsx("span",{children:lu})]})]}),g.jsxs("button",{type:"submit",className:"w-full py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 flex justify-center items-center",children:["Generate ",l," Flash Cards"]})]})]})}function lh({card:r,series:t,isSelected:a,onClick:s}){const[l,u]=z.useState(!1),d=r.sourcePages.map(m=>{const p=t.pages.find(y=>y.id===m);return(p==null?void 0:p.meta.pageNumber)||"unknown"}),f=()=>{switch(r.difficulty){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return g.jsx("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border-2 ${a?"border-green-600":"border-transparent"}`,onClick:s,children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:`transition-all duration-500 ${l?"rotateY-180 opacity-0 h-0 overflow-hidden":"rotateY-0 opacity-100"}`,children:g.jsxs("div",{className:"p-4",children:[g.jsx("div",{className:"flex justify-between items-start mb-2",children:g.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${f()}`,children:r.difficulty})}),g.jsx("p",{className:"text-gray-800 font-medium",dangerouslySetInnerHTML:{__html:r.question}}),g.jsx("button",{onClick:m=>{m.stopPropagation(),u(!l)},className:"mt-4 text-green-600 text-sm hover:underline",children:"Show Answer"})]})}),g.jsx("div",{className:`transition-all duration-500 ${l?"rotateY-0 opacity-100":"rotateY-180 opacity-0 h-0 overflow-hidden"}`,children:g.jsxs("div",{className:"p-4",children:[g.jsx("div",{className:"flex justify-between items-start mb-2",children:g.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${f()}`,children:r.difficulty})}),g.jsx("p",{className:"text-gray-800",dangerouslySetInnerHTML:{__html:r.answer}}),g.jsx("div",{className:"mt-3",children:r.pageReferences?g.jsx("p",{className:"text-xs text-gray-600 italic mb-1",children:r.pageReferences}):g.jsx("div",{className:"flex flex-wrap gap-1",children:d.map((m,p)=>g.jsxs("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:["Page ",m]},p))})}),g.jsx("button",{onClick:m=>{m.stopPropagation(),u(!l)},className:"mt-4 text-green-600 text-sm hover:underline",children:"Show Question"})]})})]})})}function ix({series:r,onSeriesUpdate:t,readOnly:a=!1}){const{endpoint:s,apiKey:l}=Wh(),{domain:u}=hr(),[d,f]=z.useState(null),[m,p]=z.useState("all"),[y,b]=z.useState("all"),[A,v]=z.useState(r.flashcardStatus||{status:"idle"}),S=a||u==="viewer",x=r.pages.filter(R=>R.meta.pageNumber!==void 0).map(R=>({id:R.id,label:`Page ${R.meta.pageNumber}`})).reduce((R,H)=>(R.find(q=>q.label===H.label)||R.push(H),R),[]);z.useEffect(()=>{f(null)},[m,y]);const E=(r.flashcards||[]).filter(R=>m!=="all"&&R.difficulty!==m?!1:y!=="all"?R.sourcePages.includes(y):!0),k=z.useCallback(async R=>{try{const H=await zE(r.id,R,{status:"complete"});t(H),v({status:"complete"})}catch(H){console.error("Failed to update series with flash cards:",H),v({status:"error",error:H instanceof Error?H.message:"Failed to save flash cards"})}},[r.id,t]),N=z.useCallback(R=>{v({status:"error",error:R})},[]),T=z.useCallback(async R=>{if(!s||!l){console.error("Cannot generate flash cards: Azure configuration is missing"),v({status:"error",error:"Azure configuration is missing. Please configure your Azure OpenAI settings."});return}try{console.log("Starting flash card generation with count:",R),v({status:"generating",progress:0,total:1}),t({...r,flashcardStatus:{status:"generating",progress:0,total:1}}),await ME(r,{endpoint:s,apiKey:l},{count:R,difficulty:"mixed"},q=>{console.log("Flash card generation status update:",q),v(q),t({...r,flashcardStatus:q})},k,N)}catch(H){console.error("Error starting flash card generation:",H),v({status:"error",error:H instanceof Error?H.message:"Failed to start generation"})}},[s,l,r,t,k,N]),M=z.useCallback(()=>{UE(r.id),v({status:"idle"})},[r.id]);return!r.flashcards||r.flashcards.length===0?S?g.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg text-center text-gray-600",children:[g.jsx("h3",{className:"text-xl font-semibold mb-4",children:"No Flash Cards Available"}),g.jsx("p",{children:"This series doesn't have any flash cards for studying."})]}):g.jsx(g.Fragment,{children:g.jsx(QE,{series:r,status:A,onStartGeneration:T,onCancel:M})}):g.jsxs("div",{className:"mt-8",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsxs("h3",{className:`text-xl font-semibold ${S?"text-green-700":"text-blue-700"}`,children:["Flash Cards (",r.flashcards.length,")"]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx(VE,{series:r}),g.jsx(HE,{series:r}),!S&&g.jsx("button",{onClick:()=>T(10),className:"py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Regenerate Cards"})]})]}),g.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),g.jsxs("select",{value:m,onChange:R=>p(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[g.jsx("option",{value:"all",children:"All Difficulties"}),g.jsx("option",{value:"easy",children:"Easy"}),g.jsx("option",{value:"medium",children:"Medium"}),g.jsx("option",{value:"hard",children:"Hard"})]})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source Page"}),g.jsxs("select",{value:y,onChange:R=>b(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[g.jsx("option",{value:"all",children:"All Pages"}),x.map(R=>g.jsx("option",{value:R.id,children:R.label},R.id))]})]})]}),g.jsx("div",{className:"space-y-4",children:E.length>0?E.map(R=>S?g.jsx(lh,{card:R,series:r,isSelected:d===R.id,onClick:()=>f(d===R.id?null:R.id)},R.id):g.jsx(YE,{card:R,series:r,isSelected:d===R.id,onClick:()=>f(d===R.id?null:R.id),onDelete:()=>{var q;const H=((q=r.flashcards)==null?void 0:q.filter(ne=>ne.id!==R.id))||[];t({...r,flashcards:H})}},R.id)):g.jsx("div",{className:"bg-gray-50 p-6 rounded-lg text-center text-gray-500",children:"No flash cards match the selected filters"})})]})}function Gy(){const{seriesId:r}=dh(),t=Ks(),{setDomain:a}=hr(),[s,l]=z.useState(null),[u,d]=z.useState(!0),[f,m]=z.useState(null),[p,y]=z.useState(!1),[b,A]=z.useState(0),[v,S]=z.useState("content");z.useEffect(()=>{a("creator")},[a]),z.useEffect(()=>{async function R(){if(!r){m("No series ID provided"),d(!1);return}try{const H=await Wb(r);H?l(H):m("Series not found")}catch(H){m("Failed to load series"),console.error("Error loading series:",H)}finally{d(!1)}}R()},[r]);const x=z.useCallback(async()=>{if(r)try{await EE(r),t("/creator/dashboard")}catch(R){m("Failed to delete series"),console.error("Error deleting series:",R)}},[r,t]),E=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),k=z.useCallback(()=>{s&&A(R=>Math.min(R+1,s.pages.length-1))},[s]),N=z.useCallback(()=>{A(R=>Math.max(R-1,0))},[]),T=z.useCallback(async R=>{try{await Jh(R),l(R)}catch(H){console.error("Error updating series:",H),m("Failed to update series")}},[]);if(u)return g.jsx("div",{className:"flex justify-center my-12",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})});if(f||!s)return g.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-md",children:[g.jsx("p",{className:"font-medium mb-2",children:"Error"}),g.jsx("p",{children:f||"Failed to load series"}),g.jsx("button",{onClick:()=>t("/creator/dashboard"),className:"mt-4 py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Return to Dashboard"})]});const M=s.pages[b];return g.jsxs("div",{children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl sm:text-2xl font-semibold",children:s.name}),g.jsxs("p",{className:"text-gray-500 text-sm",children:["Created ",E(s.createdAt),"  ",s.pages.length," pages",s.flashcards?`  ${s.flashcards.length} flashcards`:""]})]}),g.jsx("div",{className:"flex space-x-2 mt-3 sm:mt-0",children:g.jsx("button",{onClick:()=>y(!0),className:"py-2 px-3 border border-red-300 text-red-600 rounded-md hover:bg-red-50",children:"Delete"})})]}),g.jsx("div",{className:"border-b border-gray-200 mb-6",children:g.jsxs("nav",{className:"flex space-x-8",children:[g.jsx("button",{onClick:()=>S("content"),className:`py-4 px-1 border-b-2 font-medium text-sm ${v==="content"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Pages"}),g.jsx("button",{onClick:()=>S("flashcards"),className:`py-4 px-1 border-b-2 font-medium text-sm ${v==="flashcards"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Flash Cards"})]})}),v==="content"&&g.jsx("div",{children:g.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[g.jsx("div",{className:"bg-gray-100 p-4 flex justify-center",children:g.jsx("img",{src:URL.createObjectURL(M.imageBlob),alt:`Page ${b+1}`,className:"max-h-[60vh] rounded-md shadow-sm",onLoad:R=>{const H=R.target;URL.revokeObjectURL(H.src)}})}),g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",b+1," of ",s.pages.length,M.meta.pageNumber?` (Page ${M.meta.pageNumber})`:""]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:N,disabled:b===0,className:`p-2 rounded-full ${b===0?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),g.jsx("button",{onClick:k,disabled:b===s.pages.length-1,className:`p-2 rounded-full ${b===s.pages.length-1?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]}),g.jsxs("div",{className:"prose prose-sm sm:prose lg:prose-lg max-w-none",children:[g.jsx("div",{className:"bg-gray-50 p-4 rounded-md whitespace-pre-wrap",children:M.text}),(M.meta.chapter||M.meta.bookTitle)&&g.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[M.meta.chapter&&g.jsxs("div",{children:["Chapter: ",M.meta.chapter]}),M.meta.bookTitle&&g.jsxs("div",{children:["Book: ",M.meta.bookTitle]})]}),M.imageDescriptions&&M.imageDescriptions.length>0&&g.jsxs("div",{className:"mt-4",children:[g.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Image Descriptions:"}),g.jsx("ul",{className:"list-disc pl-5 text-sm text-gray-600",children:M.imageDescriptions.map((R,H)=>g.jsx("li",{children:R},H))})]})]})]})]})}),v==="flashcards"&&g.jsx(ix,{series:s,onSeriesUpdate:T}),p&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[g.jsx("h3",{className:"text-lg font-medium mb-4",children:"Delete Series"}),g.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',s.name,'"? This action cannot be undone.']}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx("button",{onClick:()=>y(!1),className:"py-2 px-4 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),g.jsx("button",{onClick:x,className:"py-2 px-4 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})]})}function KE(){const{seriesId:r}=dh(),t=Ks(),{setDomain:a}=hr(),[s,l]=z.useState(null),[u,d]=z.useState(!0),[f,m]=z.useState(null),[p,y]=z.useState(0),[b,A]=z.useState("flashcards");z.useEffect(()=>{a("viewer")},[a]),z.useEffect(()=>{async function k(){if(!r){m("No series ID provided"),d(!1);return}try{const N=await Wb(r);N?l(N):m("Series not found")}catch(N){m("Failed to load series"),console.error("Error loading series:",N)}finally{d(!1)}}k()},[r]);const v=k=>new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),S=z.useCallback(()=>{s&&y(k=>Math.min(k+1,s.pages.length-1))},[s]),x=z.useCallback(()=>{y(k=>Math.max(k-1,0))},[]);if(u)return g.jsx("div",{className:"flex justify-center my-12",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-600"})});if(f||!s)return g.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-md",children:[g.jsx("p",{className:"font-medium mb-2",children:"Error"}),g.jsx("p",{children:f||"Failed to load series"}),g.jsx("button",{onClick:()=>t("/viewer/dashboard"),className:"mt-4 py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Back to Library"})]});if(!s.flashcards||s.flashcards.length===0)return g.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-700 p-4 rounded-md",children:[g.jsx("p",{className:"font-medium mb-2",children:"No Study Content Available"}),g.jsx("p",{children:"This series doesn't have any flashcards to study."}),g.jsx("button",{onClick:()=>t("/viewer/dashboard"),className:"mt-4 py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Back to Library"})]});const E=s.pages[p];return g.jsxs("div",{children:[g.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6",children:g.jsxs("div",{children:[g.jsxs("button",{onClick:()=>t("/viewer/dashboard"),className:"text-gray-600 hover:text-gray-900 mb-2 flex items-center",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Library"]}),g.jsx("h2",{className:"text-xl sm:text-2xl font-semibold",children:s.name}),g.jsxs("p",{className:"text-gray-500 text-sm",children:[s.flashcards.length," flashcards  ",s.pages.length," pages  Created ",v(s.createdAt)]})]})}),g.jsx("div",{className:"border-b border-gray-200 mb-6",children:g.jsxs("nav",{className:"flex space-x-8",children:[g.jsx("button",{onClick:()=>A("flashcards"),className:`py-4 px-1 border-b-2 font-medium text-sm ${b==="flashcards"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Flash Cards"}),g.jsx("button",{onClick:()=>A("content"),className:`py-4 px-1 border-b-2 font-medium text-sm ${b==="content"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Reference Materials"})]})}),b==="flashcards"&&g.jsx(ix,{series:s,onSeriesUpdate:k=>l(k),readOnly:!0}),b==="content"&&g.jsx("div",{children:g.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[g.jsx("div",{className:"bg-gray-100 p-4 flex justify-center",children:g.jsx("img",{src:URL.createObjectURL(E.imageBlob),alt:`Page ${p+1}`,className:"max-h-[60vh] rounded-md shadow-sm",onLoad:k=>{const N=k.target;URL.revokeObjectURL(N.src)}})}),g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",p+1," of ",s.pages.length,E.meta.pageNumber?` (Page ${E.meta.pageNumber})`:""]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:x,disabled:p===0,className:`p-2 rounded-full ${p===0?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),g.jsx("button",{onClick:S,disabled:p===s.pages.length-1,className:`p-2 rounded-full ${p===s.pages.length-1?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]}),g.jsxs("div",{className:"prose prose-sm sm:prose lg:prose-lg max-w-none",children:[g.jsx("div",{className:"bg-gray-50 p-4 rounded-md whitespace-pre-wrap",children:E.text}),(E.meta.chapter||E.meta.bookTitle)&&g.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[E.meta.chapter&&g.jsxs("div",{children:["Chapter: ",E.meta.chapter]}),E.meta.bookTitle&&g.jsxs("div",{children:["Book: ",E.meta.bookTitle]})]}),E.imageDescriptions&&E.imageDescriptions.length>0&&g.jsxs("div",{className:"mt-4",children:[g.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Image Descriptions:"}),g.jsx("ul",{className:"list-disc pl-5 text-sm text-gray-600",children:E.imageDescriptions.map((k,N)=>g.jsx("li",{children:k},N))})]})]})]})]})})]})}function Xy(){const r=Ks(),{draft:t,updatePage:a,removePage:s,setSeriesName:l,clearDraft:u}=em(),{endpoint:d,apiKey:f}=Wh(),[m,p]=z.useState(!1),[y,b]=z.useState({}),[A,v]=z.useState(null),[S,x]=z.useState(!1),[E,k]=z.useState(!1);if(!t)return r("/"),null;const N=z.useCallback(Z=>{v(Z)},[]),T=z.useCallback((Z,te)=>{a(Z,{text:te}),v(null)},[a]),M=z.useCallback(Z=>{s(Z)},[s]),R=z.useCallback(Z=>{s(Z),r("/capture")},[s,r]),H=z.useCallback(Z=>{if(!t||!d||!f)return;const te=t.pages.find(D=>D.id===Z);if(!te)return;const ce=new FileReader;ce.onloadend=()=>{var ee;const D=(ee=ce.result)==null?void 0:ee.toString().split(",")[1];D&&(a(Z,{status:"pending",error:void 0}),tm.enqueue(Z,D,{endpoint:d,apiKey:f},j=>{a(Z,{text:j.text,imageDescriptions:j.imageDescriptions,meta:j.meta,status:"complete"})},(j,re)=>{a(re,{error:j.message,status:"error"})},(j,re)=>{console.log(`Status update in SeriesReview: ${j}  ${re}`),a(j,{status:re})}))},ce.readAsDataURL(te.imageBlob)},[t,d,f,a]);z.useCallback(async()=>{k(!0)},[]),z.useCallback(()=>{k(!0)},[]);const q=z.useCallback(Z=>{Z.preventDefault();const ce=new FormData(Z.currentTarget).get("name");if(!(ce!=null&&ce.trim())){b({name:"Please enter a series name"});return}l(ce),k(!1),b({}),p(!0),setTimeout(async()=>{try{const D={id:Du(),name:ce,createdAt:new Date().toISOString(),pages:t.pages};await Jh(D),u(),r("/")}catch(D){console.error("Error saving series:",D),p(!1)}},50)},[l,t,u,r]),ne=z.useCallback(()=>{u(),r("/")},[u,r]);return g.jsxs("div",{className:"max-w-4xl mx-auto pb-16",children:[g.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-6",children:"Review Series"}),t.pages.length===0?g.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 p-4 rounded-md mb-6",children:[g.jsx("p",{children:"No pages in this series. Please add at least one page."}),g.jsx("button",{onClick:()=>r("/capture"),className:"mt-4 py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Capture Pages"})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"space-y-8",children:t.pages.map((Z,te)=>g.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:g.jsxs("div",{className:"sm:flex sm:gap-6",children:[g.jsxs("div",{className:"sm:w-1/3 mb-4 sm:mb-0",children:[g.jsxs("div",{className:"bg-gray-200 rounded-md overflow-hidden relative",children:[Z.status==="queued"&&g.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:g.jsxs("div",{className:"bg-white px-3 py-2 rounded-md",children:[g.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 border-t-blue-500 rounded-full mx-auto"}),g.jsx("p",{className:"text-sm mt-1",children:"Queued"})]})}),Z.status==="pending"&&g.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:g.jsxs("div",{className:"bg-white px-3 py-2 rounded-md",children:[g.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full mx-auto"}),g.jsx("p",{className:"text-sm mt-1",children:"Pending"})]})}),Z.status==="processing"&&g.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:g.jsxs("div",{className:"bg-white px-3 py-2 rounded-md",children:[g.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-primary mx-auto"}),g.jsx("p",{className:"text-sm mt-1",children:"Processing"})]})}),Z.status==="error"&&g.jsx("div",{className:"absolute inset-0 bg-red-500 bg-opacity-20 flex items-center justify-center",children:g.jsxs("div",{className:"bg-white p-3 rounded-md max-w-[90%]",children:[g.jsx("p",{className:"text-sm text-red-600 mb-2",children:Z.error||"Processing failed"}),g.jsx("button",{onClick:()=>H(Z.id),className:"text-sm bg-blue-600 text-white py-1 px-2 rounded-md w-full hover:bg-blue-700",children:"Retry Processing"})]})}),g.jsx("img",{src:URL.createObjectURL(Z.imageBlob),alt:`Page ${te+1}`,className:"w-full object-contain",onLoad:ce=>{const D=ce.target;setTimeout(()=>{D.src.startsWith("blob:")&&URL.revokeObjectURL(D.src)},1e3)}})]}),g.jsxs("div",{className:"mt-2 flex justify-between",children:[g.jsx("button",{onClick:()=>R(Z.id),className:"text-sm text-gray-600 hover:text-primary",children:"Retake"}),g.jsx("button",{onClick:()=>M(Z.id),className:"text-sm text-red-600 hover:text-red-700",children:"Delete"})]})]}),g.jsxs("div",{className:"sm:w-2/3",children:[g.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[g.jsxs("h3",{className:"font-medium",children:["Page ",te+1]}),A!==Z.id&&g.jsx("button",{onClick:()=>N(Z.id),className:"text-sm text-blue-600 hover:text-blue-700",children:"Edit Text"})]}),A===Z.id?g.jsxs("div",{className:"mt-2",children:[g.jsx("textarea",{className:"w-full border border-gray-300 rounded-md p-2 h-48",defaultValue:Z.text}),g.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[g.jsx("button",{onClick:()=>v(null),className:"py-1 px-3 border border-gray-300 rounded",children:"Cancel"}),g.jsx("button",{onClick:()=>{const ce=document.querySelector("textarea");ce&&T(Z.id,ce.value)},className:"py-1 px-3 bg-blue-600 text-white rounded",children:"Save"})]})]}):g.jsx(g.Fragment,{children:Z.meta&&Z.meta.error?g.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 rounded-md text-sm",children:[g.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),g.jsx("h4",{className:"font-medium",children:"Text Extraction Problem"})]}),g.jsx("p",{children:"The image could not be properly analyzed. This might be due to:"}),g.jsxs("ul",{className:"list-disc pl-5 mt-1",children:[g.jsx("li",{children:"Low image quality or poor lighting"}),g.jsx("li",{children:"Non-text content or unrecognizable text"}),g.jsx("li",{children:"Complex formatting that wasn't properly recognized"})]}),g.jsx("p",{className:"mt-2",children:"Try retaking the photo with better lighting and a clearer view."})]}):g.jsx("div",{className:"bg-gray-50 p-3 rounded-md text-sm max-h-48 overflow-y-auto",dangerouslySetInnerHTML:{__html:Z.text||"<em>No text extracted</em>"}})}),Z.imageDescriptions&&Z.imageDescriptions.length>0&&g.jsxs("div",{className:"mt-4",children:[g.jsx("h4",{className:"text-sm font-medium mb-1",children:"Image Descriptions:"}),g.jsx("ul",{className:"text-sm text-gray-600",children:Z.imageDescriptions.map((ce,D)=>g.jsx("li",{className:"mb-1",children:ce},D))})]}),"                                        ",Object.keys(Z.meta).length>0&&g.jsxs("div",{className:"mt-4",children:[g.jsx("h4",{className:"text-sm font-medium mb-1",children:"Metadata:"}),g.jsx("dl",{className:"text-sm grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(Z.meta).filter(([ce,D])=>D!=null&&D!==""&&ce!=="figures"&&ce!=="error"&&String(D).trim()!=="").map(([ce,D])=>g.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[g.jsxs("dt",{className:"font-medium",children:[ce,":"]}),g.jsx("dd",{children:String(D)})]},ce))})]})]})]})},Z.id))}),g.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4",children:g.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between",children:[g.jsx("button",{onClick:()=>x(!0),className:"py-2 px-4 border border-gray-300 rounded-md hover:bg-gray-50",children:"Discard"}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("button",{onClick:()=>r("/capture"),className:"py-2 px-4 border border-blue-600 text-blue-600 rounded-md hover:bg-blue-50",children:"Add More Pages"}),"                                ",g.jsx("button",{onClick:()=>k(!0),disabled:t.pages.length===0||m,className:"py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:m?"Saving...":"Save Series"})]})]})})]}),S&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[g.jsx("h3",{className:"text-lg font-medium mb-3",children:"Discard Series?"}),g.jsx("p",{className:"mb-6",children:"Are you sure you want to discard this series? All captured pages will be lost."}),g.jsxs("div",{className:"flex justify-end gap-3",children:[g.jsx("button",{onClick:()=>x(!1),className:"py-2 px-4 border border-gray-300 rounded-md",children:"Cancel"}),g.jsx("button",{onClick:ne,className:"py-2 px-4 bg-red-600 text-white rounded-md",children:"Discard"})]})]})}),E&&g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[g.jsx("h3",{className:"text-lg font-medium mb-3",children:"Name Your Series"}),g.jsxs("form",{onSubmit:q,children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{htmlFor:"name",className:"block mb-1 text-sm font-medium",children:"Series Name"}),g.jsx("input",{type:"text",id:"name",name:"name",defaultValue:t.name||"",className:"w-full border border-gray-300 rounded-md p-2",autoFocus:!0}),y.name&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.name})]}),g.jsxs("div",{className:"flex justify-end gap-3",children:[g.jsx("button",{type:"button",onClick:()=>{k(!1),b({})},className:"py-2 px-4 border border-gray-300 rounded-md",children:"Cancel"}),g.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save"})]})]})]})})]})}function Qy(){const[r,t]=z.useState(!0),[a,s]=z.useState(null),[l,u]=z.useState([]),{setDomain:d}=hr();z.useEffect(()=>{d("viewer")},[d]),z.useEffect(()=>{(async()=>{try{t(!0),s(null);const{loadStudyPackManifest:p}=await uh(async()=>{const{loadStudyPackManifest:b}=await import("./studyPackManifest-DMftykbK.js");return{loadStudyPackManifest:b}},[]),y=await p();console.log("Loaded manifest:",y),u(y.packs||[])}catch(p){console.error("Error loading StudyPacks:",p),s("Failed to load available StudyPacks. Please try again later.")}finally{t(!1)}})()},[]);const f=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return r?g.jsx("div",{className:"container mx-auto px-4 py-8",children:g.jsx("div",{className:"flex justify-center my-8",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):a?g.jsx("div",{className:"container mx-auto px-4 py-8",children:g.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md my-4",children:a})}):l.length===0?g.jsxs("div",{className:"container mx-auto px-4 py-8",children:[g.jsxs("div",{className:"flex items-center mb-6",children:["                ",g.jsx(It,{to:"/viewer/dashboard",className:"mr-4 text-gray-600 hover:text-gray-900",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),g.jsx("h2",{className:"text-xl sm:text-2xl font-semibold",children:"StudyPack Library"})]}),g.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-8 text-center my-4",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No StudyPacks Available"}),g.jsx("p",{className:"text-gray-600",children:"There are no pre-made study materials available yet. Check back later for updates."})]})]}):g.jsxs("div",{className:"container mx-auto px-4 py-8",children:[g.jsxs("div",{className:"flex items-center mb-6",children:["                ",g.jsx(It,{to:"/viewer/dashboard",className:"mr-4 text-gray-600 hover:text-gray-900",children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),g.jsx("h2",{className:"text-xl sm:text-2xl font-semibold",children:"StudyPack Library"})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(m=>g.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:g.jsxs("div",{className:"p-5",children:[g.jsx("h3",{className:"text-lg font-semibold mb-2 truncate",children:m.title}),m.author&&g.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["By ",m.author]}),g.jsx("p",{className:"text-sm text-gray-700 h-12 overflow-hidden mb-3",children:m.description||"No description available."}),"                            ",g.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-4",children:["                                ",m.widgets&&m.widgets.length>0?g.jsx("span",{children:m.widgets.map((p,y)=>g.jsxs("span",{className:y>0?"ml-2":"",children:[p.count," ",p.type,p.count>1&&!p.type.endsWith("s")?"s":""]},y))}):g.jsxs("span",{children:[m.cardCount," flash cards"]}),g.jsx("span",{children:f(m.createdAt)})]}),g.jsx(It,{to:`/viewer/studypack/${m.id}`,className:"block w-full text-center py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700",children:"View Study Materials"})]})},m.id))})]})}function Ky(){var k;const{packId:r}=dh(),t=Ks(),[a,s]=z.useState(!0),[l,u]=z.useState(null),[d,f]=z.useState(null),[m,p]=z.useState(null),[y,b]=z.useState("all"),{setDomain:A}=hr();z.useEffect(()=>{A("viewer")},[A]),z.useEffect(()=>{(async()=>{if(r)try{s(!0),u(null);const T=["./studypacks","/studypacks","/public/studypacks"];let M=null,R=null,H="";for(const D of T)try{const ee=`${D}/${r}/metadata.json`;if(console.log("Trying to fetch metadata from:",ee),M=await fetch(ee),M.ok){console.log("Successfully loaded metadata from:",ee),console.log("Using successful base path for all StudyPack resources:",D),H=D;break}}catch{console.warn(`Failed to fetch from ${D}, trying next...`)}if(!(M!=null&&M.ok))throw console.error("Failed to load StudyPack metadata from any paths. Tried:",T.join(", ")),new Error("Failed to load StudyPack: Not Found");const q=await M.json(),ne=`${H}/${r}/cards.json`;if(console.log("Fetching cards from:",ne),R=await fetch(ne),!R.ok)throw console.error("Failed to load cards with status:",R.status,R.statusText),new Error(`Failed to load flash cards: ${R.statusText}`);console.log("Successfully loaded cards from:",ne);const Z=await R.json();let te;try{const D=`${H}/${r}/widgets.json`;console.log("Fetching widgets from:",D);const ee=await fetch(D);ee.ok&&(console.log("Successfully loaded widgets from:",D),te=await ee.json())}catch(D){console.warn("No widgets found, using legacy cards only:",D)}let ce;try{const D=`${H}/${r}/page-references.json`;console.log("Fetching page references from:",D);const ee=await fetch(D);ee.ok&&(console.log("Successfully loaded page references from:",D),ce=await ee.json())}catch(D){console.warn("No page references found:",D)}f({metadata:q,cards:Z,widgets:te,pageReferences:ce})}catch(T){console.error("Error loading StudyPack:",T),u("Failed to load the StudyPack. Please try again later.")}finally{s(!1)}})()},[r]);const v=(d==null?void 0:d.cards.filter(N=>y==="all"?!0:N.difficulty===y))||[],S=((k=d==null?void 0:d.widgets)==null?void 0:k.filter(N=>N.type!=="flashcard"?!1:y==="all"?!0:N.difficulty===y))||[],x=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),E=()=>{t(-1)};return a?g.jsx("div",{className:"container mx-auto px-4 py-8",children:g.jsx("div",{className:"flex justify-center my-12",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):l?g.jsxs("div",{className:"container mx-auto px-4 py-8",children:[g.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:l}),"                ",g.jsx("button",{onClick:E,className:"py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Go Back"})]}):d?g.jsxs("div",{className:"container mx-auto px-4 py-8",children:[g.jsxs("button",{onClick:E,className:"mb-4 flex items-center text-gray-600 hover:text-gray-900",children:[g.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),g.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:g.jsxs("div",{className:"p-6",children:[g.jsx("h2",{className:"text-2xl font-bold mb-2",children:d.metadata.title}),d.metadata.author&&g.jsxs("p",{className:"text-gray-600 mb-2",children:["By ",d.metadata.author]}),d.metadata.description&&g.jsx("p",{className:"text-gray-700 mb-4",children:d.metadata.description}),"                    ",g.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-medium",children:"Cards:"})," ",d.metadata.cardCount]}),d.metadata.widgets&&d.metadata.widgets.length>0&&g.jsxs("div",{className:"flex gap-2",children:[g.jsx("span",{className:"font-medium",children:"Widgets:"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:d.metadata.widgets.map((N,T)=>g.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:[N.count," ",N.type]},T))})]}),d.metadata.imageCount>0&&g.jsxs("div",{children:[g.jsx("span",{className:"font-medium",children:"Images:"})," ",d.metadata.imageCount]}),g.jsxs("div",{children:[g.jsx("span",{className:"font-medium",children:"Created:"})," ",x(d.metadata.createdAt)]})]})]})}),"            ",g.jsxs("div",{className:"mb-6",children:[g.jsxs("h3",{className:"text-xl font-semibold mb-4",children:["Flash Cards (",v.length+S.length,")"]}),g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Difficulty"}),g.jsxs("select",{value:y,onChange:N=>b(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-md",children:[g.jsx("option",{value:"all",children:"All Levels"}),g.jsx("option",{value:"easy",children:"Easy"}),g.jsx("option",{value:"medium",children:"Medium"}),g.jsx("option",{value:"hard",children:"Hard"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.map(N=>g.jsx(lh,{card:N,series:{id:d.metadata.id,name:d.metadata.title,createdAt:d.metadata.createdAt,pages:[],flashcards:d.cards},isSelected:m===N.id,onClick:()=>p(N.id===m?null:N.id)},N.id)),S.map(N=>g.jsx(lh,{card:N,series:{id:d.metadata.id,name:d.metadata.title,createdAt:d.metadata.createdAt,pages:[],widgets:d.widgets},isSelected:m===N.id,onClick:()=>p(N.id===m?null:N.id)},N.id))]}),v.length+S.length===0&&g.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-6 text-center",children:g.jsx("p",{className:"text-gray-600",children:"No flash cards found matching your filter criteria."})})]})]}):g.jsx("div",{className:"container mx-auto px-4 py-8",children:g.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-8 text-center",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"StudyPack Not Found"}),g.jsx("p",{className:"text-gray-600 mb-4",children:"The requested study materials could not be found."}),"                    ",g.jsx("button",{onClick:E,className:"py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Go Back"})]})})}function Jy(){const[r,t]=z.useState(!0),[a,s]=z.useState(null),[l,u]=z.useState([]),{setDomain:d}=hr();z.useEffect(()=>{d("viewer")},[d]),z.useEffect(()=>{(async()=>{try{t(!0),s(null);const{loadStudyPackManifest:p}=await uh(async()=>{const{loadStudyPackManifest:b}=await import("./studyPackManifest-DMftykbK.js");return{loadStudyPackManifest:b}},[]),y=await p();console.log("Loaded manifest:",y),u(y.packs||[])}catch(p){console.error("Error loading StudyPacks:",p),s("Failed to load available StudyPacks. Please try again later.")}finally{t(!1)}})()},[]);const f=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return r?g.jsx("div",{className:"flex justify-center my-12",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-600"})}):a?g.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md my-4",children:a}):g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:"text-xl sm:text-2xl font-semibold",children:"Study Materials"}),"                ",g.jsxs(It,{to:"/viewer/studypacks",className:"flex items-center py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"})}),"Browse Study Packs"]})]}),l.length===0?g.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 p-4 rounded-md text-center",children:[g.jsx("p",{className:"font-medium mb-2",children:"No study materials available"}),g.jsx("p",{className:"mb-4",children:"Check out the pre-made study packs to get started learning."}),"                    ",g.jsxs(It,{to:"/viewer/studypacks",className:"inline-flex items-center py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Browse Study Packs"]})]}):g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(m=>g.jsx(It,{to:`/viewer/studypack/${m.id}`,className:"block bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:g.jsxs("div",{className:"p-5",children:[g.jsx("h3",{className:"font-medium text-lg mb-1 truncate",children:m.title}),g.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[g.jsxs("span",{children:[m.cardCount," cards"]}),g.jsx("span",{children:f(m.createdAt)})]}),g.jsx("div",{className:"mt-3 flex justify-end",children:g.jsx("span",{className:"text-green-600 text-sm",children:"Study Now "})})]})},m.id))}),g.jsxs("div",{className:"mt-10",children:[g.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Learning Tips"}),g.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-5",children:[g.jsx("p",{className:"text-gray-600 mb-4",children:"For the best learning experience:"}),g.jsxs("ul",{className:"list-disc pl-5 text-gray-600 mb-4",children:[g.jsx("li",{children:"Review flashcards regularly for better retention"}),g.jsx("li",{children:"Use the difficulty filters to focus on challenging cards"}),g.jsx("li",{children:"Create a study schedule to maintain consistency"})]})]})]})]})}function JE(){const{setDomain:r}=hr(),t=oa();z.useEffect(()=>{r("viewer")},[r]);const a=s=>t.pathname===s||t.pathname.startsWith(`${s}/`);return g.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g.jsx("header",{className:"bg-green-600 text-white shadow-md",children:g.jsx("div",{className:"container mx-auto px-4 py-3",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),g.jsx("h1",{className:"text-xl font-semibold",children:"Study Mode"})]}),"                        ",g.jsxs("nav",{className:"flex items-center space-x-4",children:["                            ",g.jsx(It,{to:"/viewer/dashboard",className:`px-3 py-2 rounded-md ${a("/viewer/dashboard")?"bg-green-700":"hover:bg-green-700"}`,children:"Study Packs"}),g.jsx(It,{to:"/",className:"px-3 py-2 rounded-md hover:bg-green-700",children:"Switch Mode"})]})]})})}),g.jsx("main",{className:"container mx-auto px-4 py-6",children:g.jsx(cv,{})})]})}function WE(){return g.jsxs(Nw,{children:[g.jsx(Tt,{path:"/",element:g.jsx(l2,{})}),g.jsxs(Tt,{path:"/creator",element:g.jsx(DE,{}),children:[g.jsx(Tt,{index:!0,element:g.jsx(Vy,{})}),g.jsx(Tt,{path:"dashboard",element:g.jsx(Vy,{})}),g.jsx(Tt,{path:"series/:seriesId",element:g.jsx(Gy,{})}),g.jsx(Tt,{path:"capture",element:g.jsx(Fy,{})}),g.jsx(Tt,{path:"review",element:g.jsx(Xy,{})})]}),g.jsx(Tt,{path:"/capture",element:g.jsx(Fy,{})}),g.jsx(Tt,{path:"/review",element:g.jsx(Xy,{})}),g.jsx(Tt,{path:"/series/:seriesId",element:g.jsx(Gy,{})}),g.jsxs(Tt,{path:"/viewer",element:g.jsx(JE,{}),children:[g.jsx(Tt,{index:!0,element:g.jsx(Jy,{})}),g.jsx(Tt,{path:"dashboard",element:g.jsx(Jy,{})}),g.jsx(Tt,{path:"series/:seriesId",element:g.jsx(KE,{})}),"                ",g.jsx(Tt,{path:"studypacks",element:g.jsx(Qy,{})}),g.jsx(Tt,{path:"studypack/:packId",element:g.jsx(Ky,{})})]}),g.jsx(Tt,{path:"/studypacks",element:g.jsx(Qy,{})}),g.jsx(Tt,{path:"/studypack/:packId",element:g.jsx(Ky,{})})]})}function ek({onSetup:r}){const[t,a]=z.useState(),[s,l]=z.useState(!1),[u,d]=z.useState(!1);z.useEffect(()=>{async function m(){try{const p=new URLSearchParams(window.location.search);let y=new URLSearchParams;const b=window.location.hash.split("?");b.length>1&&(y=new URLSearchParams(b[1]));const A=p.get("key")||y.get("key");if(A){console.log("ConnectionSetup: Key found in URL"),d(!0),l(!0);try{const v=atob(A),S=JSON.parse(v);if(S.endpoint&&S.apiKey)await ih(A),console.log("ConnectionSetup: Key saved successfully"),r();else throw new Error("Invalid key structure")}catch(v){console.error("Invalid Base64 JSON key format:",v),a("The URL contains an invalid connection key format. Please use the Base64-encoded JSON format."),l(!1),d(!1)}}}catch(p){console.error("Error processing URL parameters:",p),l(!1),d(!1)}}m()},[r]);const f=z.useCallback(async m=>{m.preventDefault(),a(void 0),l(!0);const y=new FormData(m.currentTarget).get("key");console.log("ConnectionSetup: Submitting key");try{const b=atob(y),A=JSON.parse(b);if(A.endpoint&&A.apiKey)await ih(y),console.log("ConnectionSetup: Key saved successfully"),r();else throw new Error("Invalid key structure")}catch(b){console.error("ConnectionSetup: Error processing key",b),a("Invalid connection key. Please use a Base64-encoded JSON format.")}finally{l(!1)}},[r]);return u&&s?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:g.jsxs("div",{className:"w-full max-w-sm sm:max-w-md px-6 py-8 bg-white rounded-lg shadow-md text-center",children:[g.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Setting Up Connection"}),g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}),g.jsx("p",{className:"mt-4 text-gray-600",children:"Validating connection key from URL..."})]})}):g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4 sm:px-6",children:g.jsxs("div",{className:"w-full max-w-sm sm:max-w-md lg:max-w-lg px-6 py-8 bg-white rounded-lg shadow-md",children:[g.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-6 text-center",children:"Welcome to Ascension"}),g.jsx("p",{className:"mb-4 text-gray-600 sm:text-lg",children:"To get started, please enter your connection key. This is required to connect to Azure's GPT-4 Vision API."}),g.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:g.jsxs("p",{className:"text-sm text-blue-800",children:[g.jsx("span",{className:"font-medium",children:"Required format:"}),g.jsx("br",{}),"Base64-encoded JSON with endpoint and apiKey fields"]})}),g.jsxs("form",{onSubmit:f,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"key",className:"block text-sm font-medium text-gray-700",children:"Connection Key"}),g.jsx("textarea",{id:"key",name:"key",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",rows:3,placeholder:"Paste your Base64-encoded JSON connection key..."})]}),t&&g.jsx("p",{className:"text-red-600 text-sm",children:t}),"                    ",g.jsx("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:g.jsx("button",{type:"submit",disabled:s,className:"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 disabled:opacity-50",children:s?"Validating...":"Continue"})}),g.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[g.jsx("p",{children:"How to generate a connection key:"}),g.jsxs("ol",{className:"list-decimal list-inside mt-1 space-y-1",children:[g.jsx("li",{children:"Run the following command in your terminal:"}),g.jsx("pre",{className:"mt-1 bg-gray-100 p-2 rounded overflow-auto text-xs",children:"npm run share-link -- YOUR_ENDPOINT YOUR_API_KEY"}),g.jsx("li",{children:"Copy the generated Base64-encoded connection key"})]}),"                        ",g.jsx("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded-md",children:g.jsxs("p",{className:"text-green-800",children:[g.jsx("span",{className:"font-medium",children:"Pro tip:"})," You can also share the app with your key included:",g.jsx("code",{className:"mt-1 block bg-white p-1 text-xs overflow-x-auto",children:"https://abuursaminor.github.io/ursa-minor-ascension/?key=YOUR_BASE64_JSON_KEY"}),g.jsx("span",{className:"block mt-1",children:"The share-link command will generate this URL for you."})]})})]})]})]})})}class lx extends z.Component{constructor(){super(...arguments);Dr(this,"state",{hasError:!1})}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,s){console.error("Uncaught error:",a,s)}render(){var a;return this.state.hasError?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50",children:g.jsxs("div",{className:"max-w-md p-6 bg-white rounded-lg shadow-lg",children:[g.jsx("h1",{className:"text-xl font-bold text-red-600 mb-4",children:"Something went wrong"}),g.jsx("p",{className:"text-gray-600 mb-4",children:((a=this.state.error)==null?void 0:a.message)||"An unexpected error occurred"}),g.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:()=>window.location.reload(),children:"Reload page"})]})}):this.props.children}}const tk=Kw;function nk(){const[r,t]=z.useState(null),[a,s]=z.useState(!1),[l,u]=z.useState(!0);return console.log("App render state:",{hasKey:r,isPrivate:a,isLoading:l}),z.useEffect(()=>{async function d(){try{const f=await kE();if(s(f),f)t(!1);else{const m=new URLSearchParams(window.location.search),p=window.location.hash.split("?"),y=p.length>1?new URLSearchParams(p[1]):new URLSearchParams,b=m.get("key")||y.get("key");let A=!1;if(b){console.log("Key parameter found in URL");try{const v=atob(b),S=JSON.parse(v);if(S.endpoint&&S.apiKey)console.log("URL key is valid, saving to storage"),await ih(b),A=!0;else throw new Error("Invalid key structure")}catch(v){console.error("Invalid key format in URL parameter:",v)}}if(!A){const v=await ex();console.log("Connection key found in storage:",!!v),A=!!v}t(A)}}catch(f){console.error("Error checking for connection key:",f),t(!1)}finally{u(!1)}}d()},[]),l?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):a?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-yellow-50",children:g.jsxs("div",{className:"max-w-md p-6 bg-white rounded-lg shadow-md",children:[g.jsx("h1",{className:"text-xl font-bold mb-4",children:"Private Browsing Detected"}),g.jsx("p",{className:"text-gray-600",children:"Ascension requires IndexedDB support, which is not available in private browsing mode. Please switch to normal browsing mode to use all features."})]})}):r===!1?g.jsx(ek,{onSetup:()=>t(!0)}):g.jsx(lx,{children:g.jsx(NE,{children:g.jsx(jE,{children:g.jsx(tk,{children:g.jsx(OE,{children:g.jsx("div",{className:"min-h-screen bg-gray-50",children:g.jsx(WE,{})})})})})})})}navigator.storage&&navigator.storage.persist&&navigator.storage.persist().then(r=>{console.log(`Storage persistence is ${r?"enabled":"not enabled"}`)});const ak=/iPad|iPhone|iPod/.test(navigator.userAgent),rk=Intl.NumberFormat().resolvedOptions().locale.startsWith("en-GB");if(ak&&rk){const t=navigator.userAgent.match(/OS (\d+)_(\d+)/);t&&t[1]==="17"&&t[2]==="4"&&alert("Note: If you are using iOS 17.4 beta, PWA functionality might be limited. Please update to the latest iOS version.")}const sk=M_({onNeedRefresh(){confirm("New content available. Reload to update?")&&sk(!0)},onOfflineReady(){console.log("App ready to work offline")}});R_.createRoot(document.getElementById("root")).render(g.jsx(z.StrictMode,{children:g.jsx(lx,{children:g.jsx(nk,{})})}));
