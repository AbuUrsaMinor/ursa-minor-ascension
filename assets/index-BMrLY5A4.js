var sx=Object.defineProperty;var ix=(r,t,a)=>t in r?sx(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a;var Tr=(r,t,a)=>ix(r,typeof t!="symbol"?t+"":t,a);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function a(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=a(l);fetch(l.href,o)}})();var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lx(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var rd={exports:{}},Vi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function ux(){if(Ly)return Vi;Ly=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(s,l,o){var f=null;if(o!==void 0&&(f=""+o),l.key!==void 0&&(f=""+l.key),"key"in l){o={};for(var d in l)d!=="key"&&(o[d]=l[d])}else o=l;return l=o.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:o}}return Vi.Fragment=t,Vi.jsx=a,Vi.jsxs=a,Vi}var Py;function ox(){return Py||(Py=1,rd.exports=ux()),rd.exports}var w=ox(),sd={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function cx(){if(Zy)return Ze;Zy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=y&&D[y]||D["@@iterator"],typeof D=="function"?D:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function C(D,U,$){this.props=D,this.context=U,this.refs=_,this.updater=$||v}C.prototype.isReactComponent={},C.prototype.setState=function(D,U){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,U,"setState")},C.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function E(){}E.prototype=C.prototype;function S(D,U,$){this.props=D,this.context=U,this.refs=_,this.updater=$||v}var R=S.prototype=new E;R.constructor=S,k(R,C.prototype),R.isPureReactComponent=!0;var M=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function I(D,U,$,ie,ue,me){return $=me.ref,{$$typeof:r,type:D,key:U,ref:$!==void 0?$:null,props:me}}function se(D,U){return I(D.type,U,void 0,void 0,void 0,D.props)}function P(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function ee(D){var U={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function($){return U[$]})}var de=/\/+/g;function z(D,U){return typeof D=="object"&&D!==null&&D.key!=null?ee(""+D.key):U.toString(36)}function ae(){}function N(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ae,ae):(D.status="pending",D.then(function(U){D.status==="pending"&&(D.status="fulfilled",D.value=U)},function(U){D.status==="pending"&&(D.status="rejected",D.reason=U)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ne(D,U,$,ie,ue){var me=typeof D;(me==="undefined"||me==="boolean")&&(D=null);var Ae=!1;if(D===null)Ae=!0;else switch(me){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(D.$$typeof){case r:case t:Ae=!0;break;case g:return Ae=D._init,ne(Ae(D._payload),U,$,ie,ue)}}if(Ae)return ue=ue(D),Ae=ie===""?"."+z(D,0):ie,M(ue)?($="",Ae!=null&&($=Ae.replace(de,"$&/")+"/"),ne(ue,U,$,"",function(Ie){return Ie})):ue!=null&&(P(ue)&&(ue=se(ue,$+(ue.key==null||D&&D.key===ue.key?"":(""+ue.key).replace(de,"$&/")+"/")+Ae)),U.push(ue)),1;Ae=0;var et=ie===""?".":ie+":";if(M(D))for(var Ce=0;Ce<D.length;Ce++)ie=D[Ce],me=et+z(ie,Ce),Ae+=ne(ie,U,$,me,ue);else if(Ce=A(D),typeof Ce=="function")for(D=Ce.call(D),Ce=0;!(ie=D.next()).done;)ie=ie.value,me=et+z(ie,Ce++),Ae+=ne(ie,U,$,me,ue);else if(me==="object"){if(typeof D.then=="function")return ne(N(D),U,$,ie,ue);throw U=String(D),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function F(D,U,$){if(D==null)return D;var ie=[],ue=0;return ne(D,ie,"","",function(me){return U.call($,me,ue++)}),ie}function Y(D){if(D._status===-1){var U=D._result;U=U(),U.then(function($){(D._status===0||D._status===-1)&&(D._status=1,D._result=$)},function($){(D._status===0||D._status===-1)&&(D._status=2,D._result=$)}),D._status===-1&&(D._status=0,D._result=U)}if(D._status===1)return D._result.default;throw D._result}var be=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ce(){}return Ze.Children={map:F,forEach:function(D,U,$){F(D,function(){U.apply(this,arguments)},$)},count:function(D){var U=0;return F(D,function(){U++}),U},toArray:function(D){return F(D,function(U){return U})||[]},only:function(D){if(!P(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ze.Component=C,Ze.Fragment=a,Ze.Profiler=l,Ze.PureComponent=S,Ze.StrictMode=s,Ze.Suspense=m,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(D){return B.H.useMemoCache(D)}},Ze.cache=function(D){return function(){return D.apply(null,arguments)}},Ze.cloneElement=function(D,U,$){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ie=k({},D.props),ue=D.key,me=void 0;if(U!=null)for(Ae in U.ref!==void 0&&(me=void 0),U.key!==void 0&&(ue=""+U.key),U)!X.call(U,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&U.ref===void 0||(ie[Ae]=U[Ae]);var Ae=arguments.length-2;if(Ae===1)ie.children=$;else if(1<Ae){for(var et=Array(Ae),Ce=0;Ce<Ae;Ce++)et[Ce]=arguments[Ce+2];ie.children=et}return I(D.type,ue,void 0,void 0,me,ie)},Ze.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},Ze.createElement=function(D,U,$){var ie,ue={},me=null;if(U!=null)for(ie in U.key!==void 0&&(me=""+U.key),U)X.call(U,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ue[ie]=U[ie]);var Ae=arguments.length-2;if(Ae===1)ue.children=$;else if(1<Ae){for(var et=Array(Ae),Ce=0;Ce<Ae;Ce++)et[Ce]=arguments[Ce+2];ue.children=et}if(D&&D.defaultProps)for(ie in Ae=D.defaultProps,Ae)ue[ie]===void 0&&(ue[ie]=Ae[ie]);return I(D,me,void 0,void 0,null,ue)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(D){return{$$typeof:d,render:D}},Ze.isValidElement=P,Ze.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:Y}},Ze.memo=function(D,U){return{$$typeof:p,type:D,compare:U===void 0?null:U}},Ze.startTransition=function(D){var U=B.T,$={};B.T=$;try{var ie=D(),ue=B.S;ue!==null&&ue($,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ce,be)}catch(me){be(me)}finally{B.T=U}},Ze.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Ze.use=function(D){return B.H.use(D)},Ze.useActionState=function(D,U,$){return B.H.useActionState(D,U,$)},Ze.useCallback=function(D,U){return B.H.useCallback(D,U)},Ze.useContext=function(D){return B.H.useContext(D)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(D,U){return B.H.useDeferredValue(D,U)},Ze.useEffect=function(D,U,$){var ie=B.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(D,U)},Ze.useId=function(){return B.H.useId()},Ze.useImperativeHandle=function(D,U,$){return B.H.useImperativeHandle(D,U,$)},Ze.useInsertionEffect=function(D,U){return B.H.useInsertionEffect(D,U)},Ze.useLayoutEffect=function(D,U){return B.H.useLayoutEffect(D,U)},Ze.useMemo=function(D,U){return B.H.useMemo(D,U)},Ze.useOptimistic=function(D,U){return B.H.useOptimistic(D,U)},Ze.useReducer=function(D,U,$){return B.H.useReducer(D,U,$)},Ze.useRef=function(D){return B.H.useRef(D)},Ze.useState=function(D){return B.H.useState(D)},Ze.useSyncExternalStore=function(D,U,$){return B.H.useSyncExternalStore(D,U,$)},Ze.useTransition=function(){return B.H.useTransition()},Ze.version="19.1.0",Ze}var $y;function rh(){return $y||($y=1,sd.exports=cx()),sd.exports}var Z=rh(),id={exports:{}},Fi={},ld={exports:{}},ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function fx(){return Hy||(Hy=1,function(r){function t(F,Y){var be=F.length;F.push(Y);e:for(;0<be;){var ce=be-1>>>1,D=F[ce];if(0<l(D,Y))F[ce]=Y,F[be]=D,be=ce;else break e}}function a(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var Y=F[0],be=F.pop();if(be!==Y){F[0]=be;e:for(var ce=0,D=F.length,U=D>>>1;ce<U;){var $=2*(ce+1)-1,ie=F[$],ue=$+1,me=F[ue];if(0>l(ie,be))ue<D&&0>l(me,ie)?(F[ce]=me,F[ue]=be,ce=ue):(F[ce]=ie,F[$]=be,ce=$);else if(ue<D&&0>l(me,be))F[ce]=me,F[ue]=be,ce=ue;else break e}}return Y}function l(F,Y){var be=F.sortIndex-Y.sortIndex;return be!==0?be:F.id-Y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var f=Date,d=f.now();r.unstable_now=function(){return f.now()-d}}var m=[],p=[],g=1,y=null,A=3,v=!1,k=!1,_=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function M(F){for(var Y=a(p);Y!==null;){if(Y.callback===null)s(p);else if(Y.startTime<=F)s(p),Y.sortIndex=Y.expirationTime,t(m,Y);else break;Y=a(p)}}function B(F){if(_=!1,M(F),!k)if(a(m)!==null)k=!0,X||(X=!0,z());else{var Y=a(p);Y!==null&&ne(B,Y.startTime-F)}}var X=!1,I=-1,se=5,P=-1;function ee(){return C?!0:!(r.unstable_now()-P<se)}function de(){if(C=!1,X){var F=r.unstable_now();P=F;var Y=!0;try{e:{k=!1,_&&(_=!1,S(I),I=-1),v=!0;var be=A;try{t:{for(M(F),y=a(m);y!==null&&!(y.expirationTime>F&&ee());){var ce=y.callback;if(typeof ce=="function"){y.callback=null,A=y.priorityLevel;var D=ce(y.expirationTime<=F);if(F=r.unstable_now(),typeof D=="function"){y.callback=D,M(F),Y=!0;break t}y===a(m)&&s(m),M(F)}else s(m);y=a(m)}if(y!==null)Y=!0;else{var U=a(p);U!==null&&ne(B,U.startTime-F),Y=!1}}break e}finally{y=null,A=be,v=!1}Y=void 0}}finally{Y?z():X=!1}}}var z;if(typeof R=="function")z=function(){R(de)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,N=ae.port2;ae.port1.onmessage=de,z=function(){N.postMessage(null)}}else z=function(){E(de,0)};function ne(F,Y){I=E(function(){F(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(F){switch(A){case 1:case 2:case 3:var Y=3;break;default:Y=A}var be=A;A=Y;try{return F()}finally{A=be}},r.unstable_requestPaint=function(){C=!0},r.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var be=A;A=F;try{return Y()}finally{A=be}},r.unstable_scheduleCallback=function(F,Y,be){var ce=r.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?ce+be:ce):be=ce,F){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=be+D,F={id:g++,callback:Y,priorityLevel:F,startTime:be,expirationTime:D,sortIndex:-1},be>ce?(F.sortIndex=be,t(p,F),a(m)===null&&F===a(p)&&(_?(S(I),I=-1):_=!0,ne(B,be-ce))):(F.sortIndex=D,t(m,F),k||v||(k=!0,X||(X=!0,z()))),F},r.unstable_shouldYield=ee,r.unstable_wrapCallback=function(F){var Y=A;return function(){var be=A;A=Y;try{return F.apply(this,arguments)}finally{A=be}}}}(ud)),ud}var Iy;function dx(){return Iy||(Iy=1,ld.exports=fx()),ld.exports}var od={exports:{}},Vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function hx(){if(qy)return Vt;qy=1;var r=rh();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(m,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:m,containerInfo:p,implementation:g}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Vt.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(m,p,null,g)},Vt.flushSync=function(m){var p=f.T,g=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=p,s.p=g,s.d.f()}},Vt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Vt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Vt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,y=d(g,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,v=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:A,fetchPriority:v}):g==="script"&&s.d.X(m,{crossOrigin:y,integrity:A,fetchPriority:v,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Vt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Vt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=d(g,p.crossOrigin);s.d.L(m,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Vt.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Vt.requestFormReset=function(m){s.d.r(m)},Vt.unstable_batchedUpdates=function(m,p){return m(p)},Vt.useFormState=function(m,p,g){return f.H.useFormState(m,p,g)},Vt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Vt.version="19.1.0",Vt}var Vy;function mx(){if(Vy)return od.exports;Vy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),od.exports=hx(),od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function px(){if(Fy)return Fi;Fy=1;var r=dx(),t=rh(),a=mx();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function d(e){if(o(e)!==e)throw Error(s(188))}function m(e){var n=e.alternate;if(!n){if(n=o(e),n===null)throw Error(s(188));return n!==e?null:e}for(var i=e,u=n;;){var c=i.return;if(c===null)break;var h=c.alternate;if(h===null){if(u=c.return,u!==null){i=u;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===i)return d(c),e;if(h===u)return d(c),n;h=h.sibling}throw Error(s(188))}if(i.return!==u.return)i=c,u=h;else{for(var b=!1,T=c.child;T;){if(T===i){b=!0,i=c,u=h;break}if(T===u){b=!0,u=c,i=h;break}T=T.sibling}if(!b){for(T=h.child;T;){if(T===i){b=!0,i=h,u=c;break}if(T===u){b=!0,u=h,i=c;break}T=T.sibling}if(!b)throw Error(s(189))}}if(i.alternate!==u)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),R=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=de&&e[de]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Symbol.for("react.client.reference");function N(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ae?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case C:return"Profiler";case _:return"StrictMode";case B:return"Suspense";case X:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case v:return"Portal";case R:return(e.displayName||"Context")+".Provider";case S:return(e._context.displayName||"Context")+".Consumer";case M:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:N(e.type)||"Memo";case se:n=e._payload,e=e._init;try{return N(e(n))}catch{}}return null}var ne=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},ce=[],D=-1;function U(e){return{current:e}}function $(e){0>D||(e.current=ce[D],ce[D]=null,D--)}function ie(e,n){D++,ce[D]=e.current,e.current=n}var ue=U(null),me=U(null),Ae=U(null),et=U(null);function Ce(e,n){switch(ie(Ae,n),ie(me,e),ie(ue,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?dy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=dy(n),e=hy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(ue),ie(ue,e)}function Ie(){$(ue),$(me),$(Ae)}function bt(e){e.memoizedState!==null&&ie(et,e);var n=ue.current,i=hy(n,e.type);n!==i&&(ie(me,e),ie(ue,i))}function ct(e){me.current===e&&($(ue),$(me)),et.current===e&&($(et),Zi._currentValue=be)}var Jt=Object.prototype.hasOwnProperty,Gt=r.unstable_scheduleCallback,x=r.unstable_cancelCallback,fe=r.unstable_shouldYield,te=r.unstable_requestPaint,j=r.unstable_now,O=r.unstable_getCurrentPriorityLevel,q=r.unstable_ImmediatePriority,pe=r.unstable_UserBlockingPriority,ge=r.unstable_NormalPriority,K=r.unstable_LowPriority,ve=r.unstable_IdlePriority,Se=r.log,_e=r.unstable_setDisableYieldValue,Ne=null,$e=null;function Be(e){if(typeof Se=="function"&&_e(e),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Ne,e)}catch{}}var ft=Math.clz32?Math.clz32:fr,cr=Math.log,vn=Math.LN2;function fr(e){return e>>>=0,e===0?32:31-(cr(e)/vn|0)|0}var dt=256,la=4194304;function Tn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wt(e,n,i){var u=e.pendingLanes;if(u===0)return 0;var c=0,h=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var T=u&134217727;return T!==0?(u=T&~h,u!==0?c=Tn(u):(b&=T,b!==0?c=Tn(b):i||(i=T&~e,i!==0&&(c=Tn(i))))):(T=u&~h,T!==0?c=Tn(T):b!==0?c=Tn(b):i||(i=u&~e,i!==0&&(c=Tn(i)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,i=n&-n,h>=i||h===32&&(i&4194048)!==0)?n:c}function Ra(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Fo(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jl(){var e=dt;return dt<<=1,(dt&4194048)===0&&(dt=256),e}function Dl(){var e=la;return la<<=1,(la&62914560)===0&&(la=4194304),e}function Ir(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Rn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qr(e,n,i,u,c,h){var b=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var T=e.entanglements,L=e.expirationTimes,Q=e.hiddenUpdates;for(i=b&~i;0<i;){var le=31-ft(i),he=1<<le;T[le]=0,L[le]=-1;var J=Q[le];if(J!==null)for(Q[le]=null,le=0;le<J.length;le++){var W=J[le];W!==null&&(W.lane&=-536870913)}i&=~he}u!==0&&Kh(e,u,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(b&~n))}function Kh(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var u=31-ft(n);e.entangledLanes|=n,e.entanglements[u]=e.entanglements[u]|1073741824|i&4194090}function Jh(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var u=31-ft(i),c=1<<u;c&n|e[u]&n&&(e[u]|=n),i&=~c}}function Yo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Go(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wh(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:jy(e.type))}function Gb(e,n){var i=Y.p;try{return Y.p=e,n()}finally{Y.p=i}}var Oa=Math.random().toString(36).slice(2),It="__reactFiber$"+Oa,en="__reactProps$"+Oa,Vr="__reactContainer$"+Oa,Xo="__reactEvents$"+Oa,Xb="__reactListeners$"+Oa,Qb="__reactHandles$"+Oa,em="__reactResources$"+Oa,Ks="__reactMarker$"+Oa;function Qo(e){delete e[It],delete e[en],delete e[Xo],delete e[Xb],delete e[Qb]}function Fr(e){var n=e[It];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Vr]||i[It]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=yy(e);e!==null;){if(i=e[It])return i;e=yy(e)}return n}e=i,i=e.parentNode}return null}function Yr(e){if(e=e[It]||e[Vr]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Js(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Gr(e){var n=e[em];return n||(n=e[em]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ot(e){e[Ks]=!0}var tm=new Set,nm={};function dr(e,n){Xr(e,n),Xr(e+"Capture",n)}function Xr(e,n){for(nm[e]=n,e=0;e<n.length;e++)tm.add(n[e])}var Kb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),am={},rm={};function Jb(e){return Jt.call(rm,e)?!0:Jt.call(am,e)?!1:Kb.test(e)?rm[e]=!0:(am[e]=!0,!1)}function zl(e,n,i){if(Jb(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function Ml(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function ua(e,n,i,u){if(u===null)e.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+u)}}var Ko,sm;function Qr(e){if(Ko===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Ko=n&&n[1]||"",sm=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ko+e+sm}var Jo=!1;function Wo(e,n){if(!e||Jo)return"";Jo=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(W){var J=W}Reflect.construct(e,[],he)}else{try{he.call()}catch(W){J=W}e.call(he.prototype)}}else{try{throw Error()}catch(W){J=W}(he=e())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(W){if(W&&J&&typeof W.stack=="string")return[W.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=u.DetermineComponentFrameRoot(),b=h[0],T=h[1];if(b&&T){var L=b.split(`
`),Q=T.split(`
`);for(c=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;c<Q.length&&!Q[c].includes("DetermineComponentFrameRoot");)c++;if(u===L.length||c===Q.length)for(u=L.length-1,c=Q.length-1;1<=u&&0<=c&&L[u]!==Q[c];)c--;for(;1<=u&&0<=c;u--,c--)if(L[u]!==Q[c]){if(u!==1||c!==1)do if(u--,c--,0>c||L[u]!==Q[c]){var le=`
`+L[u].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=u&&0<=c);break}}}finally{Jo=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Qr(i):""}function Wb(e){switch(e.tag){case 26:case 27:case 5:return Qr(e.type);case 16:return Qr("Lazy");case 13:return Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 15:return Wo(e.type,!1);case 11:return Wo(e.type.render,!1);case 1:return Wo(e.type,!0);case 31:return Qr("Activity");default:return""}}function im(e){try{var n="";do n+=Wb(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lm(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function e_(e){var n=lm(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,h=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(b){u=""+b,h.call(this,b)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ul(e){e._valueTracker||(e._valueTracker=e_(e))}function um(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),u="";return e&&(u=lm(e)?e.checked?"true":"false":e.value),e=u,e!==i?(n.setValue(e),!0):!1}function Bl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var t_=/[\n"\\]/g;function _n(e){return e.replace(t_,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ec(e,n,i,u,c,h,b,T){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+bn(n)):e.value!==""+bn(n)&&(e.value=""+bn(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?tc(e,b,bn(n)):i!=null?tc(e,b,bn(i)):u!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+bn(T):e.removeAttribute("name")}function om(e,n,i,u,c,h,b,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;i=i!=null?""+bn(i):"",n=n!=null?""+bn(n):i,T||n===e.value||(e.value=n),e.defaultValue=n}u=u??c,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=T?e.checked:!!u,e.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function tc(e,n,i){n==="number"&&Bl(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Kr(e,n,i,u){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&u&&(e[i].defaultSelected=!0)}else{for(i=""+bn(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,u&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function cm(e,n,i){if(n!=null&&(n=""+bn(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+bn(i):""}function fm(e,n,i,u){if(n==null){if(u!=null){if(i!=null)throw Error(s(92));if(ne(u)){if(1<u.length)throw Error(s(93));u=u[0]}i=u}i==null&&(i=""),n=i}i=bn(n),e.defaultValue=i,u=e.textContent,u===i&&u!==""&&u!==null&&(e.value=u)}function Jr(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var n_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dm(e,n,i){var u=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?u?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":u?e.setProperty(n,i):typeof i!="number"||i===0||n_.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function hm(e,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,i!=null){for(var u in i)!i.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var c in n)u=n[c],n.hasOwnProperty(c)&&i[c]!==u&&dm(e,c,u)}else for(var h in n)n.hasOwnProperty(h)&&dm(e,h,n[h])}function nc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),r_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(e){return r_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ac=null;function rc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wr=null,es=null;function mm(e){var n=Yr(e);if(n&&(e=n.stateNode)){var i=e[en]||null;e:switch(e=n.stateNode,n.type){case"input":if(ec(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+_n(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var u=i[n];if(u!==e&&u.form===e.form){var c=u[en]||null;if(!c)throw Error(s(90));ec(u,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<i.length;n++)u=i[n],u.form===e.form&&um(u)}break e;case"textarea":cm(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Kr(e,!!i.multiple,n,!1)}}}var sc=!1;function pm(e,n,i){if(sc)return e(n,i);sc=!0;try{var u=e(n);return u}finally{if(sc=!1,(Wr!==null||es!==null)&&(Su(),Wr&&(n=Wr,e=es,es=Wr=null,mm(n),e)))for(n=0;n<e.length;n++)mm(e[n])}}function Ws(e,n){var i=e.stateNode;if(i===null)return null;var u=i[en]||null;if(u===null)return null;i=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ic=!1;if(oa)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){ic=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{ic=!1}var ja=null,lc=null,Pl=null;function gm(){if(Pl)return Pl;var e,n=lc,i=n.length,u,c="value"in ja?ja.value:ja.textContent,h=c.length;for(e=0;e<i&&n[e]===c[e];e++);var b=i-e;for(u=1;u<=b&&n[i-u]===c[h-u];u++);return Pl=c.slice(e,1<u?1-u:void 0)}function Zl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function $l(){return!0}function ym(){return!1}function tn(e){function n(i,u,c,h,b){this._reactName=i,this._targetInst=c,this.type=u,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(i=e[T],this[T]=i?i(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?$l:ym,this.isPropagationStopped=ym,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),n}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=tn(hr),ti=g({},hr,{view:0,detail:0}),s_=tn(ti),uc,oc,ni,Il=g({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ni&&(ni&&e.type==="mousemove"?(uc=e.screenX-ni.screenX,oc=e.screenY-ni.screenY):oc=uc=0,ni=e),uc)},movementY:function(e){return"movementY"in e?e.movementY:oc}}),vm=tn(Il),i_=g({},Il,{dataTransfer:0}),l_=tn(i_),u_=g({},ti,{relatedTarget:0}),cc=tn(u_),o_=g({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),c_=tn(o_),f_=g({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d_=tn(f_),h_=g({},hr,{data:0}),bm=tn(h_),m_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y_(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=g_[e])?!!n[e]:!1}function fc(){return y_}var v_=g({},ti,{key:function(e){if(e.key){var n=m_[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Zl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fc,charCode:function(e){return e.type==="keypress"?Zl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),b_=tn(v_),__=g({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_m=tn(__),x_=g({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fc}),w_=tn(x_),S_=g({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A_=tn(S_),E_=g({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),k_=tn(E_),C_=g({},hr,{newState:0,oldState:0}),N_=tn(C_),T_=[9,13,27,32],dc=oa&&"CompositionEvent"in window,ai=null;oa&&"documentMode"in document&&(ai=document.documentMode);var R_=oa&&"TextEvent"in window&&!ai,xm=oa&&(!dc||ai&&8<ai&&11>=ai),wm=" ",Sm=!1;function Am(e,n){switch(e){case"keyup":return T_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Em(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ts=!1;function O_(e,n){switch(e){case"compositionend":return Em(n);case"keypress":return n.which!==32?null:(Sm=!0,wm);case"textInput":return e=n.data,e===wm&&Sm?null:e;default:return null}}function j_(e,n){if(ts)return e==="compositionend"||!dc&&Am(e,n)?(e=gm(),Pl=lc=ja=null,ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xm&&n.locale!=="ko"?null:n.data;default:return null}}var D_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function km(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!D_[e.type]:n==="textarea"}function Cm(e,n,i,u){Wr?es?es.push(u):es=[u]:Wr=u,n=Tu(n,"onChange"),0<n.length&&(i=new Hl("onChange","change",null,i,u),e.push({event:i,listeners:n}))}var ri=null,si=null;function z_(e){ly(e,0)}function ql(e){var n=Js(e);if(um(n))return e}function Nm(e,n){if(e==="change")return n}var Tm=!1;if(oa){var hc;if(oa){var mc="oninput"in document;if(!mc){var Rm=document.createElement("div");Rm.setAttribute("oninput","return;"),mc=typeof Rm.oninput=="function"}hc=mc}else hc=!1;Tm=hc&&(!document.documentMode||9<document.documentMode)}function Om(){ri&&(ri.detachEvent("onpropertychange",jm),si=ri=null)}function jm(e){if(e.propertyName==="value"&&ql(si)){var n=[];Cm(n,si,e,rc(e)),pm(z_,n)}}function M_(e,n,i){e==="focusin"?(Om(),ri=n,si=i,ri.attachEvent("onpropertychange",jm)):e==="focusout"&&Om()}function U_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ql(si)}function B_(e,n){if(e==="click")return ql(n)}function L_(e,n){if(e==="input"||e==="change")return ql(n)}function P_(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ln=typeof Object.is=="function"?Object.is:P_;function ii(e,n){if(ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),u=Object.keys(n);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var c=i[u];if(!Jt.call(n,c)||!ln(e[c],n[c]))return!1}return!0}function Dm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zm(e,n){var i=Dm(e);e=0;for(var u;i;){if(i.nodeType===3){if(u=e+i.textContent.length,e<=n&&u>=n)return{node:i,offset:n-e};e=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Dm(i)}}function Mm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Mm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Um(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Bl(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Bl(e.document)}return n}function pc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Z_=oa&&"documentMode"in document&&11>=document.documentMode,ns=null,gc=null,li=null,yc=!1;function Bm(e,n,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;yc||ns==null||ns!==Bl(u)||(u=ns,"selectionStart"in u&&pc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),li&&ii(li,u)||(li=u,u=Tu(gc,"onSelect"),0<u.length&&(n=new Hl("onSelect","select",null,n,i),e.push({event:n,listeners:u}),n.target=ns)))}function mr(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var as={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionrun:mr("Transition","TransitionRun"),transitionstart:mr("Transition","TransitionStart"),transitioncancel:mr("Transition","TransitionCancel"),transitionend:mr("Transition","TransitionEnd")},vc={},Lm={};oa&&(Lm=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function pr(e){if(vc[e])return vc[e];if(!as[e])return e;var n=as[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Lm)return vc[e]=n[i];return e}var Pm=pr("animationend"),Zm=pr("animationiteration"),$m=pr("animationstart"),$_=pr("transitionrun"),H_=pr("transitionstart"),I_=pr("transitioncancel"),Hm=pr("transitionend"),Im=new Map,bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bc.push("scrollEnd");function On(e,n){Im.set(e,n),dr(n,[e])}var qm=new WeakMap;function xn(e,n){if(typeof e=="object"&&e!==null){var i=qm.get(e);return i!==void 0?i:(n={value:e,source:n,stack:im(n)},qm.set(e,n),n)}return{value:e,source:n,stack:im(n)}}var wn=[],rs=0,_c=0;function Vl(){for(var e=rs,n=_c=rs=0;n<e;){var i=wn[n];wn[n++]=null;var u=wn[n];wn[n++]=null;var c=wn[n];wn[n++]=null;var h=wn[n];if(wn[n++]=null,u!==null&&c!==null){var b=u.pending;b===null?c.next=c:(c.next=b.next,b.next=c),u.pending=c}h!==0&&Vm(i,c,h)}}function Fl(e,n,i,u){wn[rs++]=e,wn[rs++]=n,wn[rs++]=i,wn[rs++]=u,_c|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function xc(e,n,i,u){return Fl(e,n,i,u),Yl(e)}function ss(e,n){return Fl(e,null,null,n),Yl(e)}function Vm(e,n,i){e.lanes|=i;var u=e.alternate;u!==null&&(u.lanes|=i);for(var c=!1,h=e.return;h!==null;)h.childLanes|=i,u=h.alternate,u!==null&&(u.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&n!==null&&(c=31-ft(i),e=h.hiddenUpdates,u=e[c],u===null?e[c]=[n]:u.push(n),n.lane=i|536870912),h):null}function Yl(e){if(50<ji)throw ji=0,Nf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var is={};function q_(e,n,i,u){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,n,i,u){return new q_(e,n,i,u)}function wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ca(e,n){var i=e.alternate;return i===null?(i=un(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Fm(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Gl(e,n,i,u,c,h){var b=0;if(u=e,typeof e=="function")wc(e)&&(b=1);else if(typeof e=="string")b=F1(e,i,ue.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=un(31,i,n,c),e.elementType=P,e.lanes=h,e;case k:return gr(i.children,c,h,n);case _:b=8,c|=24;break;case C:return e=un(12,i,n,c|2),e.elementType=C,e.lanes=h,e;case B:return e=un(13,i,n,c),e.elementType=B,e.lanes=h,e;case X:return e=un(19,i,n,c),e.elementType=X,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:case R:b=10;break e;case S:b=9;break e;case M:b=11;break e;case I:b=14;break e;case se:b=16,u=null;break e}b=29,i=Error(s(130,e===null?"null":typeof e,"")),u=null}return n=un(b,i,n,c),n.elementType=e,n.type=u,n.lanes=h,n}function gr(e,n,i,u){return e=un(7,e,u,n),e.lanes=i,e}function Sc(e,n,i){return e=un(6,e,null,n),e.lanes=i,e}function Ac(e,n,i){return n=un(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ls=[],us=0,Xl=null,Ql=0,Sn=[],An=0,yr=null,fa=1,da="";function vr(e,n){ls[us++]=Ql,ls[us++]=Xl,Xl=e,Ql=n}function Ym(e,n,i){Sn[An++]=fa,Sn[An++]=da,Sn[An++]=yr,yr=e;var u=fa;e=da;var c=32-ft(u)-1;u&=~(1<<c),i+=1;var h=32-ft(n)+c;if(30<h){var b=c-c%5;h=(u&(1<<b)-1).toString(32),u>>=b,c-=b,fa=1<<32-ft(n)+c|i<<c|u,da=h+e}else fa=1<<h|i<<c|u,da=e}function Ec(e){e.return!==null&&(vr(e,1),Ym(e,1,0))}function kc(e){for(;e===Xl;)Xl=ls[--us],ls[us]=null,Ql=ls[--us],ls[us]=null;for(;e===yr;)yr=Sn[--An],Sn[An]=null,da=Sn[--An],Sn[An]=null,fa=Sn[--An],Sn[An]=null}var Xt=null,_t=null,Je=!1,br=null,Fn=!1,Cc=Error(s(519));function _r(e){var n=Error(s(418,""));throw ci(xn(n,e)),Cc}function Gm(e){var n=e.stateNode,i=e.type,u=e.memoizedProps;switch(n[It]=e,n[en]=u,i){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(i=0;i<zi.length;i++)Ye(zi[i],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":Ye("invalid",n),om(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ul(n);break;case"select":Ye("invalid",n);break;case"textarea":Ye("invalid",n),fm(n,u.value,u.defaultValue,u.children),Ul(n)}i=u.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||u.suppressHydrationWarning===!0||fy(n.textContent,i)?(u.popover!=null&&(Ye("beforetoggle",n),Ye("toggle",n)),u.onScroll!=null&&Ye("scroll",n),u.onScrollEnd!=null&&Ye("scrollend",n),u.onClick!=null&&(n.onclick=Ru),n=!0):n=!1,n||_r(e)}function Xm(e){for(Xt=e.return;Xt;)switch(Xt.tag){case 5:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Xt=Xt.return}}function ui(e){if(e!==Xt)return!1;if(!Je)return Xm(e),Je=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||qf(e.type,e.memoizedProps)),i=!i),i&&_t&&_r(e),Xm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){_t=Dn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}_t=null}}else n===27?(n=_t,Ga(e.type)?(e=Gf,Gf=null,_t=e):_t=n):_t=Xt?Dn(e.stateNode.nextSibling):null;return!0}function oi(){_t=Xt=null,Je=!1}function Qm(){var e=br;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),br=null),e}function ci(e){br===null?br=[e]:br.push(e)}var Nc=U(null),xr=null,ha=null;function Da(e,n,i){ie(Nc,n._currentValue),n._currentValue=i}function ma(e){e._currentValue=Nc.current,$(Nc)}function Tc(e,n,i){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===i)break;e=e.return}}function Rc(e,n,i,u){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var b=c.child;h=h.firstContext;e:for(;h!==null;){var T=h;h=c;for(var L=0;L<n.length;L++)if(T.context===n[L]){h.lanes|=i,T=h.alternate,T!==null&&(T.lanes|=i),Tc(h.return,i,e),u||(b=null);break e}h=T.next}}else if(c.tag===18){if(b=c.return,b===null)throw Error(s(341));b.lanes|=i,h=b.alternate,h!==null&&(h.lanes|=i),Tc(b,i,e),b=null}else b=c.child;if(b!==null)b.return=c;else for(b=c;b!==null;){if(b===e){b=null;break}if(c=b.sibling,c!==null){c.return=b.return,b=c;break}b=b.return}c=b}}function fi(e,n,i,u){e=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var b=c.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var T=c.type;ln(c.pendingProps.value,b.value)||(e!==null?e.push(T):e=[T])}}else if(c===et.current){if(b=c.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Zi):e=[Zi])}c=c.return}e!==null&&Rc(n,e,i,u),n.flags|=262144}function Kl(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wr(e){xr=e,ha=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return Km(xr,e)}function Jl(e,n){return xr===null&&wr(e),Km(e,n)}function Km(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},ha===null){if(e===null)throw Error(s(308));ha=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ha=ha.next=n;return i}var V_=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,u){e.push(u)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},F_=r.unstable_scheduleCallback,Y_=r.unstable_NormalPriority,Ct={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oc(){return{controller:new V_,data:new Map,refCount:0}}function di(e){e.refCount--,e.refCount===0&&F_(Y_,function(){e.controller.abort()})}var hi=null,jc=0,os=0,cs=null;function G_(e,n){if(hi===null){var i=hi=[];jc=0,os=Mf(),cs={status:"pending",value:void 0,then:function(u){i.push(u)}}}return jc++,n.then(Jm,Jm),n}function Jm(){if(--jc===0&&hi!==null){cs!==null&&(cs.status="fulfilled");var e=hi;hi=null,os=0,cs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function X_(e,n){var i=[],u={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){u.status="fulfilled",u.value=n;for(var c=0;c<i.length;c++)(0,i[c])(n)},function(c){for(u.status="rejected",u.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),u}var Wm=F.S;F.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&G_(e,n),Wm!==null&&Wm(e,n)};var Sr=U(null);function Dc(){var e=Sr.current;return e!==null?e:ht.pooledCache}function Wl(e,n){n===null?ie(Sr,Sr.current):ie(Sr,n.pool)}function ep(){var e=Dc();return e===null?null:{parent:Ct._currentValue,pool:e}}var mi=Error(s(460)),tp=Error(s(474)),eu=Error(s(542)),zc={then:function(){}};function np(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tu(){}function ap(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(tu,tu),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sp(e),e;default:if(typeof n.status=="string")n.then(tu,tu);else{if(e=ht,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(u){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=u}},function(u){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sp(e),e}throw pi=n,mi}}var pi=null;function rp(){if(pi===null)throw Error(s(459));var e=pi;return pi=null,e}function sp(e){if(e===mi||e===eu)throw Error(s(483))}var za=!1;function Mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ua(e,n,i){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(tt&2)!==0){var c=u.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),u.pending=n,n=Yl(e),Vm(e,null,i),n}return Fl(e,u,n,i),Yl(e)}function gi(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var u=n.lanes;u&=e.pendingLanes,i|=u,n.lanes=i,Jh(e,i)}}function Bc(e,n){var i=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var c=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var b={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?c=h=b:h=h.next=b,i=i.next}while(i!==null);h===null?c=h=n:h=h.next=n}else c=h=n;i={baseState:u.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:u.shared,callbacks:u.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Lc=!1;function yi(){if(Lc){var e=cs;if(e!==null)throw e}}function vi(e,n,i,u){Lc=!1;var c=e.updateQueue;za=!1;var h=c.firstBaseUpdate,b=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var L=T,Q=L.next;L.next=null,b===null?h=Q:b.next=Q,b=L;var le=e.alternate;le!==null&&(le=le.updateQueue,T=le.lastBaseUpdate,T!==b&&(T===null?le.firstBaseUpdate=Q:T.next=Q,le.lastBaseUpdate=L))}if(h!==null){var he=c.baseState;b=0,le=Q=L=null,T=h;do{var J=T.lane&-536870913,W=J!==T.lane;if(W?(Ge&J)===J:(u&J)===J){J!==0&&J===os&&(Lc=!0),le!==null&&(le=le.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ze=e,je=T;J=n;var lt=i;switch(je.tag){case 1:if(ze=je.payload,typeof ze=="function"){he=ze.call(lt,he,J);break e}he=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=je.payload,J=typeof ze=="function"?ze.call(lt,he,J):ze,J==null)break e;he=g({},he,J);break e;case 2:za=!0}}J=T.callback,J!==null&&(e.flags|=64,W&&(e.flags|=8192),W=c.callbacks,W===null?c.callbacks=[J]:W.push(J))}else W={lane:J,tag:T.tag,payload:T.payload,callback:T.callback,next:null},le===null?(Q=le=W,L=he):le=le.next=W,b|=J;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;W=T,T=W.next,W.next=null,c.lastBaseUpdate=W,c.shared.pending=null}}while(!0);le===null&&(L=he),c.baseState=L,c.firstBaseUpdate=Q,c.lastBaseUpdate=le,h===null&&(c.shared.lanes=0),qa|=b,e.lanes=b,e.memoizedState=he}}function ip(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function lp(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)ip(i[e],n)}var fs=U(null),nu=U(0);function up(e,n){e=xa,ie(nu,e),ie(fs,n),xa=e|n.baseLanes}function Pc(){ie(nu,xa),ie(fs,fs.current)}function Zc(){xa=nu.current,$(fs),$(nu)}var Ba=0,qe=null,st=null,Et=null,au=!1,ds=!1,Ar=!1,ru=0,bi=0,hs=null,Q_=0;function St(){throw Error(s(321))}function $c(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!ln(e[i],n[i]))return!1;return!0}function Hc(e,n,i,u,c,h){return Ba=h,qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Vp:Fp,Ar=!1,h=i(u,c),Ar=!1,ds&&(h=cp(n,i,u,c)),op(e),h}function op(e){F.H=cu;var n=st!==null&&st.next!==null;if(Ba=0,Et=st=qe=null,au=!1,bi=0,hs=null,n)throw Error(s(300));e===null||jt||(e=e.dependencies,e!==null&&Kl(e)&&(jt=!0))}function cp(e,n,i,u){qe=e;var c=0;do{if(ds&&(hs=null),bi=0,ds=!1,25<=c)throw Error(s(301));if(c+=1,Et=st=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}F.H=a1,h=n(i,u)}while(ds);return h}function K_(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?_i(n):n,e=e.useState()[0],(st!==null?st.memoizedState:null)!==e&&(qe.flags|=1024),n}function Ic(){var e=ru!==0;return ru=0,e}function qc(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Vc(e){if(au){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}au=!1}Ba=0,Et=st=qe=null,ds=!1,bi=ru=0,hs=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?qe.memoizedState=Et=e:Et=Et.next=e,Et}function kt(){if(st===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var n=Et===null?qe.memoizedState:Et.next;if(n!==null)Et=n,st=e;else{if(e===null)throw qe.alternate===null?Error(s(467)):Error(s(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Et===null?qe.memoizedState=Et=e:Et=Et.next=e}return Et}function Fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _i(e){var n=bi;return bi+=1,hs===null&&(hs=[]),e=ap(hs,e,n),n=qe,(Et===null?n.memoizedState:Et.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Vp:Fp),e}function su(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return _i(e);if(e.$$typeof===R)return qt(e)}throw Error(s(438,String(e)))}function Yc(e){var n=null,i=qe.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var u=qe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Fc(),qe.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),u=0;u<e;u++)i[u]=ee;return n.index++,i}function pa(e,n){return typeof n=="function"?n(e):n}function iu(e){var n=kt();return Gc(n,st,e)}function Gc(e,n,i){var u=e.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=i;var c=e.baseQueue,h=u.pending;if(h!==null){if(c!==null){var b=c.next;c.next=h.next,h.next=b}n.baseQueue=c=h,u.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{n=c.next;var T=b=null,L=null,Q=n,le=!1;do{var he=Q.lane&-536870913;if(he!==Q.lane?(Ge&he)===he:(Ba&he)===he){var J=Q.revertLane;if(J===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),he===os&&(le=!0);else if((Ba&J)===J){Q=Q.next,J===os&&(le=!0);continue}else he={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(T=L=he,b=h):L=L.next=he,qe.lanes|=J,qa|=J;he=Q.action,Ar&&i(h,he),h=Q.hasEagerState?Q.eagerState:i(h,he)}else J={lane:he,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(T=L=J,b=h):L=L.next=J,qe.lanes|=he,qa|=he;Q=Q.next}while(Q!==null&&Q!==n);if(L===null?b=h:L.next=T,!ln(h,e.memoizedState)&&(jt=!0,le&&(i=cs,i!==null)))throw i;e.memoizedState=h,e.baseState=b,e.baseQueue=L,u.lastRenderedState=h}return c===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function Xc(e){var n=kt(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var u=i.dispatch,c=i.pending,h=n.memoizedState;if(c!==null){i.pending=null;var b=c=c.next;do h=e(h,b.action),b=b.next;while(b!==c);ln(h,n.memoizedState)||(jt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,u]}function fp(e,n,i){var u=qe,c=kt(),h=Je;if(h){if(i===void 0)throw Error(s(407));i=i()}else i=n();var b=!ln((st||c).memoizedState,i);b&&(c.memoizedState=i,jt=!0),c=c.queue;var T=mp.bind(null,u,c,e);if(xi(2048,8,T,[e]),c.getSnapshot!==n||b||Et!==null&&Et.memoizedState.tag&1){if(u.flags|=2048,ms(9,lu(),hp.bind(null,u,c,i,n),null),ht===null)throw Error(s(349));h||(Ba&124)!==0||dp(u,n,i)}return i}function dp(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=qe.updateQueue,n===null?(n=Fc(),qe.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function hp(e,n,i,u){n.value=i,n.getSnapshot=u,pp(n)&&gp(e)}function mp(e,n,i){return i(function(){pp(n)&&gp(e)})}function pp(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!ln(e,i)}catch{return!0}}function gp(e){var n=ss(e,2);n!==null&&hn(n,e,2)}function Qc(e){var n=nn();if(typeof e=="function"){var i=e;if(e=i(),Ar){Be(!0);try{i()}finally{Be(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e},n}function yp(e,n,i,u){return e.baseState=i,Gc(e,st,typeof u=="function"?u:pa)}function J_(e,n,i,u,c){if(ou(e))throw Error(s(485));if(e=n.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){h.listeners.push(b)}};F.T!==null?i(!0):h.isTransition=!1,u(h),i=n.pending,i===null?(h.next=n.pending=h,vp(n,h)):(h.next=i.next,n.pending=i.next=h)}}function vp(e,n){var i=n.action,u=n.payload,c=e.state;if(n.isTransition){var h=F.T,b={};F.T=b;try{var T=i(c,u),L=F.S;L!==null&&L(b,T),bp(e,n,T)}catch(Q){Kc(e,n,Q)}finally{F.T=h}}else try{h=i(c,u),bp(e,n,h)}catch(Q){Kc(e,n,Q)}}function bp(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(u){_p(e,n,u)},function(u){return Kc(e,n,u)}):_p(e,n,i)}function _p(e,n,i){n.status="fulfilled",n.value=i,xp(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,vp(e,i)))}function Kc(e,n,i){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=i,xp(n),n=n.next;while(n!==u)}e.action=null}function xp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function wp(e,n){return n}function Sp(e,n){if(Je){var i=ht.formState;if(i!==null){e:{var u=qe;if(Je){if(_t){t:{for(var c=_t,h=Fn;c.nodeType!==8;){if(!h){c=null;break t}if(c=Dn(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){_t=Dn(c.nextSibling),u=c.data==="F!";break e}}_r(u)}u=!1}u&&(n=i[0])}}return i=nn(),i.memoizedState=i.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wp,lastRenderedState:n},i.queue=u,i=Hp.bind(null,qe,u),u.dispatch=i,u=Qc(!1),h=nf.bind(null,qe,!1,u.queue),u=nn(),c={state:n,dispatch:null,action:e,pending:null},u.queue=c,i=J_.bind(null,qe,c,h,i),c.dispatch=i,u.memoizedState=e,[n,i,!1]}function Ap(e){var n=kt();return Ep(n,st,e)}function Ep(e,n,i){if(n=Gc(e,n,wp)[0],e=iu(pa)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=_i(n)}catch(b){throw b===mi?eu:b}else u=n;n=kt();var c=n.queue,h=c.dispatch;return i!==n.memoizedState&&(qe.flags|=2048,ms(9,lu(),W_.bind(null,c,i),null)),[u,h,e]}function W_(e,n){e.action=n}function kp(e){var n=kt(),i=st;if(i!==null)return Ep(n,i,e);kt(),n=n.memoizedState,i=kt();var u=i.queue.dispatch;return i.memoizedState=e,[n,u,!1]}function ms(e,n,i,u){return e={tag:e,create:i,deps:u,inst:n,next:null},n=qe.updateQueue,n===null&&(n=Fc(),qe.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(u=i.next,i.next=e,e.next=u,n.lastEffect=e),e}function lu(){return{destroy:void 0,resource:void 0}}function Cp(){return kt().memoizedState}function uu(e,n,i,u){var c=nn();u=u===void 0?null:u,qe.flags|=e,c.memoizedState=ms(1|n,lu(),i,u)}function xi(e,n,i,u){var c=kt();u=u===void 0?null:u;var h=c.memoizedState.inst;st!==null&&u!==null&&$c(u,st.memoizedState.deps)?c.memoizedState=ms(n,h,i,u):(qe.flags|=e,c.memoizedState=ms(1|n,h,i,u))}function Np(e,n){uu(8390656,8,e,n)}function Tp(e,n){xi(2048,8,e,n)}function Rp(e,n){return xi(4,2,e,n)}function Op(e,n){return xi(4,4,e,n)}function jp(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Dp(e,n,i){i=i!=null?i.concat([e]):null,xi(4,4,jp.bind(null,n,e),i)}function Jc(){}function zp(e,n){var i=kt();n=n===void 0?null:n;var u=i.memoizedState;return n!==null&&$c(n,u[1])?u[0]:(i.memoizedState=[e,n],e)}function Mp(e,n){var i=kt();n=n===void 0?null:n;var u=i.memoizedState;if(n!==null&&$c(n,u[1]))return u[0];if(u=e(),Ar){Be(!0);try{e()}finally{Be(!1)}}return i.memoizedState=[u,n],u}function Wc(e,n,i){return i===void 0||(Ba&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=Lg(),qe.lanes|=e,qa|=e,i)}function Up(e,n,i,u){return ln(i,n)?i:fs.current!==null?(e=Wc(e,i,u),ln(e,n)||(jt=!0),e):(Ba&42)===0?(jt=!0,e.memoizedState=i):(e=Lg(),qe.lanes|=e,qa|=e,n)}function Bp(e,n,i,u,c){var h=Y.p;Y.p=h!==0&&8>h?h:8;var b=F.T,T={};F.T=T,nf(e,!1,n,i);try{var L=c(),Q=F.S;if(Q!==null&&Q(T,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var le=X_(L,u);wi(e,n,le,dn(e))}else wi(e,n,u,dn(e))}catch(he){wi(e,n,{then:function(){},status:"rejected",reason:he},dn())}finally{Y.p=h,F.T=b}}function e1(){}function ef(e,n,i,u){if(e.tag!==5)throw Error(s(476));var c=Lp(e).queue;Bp(e,c,n,be,i===null?e1:function(){return Pp(e),i(u)})}function Lp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:be},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Pp(e){var n=Lp(e).next.queue;wi(e,n,{},dn())}function tf(){return qt(Zi)}function Zp(){return kt().memoizedState}function $p(){return kt().memoizedState}function t1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=dn();e=Ma(i);var u=Ua(n,e,i);u!==null&&(hn(u,n,i),gi(u,n,i)),n={cache:Oc()},e.payload=n;return}n=n.return}}function n1(e,n,i){var u=dn();i={lane:u,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},ou(e)?Ip(n,i):(i=xc(e,n,i,u),i!==null&&(hn(i,e,u),qp(i,n,u)))}function Hp(e,n,i){var u=dn();wi(e,n,i,u)}function wi(e,n,i,u){var c={lane:u,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(ou(e))Ip(n,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var b=n.lastRenderedState,T=h(b,i);if(c.hasEagerState=!0,c.eagerState=T,ln(T,b))return Fl(e,n,c,0),ht===null&&Vl(),!1}catch{}finally{}if(i=xc(e,n,c,u),i!==null)return hn(i,e,u),qp(i,n,u),!0}return!1}function nf(e,n,i,u){if(u={lane:2,revertLane:Mf(),action:u,hasEagerState:!1,eagerState:null,next:null},ou(e)){if(n)throw Error(s(479))}else n=xc(e,i,u,2),n!==null&&hn(n,e,2)}function ou(e){var n=e.alternate;return e===qe||n!==null&&n===qe}function Ip(e,n){ds=au=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function qp(e,n,i){if((i&4194048)!==0){var u=n.lanes;u&=e.pendingLanes,i|=u,n.lanes=i,Jh(e,i)}}var cu={readContext:qt,use:su,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},Vp={readContext:qt,use:su,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qt,useEffect:Np,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,uu(4194308,4,jp.bind(null,n,e),i)},useLayoutEffect:function(e,n){return uu(4194308,4,e,n)},useInsertionEffect:function(e,n){uu(4,2,e,n)},useMemo:function(e,n){var i=nn();n=n===void 0?null:n;var u=e();if(Ar){Be(!0);try{e()}finally{Be(!1)}}return i.memoizedState=[u,n],u},useReducer:function(e,n,i){var u=nn();if(i!==void 0){var c=i(n);if(Ar){Be(!0);try{i(n)}finally{Be(!1)}}}else c=n;return u.memoizedState=u.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},u.queue=e,e=e.dispatch=n1.bind(null,qe,e),[u.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Qc(e);var n=e.queue,i=Hp.bind(null,qe,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Jc,useDeferredValue:function(e,n){var i=nn();return Wc(i,e,n)},useTransition:function(){var e=Qc(!1);return e=Bp.bind(null,qe,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var u=qe,c=nn();if(Je){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),ht===null)throw Error(s(349));(Ge&124)!==0||dp(u,n,i)}c.memoizedState=i;var h={value:i,getSnapshot:n};return c.queue=h,Np(mp.bind(null,u,h,e),[e]),u.flags|=2048,ms(9,lu(),hp.bind(null,u,h,i,n),null),i},useId:function(){var e=nn(),n=ht.identifierPrefix;if(Je){var i=da,u=fa;i=(u&~(1<<32-ft(u)-1)).toString(32)+i,n="«"+n+"R"+i,i=ru++,0<i&&(n+="H"+i.toString(32)),n+="»"}else i=Q_++,n="«"+n+"r"+i.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:tf,useFormState:Sp,useActionState:Sp,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=nf.bind(null,qe,!0,i),i.dispatch=n,[e,n]},useMemoCache:Yc,useCacheRefresh:function(){return nn().memoizedState=t1.bind(null,qe)}},Fp={readContext:qt,use:su,useCallback:zp,useContext:qt,useEffect:Tp,useImperativeHandle:Dp,useInsertionEffect:Rp,useLayoutEffect:Op,useMemo:Mp,useReducer:iu,useRef:Cp,useState:function(){return iu(pa)},useDebugValue:Jc,useDeferredValue:function(e,n){var i=kt();return Up(i,st.memoizedState,e,n)},useTransition:function(){var e=iu(pa)[0],n=kt().memoizedState;return[typeof e=="boolean"?e:_i(e),n]},useSyncExternalStore:fp,useId:Zp,useHostTransitionStatus:tf,useFormState:Ap,useActionState:Ap,useOptimistic:function(e,n){var i=kt();return yp(i,st,e,n)},useMemoCache:Yc,useCacheRefresh:$p},a1={readContext:qt,use:su,useCallback:zp,useContext:qt,useEffect:Tp,useImperativeHandle:Dp,useInsertionEffect:Rp,useLayoutEffect:Op,useMemo:Mp,useReducer:Xc,useRef:Cp,useState:function(){return Xc(pa)},useDebugValue:Jc,useDeferredValue:function(e,n){var i=kt();return st===null?Wc(i,e,n):Up(i,st.memoizedState,e,n)},useTransition:function(){var e=Xc(pa)[0],n=kt().memoizedState;return[typeof e=="boolean"?e:_i(e),n]},useSyncExternalStore:fp,useId:Zp,useHostTransitionStatus:tf,useFormState:kp,useActionState:kp,useOptimistic:function(e,n){var i=kt();return st!==null?yp(i,st,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Yc,useCacheRefresh:$p},ps=null,Si=0;function fu(e){var n=Si;return Si+=1,ps===null&&(ps=[]),ap(ps,e,n)}function Ai(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function du(e,n){throw n.$$typeof===y?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Yp(e){var n=e._init;return n(e._payload)}function Gp(e){function n(V,H){if(e){var G=V.deletions;G===null?(V.deletions=[H],V.flags|=16):G.push(H)}}function i(V,H){if(!e)return null;for(;H!==null;)n(V,H),H=H.sibling;return null}function u(V){for(var H=new Map;V!==null;)V.key!==null?H.set(V.key,V):H.set(V.index,V),V=V.sibling;return H}function c(V,H){return V=ca(V,H),V.index=0,V.sibling=null,V}function h(V,H,G){return V.index=G,e?(G=V.alternate,G!==null?(G=G.index,G<H?(V.flags|=67108866,H):G):(V.flags|=67108866,H)):(V.flags|=1048576,H)}function b(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function T(V,H,G,oe){return H===null||H.tag!==6?(H=Sc(G,V.mode,oe),H.return=V,H):(H=c(H,G),H.return=V,H)}function L(V,H,G,oe){var Ee=G.type;return Ee===k?le(V,H,G.props.children,oe,G.key):H!==null&&(H.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===se&&Yp(Ee)===H.type)?(H=c(H,G.props),Ai(H,G),H.return=V,H):(H=Gl(G.type,G.key,G.props,null,V.mode,oe),Ai(H,G),H.return=V,H)}function Q(V,H,G,oe){return H===null||H.tag!==4||H.stateNode.containerInfo!==G.containerInfo||H.stateNode.implementation!==G.implementation?(H=Ac(G,V.mode,oe),H.return=V,H):(H=c(H,G.children||[]),H.return=V,H)}function le(V,H,G,oe,Ee){return H===null||H.tag!==7?(H=gr(G,V.mode,oe,Ee),H.return=V,H):(H=c(H,G),H.return=V,H)}function he(V,H,G){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Sc(""+H,V.mode,G),H.return=V,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return G=Gl(H.type,H.key,H.props,null,V.mode,G),Ai(G,H),G.return=V,G;case v:return H=Ac(H,V.mode,G),H.return=V,H;case se:var oe=H._init;return H=oe(H._payload),he(V,H,G)}if(ne(H)||z(H))return H=gr(H,V.mode,G,null),H.return=V,H;if(typeof H.then=="function")return he(V,fu(H),G);if(H.$$typeof===R)return he(V,Jl(V,H),G);du(V,H)}return null}function J(V,H,G,oe){var Ee=H!==null?H.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ee!==null?null:T(V,H,""+G,oe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return G.key===Ee?L(V,H,G,oe):null;case v:return G.key===Ee?Q(V,H,G,oe):null;case se:return Ee=G._init,G=Ee(G._payload),J(V,H,G,oe)}if(ne(G)||z(G))return Ee!==null?null:le(V,H,G,oe,null);if(typeof G.then=="function")return J(V,H,fu(G),oe);if(G.$$typeof===R)return J(V,H,Jl(V,G),oe);du(V,G)}return null}function W(V,H,G,oe,Ee){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return V=V.get(G)||null,T(H,V,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:return V=V.get(oe.key===null?G:oe.key)||null,L(H,V,oe,Ee);case v:return V=V.get(oe.key===null?G:oe.key)||null,Q(H,V,oe,Ee);case se:var Ve=oe._init;return oe=Ve(oe._payload),W(V,H,G,oe,Ee)}if(ne(oe)||z(oe))return V=V.get(G)||null,le(H,V,oe,Ee,null);if(typeof oe.then=="function")return W(V,H,G,fu(oe),Ee);if(oe.$$typeof===R)return W(V,H,G,Jl(H,oe),Ee);du(H,oe)}return null}function ze(V,H,G,oe){for(var Ee=null,Ve=null,Te=H,De=H=0,zt=null;Te!==null&&De<G.length;De++){Te.index>De?(zt=Te,Te=null):zt=Te.sibling;var Qe=J(V,Te,G[De],oe);if(Qe===null){Te===null&&(Te=zt);break}e&&Te&&Qe.alternate===null&&n(V,Te),H=h(Qe,H,De),Ve===null?Ee=Qe:Ve.sibling=Qe,Ve=Qe,Te=zt}if(De===G.length)return i(V,Te),Je&&vr(V,De),Ee;if(Te===null){for(;De<G.length;De++)Te=he(V,G[De],oe),Te!==null&&(H=h(Te,H,De),Ve===null?Ee=Te:Ve.sibling=Te,Ve=Te);return Je&&vr(V,De),Ee}for(Te=u(Te);De<G.length;De++)zt=W(Te,V,De,G[De],oe),zt!==null&&(e&&zt.alternate!==null&&Te.delete(zt.key===null?De:zt.key),H=h(zt,H,De),Ve===null?Ee=zt:Ve.sibling=zt,Ve=zt);return e&&Te.forEach(function(Wa){return n(V,Wa)}),Je&&vr(V,De),Ee}function je(V,H,G,oe){if(G==null)throw Error(s(151));for(var Ee=null,Ve=null,Te=H,De=H=0,zt=null,Qe=G.next();Te!==null&&!Qe.done;De++,Qe=G.next()){Te.index>De?(zt=Te,Te=null):zt=Te.sibling;var Wa=J(V,Te,Qe.value,oe);if(Wa===null){Te===null&&(Te=zt);break}e&&Te&&Wa.alternate===null&&n(V,Te),H=h(Wa,H,De),Ve===null?Ee=Wa:Ve.sibling=Wa,Ve=Wa,Te=zt}if(Qe.done)return i(V,Te),Je&&vr(V,De),Ee;if(Te===null){for(;!Qe.done;De++,Qe=G.next())Qe=he(V,Qe.value,oe),Qe!==null&&(H=h(Qe,H,De),Ve===null?Ee=Qe:Ve.sibling=Qe,Ve=Qe);return Je&&vr(V,De),Ee}for(Te=u(Te);!Qe.done;De++,Qe=G.next())Qe=W(Te,V,De,Qe.value,oe),Qe!==null&&(e&&Qe.alternate!==null&&Te.delete(Qe.key===null?De:Qe.key),H=h(Qe,H,De),Ve===null?Ee=Qe:Ve.sibling=Qe,Ve=Qe);return e&&Te.forEach(function(rx){return n(V,rx)}),Je&&vr(V,De),Ee}function lt(V,H,G,oe){if(typeof G=="object"&&G!==null&&G.type===k&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case A:e:{for(var Ee=G.key;H!==null;){if(H.key===Ee){if(Ee=G.type,Ee===k){if(H.tag===7){i(V,H.sibling),oe=c(H,G.props.children),oe.return=V,V=oe;break e}}else if(H.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===se&&Yp(Ee)===H.type){i(V,H.sibling),oe=c(H,G.props),Ai(oe,G),oe.return=V,V=oe;break e}i(V,H);break}else n(V,H);H=H.sibling}G.type===k?(oe=gr(G.props.children,V.mode,oe,G.key),oe.return=V,V=oe):(oe=Gl(G.type,G.key,G.props,null,V.mode,oe),Ai(oe,G),oe.return=V,V=oe)}return b(V);case v:e:{for(Ee=G.key;H!==null;){if(H.key===Ee)if(H.tag===4&&H.stateNode.containerInfo===G.containerInfo&&H.stateNode.implementation===G.implementation){i(V,H.sibling),oe=c(H,G.children||[]),oe.return=V,V=oe;break e}else{i(V,H);break}else n(V,H);H=H.sibling}oe=Ac(G,V.mode,oe),oe.return=V,V=oe}return b(V);case se:return Ee=G._init,G=Ee(G._payload),lt(V,H,G,oe)}if(ne(G))return ze(V,H,G,oe);if(z(G)){if(Ee=z(G),typeof Ee!="function")throw Error(s(150));return G=Ee.call(G),je(V,H,G,oe)}if(typeof G.then=="function")return lt(V,H,fu(G),oe);if(G.$$typeof===R)return lt(V,H,Jl(V,G),oe);du(V,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,H!==null&&H.tag===6?(i(V,H.sibling),oe=c(H,G),oe.return=V,V=oe):(i(V,H),oe=Sc(G,V.mode,oe),oe.return=V,V=oe),b(V)):i(V,H)}return function(V,H,G,oe){try{Si=0;var Ee=lt(V,H,G,oe);return ps=null,Ee}catch(Te){if(Te===mi||Te===eu)throw Te;var Ve=un(29,Te,null,V.mode);return Ve.lanes=oe,Ve.return=V,Ve}finally{}}}var gs=Gp(!0),Xp=Gp(!1),En=U(null),Yn=null;function La(e){var n=e.alternate;ie(Nt,Nt.current&1),ie(En,e),Yn===null&&(n===null||fs.current!==null||n.memoizedState!==null)&&(Yn=e)}function Qp(e){if(e.tag===22){if(ie(Nt,Nt.current),ie(En,e),Yn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Yn=e)}}else Pa()}function Pa(){ie(Nt,Nt.current),ie(En,En.current)}function ga(e){$(En),Yn===e&&(Yn=null),$(Nt)}var Nt=U(0);function hu(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Yf(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function af(e,n,i,u){n=e.memoizedState,i=i(u,n),i=i==null?n:g({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var rf={enqueueSetState:function(e,n,i){e=e._reactInternals;var u=dn(),c=Ma(u);c.payload=n,i!=null&&(c.callback=i),n=Ua(e,c,u),n!==null&&(hn(n,e,u),gi(n,e,u))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var u=dn(),c=Ma(u);c.tag=1,c.payload=n,i!=null&&(c.callback=i),n=Ua(e,c,u),n!==null&&(hn(n,e,u),gi(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=dn(),u=Ma(i);u.tag=2,n!=null&&(u.callback=n),n=Ua(e,u,i),n!==null&&(hn(n,e,i),gi(n,e,i))}};function Kp(e,n,i,u,c,h,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,h,b):n.prototype&&n.prototype.isPureReactComponent?!ii(i,u)||!ii(c,h):!0}function Jp(e,n,i,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,u),n.state!==e&&rf.enqueueReplaceState(n,n.state,null)}function Er(e,n){var i=n;if("ref"in n){i={};for(var u in n)u!=="ref"&&(i[u]=n[u])}if(e=e.defaultProps){i===n&&(i=g({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}var mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Wp(e){mu(e)}function eg(e){console.error(e)}function tg(e){mu(e)}function pu(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function ng(e,n,i){try{var u=e.onCaughtError;u(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function sf(e,n,i){return i=Ma(i),i.tag=3,i.payload={element:null},i.callback=function(){pu(e,n)},i}function ag(e){return e=Ma(e),e.tag=3,e}function rg(e,n,i,u){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var h=u.value;e.payload=function(){return c(h)},e.callback=function(){ng(n,i,u)}}var b=i.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){ng(n,i,u),typeof c!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function r1(e,n,i,u,c){if(i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=i.alternate,n!==null&&fi(n,i,c,!0),i=En.current,i!==null){switch(i.tag){case 13:return Yn===null?Rf():i.alternate===null&&xt===0&&(xt=3),i.flags&=-257,i.flags|=65536,i.lanes=c,u===zc?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([u]):n.add(u),jf(e,u,c)),!1;case 22:return i.flags|=65536,u===zc?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([u]):i.add(u)),jf(e,u,c)),!1}throw Error(s(435,i.tag))}return jf(e,u,c),Rf(),!1}if(Je)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,u!==Cc&&(e=Error(s(422),{cause:u}),ci(xn(e,i)))):(u!==Cc&&(n=Error(s(423),{cause:u}),ci(xn(n,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,u=xn(u,i),c=sf(e.stateNode,u,c),Bc(e,c),xt!==4&&(xt=2)),!1;var h=Error(s(520),{cause:u});if(h=xn(h,i),Oi===null?Oi=[h]:Oi.push(h),xt!==4&&(xt=2),n===null)return!0;u=xn(u,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=sf(i.stateNode,u,e),Bc(i,e),!1;case 1:if(n=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Va===null||!Va.has(h))))return i.flags|=65536,c&=-c,i.lanes|=c,c=ag(c),rg(c,e,i,u),Bc(i,c),!1}i=i.return}while(i!==null);return!1}var sg=Error(s(461)),jt=!1;function Ut(e,n,i,u){n.child=e===null?Xp(n,null,i,u):gs(n,e.child,i,u)}function ig(e,n,i,u,c){i=i.render;var h=n.ref;if("ref"in u){var b={};for(var T in u)T!=="ref"&&(b[T]=u[T])}else b=u;return wr(n),u=Hc(e,n,i,b,h,c),T=Ic(),e!==null&&!jt?(qc(e,n,c),ya(e,n,c)):(Je&&T&&Ec(n),n.flags|=1,Ut(e,n,u,c),n.child)}function lg(e,n,i,u,c){if(e===null){var h=i.type;return typeof h=="function"&&!wc(h)&&h.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=h,ug(e,n,h,u,c)):(e=Gl(i.type,null,u,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!mf(e,c)){var b=h.memoizedProps;if(i=i.compare,i=i!==null?i:ii,i(b,u)&&e.ref===n.ref)return ya(e,n,c)}return n.flags|=1,e=ca(h,u),e.ref=n.ref,e.return=n,n.child=e}function ug(e,n,i,u,c){if(e!==null){var h=e.memoizedProps;if(ii(h,u)&&e.ref===n.ref)if(jt=!1,n.pendingProps=u=h,mf(e,c))(e.flags&131072)!==0&&(jt=!0);else return n.lanes=e.lanes,ya(e,n,c)}return lf(e,n,i,u,c)}function og(e,n,i){var u=n.pendingProps,c=u.children,h=e!==null?e.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=h!==null?h.baseLanes|i:i,e!==null){for(c=n.child=e.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~u}else n.childLanes=0,n.child=null;return cg(e,n,u,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wl(n,h!==null?h.cachePool:null),h!==null?up(n,h):Pc(),Qp(n);else return n.lanes=n.childLanes=536870912,cg(e,n,h!==null?h.baseLanes|i:i,i)}else h!==null?(Wl(n,h.cachePool),up(n,h),Pa(),n.memoizedState=null):(e!==null&&Wl(n,null),Pc(),Pa());return Ut(e,n,c,i),n.child}function cg(e,n,i,u){var c=Dc();return c=c===null?null:{parent:Ct._currentValue,pool:c},n.memoizedState={baseLanes:i,cachePool:c},e!==null&&Wl(n,null),Pc(),Qp(n),e!==null&&fi(e,n,u,!0),null}function gu(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function lf(e,n,i,u,c){return wr(n),i=Hc(e,n,i,u,void 0,c),u=Ic(),e!==null&&!jt?(qc(e,n,c),ya(e,n,c)):(Je&&u&&Ec(n),n.flags|=1,Ut(e,n,i,c),n.child)}function fg(e,n,i,u,c,h){return wr(n),n.updateQueue=null,i=cp(n,u,i,c),op(e),u=Ic(),e!==null&&!jt?(qc(e,n,h),ya(e,n,h)):(Je&&u&&Ec(n),n.flags|=1,Ut(e,n,i,h),n.child)}function dg(e,n,i,u,c){if(wr(n),n.stateNode===null){var h=is,b=i.contextType;typeof b=="object"&&b!==null&&(h=qt(b)),h=new i(u,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=rf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=u,h.state=n.memoizedState,h.refs={},Mc(n),b=i.contextType,h.context=typeof b=="object"&&b!==null?qt(b):is,h.state=n.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(af(n,i,b,u),h.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(b=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),b!==h.state&&rf.enqueueReplaceState(h,h.state,null),vi(n,u,h,c),yi(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(e===null){h=n.stateNode;var T=n.memoizedProps,L=Er(i,T);h.props=L;var Q=h.context,le=i.contextType;b=is,typeof le=="object"&&le!==null&&(b=qt(le));var he=i.getDerivedStateFromProps;le=typeof he=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,le||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||Q!==b)&&Jp(n,h,u,b),za=!1;var J=n.memoizedState;h.state=J,vi(n,u,h,c),yi(),Q=n.memoizedState,T||J!==Q||za?(typeof he=="function"&&(af(n,i,he,u),Q=n.memoizedState),(L=za||Kp(n,i,L,u,J,Q,b))?(le||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=Q),h.props=u,h.state=Q,h.context=b,u=L):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{h=n.stateNode,Uc(e,n),b=n.memoizedProps,le=Er(i,b),h.props=le,he=n.pendingProps,J=h.context,Q=i.contextType,L=is,typeof Q=="object"&&Q!==null&&(L=qt(Q)),T=i.getDerivedStateFromProps,(Q=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==he||J!==L)&&Jp(n,h,u,L),za=!1,J=n.memoizedState,h.state=J,vi(n,u,h,c),yi();var W=n.memoizedState;b!==he||J!==W||za||e!==null&&e.dependencies!==null&&Kl(e.dependencies)?(typeof T=="function"&&(af(n,i,T,u),W=n.memoizedState),(le=za||Kp(n,i,le,u,J,W,L)||e!==null&&e.dependencies!==null&&Kl(e.dependencies))?(Q||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(u,W,L),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(u,W,L)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&J===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&J===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=W),h.props=u,h.state=W,h.context=L,u=le):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&J===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&J===e.memoizedState||(n.flags|=1024),u=!1)}return h=u,gu(e,n),u=(n.flags&128)!==0,h||u?(h=n.stateNode,i=u&&typeof i.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&u?(n.child=gs(n,e.child,null,c),n.child=gs(n,null,i,c)):Ut(e,n,i,c),n.memoizedState=h.state,e=n.child):e=ya(e,n,c),e}function hg(e,n,i,u){return oi(),n.flags|=256,Ut(e,n,i,u),n.child}var uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function of(e){return{baseLanes:e,cachePool:ep()}}function cf(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=kn),e}function mg(e,n,i){var u=n.pendingProps,c=!1,h=(n.flags&128)!==0,b;if((b=h)||(b=e!==null&&e.memoizedState===null?!1:(Nt.current&2)!==0),b&&(c=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(Je){if(c?La(n):Pa(),Je){var T=_t,L;if(L=T){e:{for(L=T,T=Fn;L.nodeType!==8;){if(!T){T=null;break e}if(L=Dn(L.nextSibling),L===null){T=null;break e}}T=L}T!==null?(n.memoizedState={dehydrated:T,treeContext:yr!==null?{id:fa,overflow:da}:null,retryLane:536870912,hydrationErrors:null},L=un(18,null,null,0),L.stateNode=T,L.return=n,n.child=L,Xt=n,_t=null,L=!0):L=!1}L||_r(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Yf(T)?n.lanes=32:n.lanes=536870912,null;ga(n)}return T=u.children,u=u.fallback,c?(Pa(),c=n.mode,T=yu({mode:"hidden",children:T},c),u=gr(u,c,i,null),T.return=n,u.return=n,T.sibling=u,n.child=T,c=n.child,c.memoizedState=of(i),c.childLanes=cf(e,b,i),n.memoizedState=uf,u):(La(n),ff(n,T))}if(L=e.memoizedState,L!==null&&(T=L.dehydrated,T!==null)){if(h)n.flags&256?(La(n),n.flags&=-257,n=df(e,n,i)):n.memoizedState!==null?(Pa(),n.child=e.child,n.flags|=128,n=null):(Pa(),c=u.fallback,T=n.mode,u=yu({mode:"visible",children:u.children},T),c=gr(c,T,i,null),c.flags|=2,u.return=n,c.return=n,u.sibling=c,n.child=u,gs(n,e.child,null,i),u=n.child,u.memoizedState=of(i),u.childLanes=cf(e,b,i),n.memoizedState=uf,n=c);else if(La(n),Yf(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var Q=b.dgst;b=Q,u=Error(s(419)),u.stack="",u.digest=b,ci({value:u,source:null,stack:null}),n=df(e,n,i)}else if(jt||fi(e,n,i,!1),b=(i&e.childLanes)!==0,jt||b){if(b=ht,b!==null&&(u=i&-i,u=(u&42)!==0?1:Yo(u),u=(u&(b.suspendedLanes|i))!==0?0:u,u!==0&&u!==L.retryLane))throw L.retryLane=u,ss(e,u),hn(b,e,u),sg;T.data==="$?"||Rf(),n=df(e,n,i)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=L.treeContext,_t=Dn(T.nextSibling),Xt=n,Je=!0,br=null,Fn=!1,e!==null&&(Sn[An++]=fa,Sn[An++]=da,Sn[An++]=yr,fa=e.id,da=e.overflow,yr=n),n=ff(n,u.children),n.flags|=4096);return n}return c?(Pa(),c=u.fallback,T=n.mode,L=e.child,Q=L.sibling,u=ca(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,Q!==null?c=ca(Q,c):(c=gr(c,T,i,null),c.flags|=2),c.return=n,u.return=n,u.sibling=c,n.child=u,u=c,c=n.child,T=e.child.memoizedState,T===null?T=of(i):(L=T.cachePool,L!==null?(Q=Ct._currentValue,L=L.parent!==Q?{parent:Q,pool:Q}:L):L=ep(),T={baseLanes:T.baseLanes|i,cachePool:L}),c.memoizedState=T,c.childLanes=cf(e,b,i),n.memoizedState=uf,u):(La(n),i=e.child,e=i.sibling,i=ca(i,{mode:"visible",children:u.children}),i.return=n,i.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=i,n.memoizedState=null,i)}function ff(e,n){return n=yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function yu(e,n){return e=un(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function df(e,n,i){return gs(n,e.child,null,i),e=ff(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function pg(e,n,i){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),Tc(e.return,n,i)}function hf(e,n,i,u,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=u,h.tail=i,h.tailMode=c)}function gg(e,n,i){var u=n.pendingProps,c=u.revealOrder,h=u.tail;if(Ut(e,n,u.children,i),u=Nt.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pg(e,i,n);else if(e.tag===19)pg(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(ie(Nt,u),c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&hu(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),hf(n,!1,c,i,h);break;case"backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&hu(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}hf(n,!0,i,null,h);break;case"together":hf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ya(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),qa|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(fi(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,i=ca(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=ca(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function mf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Kl(e)))}function s1(e,n,i){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),Da(n,Ct,e.memoizedState.cache),oi();break;case 27:case 5:bt(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:Da(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(La(n),n.flags|=128,null):(i&n.child.childLanes)!==0?mg(e,n,i):(La(n),e=ya(e,n,i),e!==null?e.sibling:null);La(n);break;case 19:var c=(e.flags&128)!==0;if(u=(i&n.childLanes)!==0,u||(fi(e,n,i,!1),u=(i&n.childLanes)!==0),c){if(u)return gg(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ie(Nt,Nt.current),u)break;return null;case 22:case 23:return n.lanes=0,og(e,n,i);case 24:Da(n,Ct,e.memoizedState.cache)}return ya(e,n,i)}function yg(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)jt=!0;else{if(!mf(e,i)&&(n.flags&128)===0)return jt=!1,s1(e,n,i);jt=(e.flags&131072)!==0}else jt=!1,Je&&(n.flags&1048576)!==0&&Ym(n,Ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var u=n.elementType,c=u._init;if(u=c(u._payload),n.type=u,typeof u=="function")wc(u)?(e=Er(u,e),n.tag=1,n=dg(null,n,u,e,i)):(n.tag=0,n=lf(null,n,u,e,i));else{if(u!=null){if(c=u.$$typeof,c===M){n.tag=11,n=ig(null,n,u,e,i);break e}else if(c===I){n.tag=14,n=lg(null,n,u,e,i);break e}}throw n=N(u)||u,Error(s(306,n,""))}}return n;case 0:return lf(e,n,n.type,n.pendingProps,i);case 1:return u=n.type,c=Er(u,n.pendingProps),dg(e,n,u,c,i);case 3:e:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(s(387));u=n.pendingProps;var h=n.memoizedState;c=h.element,Uc(e,n),vi(n,u,null,i);var b=n.memoizedState;if(u=b.cache,Da(n,Ct,u),u!==h.cache&&Rc(n,[Ct],i,!0),yi(),u=b.element,h.isDehydrated)if(h={element:u,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=hg(e,n,u,i);break e}else if(u!==c){c=xn(Error(s(424)),n),ci(c),n=hg(e,n,u,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(_t=Dn(e.firstChild),Xt=n,Je=!0,br=null,Fn=!0,i=Xp(n,null,u,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(oi(),u===c){n=ya(e,n,i);break e}Ut(e,n,u,i)}n=n.child}return n;case 26:return gu(e,n),e===null?(i=xy(n.type,null,n.pendingProps,null))?n.memoizedState=i:Je||(i=n.type,e=n.pendingProps,u=Ou(Ae.current).createElement(i),u[It]=n,u[en]=e,Lt(u,i,e),Ot(u),n.stateNode=u):n.memoizedState=xy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return bt(n),e===null&&Je&&(u=n.stateNode=vy(n.type,n.pendingProps,Ae.current),Xt=n,Fn=!0,c=_t,Ga(n.type)?(Gf=c,_t=Dn(u.firstChild)):_t=c),Ut(e,n,n.pendingProps.children,i),gu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Je&&((c=u=_t)&&(u=D1(u,n.type,n.pendingProps,Fn),u!==null?(n.stateNode=u,Xt=n,_t=Dn(u.firstChild),Fn=!1,c=!0):c=!1),c||_r(n)),bt(n),c=n.type,h=n.pendingProps,b=e!==null?e.memoizedProps:null,u=h.children,qf(c,h)?u=null:b!==null&&qf(c,b)&&(n.flags|=32),n.memoizedState!==null&&(c=Hc(e,n,K_,null,null,i),Zi._currentValue=c),gu(e,n),Ut(e,n,u,i),n.child;case 6:return e===null&&Je&&((e=i=_t)&&(i=z1(i,n.pendingProps,Fn),i!==null?(n.stateNode=i,Xt=n,_t=null,e=!0):e=!1),e||_r(n)),null;case 13:return mg(e,n,i);case 4:return Ce(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=gs(n,null,u,i):Ut(e,n,u,i),n.child;case 11:return ig(e,n,n.type,n.pendingProps,i);case 7:return Ut(e,n,n.pendingProps,i),n.child;case 8:return Ut(e,n,n.pendingProps.children,i),n.child;case 12:return Ut(e,n,n.pendingProps.children,i),n.child;case 10:return u=n.pendingProps,Da(n,n.type,u.value),Ut(e,n,u.children,i),n.child;case 9:return c=n.type._context,u=n.pendingProps.children,wr(n),c=qt(c),u=u(c),n.flags|=1,Ut(e,n,u,i),n.child;case 14:return lg(e,n,n.type,n.pendingProps,i);case 15:return ug(e,n,n.type,n.pendingProps,i);case 19:return gg(e,n,i);case 31:return u=n.pendingProps,i=n.mode,u={mode:u.mode,children:u.children},e===null?(i=yu(u,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=ca(e.child,u),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return og(e,n,i);case 24:return wr(n),u=qt(Ct),e===null?(c=Dc(),c===null&&(c=ht,h=Oc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=i),c=h),n.memoizedState={parent:u,cache:c},Mc(n),Da(n,Ct,c)):((e.lanes&i)!==0&&(Uc(e,n),vi(n,null,null,i),yi()),c=e.memoizedState,h=n.memoizedState,c.parent!==u?(c={parent:u,cache:u},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Da(n,Ct,u)):(u=h.cache,Da(n,Ct,u),u!==c.cache&&Rc(n,[Ct],i,!0))),Ut(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function va(e){e.flags|=4}function vg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ky(n)){if(n=En.current,n!==null&&((Ge&4194048)===Ge?Yn!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||n!==Yn))throw pi=zc,tp;e.flags|=8192}}function vu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Dl():536870912,e.lanes|=n,_s|=n)}function Ei(e,n){if(!Je)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function pt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,u=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,u|=c.subtreeFlags&65011712,u|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,u|=c.subtreeFlags,u|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=u,e.childLanes=i,n}function i1(e,n,i){var u=n.pendingProps;switch(kc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(n),null;case 1:return pt(n),null;case 3:return i=n.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),ma(Ct),Ie(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ui(n)?va(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qm())),pt(n),null;case 26:return i=n.memoizedState,e===null?(va(n),i!==null?(pt(n),vg(n,i)):(pt(n),n.flags&=-16777217)):i?i!==e.memoizedState?(va(n),pt(n),vg(n,i)):(pt(n),n.flags&=-16777217):(e.memoizedProps!==u&&va(n),pt(n),n.flags&=-16777217),null;case 27:ct(n),i=Ae.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==u&&va(n);else{if(!u){if(n.stateNode===null)throw Error(s(166));return pt(n),null}e=ue.current,ui(n)?Gm(n):(e=vy(c,u,i),n.stateNode=e,va(n))}return pt(n),null;case 5:if(ct(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==u&&va(n);else{if(!u){if(n.stateNode===null)throw Error(s(166));return pt(n),null}if(e=ue.current,ui(n))Gm(n);else{switch(c=Ou(Ae.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?c.createElement("select",{is:u.is}):c.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?c.createElement(i,{is:u.is}):c.createElement(i)}}e[It]=n,e[en]=u;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;e:switch(Lt(e,i,u),i){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&va(n)}}return pt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==u&&va(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(s(166));if(e=Ae.current,ui(n)){if(e=n.stateNode,i=n.memoizedProps,u=null,c=Xt,c!==null)switch(c.tag){case 27:case 5:u=c.memoizedProps}e[It]=n,e=!!(e.nodeValue===i||u!==null&&u.suppressHydrationWarning===!0||fy(e.nodeValue,i)),e||_r(n)}else e=Ou(e).createTextNode(u),e[It]=n,n.stateNode=e}return pt(n),null;case 13:if(u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ui(n),u!==null&&u.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[It]=n}else oi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),c=!1}else c=Qm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(ga(n),n):(ga(n),null)}if(ga(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=u!==null,e=e!==null&&e.memoizedState!==null,i){u=n.child,c=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(c=u.alternate.memoizedState.cachePool.pool);var h=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(h=u.memoizedState.cachePool.pool),h!==c&&(u.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),vu(n,n.updateQueue),pt(n),null;case 4:return Ie(),e===null&&Pf(n.stateNode.containerInfo),pt(n),null;case 10:return ma(n.type),pt(n),null;case 19:if($(Nt),c=n.memoizedState,c===null)return pt(n),null;if(u=(n.flags&128)!==0,h=c.rendering,h===null)if(u)Ei(c,!1);else{if(xt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=hu(e),h!==null){for(n.flags|=128,Ei(c,!1),e=h.updateQueue,n.updateQueue=e,vu(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Fm(i,e),i=i.sibling;return ie(Nt,Nt.current&1|2),n.child}e=e.sibling}c.tail!==null&&j()>xu&&(n.flags|=128,u=!0,Ei(c,!1),n.lanes=4194304)}else{if(!u)if(e=hu(h),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,vu(n,e),Ei(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Je)return pt(n),null}else 2*j()-c.renderingStartTime>xu&&i!==536870912&&(n.flags|=128,u=!0,Ei(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(e=c.last,e!==null?e.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=j(),n.sibling=null,e=Nt.current,ie(Nt,u?e&1|2:e&1),n):(pt(n),null);case 22:case 23:return ga(n),Zc(),u=n.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(i&536870912)!==0&&(n.flags&128)===0&&(pt(n),n.subtreeFlags&6&&(n.flags|=8192)):pt(n),i=n.updateQueue,i!==null&&vu(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==i&&(n.flags|=2048),e!==null&&$(Sr),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),ma(Ct),pt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function l1(e,n){switch(kc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ma(Ct),Ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ct(n),null;case 13:if(ga(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));oi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $(Nt),null;case 4:return Ie(),null;case 10:return ma(n.type),null;case 22:case 23:return ga(n),Zc(),e!==null&&$(Sr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ma(Ct),null;case 25:return null;default:return null}}function bg(e,n){switch(kc(n),n.tag){case 3:ma(Ct),Ie();break;case 26:case 27:case 5:ct(n);break;case 4:Ie();break;case 13:ga(n);break;case 19:$(Nt);break;case 10:ma(n.type);break;case 22:case 23:ga(n),Zc(),e!==null&&$(Sr);break;case 24:ma(Ct)}}function ki(e,n){try{var i=n.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var c=u.next;i=c;do{if((i.tag&e)===e){u=void 0;var h=i.create,b=i.inst;u=h(),b.destroy=u}i=i.next}while(i!==c)}}catch(T){ot(n,n.return,T)}}function Za(e,n,i){try{var u=n.updateQueue,c=u!==null?u.lastEffect:null;if(c!==null){var h=c.next;u=h;do{if((u.tag&e)===e){var b=u.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,c=n;var L=i,Q=T;try{Q()}catch(le){ot(c,L,le)}}}u=u.next}while(u!==h)}}catch(le){ot(n,n.return,le)}}function _g(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{lp(n,i)}catch(u){ot(e,e.return,u)}}}function xg(e,n,i){i.props=Er(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(u){ot(e,n,u)}}function Ci(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof i=="function"?e.refCleanup=i(u):i.current=u}}catch(c){ot(e,n,c)}}function Gn(e,n){var i=e.ref,u=e.refCleanup;if(i!==null)if(typeof u=="function")try{u()}catch(c){ot(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){ot(e,n,c)}else i.current=null}function wg(e){var n=e.type,i=e.memoizedProps,u=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&u.focus();break e;case"img":i.src?u.src=i.src:i.srcSet&&(u.srcset=i.srcSet)}}catch(c){ot(e,e.return,c)}}function pf(e,n,i){try{var u=e.stateNode;N1(u,e.type,i,n),u[en]=n}catch(c){ot(e,e.return,c)}}function Sg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ga(e.type)||e.tag===4}function gf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ga(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yf(e,n,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Ru));else if(u!==4&&(u===27&&Ga(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(yf(e,n,i),e=e.sibling;e!==null;)yf(e,n,i),e=e.sibling}function bu(e,n,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(u!==4&&(u===27&&Ga(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(bu(e,n,i),e=e.sibling;e!==null;)bu(e,n,i),e=e.sibling}function Ag(e){var n=e.stateNode,i=e.memoizedProps;try{for(var u=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Lt(n,u,i),n[It]=e,n[en]=i}catch(h){ot(e,e.return,h)}}var ba=!1,At=!1,vf=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function u1(e,n){if(e=e.containerInfo,Hf=Bu,e=Um(e),pc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var b=0,T=-1,L=-1,Q=0,le=0,he=e,J=null;t:for(;;){for(var W;he!==i||c!==0&&he.nodeType!==3||(T=b+c),he!==h||u!==0&&he.nodeType!==3||(L=b+u),he.nodeType===3&&(b+=he.nodeValue.length),(W=he.firstChild)!==null;)J=he,he=W;for(;;){if(he===e)break t;if(J===i&&++Q===c&&(T=b),J===h&&++le===u&&(L=b),(W=he.nextSibling)!==null)break;he=J,J=he.parentNode}he=W}i=T===-1||L===-1?null:{start:T,end:L}}else i=null}i=i||{start:0,end:0}}else i=null;for(If={focusedElem:e,selectionRange:i},Bu=!1,Dt=n;Dt!==null;)if(n=Dt,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Dt=e;else for(;Dt!==null;){switch(n=Dt,h=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=n,c=h.memoizedProps,h=h.memoizedState,u=i.stateNode;try{var ze=Er(i.type,c,i.elementType===i.type);e=u.getSnapshotBeforeUpdate(ze,h),u.__reactInternalSnapshotBeforeUpdate=e}catch(je){ot(i,i.return,je)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Ff(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ff(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Dt=e;break}Dt=n.return}}function kg(e,n,i){var u=i.flags;switch(i.tag){case 0:case 11:case 15:$a(e,i),u&4&&ki(5,i);break;case 1:if($a(e,i),u&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(b){ot(i,i.return,b)}else{var c=Er(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){ot(i,i.return,b)}}u&64&&_g(i),u&512&&Ci(i,i.return);break;case 3:if($a(e,i),u&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{lp(e,n)}catch(b){ot(i,i.return,b)}}break;case 27:n===null&&u&4&&Ag(i);case 26:case 5:$a(e,i),n===null&&u&4&&wg(i),u&512&&Ci(i,i.return);break;case 12:$a(e,i);break;case 13:$a(e,i),u&4&&Tg(e,i),u&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=y1.bind(null,i),M1(e,i))));break;case 22:if(u=i.memoizedState!==null||ba,!u){n=n!==null&&n.memoizedState!==null||At,c=ba;var h=At;ba=u,(At=n)&&!h?Ha(e,i,(i.subtreeFlags&8772)!==0):$a(e,i),ba=c,At=h}break;case 30:break;default:$a(e,i)}}function Cg(e){var n=e.alternate;n!==null&&(e.alternate=null,Cg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Qo(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var mt=null,an=!1;function _a(e,n,i){for(i=i.child;i!==null;)Ng(e,n,i),i=i.sibling}function Ng(e,n,i){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Ne,i)}catch{}switch(i.tag){case 26:At||Gn(i,n),_a(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:At||Gn(i,n);var u=mt,c=an;Ga(i.type)&&(mt=i.stateNode,an=!1),_a(e,n,i),Ui(i.stateNode),mt=u,an=c;break;case 5:At||Gn(i,n);case 6:if(u=mt,c=an,mt=null,_a(e,n,i),mt=u,an=c,mt!==null)if(an)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(i.stateNode)}catch(h){ot(i,n,h)}else try{mt.removeChild(i.stateNode)}catch(h){ot(i,n,h)}break;case 18:mt!==null&&(an?(e=mt,gy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),qi(e)):gy(mt,i.stateNode));break;case 4:u=mt,c=an,mt=i.stateNode.containerInfo,an=!0,_a(e,n,i),mt=u,an=c;break;case 0:case 11:case 14:case 15:At||Za(2,i,n),At||Za(4,i,n),_a(e,n,i);break;case 1:At||(Gn(i,n),u=i.stateNode,typeof u.componentWillUnmount=="function"&&xg(i,n,u)),_a(e,n,i);break;case 21:_a(e,n,i);break;case 22:At=(u=At)||i.memoizedState!==null,_a(e,n,i),At=u;break;default:_a(e,n,i)}}function Tg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qi(e)}catch(i){ot(n,n.return,i)}}function o1(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Eg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Eg),n;default:throw Error(s(435,e.tag))}}function bf(e,n){var i=o1(e);n.forEach(function(u){var c=v1.bind(null,e,u);i.has(u)||(i.add(u),u.then(c,c))})}function on(e,n){var i=n.deletions;if(i!==null)for(var u=0;u<i.length;u++){var c=i[u],h=e,b=n,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Ga(T.type)){mt=T.stateNode,an=!1;break e}break;case 5:mt=T.stateNode,an=!1;break e;case 3:case 4:mt=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(mt===null)throw Error(s(160));Ng(h,b,c),mt=null,an=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Rg(n,e),n=n.sibling}var jn=null;function Rg(e,n){var i=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),cn(e),u&4&&(Za(3,e,e.return),ki(3,e),Za(5,e,e.return));break;case 1:on(n,e),cn(e),u&512&&(At||i===null||Gn(i,i.return)),u&64&&ba&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?u:i.concat(u))));break;case 26:var c=jn;if(on(n,e),cn(e),u&512&&(At||i===null||Gn(i,i.return)),u&4){var h=i!==null?i.memoizedState:null;if(u=e.memoizedState,i===null)if(u===null)if(e.stateNode===null){e:{u=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(u){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Ks]||h[It]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(u),c.head.insertBefore(h,c.querySelector("head > title"))),Lt(h,u,i),h[It]=e,Ot(h),u=h;break e;case"link":var b=Ay("link","href",c).get(u+(i.href||""));if(b){for(var T=0;T<b.length;T++)if(h=b[T],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){b.splice(T,1);break t}}h=c.createElement(u),Lt(h,u,i),c.head.appendChild(h);break;case"meta":if(b=Ay("meta","content",c).get(u+(i.content||""))){for(T=0;T<b.length;T++)if(h=b[T],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){b.splice(T,1);break t}}h=c.createElement(u),Lt(h,u,i),c.head.appendChild(h);break;default:throw Error(s(468,u))}h[It]=e,Ot(h),u=h}e.stateNode=u}else Ey(c,e.type,e.stateNode);else e.stateNode=Sy(c,u,e.memoizedProps);else h!==u?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,u===null?Ey(c,e.type,e.stateNode):Sy(c,u,e.memoizedProps)):u===null&&e.stateNode!==null&&pf(e,e.memoizedProps,i.memoizedProps)}break;case 27:on(n,e),cn(e),u&512&&(At||i===null||Gn(i,i.return)),i!==null&&u&4&&pf(e,e.memoizedProps,i.memoizedProps);break;case 5:if(on(n,e),cn(e),u&512&&(At||i===null||Gn(i,i.return)),e.flags&32){c=e.stateNode;try{Jr(c,"")}catch(W){ot(e,e.return,W)}}u&4&&e.stateNode!=null&&(c=e.memoizedProps,pf(e,c,i!==null?i.memoizedProps:c)),u&1024&&(vf=!0);break;case 6:if(on(n,e),cn(e),u&4){if(e.stateNode===null)throw Error(s(162));u=e.memoizedProps,i=e.stateNode;try{i.nodeValue=u}catch(W){ot(e,e.return,W)}}break;case 3:if(zu=null,c=jn,jn=ju(n.containerInfo),on(n,e),jn=c,cn(e),u&4&&i!==null&&i.memoizedState.isDehydrated)try{qi(n.containerInfo)}catch(W){ot(e,e.return,W)}vf&&(vf=!1,Og(e));break;case 4:u=jn,jn=ju(e.stateNode.containerInfo),on(n,e),cn(e),jn=u;break;case 12:on(n,e),cn(e);break;case 13:on(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Ef=j()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,bf(e,u)));break;case 22:c=e.memoizedState!==null;var L=i!==null&&i.memoizedState!==null,Q=ba,le=At;if(ba=Q||c,At=le||L,on(n,e),At=le,ba=Q,cn(e),u&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(i===null||L||ba||At||kr(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){L=i=n;try{if(h=L.stateNode,c)b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=L.stateNode;var he=L.memoizedProps.style,J=he!=null&&he.hasOwnProperty("display")?he.display:null;T.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(W){ot(L,L.return,W)}}}else if(n.tag===6){if(i===null){L=n;try{L.stateNode.nodeValue=c?"":L.memoizedProps}catch(W){ot(L,L.return,W)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=e.updateQueue,u!==null&&(i=u.retryQueue,i!==null&&(u.retryQueue=null,bf(e,i))));break;case 19:on(n,e),cn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,bf(e,u)));break;case 30:break;case 21:break;default:on(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var i,u=e.return;u!==null;){if(Sg(u)){i=u;break}u=u.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var c=i.stateNode,h=gf(e);bu(e,h,c);break;case 5:var b=i.stateNode;i.flags&32&&(Jr(b,""),i.flags&=-33);var T=gf(e);bu(e,T,b);break;case 3:case 4:var L=i.stateNode.containerInfo,Q=gf(e);yf(e,Q,L);break;default:throw Error(s(161))}}catch(le){ot(e,e.return,le)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Og(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Og(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function $a(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)kg(e,n.alternate,n),n=n.sibling}function kr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Za(4,n,n.return),kr(n);break;case 1:Gn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&xg(n,n.return,i),kr(n);break;case 27:Ui(n.stateNode);case 26:case 5:Gn(n,n.return),kr(n);break;case 22:n.memoizedState===null&&kr(n);break;case 30:kr(n);break;default:kr(n)}e=e.sibling}}function Ha(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,c=e,h=n,b=h.flags;switch(h.tag){case 0:case 11:case 15:Ha(c,h,i),ki(4,h);break;case 1:if(Ha(c,h,i),u=h,c=u.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(Q){ot(u,u.return,Q)}if(u=h,c=u.updateQueue,c!==null){var T=u.stateNode;try{var L=c.shared.hiddenCallbacks;if(L!==null)for(c.shared.hiddenCallbacks=null,c=0;c<L.length;c++)ip(L[c],T)}catch(Q){ot(u,u.return,Q)}}i&&b&64&&_g(h),Ci(h,h.return);break;case 27:Ag(h);case 26:case 5:Ha(c,h,i),i&&u===null&&b&4&&wg(h),Ci(h,h.return);break;case 12:Ha(c,h,i);break;case 13:Ha(c,h,i),i&&b&4&&Tg(c,h);break;case 22:h.memoizedState===null&&Ha(c,h,i),Ci(h,h.return);break;case 30:break;default:Ha(c,h,i)}n=n.sibling}}function _f(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&di(i))}function xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&di(e))}function Xn(e,n,i,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jg(e,n,i,u),n=n.sibling}function jg(e,n,i,u){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,i,u),c&2048&&ki(9,n);break;case 1:Xn(e,n,i,u);break;case 3:Xn(e,n,i,u),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&di(e)));break;case 12:if(c&2048){Xn(e,n,i,u),e=n.stateNode;try{var h=n.memoizedProps,b=h.id,T=h.onPostCommit;typeof T=="function"&&T(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){ot(n,n.return,L)}}else Xn(e,n,i,u);break;case 13:Xn(e,n,i,u);break;case 23:break;case 22:h=n.stateNode,b=n.alternate,n.memoizedState!==null?h._visibility&2?Xn(e,n,i,u):Ni(e,n):h._visibility&2?Xn(e,n,i,u):(h._visibility|=2,ys(e,n,i,u,(n.subtreeFlags&10256)!==0)),c&2048&&_f(b,n);break;case 24:Xn(e,n,i,u),c&2048&&xf(n.alternate,n);break;default:Xn(e,n,i,u)}}function ys(e,n,i,u,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=e,b=n,T=i,L=u,Q=b.flags;switch(b.tag){case 0:case 11:case 15:ys(h,b,T,L,c),ki(8,b);break;case 23:break;case 22:var le=b.stateNode;b.memoizedState!==null?le._visibility&2?ys(h,b,T,L,c):Ni(h,b):(le._visibility|=2,ys(h,b,T,L,c)),c&&Q&2048&&_f(b.alternate,b);break;case 24:ys(h,b,T,L,c),c&&Q&2048&&xf(b.alternate,b);break;default:ys(h,b,T,L,c)}n=n.sibling}}function Ni(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,u=n,c=u.flags;switch(u.tag){case 22:Ni(i,u),c&2048&&_f(u.alternate,u);break;case 24:Ni(i,u),c&2048&&xf(u.alternate,u);break;default:Ni(i,u)}n=n.sibling}}var Ti=8192;function vs(e){if(e.subtreeFlags&Ti)for(e=e.child;e!==null;)Dg(e),e=e.sibling}function Dg(e){switch(e.tag){case 26:vs(e),e.flags&Ti&&e.memoizedState!==null&&G1(jn,e.memoizedState,e.memoizedProps);break;case 5:vs(e);break;case 3:case 4:var n=jn;jn=ju(e.stateNode.containerInfo),vs(e),jn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ti,Ti=16777216,vs(e),Ti=n):vs(e));break;default:vs(e)}}function zg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ri(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var u=n[i];Dt=u,Ug(u,e)}zg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mg(e),e=e.sibling}function Mg(e){switch(e.tag){case 0:case 11:case 15:Ri(e),e.flags&2048&&Za(9,e,e.return);break;case 3:Ri(e);break;case 12:Ri(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,_u(e)):Ri(e);break;default:Ri(e)}}function _u(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var u=n[i];Dt=u,Ug(u,e)}zg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Za(8,n,n.return),_u(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,_u(n));break;default:_u(n)}e=e.sibling}}function Ug(e,n){for(;Dt!==null;){var i=Dt;switch(i.tag){case 0:case 11:case 15:Za(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var u=i.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:di(i.memoizedState.cache)}if(u=i.child,u!==null)u.return=i,Dt=u;else e:for(i=e;Dt!==null;){u=Dt;var c=u.sibling,h=u.return;if(Cg(u),u===i){Dt=null;break e}if(c!==null){c.return=h,Dt=c;break e}Dt=h}}}var c1={getCacheForType:function(e){var n=qt(Ct),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},f1=typeof WeakMap=="function"?WeakMap:Map,tt=0,ht=null,Fe=null,Ge=0,nt=0,fn=null,Ia=!1,bs=!1,wf=!1,xa=0,xt=0,qa=0,Cr=0,Sf=0,kn=0,_s=0,Oi=null,rn=null,Af=!1,Ef=0,xu=1/0,wu=null,Va=null,Bt=0,Fa=null,xs=null,ws=0,kf=0,Cf=null,Bg=null,ji=0,Nf=null;function dn(){if((tt&2)!==0&&Ge!==0)return Ge&-Ge;if(F.T!==null){var e=os;return e!==0?e:Mf()}return Wh()}function Lg(){kn===0&&(kn=(Ge&536870912)===0||Je?jl():536870912);var e=En.current;return e!==null&&(e.flags|=32),kn}function hn(e,n,i){(e===ht&&(nt===2||nt===9)||e.cancelPendingCommit!==null)&&(Ss(e,0),Ya(e,Ge,kn,!1)),Rn(e,i),((tt&2)===0||e!==ht)&&(e===ht&&((tt&2)===0&&(Cr|=i),xt===4&&Ya(e,Ge,kn,!1)),Qn(e))}function Pg(e,n,i){if((tt&6)!==0)throw Error(s(327));var u=!i&&(n&124)===0&&(n&e.expiredLanes)===0||Ra(e,n),c=u?m1(e,n):Of(e,n,!0),h=u;do{if(c===0){bs&&!u&&Ya(e,n,0,!1);break}else{if(i=e.current.alternate,h&&!d1(i)){c=Of(e,n,!1),h=!1;continue}if(c===2){if(h=n,e.errorRecoveryDisabledLanes&h)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var T=e;c=Oi;var L=T.current.memoizedState.isDehydrated;if(L&&(Ss(T,b).flags|=256),b=Of(T,b,!1),b!==2){if(wf&&!L){T.errorRecoveryDisabledLanes|=h,Cr|=h,c=4;break e}h=rn,rn=c,h!==null&&(rn===null?rn=h:rn.push.apply(rn,h))}c=b}if(h=!1,c!==2)continue}}if(c===1){Ss(e,0),Ya(e,n,0,!0);break}e:{switch(u=e,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ya(u,n,kn,!Ia);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Ef+300-j(),10<c)){if(Ya(u,n,kn,!Ia),Wt(u,0,!0)!==0)break e;u.timeoutHandle=my(Zg.bind(null,u,i,rn,wu,Af,n,kn,Cr,_s,Ia,h,2,-0,0),c);break e}Zg(u,i,rn,wu,Af,n,kn,Cr,_s,Ia,h,0,-0,0)}}break}while(!0);Qn(e)}function Zg(e,n,i,u,c,h,b,T,L,Q,le,he,J,W){if(e.timeoutHandle=-1,he=n.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(Pi={stylesheets:null,count:0,unsuspend:Y1},Dg(n),he=X1(),he!==null)){e.cancelPendingCommit=he(Yg.bind(null,e,n,h,i,u,c,b,T,L,le,1,J,W)),Ya(e,h,b,!Q);return}Yg(e,n,h,i,u,c,b,T,L)}function d1(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var u=0;u<i.length;u++){var c=i[u],h=c.getSnapshot;c=c.value;try{if(!ln(h(),c))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ya(e,n,i,u){n&=~Sf,n&=~Cr,e.suspendedLanes|=n,e.pingedLanes&=~n,u&&(e.warmLanes|=n),u=e.expirationTimes;for(var c=n;0<c;){var h=31-ft(c),b=1<<h;u[h]=-1,c&=~b}i!==0&&Kh(e,i,n)}function Su(){return(tt&6)===0?(Di(0),!1):!0}function Tf(){if(Fe!==null){if(nt===0)var e=Fe.return;else e=Fe,ha=xr=null,Vc(e),ps=null,Si=0,e=Fe;for(;e!==null;)bg(e.alternate,e),e=e.return;Fe=null}}function Ss(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,R1(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Tf(),ht=e,Fe=i=ca(e.current,null),Ge=n,nt=0,fn=null,Ia=!1,bs=Ra(e,n),wf=!1,_s=kn=Sf=Cr=qa=xt=0,rn=Oi=null,Af=!1,(n&8)!==0&&(n|=n&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=n;0<u;){var c=31-ft(u),h=1<<c;n|=e[c],u&=~h}return xa=n,Vl(),i}function $g(e,n){qe=null,F.H=cu,n===mi||n===eu?(n=rp(),nt=3):n===tp?(n=rp(),nt=4):nt=n===sg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,Fe===null&&(xt=1,pu(e,xn(n,e.current)))}function Hg(){var e=F.H;return F.H=cu,e===null?cu:e}function Ig(){var e=F.A;return F.A=c1,e}function Rf(){xt=4,Ia||(Ge&4194048)!==Ge&&En.current!==null||(bs=!0),(qa&134217727)===0&&(Cr&134217727)===0||ht===null||Ya(ht,Ge,kn,!1)}function Of(e,n,i){var u=tt;tt|=2;var c=Hg(),h=Ig();(ht!==e||Ge!==n)&&(wu=null,Ss(e,n)),n=!1;var b=xt;e:do try{if(nt!==0&&Fe!==null){var T=Fe,L=fn;switch(nt){case 8:Tf(),b=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var Q=nt;if(nt=0,fn=null,As(e,T,L,Q),i&&bs){b=0;break e}break;default:Q=nt,nt=0,fn=null,As(e,T,L,Q)}}h1(),b=xt;break}catch(le){$g(e,le)}while(!0);return n&&e.shellSuspendCounter++,ha=xr=null,tt=u,F.H=c,F.A=h,Fe===null&&(ht=null,Ge=0,Vl()),b}function h1(){for(;Fe!==null;)qg(Fe)}function m1(e,n){var i=tt;tt|=2;var u=Hg(),c=Ig();ht!==e||Ge!==n?(wu=null,xu=j()+500,Ss(e,n)):bs=Ra(e,n);e:do try{if(nt!==0&&Fe!==null){n=Fe;var h=fn;t:switch(nt){case 1:nt=0,fn=null,As(e,n,h,1);break;case 2:case 9:if(np(h)){nt=0,fn=null,Vg(n);break}n=function(){nt!==2&&nt!==9||ht!==e||(nt=7),Qn(e)},h.then(n,n);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:np(h)?(nt=0,fn=null,Vg(n)):(nt=0,fn=null,As(e,n,h,7));break;case 5:var b=null;switch(Fe.tag){case 26:b=Fe.memoizedState;case 5:case 27:var T=Fe;if(!b||ky(b)){nt=0,fn=null;var L=T.sibling;if(L!==null)Fe=L;else{var Q=T.return;Q!==null?(Fe=Q,Au(Q)):Fe=null}break t}}nt=0,fn=null,As(e,n,h,5);break;case 6:nt=0,fn=null,As(e,n,h,6);break;case 8:Tf(),xt=6;break e;default:throw Error(s(462))}}p1();break}catch(le){$g(e,le)}while(!0);return ha=xr=null,F.H=u,F.A=c,tt=i,Fe!==null?0:(ht=null,Ge=0,Vl(),xt)}function p1(){for(;Fe!==null&&!fe();)qg(Fe)}function qg(e){var n=yg(e.alternate,e,xa);e.memoizedProps=e.pendingProps,n===null?Au(e):Fe=n}function Vg(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=fg(i,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=fg(i,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:Vc(n);default:bg(i,n),n=Fe=Fm(n,xa),n=yg(i,n,xa)}e.memoizedProps=e.pendingProps,n===null?Au(e):Fe=n}function As(e,n,i,u){ha=xr=null,Vc(n),ps=null,Si=0;var c=n.return;try{if(r1(e,c,n,i,Ge)){xt=1,pu(e,xn(i,e.current)),Fe=null;return}}catch(h){if(c!==null)throw Fe=c,h;xt=1,pu(e,xn(i,e.current)),Fe=null;return}n.flags&32768?(Je||u===1?e=!0:bs||(Ge&536870912)!==0?e=!1:(Ia=e=!0,(u===2||u===9||u===3||u===6)&&(u=En.current,u!==null&&u.tag===13&&(u.flags|=16384))),Fg(n,e)):Au(n)}function Au(e){var n=e;do{if((n.flags&32768)!==0){Fg(n,Ia);return}e=n.return;var i=i1(n.alternate,n,xa);if(i!==null){Fe=i;return}if(n=n.sibling,n!==null){Fe=n;return}Fe=n=e}while(n!==null);xt===0&&(xt=5)}function Fg(e,n){do{var i=l1(e.alternate,e);if(i!==null){i.flags&=32767,Fe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Fe=e;return}Fe=e=i}while(e!==null);xt=6,Fe=null}function Yg(e,n,i,u,c,h,b,T,L){e.cancelPendingCommit=null;do Eu();while(Bt!==0);if((tt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=_c,qr(e,i,h,b,T,L),e===ht&&(Fe=ht=null,Ge=0),xs=n,Fa=e,ws=i,kf=h,Cf=c,Bg=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,b1(ge,function(){return Jg(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=F.T,F.T=null,c=Y.p,Y.p=2,b=tt,tt|=4;try{u1(e,n,i)}finally{tt=b,Y.p=c,F.T=u}}Bt=1,Gg(),Xg(),Qg()}}function Gg(){if(Bt===1){Bt=0;var e=Fa,n=xs,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=F.T,F.T=null;var u=Y.p;Y.p=2;var c=tt;tt|=4;try{Rg(n,e);var h=If,b=Um(e.containerInfo),T=h.focusedElem,L=h.selectionRange;if(b!==T&&T&&T.ownerDocument&&Mm(T.ownerDocument.documentElement,T)){if(L!==null&&pc(T)){var Q=L.start,le=L.end;if(le===void 0&&(le=Q),"selectionStart"in T)T.selectionStart=Q,T.selectionEnd=Math.min(le,T.value.length);else{var he=T.ownerDocument||document,J=he&&he.defaultView||window;if(J.getSelection){var W=J.getSelection(),ze=T.textContent.length,je=Math.min(L.start,ze),lt=L.end===void 0?je:Math.min(L.end,ze);!W.extend&&je>lt&&(b=lt,lt=je,je=b);var V=zm(T,je),H=zm(T,lt);if(V&&H&&(W.rangeCount!==1||W.anchorNode!==V.node||W.anchorOffset!==V.offset||W.focusNode!==H.node||W.focusOffset!==H.offset)){var G=he.createRange();G.setStart(V.node,V.offset),W.removeAllRanges(),je>lt?(W.addRange(G),W.extend(H.node,H.offset)):(G.setEnd(H.node,H.offset),W.addRange(G))}}}}for(he=[],W=T;W=W.parentNode;)W.nodeType===1&&he.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<he.length;T++){var oe=he[T];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Bu=!!Hf,If=Hf=null}finally{tt=c,Y.p=u,F.T=i}}e.current=n,Bt=2}}function Xg(){if(Bt===2){Bt=0;var e=Fa,n=xs,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=F.T,F.T=null;var u=Y.p;Y.p=2;var c=tt;tt|=4;try{kg(e,n.alternate,n)}finally{tt=c,Y.p=u,F.T=i}}Bt=3}}function Qg(){if(Bt===4||Bt===3){Bt=0,te();var e=Fa,n=xs,i=ws,u=Bg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Bt=5:(Bt=0,xs=Fa=null,Kg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Va=null),Go(i),n=n.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Ne,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=F.T,c=Y.p,Y.p=2,F.T=null;try{for(var h=e.onRecoverableError,b=0;b<u.length;b++){var T=u[b];h(T.value,{componentStack:T.stack})}}finally{F.T=n,Y.p=c}}(ws&3)!==0&&Eu(),Qn(e),c=e.pendingLanes,(i&4194090)!==0&&(c&42)!==0?e===Nf?ji++:(ji=0,Nf=e):ji=0,Di(0)}}function Kg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,di(n)))}function Eu(e){return Gg(),Xg(),Qg(),Jg()}function Jg(){if(Bt!==5)return!1;var e=Fa,n=kf;kf=0;var i=Go(ws),u=F.T,c=Y.p;try{Y.p=32>i?32:i,F.T=null,i=Cf,Cf=null;var h=Fa,b=ws;if(Bt=0,xs=Fa=null,ws=0,(tt&6)!==0)throw Error(s(331));var T=tt;if(tt|=4,Mg(h.current),jg(h,h.current,b,i),tt=T,Di(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Ne,h)}catch{}return!0}finally{Y.p=c,F.T=u,Kg(e,n)}}function Wg(e,n,i){n=xn(i,n),n=sf(e.stateNode,n,2),e=Ua(e,n,2),e!==null&&(Rn(e,2),Qn(e))}function ot(e,n,i){if(e.tag===3)Wg(e,e,i);else for(;n!==null;){if(n.tag===3){Wg(n,e,i);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Va===null||!Va.has(u))){e=xn(i,e),i=ag(2),u=Ua(n,i,2),u!==null&&(rg(i,u,n,e),Rn(u,2),Qn(u));break}}n=n.return}}function jf(e,n,i){var u=e.pingCache;if(u===null){u=e.pingCache=new f1;var c=new Set;u.set(n,c)}else c=u.get(n),c===void 0&&(c=new Set,u.set(n,c));c.has(i)||(wf=!0,c.add(i),e=g1.bind(null,e,n,i),n.then(e,e))}function g1(e,n,i){var u=e.pingCache;u!==null&&u.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,ht===e&&(Ge&i)===i&&(xt===4||xt===3&&(Ge&62914560)===Ge&&300>j()-Ef?(tt&2)===0&&Ss(e,0):Sf|=i,_s===Ge&&(_s=0)),Qn(e)}function ey(e,n){n===0&&(n=Dl()),e=ss(e,n),e!==null&&(Rn(e,n),Qn(e))}function y1(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),ey(e,i)}function v1(e,n){var i=0;switch(e.tag){case 13:var u=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(n),ey(e,i)}function b1(e,n){return Gt(e,n)}var ku=null,Es=null,Df=!1,Cu=!1,zf=!1,Nr=0;function Qn(e){e!==Es&&e.next===null&&(Es===null?ku=Es=e:Es=Es.next=e),Cu=!0,Df||(Df=!0,x1())}function Di(e,n){if(!zf&&Cu){zf=!0;do for(var i=!1,u=ku;u!==null;){if(e!==0){var c=u.pendingLanes;if(c===0)var h=0;else{var b=u.suspendedLanes,T=u.pingedLanes;h=(1<<31-ft(42|e)+1)-1,h&=c&~(b&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,ry(u,h))}else h=Ge,h=Wt(u,u===ht?h:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(h&3)===0||Ra(u,h)||(i=!0,ry(u,h));u=u.next}while(i);zf=!1}}function _1(){ty()}function ty(){Cu=Df=!1;var e=0;Nr!==0&&(T1()&&(e=Nr),Nr=0);for(var n=j(),i=null,u=ku;u!==null;){var c=u.next,h=ny(u,n);h===0?(u.next=null,i===null?ku=c:i.next=c,c===null&&(Es=i)):(i=u,(e!==0||(h&3)!==0)&&(Cu=!0)),u=c}Di(e)}function ny(e,n){for(var i=e.suspendedLanes,u=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var b=31-ft(h),T=1<<b,L=c[b];L===-1?((T&i)===0||(T&u)!==0)&&(c[b]=Fo(T,n)):L<=n&&(e.expiredLanes|=T),h&=~T}if(n=ht,i=Ge,i=Wt(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,i===0||e===n&&(nt===2||nt===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&x(u),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ra(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(u!==null&&x(u),Go(i)){case 2:case 8:i=pe;break;case 32:i=ge;break;case 268435456:i=ve;break;default:i=ge}return u=ay.bind(null,e),i=Gt(i,u),e.callbackPriority=n,e.callbackNode=i,n}return u!==null&&u!==null&&x(u),e.callbackPriority=2,e.callbackNode=null,2}function ay(e,n){if(Bt!==0&&Bt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Eu()&&e.callbackNode!==i)return null;var u=Ge;return u=Wt(e,e===ht?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(Pg(e,u,n),ny(e,j()),e.callbackNode!=null&&e.callbackNode===i?ay.bind(null,e):null)}function ry(e,n){if(Eu())return null;Pg(e,n,!0)}function x1(){O1(function(){(tt&6)!==0?Gt(q,_1):ty()})}function Mf(){return Nr===0&&(Nr=jl()),Nr}function sy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ll(""+e)}function iy(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function w1(e,n,i,u,c){if(n==="submit"&&i&&i.stateNode===c){var h=sy((c[en]||null).action),b=u.submitter;b&&(n=(n=b[en]||null)?sy(n.formAction):b.getAttribute("formAction"),n!==null&&(h=n,b=null));var T=new Hl("action","action",null,u,c);e.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Nr!==0){var L=b?iy(c,b):new FormData(c);ef(i,{pending:!0,data:L,method:c.method,action:h},null,L)}}else typeof h=="function"&&(T.preventDefault(),L=b?iy(c,b):new FormData(c),ef(i,{pending:!0,data:L,method:c.method,action:h},h,L))},currentTarget:c}]})}}for(var Uf=0;Uf<bc.length;Uf++){var Bf=bc[Uf],S1=Bf.toLowerCase(),A1=Bf[0].toUpperCase()+Bf.slice(1);On(S1,"on"+A1)}On(Pm,"onAnimationEnd"),On(Zm,"onAnimationIteration"),On($m,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On($_,"onTransitionRun"),On(H_,"onTransitionStart"),On(I_,"onTransitionCancel"),On(Hm,"onTransitionEnd"),Xr("onMouseEnter",["mouseout","mouseover"]),Xr("onMouseLeave",["mouseout","mouseover"]),Xr("onPointerEnter",["pointerout","pointerover"]),Xr("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zi));function ly(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var u=e[i],c=u.event;u=u.listeners;e:{var h=void 0;if(n)for(var b=u.length-1;0<=b;b--){var T=u[b],L=T.instance,Q=T.currentTarget;if(T=T.listener,L!==h&&c.isPropagationStopped())break e;h=T,c.currentTarget=Q;try{h(c)}catch(le){mu(le)}c.currentTarget=null,h=L}else for(b=0;b<u.length;b++){if(T=u[b],L=T.instance,Q=T.currentTarget,T=T.listener,L!==h&&c.isPropagationStopped())break e;h=T,c.currentTarget=Q;try{h(c)}catch(le){mu(le)}c.currentTarget=null,h=L}}}}function Ye(e,n){var i=n[Xo];i===void 0&&(i=n[Xo]=new Set);var u=e+"__bubble";i.has(u)||(uy(n,e,2,!1),i.add(u))}function Lf(e,n,i){var u=0;n&&(u|=4),uy(i,e,u,n)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function Pf(e){if(!e[Nu]){e[Nu]=!0,tm.forEach(function(i){i!=="selectionchange"&&(E1.has(i)||Lf(i,!1,e),Lf(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Nu]||(n[Nu]=!0,Lf("selectionchange",!1,n))}}function uy(e,n,i,u){switch(jy(n)){case 2:var c=J1;break;case 8:c=W1;break;default:c=Wf}i=c.bind(null,n,i,e),c=void 0,!ic||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),u?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function Zf(e,n,i,u,c){var h=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var T=u.stateNode.containerInfo;if(T===c)break;if(b===4)for(b=u.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===c)return;b=b.return}for(;T!==null;){if(b=Fr(T),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){u=h=b;continue e}T=T.parentNode}}u=u.return}pm(function(){var Q=h,le=rc(i),he=[];e:{var J=Im.get(e);if(J!==void 0){var W=Hl,ze=e;switch(e){case"keypress":if(Zl(i)===0)break e;case"keydown":case"keyup":W=b_;break;case"focusin":ze="focus",W=cc;break;case"focusout":ze="blur",W=cc;break;case"beforeblur":case"afterblur":W=cc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=vm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=l_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=w_;break;case Pm:case Zm:case $m:W=c_;break;case Hm:W=A_;break;case"scroll":case"scrollend":W=s_;break;case"wheel":W=k_;break;case"copy":case"cut":case"paste":W=d_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=_m;break;case"toggle":case"beforetoggle":W=N_}var je=(n&4)!==0,lt=!je&&(e==="scroll"||e==="scrollend"),V=je?J!==null?J+"Capture":null:J;je=[];for(var H=Q,G;H!==null;){var oe=H;if(G=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||G===null||V===null||(oe=Ws(H,V),oe!=null&&je.push(Mi(H,oe,G))),lt)break;H=H.return}0<je.length&&(J=new W(J,ze,null,i,le),he.push({event:J,listeners:je}))}}if((n&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",J&&i!==ac&&(ze=i.relatedTarget||i.fromElement)&&(Fr(ze)||ze[Vr]))break e;if((W||J)&&(J=le.window===le?le:(J=le.ownerDocument)?J.defaultView||J.parentWindow:window,W?(ze=i.relatedTarget||i.toElement,W=Q,ze=ze?Fr(ze):null,ze!==null&&(lt=o(ze),je=ze.tag,ze!==lt||je!==5&&je!==27&&je!==6)&&(ze=null)):(W=null,ze=Q),W!==ze)){if(je=vm,oe="onMouseLeave",V="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(je=_m,oe="onPointerLeave",V="onPointerEnter",H="pointer"),lt=W==null?J:Js(W),G=ze==null?J:Js(ze),J=new je(oe,H+"leave",W,i,le),J.target=lt,J.relatedTarget=G,oe=null,Fr(le)===Q&&(je=new je(V,H+"enter",ze,i,le),je.target=G,je.relatedTarget=lt,oe=je),lt=oe,W&&ze)t:{for(je=W,V=ze,H=0,G=je;G;G=ks(G))H++;for(G=0,oe=V;oe;oe=ks(oe))G++;for(;0<H-G;)je=ks(je),H--;for(;0<G-H;)V=ks(V),G--;for(;H--;){if(je===V||V!==null&&je===V.alternate)break t;je=ks(je),V=ks(V)}je=null}else je=null;W!==null&&oy(he,J,W,je,!1),ze!==null&&lt!==null&&oy(he,lt,ze,je,!0)}}e:{if(J=Q?Js(Q):window,W=J.nodeName&&J.nodeName.toLowerCase(),W==="select"||W==="input"&&J.type==="file")var Ee=Nm;else if(km(J))if(Tm)Ee=L_;else{Ee=U_;var Ve=M_}else W=J.nodeName,!W||W.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&nc(Q.elementType)&&(Ee=Nm):Ee=B_;if(Ee&&(Ee=Ee(e,Q))){Cm(he,Ee,i,le);break e}Ve&&Ve(e,J,Q),e==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&tc(J,"number",J.value)}switch(Ve=Q?Js(Q):window,e){case"focusin":(km(Ve)||Ve.contentEditable==="true")&&(ns=Ve,gc=Q,li=null);break;case"focusout":li=gc=ns=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,Bm(he,i,le);break;case"selectionchange":if(Z_)break;case"keydown":case"keyup":Bm(he,i,le)}var Te;if(dc)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else ts?Am(e,i)&&(De="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(De="onCompositionStart");De&&(xm&&i.locale!=="ko"&&(ts||De!=="onCompositionStart"?De==="onCompositionEnd"&&ts&&(Te=gm()):(ja=le,lc="value"in ja?ja.value:ja.textContent,ts=!0)),Ve=Tu(Q,De),0<Ve.length&&(De=new bm(De,e,null,i,le),he.push({event:De,listeners:Ve}),Te?De.data=Te:(Te=Em(i),Te!==null&&(De.data=Te)))),(Te=R_?O_(e,i):j_(e,i))&&(De=Tu(Q,"onBeforeInput"),0<De.length&&(Ve=new bm("onBeforeInput","beforeinput",null,i,le),he.push({event:Ve,listeners:De}),Ve.data=Te)),w1(he,e,Q,i,le)}ly(he,n)})}function Mi(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Tu(e,n){for(var i=n+"Capture",u=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Ws(e,i),c!=null&&u.unshift(Mi(e,c,h)),c=Ws(e,n),c!=null&&u.push(Mi(e,c,h))),e.tag===3)return u;e=e.return}return[]}function ks(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function oy(e,n,i,u,c){for(var h=n._reactName,b=[];i!==null&&i!==u;){var T=i,L=T.alternate,Q=T.stateNode;if(T=T.tag,L!==null&&L===u)break;T!==5&&T!==26&&T!==27||Q===null||(L=Q,c?(Q=Ws(i,h),Q!=null&&b.unshift(Mi(i,Q,L))):c||(Q=Ws(i,h),Q!=null&&b.push(Mi(i,Q,L)))),i=i.return}b.length!==0&&e.push({event:n,listeners:b})}var k1=/\r\n?/g,C1=/\u0000|\uFFFD/g;function cy(e){return(typeof e=="string"?e:""+e).replace(k1,`
`).replace(C1,"")}function fy(e,n){return n=cy(n),cy(e)===n}function Ru(){}function it(e,n,i,u,c,h){switch(i){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||Jr(e,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&Jr(e,""+u);break;case"className":Ml(e,"class",u);break;case"tabIndex":Ml(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ml(e,i,u);break;case"style":hm(e,u,h);break;case"data":if(n!=="object"){Ml(e,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(i);break}u=Ll(""+u),e.setAttribute(i,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(n!=="input"&&it(e,n,"name",c.name,c,null),it(e,n,"formEncType",c.formEncType,c,null),it(e,n,"formMethod",c.formMethod,c,null),it(e,n,"formTarget",c.formTarget,c,null)):(it(e,n,"encType",c.encType,c,null),it(e,n,"method",c.method,c,null),it(e,n,"target",c.target,c,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(i);break}u=Ll(""+u),e.setAttribute(i,u);break;case"onClick":u!=null&&(e.onclick=Ru);break;case"onScroll":u!=null&&Ye("scroll",e);break;case"onScrollEnd":u!=null&&Ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(i=u.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}i=Ll(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(i,""+u):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":u===!0?e.setAttribute(i,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(i,u):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(i,u):e.removeAttribute(i);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(i):e.setAttribute(i,u);break;case"popover":Ye("beforetoggle",e),Ye("toggle",e),zl(e,"popover",u);break;case"xlinkActuate":ua(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ua(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ua(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ua(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ua(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ua(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ua(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ua(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ua(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":zl(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=a_.get(i)||i,zl(e,i,u))}}function $f(e,n,i,u,c,h){switch(i){case"style":hm(e,u,h);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(i=u.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof u=="string"?Jr(e,u):(typeof u=="number"||typeof u=="bigint")&&Jr(e,""+u);break;case"onScroll":u!=null&&Ye("scroll",e);break;case"onScrollEnd":u!=null&&Ye("scrollend",e);break;case"onClick":u!=null&&(e.onclick=Ru);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nm.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),n=i.slice(2,c?i.length-7:void 0),h=e[en]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(n,h,c),typeof u=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,u,c);break e}i in e?e[i]=u:u===!0?e.setAttribute(i,""):zl(e,i,u)}}}function Lt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",e),Ye("load",e);var u=!1,c=!1,h;for(h in i)if(i.hasOwnProperty(h)){var b=i[h];if(b!=null)switch(h){case"src":u=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:it(e,n,h,b,i,null)}}c&&it(e,n,"srcSet",i.srcSet,i,null),u&&it(e,n,"src",i.src,i,null);return;case"input":Ye("invalid",e);var T=h=b=c=null,L=null,Q=null;for(u in i)if(i.hasOwnProperty(u)){var le=i[u];if(le!=null)switch(u){case"name":c=le;break;case"type":b=le;break;case"checked":L=le;break;case"defaultChecked":Q=le;break;case"value":h=le;break;case"defaultValue":T=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,n));break;default:it(e,n,u,le,i,null)}}om(e,h,T,L,Q,b,c,!1),Ul(e);return;case"select":Ye("invalid",e),u=b=h=null;for(c in i)if(i.hasOwnProperty(c)&&(T=i[c],T!=null))switch(c){case"value":h=T;break;case"defaultValue":b=T;break;case"multiple":u=T;default:it(e,n,c,T,i,null)}n=h,i=b,e.multiple=!!u,n!=null?Kr(e,!!u,n,!1):i!=null&&Kr(e,!!u,i,!0);return;case"textarea":Ye("invalid",e),h=c=u=null;for(b in i)if(i.hasOwnProperty(b)&&(T=i[b],T!=null))switch(b){case"value":u=T;break;case"defaultValue":c=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:it(e,n,b,T,i,null)}fm(e,u,c,h),Ul(e);return;case"option":for(L in i)if(i.hasOwnProperty(L)&&(u=i[L],u!=null))switch(L){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:it(e,n,L,u,i,null)}return;case"dialog":Ye("beforetoggle",e),Ye("toggle",e),Ye("cancel",e),Ye("close",e);break;case"iframe":case"object":Ye("load",e);break;case"video":case"audio":for(u=0;u<zi.length;u++)Ye(zi[u],e);break;case"image":Ye("error",e),Ye("load",e);break;case"details":Ye("toggle",e);break;case"embed":case"source":case"link":Ye("error",e),Ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in i)if(i.hasOwnProperty(Q)&&(u=i[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:it(e,n,Q,u,i,null)}return;default:if(nc(n)){for(le in i)i.hasOwnProperty(le)&&(u=i[le],u!==void 0&&$f(e,n,le,u,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(u=i[T],u!=null&&it(e,n,T,u,i,null))}function N1(e,n,i,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,b=null,T=null,L=null,Q=null,le=null;for(W in i){var he=i[W];if(i.hasOwnProperty(W)&&he!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":L=he;default:u.hasOwnProperty(W)||it(e,n,W,null,u,he)}}for(var J in u){var W=u[J];if(he=i[J],u.hasOwnProperty(J)&&(W!=null||he!=null))switch(J){case"type":h=W;break;case"name":c=W;break;case"checked":Q=W;break;case"defaultChecked":le=W;break;case"value":b=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,n));break;default:W!==he&&it(e,n,J,W,u,he)}}ec(e,b,T,L,Q,le,h,c);return;case"select":W=b=T=J=null;for(h in i)if(L=i[h],i.hasOwnProperty(h)&&L!=null)switch(h){case"value":break;case"multiple":W=L;default:u.hasOwnProperty(h)||it(e,n,h,null,u,L)}for(c in u)if(h=u[c],L=i[c],u.hasOwnProperty(c)&&(h!=null||L!=null))switch(c){case"value":J=h;break;case"defaultValue":T=h;break;case"multiple":b=h;default:h!==L&&it(e,n,c,h,u,L)}n=T,i=b,u=W,J!=null?Kr(e,!!i,J,!1):!!u!=!!i&&(n!=null?Kr(e,!!i,n,!0):Kr(e,!!i,i?[]:"",!1));return;case"textarea":W=J=null;for(T in i)if(c=i[T],i.hasOwnProperty(T)&&c!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:it(e,n,T,null,u,c)}for(b in u)if(c=u[b],h=i[b],u.hasOwnProperty(b)&&(c!=null||h!=null))switch(b){case"value":J=c;break;case"defaultValue":W=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&it(e,n,b,c,u,h)}cm(e,J,W);return;case"option":for(var ze in i)if(J=i[ze],i.hasOwnProperty(ze)&&J!=null&&!u.hasOwnProperty(ze))switch(ze){case"selected":e.selected=!1;break;default:it(e,n,ze,null,u,J)}for(L in u)if(J=u[L],W=i[L],u.hasOwnProperty(L)&&J!==W&&(J!=null||W!=null))switch(L){case"selected":e.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:it(e,n,L,J,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in i)J=i[je],i.hasOwnProperty(je)&&J!=null&&!u.hasOwnProperty(je)&&it(e,n,je,null,u,J);for(Q in u)if(J=u[Q],W=i[Q],u.hasOwnProperty(Q)&&J!==W&&(J!=null||W!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,n));break;default:it(e,n,Q,J,u,W)}return;default:if(nc(n)){for(var lt in i)J=i[lt],i.hasOwnProperty(lt)&&J!==void 0&&!u.hasOwnProperty(lt)&&$f(e,n,lt,void 0,u,J);for(le in u)J=u[le],W=i[le],!u.hasOwnProperty(le)||J===W||J===void 0&&W===void 0||$f(e,n,le,J,u,W);return}}for(var V in i)J=i[V],i.hasOwnProperty(V)&&J!=null&&!u.hasOwnProperty(V)&&it(e,n,V,null,u,J);for(he in u)J=u[he],W=i[he],!u.hasOwnProperty(he)||J===W||J==null&&W==null||it(e,n,he,J,u,W)}var Hf=null,If=null;function Ou(e){return e.nodeType===9?e:e.ownerDocument}function dy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function qf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vf=null;function T1(){var e=window.event;return e&&e.type==="popstate"?e===Vf?!1:(Vf=e,!0):(Vf=null,!1)}var my=typeof setTimeout=="function"?setTimeout:void 0,R1=typeof clearTimeout=="function"?clearTimeout:void 0,py=typeof Promise=="function"?Promise:void 0,O1=typeof queueMicrotask=="function"?queueMicrotask:typeof py<"u"?function(e){return py.resolve(null).then(e).catch(j1)}:my;function j1(e){setTimeout(function(){throw e})}function Ga(e){return e==="head"}function gy(e,n){var i=n,u=0,c=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(0<u&&8>u){i=u;var b=e.ownerDocument;if(i&1&&Ui(b.documentElement),i&2&&Ui(b.body),i&4)for(i=b.head,Ui(i),b=i.firstChild;b;){var T=b.nextSibling,L=b.nodeName;b[Ks]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&b.rel.toLowerCase()==="stylesheet"||i.removeChild(b),b=T}}if(c===0){e.removeChild(h),qi(n);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:u=i.charCodeAt(0)-48;else u=0;i=h}while(i);qi(n)}function Ff(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Ff(i),Qo(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function D1(e,n,i,u){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Ks])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function z1(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Dn(e.nextSibling),e===null))return null;return e}function Yf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function M1(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var u=function(){n(),i.removeEventListener("DOMContentLoaded",u)};i.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function Dn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Gf=null;function yy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function vy(e,n,i){switch(n=Ou(i),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ui(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Qo(e)}var Cn=new Map,by=new Set;function ju(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wa=Y.d;Y.d={f:U1,r:B1,D:L1,C:P1,L:Z1,m:$1,X:I1,S:H1,M:q1};function U1(){var e=wa.f(),n=Su();return e||n}function B1(e){var n=Yr(e);n!==null&&n.tag===5&&n.type==="form"?Pp(n):wa.r(e)}var Cs=typeof document>"u"?null:document;function _y(e,n,i){var u=Cs;if(u&&typeof n=="string"&&n){var c=_n(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),by.has(c)||(by.add(c),e={rel:e,crossOrigin:i,href:n},u.querySelector(c)===null&&(n=u.createElement("link"),Lt(n,"link",e),Ot(n),u.head.appendChild(n)))}}function L1(e){wa.D(e),_y("dns-prefetch",e,null)}function P1(e,n){wa.C(e,n),_y("preconnect",e,n)}function Z1(e,n,i){wa.L(e,n,i);var u=Cs;if(u&&e&&n){var c='link[rel="preload"][as="'+_n(n)+'"]';n==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+_n(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+_n(i.imageSizes)+'"]')):c+='[href="'+_n(e)+'"]';var h=c;switch(n){case"style":h=Ns(e);break;case"script":h=Ts(e)}Cn.has(h)||(e=g({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Cn.set(h,e),u.querySelector(c)!==null||n==="style"&&u.querySelector(Bi(h))||n==="script"&&u.querySelector(Li(h))||(n=u.createElement("link"),Lt(n,"link",e),Ot(n),u.head.appendChild(n)))}}function $1(e,n){wa.m(e,n);var i=Cs;if(i&&e){var u=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+_n(u)+'"][href="'+_n(e)+'"]',h=c;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ts(e)}if(!Cn.has(h)&&(e=g({rel:"modulepreload",href:e},n),Cn.set(h,e),i.querySelector(c)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Li(h)))return}u=i.createElement("link"),Lt(u,"link",e),Ot(u),i.head.appendChild(u)}}}function H1(e,n,i){wa.S(e,n,i);var u=Cs;if(u&&e){var c=Gr(u).hoistableStyles,h=Ns(e);n=n||"default";var b=c.get(h);if(!b){var T={loading:0,preload:null};if(b=u.querySelector(Bi(h)))T.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Cn.get(h))&&Xf(e,i);var L=b=u.createElement("link");Ot(L),Lt(L,"link",e),L._p=new Promise(function(Q,le){L.onload=Q,L.onerror=le}),L.addEventListener("load",function(){T.loading|=1}),L.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Du(b,n,u)}b={type:"stylesheet",instance:b,count:1,state:T},c.set(h,b)}}}function I1(e,n){wa.X(e,n);var i=Cs;if(i&&e){var u=Gr(i).hoistableScripts,c=Ts(e),h=u.get(c);h||(h=i.querySelector(Li(c)),h||(e=g({src:e,async:!0},n),(n=Cn.get(c))&&Qf(e,n),h=i.createElement("script"),Ot(h),Lt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(c,h))}}function q1(e,n){wa.M(e,n);var i=Cs;if(i&&e){var u=Gr(i).hoistableScripts,c=Ts(e),h=u.get(c);h||(h=i.querySelector(Li(c)),h||(e=g({src:e,async:!0,type:"module"},n),(n=Cn.get(c))&&Qf(e,n),h=i.createElement("script"),Ot(h),Lt(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(c,h))}}function xy(e,n,i,u){var c=(c=Ae.current)?ju(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Ns(i.href),i=Gr(c).hoistableStyles,u=i.get(n),u||(u={type:"style",instance:null,count:0,state:null},i.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Ns(i.href);var h=Gr(c).hoistableStyles,b=h.get(e);if(b||(c=c.ownerDocument||c,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,b),(h=c.querySelector(Bi(e)))&&!h._p&&(b.instance=h,b.state.loading=5),Cn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Cn.set(e,i),h||V1(c,e,i,b.state))),n&&u===null)throw Error(s(528,""));return b}if(n&&u!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ts(i),i=Gr(c).hoistableScripts,u=i.get(n),u||(u={type:"script",instance:null,count:0,state:null},i.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ns(e){return'href="'+_n(e)+'"'}function Bi(e){return'link[rel="stylesheet"]['+e+"]"}function wy(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function V1(e,n,i,u){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=e.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),Lt(n,"link",i),Ot(n),e.head.appendChild(n))}function Ts(e){return'[src="'+_n(e)+'"]'}function Li(e){return"script[async]"+e}function Sy(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var u=e.querySelector('style[data-href~="'+_n(i.href)+'"]');if(u)return n.instance=u,Ot(u),u;var c=g({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),Ot(u),Lt(u,"style",c),Du(u,i.precedence,e),n.instance=u;case"stylesheet":c=Ns(i.href);var h=e.querySelector(Bi(c));if(h)return n.state.loading|=4,n.instance=h,Ot(h),h;u=wy(i),(c=Cn.get(c))&&Xf(u,c),h=(e.ownerDocument||e).createElement("link"),Ot(h);var b=h;return b._p=new Promise(function(T,L){b.onload=T,b.onerror=L}),Lt(h,"link",u),n.state.loading|=4,Du(h,i.precedence,e),n.instance=h;case"script":return h=Ts(i.src),(c=e.querySelector(Li(h)))?(n.instance=c,Ot(c),c):(u=i,(c=Cn.get(h))&&(u=g({},i),Qf(u,c)),e=e.ownerDocument||e,c=e.createElement("script"),Ot(c),Lt(c,"link",u),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,Du(u,i.precedence,e));return n.instance}function Du(e,n,i){for(var u=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=u.length?u[u.length-1]:null,h=c,b=0;b<u.length;b++){var T=u[b];if(T.dataset.precedence===n)h=T;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Xf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Qf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var zu=null;function Ay(e,n,i){if(zu===null){var u=new Map,c=zu=new Map;c.set(i,u)}else c=zu,u=c.get(i),u||(u=new Map,c.set(i,u));if(u.has(e))return u;for(u.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var h=i[c];if(!(h[Ks]||h[It]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var b=h.getAttribute(n)||"";b=e+b;var T=u.get(b);T?T.push(h):u.set(b,[h])}}return u}function Ey(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function F1(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ky(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Pi=null;function Y1(){}function G1(e,n,i){if(Pi===null)throw Error(s(475));var u=Pi;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Ns(i.href),h=e.querySelector(Bi(c));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=Mu.bind(u),e.then(u,u)),n.state.loading|=4,n.instance=h,Ot(h);return}h=e.ownerDocument||e,i=wy(i),(c=Cn.get(c))&&Xf(i,c),h=h.createElement("link"),Ot(h);var b=h;b._p=new Promise(function(T,L){b.onload=T,b.onerror=L}),Lt(h,"link",i),n.instance=h}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=Mu.bind(u),e.addEventListener("load",n),e.addEventListener("error",n))}}function X1(){if(Pi===null)throw Error(s(475));var e=Pi;return e.stylesheets&&e.count===0&&Kf(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&Kf(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Mu(){if(this.count--,this.count===0){if(this.stylesheets)Kf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Uu=null;function Kf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Uu=new Map,n.forEach(Q1,e),Uu=null,Mu.call(e))}function Q1(e,n){if(!(n.state.loading&4)){var i=Uu.get(e);if(i)var u=i.get(null);else{i=new Map,Uu.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var b=c[h];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(i.set(b.dataset.precedence,b),u=b)}u&&i.set(null,u)}c=n.instance,b=c.getAttribute("data-precedence"),h=i.get(b)||u,h===u&&i.set(null,c),i.set(b,c),this.count++,u=Mu.bind(this),c.addEventListener("load",u),c.addEventListener("error",u),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Zi={$$typeof:R,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function K1(e,n,i,u,c,h,b,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.hiddenUpdates=Ir(null),this.identifierPrefix=u,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Cy(e,n,i,u,c,h,b,T,L,Q,le,he){return e=new K1(e,n,i,b,T,L,Q,he),n=1,h===!0&&(n|=24),h=un(3,null,null,n),e.current=h,h.stateNode=e,n=Oc(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:u,isDehydrated:i,cache:n},Mc(h),e}function Ny(e){return e?(e=is,e):is}function Ty(e,n,i,u,c,h){c=Ny(c),u.context===null?u.context=c:u.pendingContext=c,u=Ma(n),u.payload={element:i},h=h===void 0?null:h,h!==null&&(u.callback=h),i=Ua(e,u,n),i!==null&&(hn(i,e,n),gi(i,e,n))}function Ry(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Jf(e,n){Ry(e,n),(e=e.alternate)&&Ry(e,n)}function Oy(e){if(e.tag===13){var n=ss(e,67108864);n!==null&&hn(n,e,67108864),Jf(e,67108864)}}var Bu=!0;function J1(e,n,i,u){var c=F.T;F.T=null;var h=Y.p;try{Y.p=2,Wf(e,n,i,u)}finally{Y.p=h,F.T=c}}function W1(e,n,i,u){var c=F.T;F.T=null;var h=Y.p;try{Y.p=8,Wf(e,n,i,u)}finally{Y.p=h,F.T=c}}function Wf(e,n,i,u){if(Bu){var c=ed(u);if(c===null)Zf(e,n,u,Lu,i),Dy(e,u);else if(tx(c,e,n,i,u))u.stopPropagation();else if(Dy(e,u),n&4&&-1<ex.indexOf(e)){for(;c!==null;){var h=Yr(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var b=Tn(h.pendingLanes);if(b!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var L=1<<31-ft(b);T.entanglements[1]|=L,b&=~L}Qn(h),(tt&6)===0&&(xu=j()+500,Di(0))}}break;case 13:T=ss(h,2),T!==null&&hn(T,h,2),Su(),Jf(h,2)}if(h=ed(u),h===null&&Zf(e,n,u,Lu,i),h===c)break;c=h}c!==null&&u.stopPropagation()}else Zf(e,n,u,null,i)}}function ed(e){return e=rc(e),td(e)}var Lu=null;function td(e){if(Lu=null,e=Fr(e),e!==null){var n=o(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=f(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Lu=e,null}function jy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(O()){case q:return 2;case pe:return 8;case ge:case K:return 32;case ve:return 268435456;default:return 32}default:return 32}}var nd=!1,Xa=null,Qa=null,Ka=null,$i=new Map,Hi=new Map,Ja=[],ex="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dy(e,n){switch(e){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":$i.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hi.delete(n.pointerId)}}function Ii(e,n,i,u,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:i,eventSystemFlags:u,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Yr(n),n!==null&&Oy(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function tx(e,n,i,u,c){switch(n){case"focusin":return Xa=Ii(Xa,e,n,i,u,c),!0;case"dragenter":return Qa=Ii(Qa,e,n,i,u,c),!0;case"mouseover":return Ka=Ii(Ka,e,n,i,u,c),!0;case"pointerover":var h=c.pointerId;return $i.set(h,Ii($i.get(h)||null,e,n,i,u,c)),!0;case"gotpointercapture":return h=c.pointerId,Hi.set(h,Ii(Hi.get(h)||null,e,n,i,u,c)),!0}return!1}function zy(e){var n=Fr(e.target);if(n!==null){var i=o(n);if(i!==null){if(n=i.tag,n===13){if(n=f(i),n!==null){e.blockedOn=n,Gb(e.priority,function(){if(i.tag===13){var u=dn();u=Yo(u);var c=ss(i,u);c!==null&&hn(c,i,u),Jf(i,u)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=ed(e.nativeEvent);if(i===null){i=e.nativeEvent;var u=new i.constructor(i.type,i);ac=u,i.target.dispatchEvent(u),ac=null}else return n=Yr(i),n!==null&&Oy(n),e.blockedOn=i,!1;n.shift()}return!0}function My(e,n,i){Pu(e)&&i.delete(n)}function nx(){nd=!1,Xa!==null&&Pu(Xa)&&(Xa=null),Qa!==null&&Pu(Qa)&&(Qa=null),Ka!==null&&Pu(Ka)&&(Ka=null),$i.forEach(My),Hi.forEach(My)}function Zu(e,n){e.blockedOn===n&&(e.blockedOn=null,nd||(nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,nx)))}var $u=null;function Uy(e){$u!==e&&($u=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$u===e&&($u=null);for(var n=0;n<e.length;n+=3){var i=e[n],u=e[n+1],c=e[n+2];if(typeof u!="function"){if(td(u||i)===null)continue;break}var h=Yr(i);h!==null&&(e.splice(n,3),n-=3,ef(h,{pending:!0,data:c,method:i.method,action:u},u,c))}}))}function qi(e){function n(L){return Zu(L,e)}Xa!==null&&Zu(Xa,e),Qa!==null&&Zu(Qa,e),Ka!==null&&Zu(Ka,e),$i.forEach(n),Hi.forEach(n);for(var i=0;i<Ja.length;i++){var u=Ja[i];u.blockedOn===e&&(u.blockedOn=null)}for(;0<Ja.length&&(i=Ja[0],i.blockedOn===null);)zy(i),i.blockedOn===null&&Ja.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(u=0;u<i.length;u+=3){var c=i[u],h=i[u+1],b=c[en]||null;if(typeof h=="function")b||Uy(i);else if(b){var T=null;if(h&&h.hasAttribute("formAction")){if(c=h,b=h[en]||null)T=b.formAction;else if(td(c)!==null)continue}else T=b.action;typeof T=="function"?i[u+1]=T:(i.splice(u,3),u-=3),Uy(i)}}}function ad(e){this._internalRoot=e}Hu.prototype.render=ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,u=dn();Ty(i,u,e,n,null,null)},Hu.prototype.unmount=ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ty(e.current,2,null,e,null,null),Su(),n[Vr]=null}};function Hu(e){this._internalRoot=e}Hu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Wh();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Ja.length&&n!==0&&n<Ja[i].priority;i++);Ja.splice(i,0,e),i===0&&zy(e)}};var By=t.version;if(By!=="19.1.0")throw Error(s(527,By,"19.1.0"));Y.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var ax={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{Ne=Iu.inject(ax),$e=Iu}catch{}}return Fi.createRoot=function(e,n){if(!l(e))throw Error(s(299));var i=!1,u="",c=Wp,h=eg,b=tg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Cy(e,1,!1,null,null,i,u,c,h,b,T,null),e[Vr]=n.current,Pf(e),new ad(n)},Fi.hydrateRoot=function(e,n,i){if(!l(e))throw Error(s(299));var u=!1,c="",h=Wp,b=eg,T=tg,L=null,Q=null;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(L=i.unstable_transitionCallbacks),i.formState!==void 0&&(Q=i.formState)),n=Cy(e,1,!0,n,i??null,u,c,h,b,T,L,Q),n.context=Ny(null),i=n.current,u=dn(),u=Yo(u),c=Ma(u),c.callback=null,Ua(i,c,u),i=u,n.current.lanes=i,Rn(n,i),Qn(n),e[Vr]=n.current,Pf(e),new Hu(n)},Fi.version="19.1.0",Fi}var Yy;function gx(){if(Yy)return id.exports;Yy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),id.exports=px(),id.exports}var yx=gx();const vx="modulepreload",bx=function(r){return"/ursa-minor-ascension/"+r},Gy={},$0=function(t,a,s){let l=Promise.resolve();if(a&&a.length>0){let f=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));l=f(a.map(p=>{if(p=bx(p),p in Gy)return;Gy[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const A=document.createElement("link");if(A.rel=g?"stylesheet":vx,g||(A.as="script"),A.crossOrigin="",A.href=p,m&&A.setAttribute("nonce",m),document.head.appendChild(A),g)return new Promise((v,k)=>{A.addEventListener("load",v),A.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(f){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=f,window.dispatchEvent(d),!d.defaultPrevented)throw f}return l.then(f=>{for(const d of f||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};function _x(r={}){const{immediate:t=!1,onNeedRefresh:a,onOfflineReady:s,onRegistered:l,onRegisteredSW:o,onRegisterError:f}=r;let d,m;const p=async(y=!0)=>{await m};async function g(){if("serviceWorker"in navigator){if(d=await $0(async()=>{const{Workbox:y}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:y}},[]).then(({Workbox:y})=>new y("/ursa-minor-ascension/sw.js",{scope:"/ursa-minor-ascension/",type:"classic"})).catch(y=>{f==null||f(y)}),!d)return;d.addEventListener("activated",y=>{(y.isUpdate||y.isExternal)&&window.location.reload()}),d.addEventListener("installed",y=>{y.isUpdate||s==null||s()}),d.register({immediate:t}).then(y=>{o?o("/ursa-minor-ascension/sw.js",y):l==null||l(y)}).catch(y=>{f==null||f(y)})}}return m=g(),p}var Yi={},Xy;function xx(){if(Xy)return Yi;Xy=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.parse=f,Yi.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,o=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,v){const k=new o,_=A.length;if(_<2)return k;const C=(v==null?void 0:v.decode)||g;let E=0;do{const S=A.indexOf("=",E);if(S===-1)break;const R=A.indexOf(";",E),M=R===-1?_:R;if(S>M){E=A.lastIndexOf(";",S-1)+1;continue}const B=d(A,E,S),X=m(A,S,B),I=A.slice(B,X);if(k[I]===void 0){let se=d(A,S+1,M),P=m(A,M,se);const ee=C(A.slice(se,P));k[I]=ee}E=M+1}while(E<_);return k}function d(A,v,k){do{const _=A.charCodeAt(v);if(_!==32&&_!==9)return v}while(++v<k);return k}function m(A,v,k){for(;v>k;){const _=A.charCodeAt(--v);if(_!==32&&_!==9)return v+1}return k}function p(A,v,k){const _=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(A))throw new TypeError(`argument name is invalid: ${A}`);const C=_(v);if(!t.test(C))throw new TypeError(`argument val is invalid: ${v}`);let E=A+"="+C;if(!k)return E;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);E+="; Max-Age="+k.maxAge}if(k.domain){if(!a.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);E+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);E+="; Path="+k.path}if(k.expires){if(!y(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);E+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(E+="; HttpOnly"),k.secure&&(E+="; Secure"),k.partitioned&&(E+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return E}function g(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function y(A){return l.call(A)==="[object Date]"}return Yi}xx();var Qy="popstate";function wx(r={}){function t(l,o){let{pathname:f="/",search:d="",hash:m=""}=Zr(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),jd("",{pathname:f,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(l,o){let f=l.document.querySelector("base"),d="";if(f&&f.getAttribute("href")){let m=l.location.href,p=m.indexOf("#");d=p===-1?m:m.slice(0,p)}return d+"#"+(typeof o=="string"?o:il(o))}function s(l,o){qn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return Ax(t,a,s,r)}function vt(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function qn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Sx(){return Math.random().toString(36).substring(2,10)}function Ky(r,t){return{usr:r.state,key:r.key,idx:t}}function jd(r,t,a=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Zr(t):t,state:a,key:t&&t.key||s||Sx()}}function il({pathname:r="/",search:t="",hash:a=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Zr(r){let t={};if(r){let a=r.indexOf("#");a>=0&&(t.hash=r.substring(a),r=r.substring(0,a));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Ax(r,t,a,s={}){let{window:l=document.defaultView,v5Compat:o=!1}=s,f=l.history,d="POP",m=null,p=g();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function g(){return(f.state||{idx:null}).idx}function y(){d="POP";let C=g(),E=C==null?null:C-p;p=C,m&&m({action:d,location:_.location,delta:E})}function A(C,E){d="PUSH";let S=jd(_.location,C,E);a&&a(S,C),p=g()+1;let R=Ky(S,p),M=_.createHref(S);try{f.pushState(R,"",M)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;l.location.assign(M)}o&&m&&m({action:d,location:_.location,delta:1})}function v(C,E){d="REPLACE";let S=jd(_.location,C,E);a&&a(S,C),p=g();let R=Ky(S,p),M=_.createHref(S);f.replaceState(R,"",M),o&&m&&m({action:d,location:_.location,delta:0})}function k(C){return Ex(C)}let _={get action(){return d},get location(){return r(l,f)},listen(C){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(Qy,y),m=C,()=>{l.removeEventListener(Qy,y),m=null}},createHref(C){return t(l,C)},createURL:k,encodeLocation(C){let E=k(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:A,replace:v,go(C){return f.go(C)}};return _}function Ex(r,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),vt(a,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:il(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function H0(r,t,a="/"){return kx(r,t,a,!1)}function kx(r,t,a,s){let l=typeof t=="string"?Zr(t):t,o=Na(l.pathname||"/",a);if(o==null)return null;let f=I0(r);Cx(f);let d=null;for(let m=0;d==null&&m<f.length;++m){let p=Lx(o);d=Ux(f[m],p,s)}return d}function I0(r,t=[],a=[],s=""){let l=(o,f,d)=>{let m={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:f,route:o};m.relativePath.startsWith("/")&&(vt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=Ca([s,m.relativePath]),g=a.concat(m);o.children&&o.children.length>0&&(vt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),I0(o.children,t,g,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:zx(p,o.index),routesMeta:g})};return r.forEach((o,f)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))l(o,f);else for(let m of q0(o.path))l(o,f,m)}),t}function q0(r){let t=r.split("/");if(t.length===0)return[];let[a,...s]=t,l=a.endsWith("?"),o=a.replace(/\?$/,"");if(s.length===0)return l?[o,""]:[o];let f=q0(s.join("/")),d=[];return d.push(...f.map(m=>m===""?o:[o,m].join("/"))),l&&d.push(...f),d.map(m=>r.startsWith("/")&&m===""?"/":m)}function Cx(r){r.sort((t,a)=>t.score!==a.score?a.score-t.score:Mx(t.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var Nx=/^:[\w-]+$/,Tx=3,Rx=2,Ox=1,jx=10,Dx=-2,Jy=r=>r==="*";function zx(r,t){let a=r.split("/"),s=a.length;return a.some(Jy)&&(s+=Dx),t&&(s+=Rx),a.filter(l=>!Jy(l)).reduce((l,o)=>l+(Nx.test(o)?Tx:o===""?Ox:jx),s)}function Mx(r,t){return r.length===t.length&&r.slice(0,-1).every((s,l)=>s===t[l])?r[r.length-1]-t[t.length-1]:0}function Ux(r,t,a=!1){let{routesMeta:s}=r,l={},o="/",f=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,g=o==="/"?t:t.slice(o.length)||"/",y=fo({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},g),A=m.route;if(!y&&p&&a&&!s[s.length-1].route.index&&(y=fo({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!y)return null;Object.assign(l,y.params),f.push({params:l,pathname:Ca([o,y.pathname]),pathnameBase:Hx(Ca([o,y.pathnameBase])),route:A}),y.pathnameBase!=="/"&&(o=Ca([o,y.pathnameBase]))}return f}function fo(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[a,s]=Bx(r.path,r.caseSensitive,r.end),l=t.match(a);if(!l)return null;let o=l[0],f=o.replace(/(.)\/+$/,"$1"),d=l.slice(1);return{params:s.reduce((p,{paramName:g,isOptional:y},A)=>{if(g==="*"){let k=d[A]||"";f=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const v=d[A];return y&&!v?p[g]=void 0:p[g]=(v||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:f,pattern:r}}function Bx(r,t=!1,a=!0){qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function Lx(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Na(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,s=r.charAt(a);return s&&s!=="/"?null:r.slice(a)||"/"}function Px(r,t="/"){let{pathname:a,search:s="",hash:l=""}=typeof r=="string"?Zr(r):r;return{pathname:a?a.startsWith("/")?a:Zx(a,t):t,search:Ix(s),hash:qx(l)}}function Zx(r,t){let a=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?a.length>1&&a.pop():l!=="."&&a.push(l)}),a.length>1?a.join("/"):"/"}function cd(r,t,a,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $x(r){return r.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function V0(r){let t=$x(r);return t.map((a,s)=>s===t.length-1?a.pathname:a.pathnameBase)}function F0(r,t,a,s=!1){let l;typeof r=="string"?l=Zr(r):(l={...r},vt(!l.pathname||!l.pathname.includes("?"),cd("?","pathname","search",l)),vt(!l.pathname||!l.pathname.includes("#"),cd("#","pathname","hash",l)),vt(!l.search||!l.search.includes("#"),cd("#","search","hash",l)));let o=r===""||l.pathname==="",f=o?"/":l.pathname,d;if(f==null)d=a;else{let y=t.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),y-=1;l.pathname=A.join("/")}d=y>=0?t[y]:"/"}let m=Px(l,d),p=f&&f!=="/"&&f.endsWith("/"),g=(o||f===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(p||g)&&(m.pathname+="/"),m}var Ca=r=>r.join("/").replace(/\/\/+/g,"/"),Hx=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ix=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,qx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Vx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Y0=["POST","PUT","PATCH","DELETE"];new Set(Y0);var Fx=["GET",...Y0];new Set(Fx);var Ys=Z.createContext(null);Ys.displayName="DataRouter";var No=Z.createContext(null);No.displayName="DataRouterState";var G0=Z.createContext({isTransitioning:!1});G0.displayName="ViewTransition";var Yx=Z.createContext(new Map);Yx.displayName="Fetchers";var Gx=Z.createContext(null);Gx.displayName="Await";var sa=Z.createContext(null);sa.displayName="Navigation";var wl=Z.createContext(null);wl.displayName="Location";var ia=Z.createContext({outlet:null,matches:[],isDataRoute:!1});ia.displayName="Route";var sh=Z.createContext(null);sh.displayName="RouteError";function Xx(r,{relative:t}={}){vt(Sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=Z.useContext(sa),{hash:l,pathname:o,search:f}=Al(r,{relative:t}),d=o;return a!=="/"&&(d=o==="/"?a:Ca([a,o])),s.createHref({pathname:d,search:f,hash:l})}function Sl(){return Z.useContext(wl)!=null}function $r(){return vt(Sl(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(wl).location}var X0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q0(r){Z.useContext(sa).static||Z.useLayoutEffect(r)}function To(){let{isDataRoute:r}=Z.useContext(ia);return r?ow():Qx()}function Qx(){vt(Sl(),"useNavigate() may be used only in the context of a <Router> component.");let r=Z.useContext(Ys),{basename:t,navigator:a}=Z.useContext(sa),{matches:s}=Z.useContext(ia),{pathname:l}=$r(),o=JSON.stringify(V0(s)),f=Z.useRef(!1);return Q0(()=>{f.current=!0}),Z.useCallback((m,p={})=>{if(qn(f.current,X0),!f.current)return;if(typeof m=="number"){a.go(m);return}let g=F0(m,JSON.parse(o),l,p.relative==="path");r==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Ca([t,g.pathname])),(p.replace?a.replace:a.push)(g,p.state,p)},[t,a,o,l,r])}Z.createContext(null);function Kx(){let{matches:r}=Z.useContext(ia),t=r[r.length-1];return t?t.params:{}}function Al(r,{relative:t}={}){let{matches:a}=Z.useContext(ia),{pathname:s}=$r(),l=JSON.stringify(V0(a));return Z.useMemo(()=>F0(r,JSON.parse(l),s,t==="path"),[r,l,s,t])}function Jx(r,t){return K0(r,t)}function K0(r,t,a,s){var S;vt(Sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:o}=Z.useContext(sa),{matches:f}=Z.useContext(ia),d=f[f.length-1],m=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",y=d&&d.route;{let R=y&&y.path||"";J0(p,!y||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let A=$r(),v;if(t){let R=typeof t=="string"?Zr(t):t;vt(g==="/"||((S=R.pathname)==null?void 0:S.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${R.pathname}" was given in the \`location\` prop.`),v=R}else v=A;let k=v.pathname||"/",_=k;if(g!=="/"){let R=g.replace(/^\//,"").split("/");_="/"+k.replace(/^\//,"").split("/").slice(R.length).join("/")}let C=!o&&a&&a.matches&&a.matches.length>0?a.matches:H0(r,{pathname:_});qn(y||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),qn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=aw(C&&C.map(R=>Object.assign({},R,{params:Object.assign({},m,R.params),pathname:Ca([g,l.encodeLocation?l.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:Ca([g,l.encodeLocation?l.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),f,a,s);return t&&E?Z.createElement(wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function Wx(){let r=uw(),t=Vx(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),a=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Z.createElement(Z.Fragment,null,Z.createElement("p",null,"💿 Hey developer 👋"),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:o},"ErrorBoundary")," or"," ",Z.createElement("code",{style:o},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},t),a?Z.createElement("pre",{style:l},a):null,f)}var ew=Z.createElement(Wx,null),tw=class extends Z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?Z.createElement(ia.Provider,{value:this.props.routeContext},Z.createElement(sh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nw({routeContext:r,match:t,children:a}){let s=Z.useContext(Ys);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Z.createElement(ia.Provider,{value:r},a)}function aw(r,t=[],a=null,s=null){if(r==null){if(!a)return null;if(a.errors)r=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)r=a.matches;else return null}let l=r,o=a==null?void 0:a.errors;if(o!=null){let m=l.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);vt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let f=!1,d=-1;if(a)for(let m=0;m<l.length;m++){let p=l[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:g,errors:y}=a,A=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||A){f=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((m,p,g)=>{let y,A=!1,v=null,k=null;a&&(y=o&&p.route.id?o[p.route.id]:void 0,v=p.route.errorElement||ew,f&&(d<0&&g===0?(J0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,k=null):d===g&&(A=!0,k=p.route.hydrateFallbackElement||null)));let _=t.concat(l.slice(0,g+1)),C=()=>{let E;return y?E=v:A?E=k:p.route.Component?E=Z.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=m,Z.createElement(nw,{match:p,routeContext:{outlet:m,matches:_,isDataRoute:a!=null},children:E})};return a&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?Z.createElement(tw,{location:a.location,revalidation:a.revalidation,component:v,error:y,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):C()},null)}function ih(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rw(r){let t=Z.useContext(Ys);return vt(t,ih(r)),t}function sw(r){let t=Z.useContext(No);return vt(t,ih(r)),t}function iw(r){let t=Z.useContext(ia);return vt(t,ih(r)),t}function lh(r){let t=iw(r),a=t.matches[t.matches.length-1];return vt(a.route.id,`${r} can only be used on routes that contain a unique "id"`),a.route.id}function lw(){return lh("useRouteId")}function uw(){var s;let r=Z.useContext(sh),t=sw("useRouteError"),a=lh("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[a]}function ow(){let{router:r}=rw("useNavigate"),t=lh("useNavigate"),a=Z.useRef(!1);return Q0(()=>{a.current=!0}),Z.useCallback(async(l,o={})=>{qn(a.current,X0),a.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...o}))},[r,t])}var Wy={};function J0(r,t,a){!t&&!Wy[r]&&(Wy[r]=!0,qn(!1,a))}Z.memo(cw);function cw({routes:r,future:t,state:a}){return K0(r,void 0,a,t)}function Xi(r){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fw({basename:r="/",children:t=null,location:a,navigationType:s="POP",navigator:l,static:o=!1}){vt(!Sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),d=Z.useMemo(()=>({basename:f,navigator:l,static:o,future:{}}),[f,l,o]);typeof a=="string"&&(a=Zr(a));let{pathname:m="/",search:p="",hash:g="",state:y=null,key:A="default"}=a,v=Z.useMemo(()=>{let k=Na(m,f);return k==null?null:{location:{pathname:k,search:p,hash:g,state:y,key:A},navigationType:s}},[f,m,p,g,y,A,s]);return qn(v!=null,`<Router basename="${f}"> is not able to match the URL "${m}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:Z.createElement(sa.Provider,{value:d},Z.createElement(wl.Provider,{children:t,value:v}))}function dw({children:r,location:t}){return Jx(Dd(r),t)}function Dd(r,t=[]){let a=[];return Z.Children.forEach(r,(s,l)=>{if(!Z.isValidElement(s))return;let o=[...t,l];if(s.type===Z.Fragment){a.push.apply(a,Dd(s.props.children,o));return}vt(s.type===Xi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Dd(s.props.children,o)),a.push(f)}),a}var no="get",ao="application/x-www-form-urlencoded";function Ro(r){return r!=null&&typeof r.tagName=="string"}function hw(r){return Ro(r)&&r.tagName.toLowerCase()==="button"}function mw(r){return Ro(r)&&r.tagName.toLowerCase()==="form"}function pw(r){return Ro(r)&&r.tagName.toLowerCase()==="input"}function gw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function yw(r,t){return r.button===0&&(!t||t==="_self")&&!gw(r)}var Vu=null;function vw(){if(Vu===null)try{new FormData(document.createElement("form"),0),Vu=!1}catch{Vu=!0}return Vu}var bw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fd(r){return r!=null&&!bw.has(r)?(qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ao}"`),null):r}function _w(r,t){let a,s,l,o,f;if(mw(r)){let d=r.getAttribute("action");s=d?Na(d,t):null,a=r.getAttribute("method")||no,l=fd(r.getAttribute("enctype"))||ao,o=new FormData(r)}else if(hw(r)||pw(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||d.getAttribute("action");if(s=m?Na(m,t):null,a=r.getAttribute("formmethod")||d.getAttribute("method")||no,l=fd(r.getAttribute("formenctype"))||fd(d.getAttribute("enctype"))||ao,o=new FormData(d,r),!vw()){let{name:p,type:g,value:y}=r;if(g==="image"){let A=p?`${p}.`:"";o.append(`${A}x`,"0"),o.append(`${A}y`,"0")}else p&&o.append(p,y)}}else{if(Ro(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=no,s=null,l=ao,f=r}return o&&l==="text/plain"&&(f=o,o=void 0),{action:s,method:a.toLowerCase(),encType:l,formData:o,body:f}}function uh(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function xw(r,t){if(r.id in t)return t[r.id];try{let a=await import(r.module);return t[r.id]=a,a}catch(a){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ww(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Sw(r,t,a){let s=await Promise.all(r.map(async l=>{let o=t.routes[l.route.id];if(o){let f=await xw(o,a);return f.links?f.links():[]}return[]}));return Cw(s.flat(1).filter(ww).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function e0(r,t,a,s,l,o){let f=(m,p)=>a[p]?m.route.id!==a[p].route.id:!0,d=(m,p)=>{var g;return a[p].pathname!==m.pathname||((g=a[p].route.path)==null?void 0:g.endsWith("*"))&&a[p].params["*"]!==m.params["*"]};return o==="assets"?t.filter((m,p)=>f(m,p)||d(m,p)):o==="data"?t.filter((m,p)=>{var y;let g=s.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(f(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let A=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((y=a[0])==null?void 0:y.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Aw(r,t,{includeHydrateFallback:a}={}){return Ew(r.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),a&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function Ew(r){return[...new Set(r)]}function kw(r){let t={},a=Object.keys(r).sort();for(let s of a)t[s]=r[s];return t}function Cw(r,t){let a=new Set;return new Set(t),r.reduce((s,l)=>{let o=JSON.stringify(kw(l));return a.has(o)||(a.add(o),s.push({key:o,link:l})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Nw=new Set([100,101,204,205]);function Tw(r,t){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname="_root.data":t&&Na(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.data`:a.pathname=`${a.pathname.replace(/\/$/,"")}.data`,a}function W0(){let r=Z.useContext(Ys);return uh(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Rw(){let r=Z.useContext(No);return uh(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var oh=Z.createContext(void 0);oh.displayName="FrameworkContext";function ev(){let r=Z.useContext(oh);return uh(r,"You must render this element inside a <HydratedRouter> element"),r}function Ow(r,t){let a=Z.useContext(oh),[s,l]=Z.useState(!1),[o,f]=Z.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=t,A=Z.useRef(null);Z.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let _=E=>{E.forEach(S=>{f(S.isIntersecting)})},C=new IntersectionObserver(_,{threshold:.5});return A.current&&C.observe(A.current),()=>{C.disconnect()}}},[r]),Z.useEffect(()=>{if(s){let _=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(_)}}},[s]);let v=()=>{l(!0)},k=()=>{l(!1),f(!1)};return a?r!=="intent"?[o,A,{}]:[o,A,{onFocus:Gi(d,v),onBlur:Gi(m,k),onMouseEnter:Gi(p,v),onMouseLeave:Gi(g,k),onTouchStart:Gi(y,v)}]:[!1,A,{}]}function Gi(r,t){return a=>{r&&r(a),a.defaultPrevented||t(a)}}function jw({page:r,...t}){let{router:a}=W0(),s=Z.useMemo(()=>H0(a.routes,r,a.basename),[a.routes,r,a.basename]);return s?Z.createElement(zw,{page:r,matches:s,...t}):null}function Dw(r){let{manifest:t,routeModules:a}=ev(),[s,l]=Z.useState([]);return Z.useEffect(()=>{let o=!1;return Sw(r,t,a).then(f=>{o||l(f)}),()=>{o=!0}},[r,t,a]),s}function zw({page:r,matches:t,...a}){let s=$r(),{manifest:l,routeModules:o}=ev(),{basename:f}=W0(),{loaderData:d,matches:m}=Rw(),p=Z.useMemo(()=>e0(r,t,m,l,s,"data"),[r,t,m,l,s]),g=Z.useMemo(()=>e0(r,t,m,l,s,"assets"),[r,t,m,l,s]),y=Z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let k=new Set,_=!1;if(t.forEach(E=>{var R;let S=l.routes[E.route.id];!S||!S.hasLoader||(!p.some(M=>M.route.id===E.route.id)&&E.route.id in d&&((R=o[E.route.id])!=null&&R.shouldRevalidate)||S.hasClientLoader?_=!0:k.add(E.route.id))}),k.size===0)return[];let C=Tw(r,f);return _&&k.size>0&&C.searchParams.set("_routes",t.filter(E=>k.has(E.route.id)).map(E=>E.route.id).join(",")),[C.pathname+C.search]},[f,d,s,l,p,t,r,o]),A=Z.useMemo(()=>Aw(g,l),[g,l]),v=Dw(g);return Z.createElement(Z.Fragment,null,y.map(k=>Z.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...a})),A.map(k=>Z.createElement("link",{key:k,rel:"modulepreload",href:k,...a})),v.map(({key:k,link:_})=>Z.createElement("link",{key:k,..._})))}function Mw(...r){return t=>{r.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var tv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tv&&(window.__reactRouterVersion="7.6.0")}catch{}function Uw({basename:r,children:t,window:a}){let s=Z.useRef();s.current==null&&(s.current=wx({window:a,v5Compat:!0}));let l=s.current,[o,f]=Z.useState({action:l.action,location:l.location}),d=Z.useCallback(m=>{Z.startTransition(()=>f(m))},[f]);return Z.useLayoutEffect(()=>l.listen(d),[l,d]),Z.createElement(fw,{basename:r,children:t,location:o.location,navigationType:o.action,navigator:l})}var nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ho=Z.forwardRef(function({onClick:t,discover:a="render",prefetch:s="none",relative:l,reloadDocument:o,replace:f,state:d,target:m,to:p,preventScrollReset:g,viewTransition:y,...A},v){let{basename:k}=Z.useContext(sa),_=typeof p=="string"&&nv.test(p),C,E=!1;if(typeof p=="string"&&_&&(C=p,tv))try{let P=new URL(window.location.href),ee=p.startsWith("//")?new URL(P.protocol+p):new URL(p),de=Na(ee.pathname,k);ee.origin===P.origin&&de!=null?p=de+ee.search+ee.hash:E=!0}catch{qn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=Xx(p,{relative:l}),[R,M,B]=Ow(s,A),X=Zw(p,{replace:f,state:d,target:m,preventScrollReset:g,relative:l,viewTransition:y});function I(P){t&&t(P),P.defaultPrevented||X(P)}let se=Z.createElement("a",{...A,...B,href:C||S,onClick:E||o?t:I,ref:Mw(v,M),target:m,"data-discover":!_&&a==="render"?"true":void 0});return R&&!_?Z.createElement(Z.Fragment,null,se,Z.createElement(jw,{page:S})):se});ho.displayName="Link";var Bw=Z.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:s="",end:l=!1,style:o,to:f,viewTransition:d,children:m,...p},g){let y=Al(f,{relative:p.relative}),A=$r(),v=Z.useContext(No),{navigator:k,basename:_}=Z.useContext(sa),C=v!=null&&Vw(y)&&d===!0,E=k.encodeLocation?k.encodeLocation(y).pathname:y.pathname,S=A.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(S=S.toLowerCase(),R=R?R.toLowerCase():null,E=E.toLowerCase()),R&&_&&(R=Na(R,_)||R);const M=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let B=S===E||!l&&S.startsWith(E)&&S.charAt(M)==="/",X=R!=null&&(R===E||!l&&R.startsWith(E)&&R.charAt(E.length)==="/"),I={isActive:B,isPending:X,isTransitioning:C},se=B?t:void 0,P;typeof s=="function"?P=s(I):P=[s,B?"active":null,X?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ee=typeof o=="function"?o(I):o;return Z.createElement(ho,{...p,"aria-current":se,className:P,ref:g,style:ee,to:f,viewTransition:d},typeof m=="function"?m(I):m)});Bw.displayName="NavLink";var Lw=Z.forwardRef(({discover:r="render",fetcherKey:t,navigate:a,reloadDocument:s,replace:l,state:o,method:f=no,action:d,onSubmit:m,relative:p,preventScrollReset:g,viewTransition:y,...A},v)=>{let k=Iw(),_=qw(d,{relative:p}),C=f.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&nv.test(d),S=R=>{if(m&&m(R),R.defaultPrevented)return;R.preventDefault();let M=R.nativeEvent.submitter,B=(M==null?void 0:M.getAttribute("formmethod"))||f;k(M||R.currentTarget,{fetcherKey:t,method:B,navigate:a,replace:l,state:o,relative:p,preventScrollReset:g,viewTransition:y})};return Z.createElement("form",{ref:v,method:C,action:_,onSubmit:s?m:S,...A,"data-discover":!E&&r==="render"?"true":void 0})});Lw.displayName="Form";function Pw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function av(r){let t=Z.useContext(Ys);return vt(t,Pw(r)),t}function Zw(r,{target:t,replace:a,state:s,preventScrollReset:l,relative:o,viewTransition:f}={}){let d=To(),m=$r(),p=Al(r,{relative:o});return Z.useCallback(g=>{if(yw(g,t)){g.preventDefault();let y=a!==void 0?a:il(m)===il(p);d(r,{replace:y,state:s,preventScrollReset:l,relative:o,viewTransition:f})}},[m,d,p,a,s,t,r,l,o,f])}var $w=0,Hw=()=>`__${String(++$w)}__`;function Iw(){let{router:r}=av("useSubmit"),{basename:t}=Z.useContext(sa),a=lw();return Z.useCallback(async(s,l={})=>{let{action:o,method:f,encType:d,formData:m,body:p}=_w(s,t);if(l.navigate===!1){let g=l.fetcherKey||Hw();await r.fetch(g,a,l.action||o,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||f,formEncType:l.encType||d,flushSync:l.flushSync})}else await r.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||f,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:a,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,a])}function qw(r,{relative:t}={}){let{basename:a}=Z.useContext(sa),s=Z.useContext(ia);vt(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),o={...Al(r||".",{relative:t})},f=$r();if(r==null){o.search=f.search;let d=new URLSearchParams(o.search),m=d.getAll("index");if(m.some(g=>g==="")){d.delete("index"),m.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();o.search=g?`?${g}`:""}}return(!r||r===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(o.pathname=o.pathname==="/"?a:Ca([a,o.pathname])),il(o)}function Vw(r,t={}){let a=Z.useContext(G0);vt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=av("useViewTransitionState"),l=Al(r,{relative:t.relative});if(!a.isTransitioning)return!1;let o=Na(a.currentLocation.pathname,s)||a.currentLocation.pathname,f=Na(a.nextLocation.pathname,s)||a.nextLocation.pathname;return fo(l.pathname,f)!=null||fo(l.pathname,o)!=null}[...Nw];const Pt=[];for(let r=0;r<256;++r)Pt.push((r+256).toString(16).slice(1));function Fw(r,t=0){return(Pt[r[t+0]]+Pt[r[t+1]]+Pt[r[t+2]]+Pt[r[t+3]]+"-"+Pt[r[t+4]]+Pt[r[t+5]]+"-"+Pt[r[t+6]]+Pt[r[t+7]]+"-"+Pt[r[t+8]]+Pt[r[t+9]]+"-"+Pt[r[t+10]]+Pt[r[t+11]]+Pt[r[t+12]]+Pt[r[t+13]]+Pt[r[t+14]]+Pt[r[t+15]]).toLowerCase()}let dd;const Yw=new Uint8Array(16);function Gw(){if(!dd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");dd=crypto.getRandomValues.bind(crypto)}return dd(Yw)}const Xw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),t0={randomUUID:Xw};function ch(r,t,a){var l;if(t0.randomUUID&&!r)return t0.randomUUID();r=r||{};const s=r.random??((l=r.rng)==null?void 0:l.call(r))??Gw();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Fw(s)}const zd="RFC3986",Md={RFC1738:r=>String(r).replace(/%20/g,"+"),RFC3986:r=>String(r)},Qw="RFC1738",Kw=Array.isArray,Kn=(()=>{const r=[];for(let t=0;t<256;++t)r.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return r})(),hd=1024,Jw=(r,t,a,s,l)=>{if(r.length===0)return r;let o=r;if(typeof r=="symbol"?o=Symbol.prototype.toString.call(r):typeof r!="string"&&(o=String(r)),a==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});let f="";for(let d=0;d<o.length;d+=hd){const m=o.length>=hd?o.slice(d,d+hd):o,p=[];for(let g=0;g<m.length;++g){let y=m.charCodeAt(g);if(y===45||y===46||y===95||y===126||y>=48&&y<=57||y>=65&&y<=90||y>=97&&y<=122||l===Qw&&(y===40||y===41)){p[p.length]=m.charAt(g);continue}if(y<128){p[p.length]=Kn[y];continue}if(y<2048){p[p.length]=Kn[192|y>>6]+Kn[128|y&63];continue}if(y<55296||y>=57344){p[p.length]=Kn[224|y>>12]+Kn[128|y>>6&63]+Kn[128|y&63];continue}g+=1,y=65536+((y&1023)<<10|m.charCodeAt(g)&1023),p[p.length]=Kn[240|y>>18]+Kn[128|y>>12&63]+Kn[128|y>>6&63]+Kn[128|y&63]}f+=p.join("")}return f};function Ww(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))}function n0(r,t){if(Kw(r)){const a=[];for(let s=0;s<r.length;s+=1)a.push(t(r[s]));return a}return t(r)}const e2=Object.prototype.hasOwnProperty,rv={brackets(r){return String(r)+"[]"},comma:"comma",indices(r,t){return String(r)+"["+t+"]"},repeat(r){return String(r)}},Wn=Array.isArray,t2=Array.prototype.push,sv=function(r,t){t2.apply(r,Wn(t)?t:[t])},n2=Date.prototype.toISOString,Rt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Jw,encodeValuesOnly:!1,format:zd,formatter:Md[zd],indices:!1,serializeDate(r){return n2.call(r)},skipNulls:!1,strictNullHandling:!1};function a2(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"}const md={};function iv(r,t,a,s,l,o,f,d,m,p,g,y,A,v,k,_,C,E){let S=r,R=E,M=0,B=!1;for(;(R=R.get(md))!==void 0&&!B;){const ee=R.get(r);if(M+=1,typeof ee<"u"){if(ee===M)throw new RangeError("Cyclic object value");B=!0}typeof R.get(md)>"u"&&(M=0)}if(typeof p=="function"?S=p(t,S):S instanceof Date?S=A==null?void 0:A(S):a==="comma"&&Wn(S)&&(S=n0(S,function(ee){return ee instanceof Date?A==null?void 0:A(ee):ee})),S===null){if(o)return m&&!_?m(t,Rt.encoder,C,"key",v):t;S=""}if(a2(S)||Ww(S)){if(m){const ee=_?t:m(t,Rt.encoder,C,"key",v);return[(k==null?void 0:k(ee))+"="+(k==null?void 0:k(m(S,Rt.encoder,C,"value",v)))]}return[(k==null?void 0:k(t))+"="+(k==null?void 0:k(String(S)))]}const X=[];if(typeof S>"u")return X;let I;if(a==="comma"&&Wn(S))_&&m&&(S=n0(S,m)),I=[{value:S.length>0?S.join(",")||null:void 0}];else if(Wn(p))I=p;else{const ee=Object.keys(S);I=g?ee.sort(g):ee}const se=d?String(t).replace(/\./g,"%2E"):String(t),P=s&&Wn(S)&&S.length===1?se+"[]":se;if(l&&Wn(S)&&S.length===0)return P+"[]";for(let ee=0;ee<I.length;++ee){const de=I[ee],z=typeof de=="object"&&typeof de.value<"u"?de.value:S[de];if(f&&z===null)continue;const ae=y&&d?de.replace(/\./g,"%2E"):de,N=Wn(S)?typeof a=="function"?a(P,ae):P:P+(y?"."+ae:"["+ae+"]");E.set(r,M);const ne=new WeakMap;ne.set(md,E),sv(X,iv(z,N,a,s,l,o,f,d,a==="comma"&&_&&Wn(S)?null:m,p,g,y,A,v,k,_,C,ne))}return X}function r2(r=Rt){if(typeof r.allowEmptyArrays<"u"&&typeof r.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof r.encodeDotInKeys<"u"&&typeof r.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(r.encoder!==null&&typeof r.encoder<"u"&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=r.charset||Rt.charset;if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let a=zd;if(typeof r.format<"u"){if(!e2.call(Md,r.format))throw new TypeError("Unknown format option provided.");a=r.format}const s=Md[a];let l=Rt.filter;(typeof r.filter=="function"||Wn(r.filter))&&(l=r.filter);let o;if(r.arrayFormat&&r.arrayFormat in rv?o=r.arrayFormat:"indices"in r?o=r.indices?"indices":"repeat":o=Rt.arrayFormat,"commaRoundTrip"in r&&typeof r.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const f=typeof r.allowDots>"u"?r.encodeDotInKeys?!0:Rt.allowDots:!!r.allowDots;return{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:Rt.addQueryPrefix,allowDots:f,allowEmptyArrays:typeof r.allowEmptyArrays=="boolean"?!!r.allowEmptyArrays:Rt.allowEmptyArrays,arrayFormat:o,charset:t,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:Rt.charsetSentinel,commaRoundTrip:!!r.commaRoundTrip,delimiter:typeof r.delimiter>"u"?Rt.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:Rt.encode,encodeDotInKeys:typeof r.encodeDotInKeys=="boolean"?r.encodeDotInKeys:Rt.encodeDotInKeys,encoder:typeof r.encoder=="function"?r.encoder:Rt.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:Rt.encodeValuesOnly,filter:l,format:a,formatter:s,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:Rt.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:Rt.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:Rt.strictNullHandling}}function s2(r,t={}){let a=r;const s=r2(t);let l,o;typeof s.filter=="function"?(o=s.filter,a=o("",a)):Wn(s.filter)&&(o=s.filter,l=o);const f=[];if(typeof a!="object"||a===null)return"";const d=rv[s.arrayFormat],m=d==="comma"&&s.commaRoundTrip;l||(l=Object.keys(a)),s.sort&&l.sort(s.sort);const p=new WeakMap;for(let A=0;A<l.length;++A){const v=l[A];s.skipNulls&&a[v]===null||sv(f,iv(a[v],v,d,m,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,p))}const g=f.join(s.delimiter);let y=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),g.length>0?y+g:""}const zs="4.98.0";let a0=!1,rl,lv,uv,Ud,ov,cv,fv,dv,hv;function i2(r,t={auto:!1}){if(a0)throw new Error(`you must \`import 'openai/shims/${r.kind}'\` before importing anything else from openai`);if(rl)throw new Error(`can't \`import 'openai/shims/${r.kind}'\` after \`import 'openai/shims/${rl}'\``);a0=t.auto,rl=r.kind,lv=r.fetch,uv=r.FormData,Ud=r.File,ov=r.ReadableStream,cv=r.getMultipartRequestOptions,fv=r.getDefaultAgent,dv=r.fileFromPath,hv=r.isFsReadStream}class l2{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function u2({manuallyImported:r}={}){const t=r?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let a,s,l,o;try{a=fetch,s=Request,l=Response,o=Headers}catch(f){throw new Error(`this environment is missing the following Web Fetch API type: ${f.message}. ${t}`)}return{kind:"web",fetch:a,Request:s,Response:l,Headers:o,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(f,d)=>({...d,body:new l2(f)}),getDefaultAgent:f=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:f=>!1}}const mv=()=>{rl||i2(u2(),{auto:!0})};mv();class Oe extends Error{}class $t extends Oe{constructor(t,a,s,l){super(`${$t.makeMessage(t,a,s)}`),this.status=t,this.headers=l,this.request_id=l==null?void 0:l["x-request-id"],this.error=a;const o=a;this.code=o==null?void 0:o.code,this.param=o==null?void 0:o.param,this.type=o==null?void 0:o.type}static makeMessage(t,a,s){const l=a!=null&&a.message?typeof a.message=="string"?a.message:JSON.stringify(a.message):a?JSON.stringify(a):s;return t&&l?`${t} ${l}`:t?`${t} status code (no body)`:l||"(no status code or body)"}static generate(t,a,s,l){if(!t||!l)return new Oo({message:s,cause:Ld(a)});const o=a==null?void 0:a.error;return t===400?new pv(t,o,s,l):t===401?new gv(t,o,s,l):t===403?new yv(t,o,s,l):t===404?new vv(t,o,s,l):t===409?new bv(t,o,s,l):t===422?new _v(t,o,s,l):t===429?new xv(t,o,s,l):t>=500?new wv(t,o,s,l):new $t(t,o,s,l)}}class Nn extends $t{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Oo extends $t{constructor({message:t,cause:a}){super(void 0,void 0,t||"Connection error.",void 0),a&&(this.cause=a)}}class fh extends Oo{constructor({message:t}={}){super({message:t??"Request timed out."})}}class pv extends $t{}class gv extends $t{}class yv extends $t{}class vv extends $t{}class bv extends $t{}class _v extends $t{}class xv extends $t{}class wv extends $t{}class Sv extends Oe{constructor(){super("Could not parse response content as the length limit was reached")}}class Av extends Oe{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Fu=function(r,t,a,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!l:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(r,a):l?l.value=a:t.set(r,a),a},Rr=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},pn;class jo{constructor(){pn.set(this,void 0),this.buffer=new Uint8Array,Fu(this,pn,null,"f")}decode(t){if(t==null)return[];const a=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let s=new Uint8Array(this.buffer.length+a.length);s.set(this.buffer),s.set(a,this.buffer.length),this.buffer=s;const l=[];let o;for(;(o=o2(this.buffer,Rr(this,pn,"f")))!=null;){if(o.carriage&&Rr(this,pn,"f")==null){Fu(this,pn,o.index,"f");continue}if(Rr(this,pn,"f")!=null&&(o.index!==Rr(this,pn,"f")+1||o.carriage)){l.push(this.decodeText(this.buffer.slice(0,Rr(this,pn,"f")-1))),this.buffer=this.buffer.slice(Rr(this,pn,"f")),Fu(this,pn,null,"f");continue}const f=Rr(this,pn,"f")!==null?o.preceding-1:o.preceding,d=this.decodeText(this.buffer.slice(0,f));l.push(d),this.buffer=this.buffer.slice(o.index),Fu(this,pn,null,"f")}return l}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new Oe(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new Oe(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new Oe("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}pn=new WeakMap;jo.NEWLINE_CHARS=new Set([`
`,"\r"]);jo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function o2(r,t){for(let l=t??0;l<r.length;l++){if(r[l]===10)return{preceding:l,index:l+1,carriage:!1};if(r[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function c2(r){for(let s=0;s<r.length-1;s++){if(r[s]===10&&r[s+1]===10||r[s]===13&&r[s+1]===13)return s+2;if(r[s]===13&&r[s+1]===10&&s+3<r.length&&r[s+2]===13&&r[s+3]===10)return s+4}return-1}function Ev(r){if(r[Symbol.asyncIterator])return r;const t=r.getReader();return{async next(){try{const a=await t.read();return a!=null&&a.done&&t.releaseLock(),a}catch(a){throw t.releaseLock(),a}},async return(){const a=t.cancel();return t.releaseLock(),await a,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class na{constructor(t,a){this.iterator=t,this.controller=a}static fromSSEResponse(t,a){let s=!1;async function*l(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const f of f2(t,a))if(!o){if(f.data.startsWith("[DONE]")){o=!0;continue}if(f.event===null||f.event.startsWith("response.")||f.event.startsWith("transcript.")){let d;try{d=JSON.parse(f.data)}catch(m){throw console.error("Could not parse message into JSON:",f.data),console.error("From chunk:",f.raw),m}if(d&&d.error)throw new $t(void 0,d.error,void 0,jv(t.headers));yield d}else{let d;try{d=JSON.parse(f.data)}catch(m){throw console.error("Could not parse message into JSON:",f.data),console.error("From chunk:",f.raw),m}if(f.event=="error")throw new $t(void 0,d.error,d.message,void 0);yield{event:f.event,data:d}}}o=!0}catch(f){if(f instanceof Error&&f.name==="AbortError")return;throw f}finally{o||a.abort()}}return new na(l,a)}static fromReadableStream(t,a){let s=!1;async function*l(){const f=new jo,d=Ev(t);for await(const m of d)for(const p of f.decode(m))yield p;for(const m of f.flush())yield m}async function*o(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let f=!1;try{for await(const d of l())f||d&&(yield JSON.parse(d));f=!0}catch(d){if(d instanceof Error&&d.name==="AbortError")return;throw d}finally{f||a.abort()}}return new na(o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],a=[],s=this.iterator(),l=o=>({next:()=>{if(o.length===0){const f=s.next();t.push(f),a.push(f)}return o.shift()}});return[new na(()=>l(t),this.controller),new na(()=>l(a),this.controller)]}toReadableStream(){const t=this;let a;const s=new TextEncoder;return new ov({async start(){a=t[Symbol.asyncIterator]()},async pull(l){try{const{value:o,done:f}=await a.next();if(f)return l.close();const d=s.encode(JSON.stringify(o)+`
`);l.enqueue(d)}catch(o){l.error(o)}},async cancel(){var l;await((l=a.return)==null?void 0:l.call(a))}})}}async function*f2(r,t){if(!r.body)throw t.abort(),new Oe("Attempted to iterate over a response with no body");const a=new h2,s=new jo,l=Ev(r.body);for await(const o of d2(l))for(const f of s.decode(o)){const d=a.decode(f);d&&(yield d)}for(const o of s.flush()){const f=a.decode(o);f&&(yield f)}}async function*d2(r){let t=new Uint8Array;for await(const a of r){if(a==null)continue;const s=a instanceof ArrayBuffer?new Uint8Array(a):typeof a=="string"?new TextEncoder().encode(a):a;let l=new Uint8Array(t.length+s.length);l.set(t),l.set(s,t.length),t=l;let o;for(;(o=c2(t))!==-1;)yield t.slice(0,o),t=t.slice(o)}t.length>0&&(yield t)}class h2{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[a,s,l]=m2(t,":");return l.startsWith(" ")&&(l=l.substring(1)),a==="event"?this.event=l:a==="data"&&this.data.push(l),null}}function m2(r,t){const a=r.indexOf(t);return a!==-1?[r.substring(0,a),t,r.substring(a+t.length)]:[r,"",""]}const kv=r=>r!=null&&typeof r=="object"&&typeof r.url=="string"&&typeof r.blob=="function",Cv=r=>r!=null&&typeof r=="object"&&typeof r.name=="string"&&typeof r.lastModified=="number"&&Do(r),Do=r=>r!=null&&typeof r=="object"&&typeof r.size=="number"&&typeof r.type=="string"&&typeof r.text=="function"&&typeof r.slice=="function"&&typeof r.arrayBuffer=="function",p2=r=>Cv(r)||kv(r)||hv(r);async function Nv(r,t,a){var l;if(r=await r,Cv(r))return r;if(kv(r)){const o=await r.blob();t||(t=new URL(r.url).pathname.split(/[\\/]/).pop()??"unknown_file");const f=Do(o)?[await o.arrayBuffer()]:[o];return new Ud(f,t,a)}const s=await g2(r);if(t||(t=v2(r)??"unknown_file"),!(a!=null&&a.type)){const o=(l=s[0])==null?void 0:l.type;typeof o=="string"&&(a={...a,type:o})}return new Ud(s,t,a)}async function g2(r){var a;let t=[];if(typeof r=="string"||ArrayBuffer.isView(r)||r instanceof ArrayBuffer)t.push(r);else if(Do(r))t.push(await r.arrayBuffer());else if(b2(r))for await(const s of r)t.push(s);else throw new Error(`Unexpected data type: ${typeof r}; constructor: ${(a=r==null?void 0:r.constructor)==null?void 0:a.name}; props: ${y2(r)}`);return t}function y2(r){return`[${Object.getOwnPropertyNames(r).map(a=>`"${a}"`).join(", ")}]`}function v2(r){var t;return pd(r.name)||pd(r.filename)||((t=pd(r.path))==null?void 0:t.split(/[\\/]/).pop())}const pd=r=>{if(typeof r=="string")return r;if(typeof Buffer<"u"&&r instanceof Buffer)return String(r)},b2=r=>r!=null&&typeof r=="object"&&typeof r[Symbol.asyncIterator]=="function",r0=r=>r&&typeof r=="object"&&r.body&&r[Symbol.toStringTag]==="MultipartBody",Is=async r=>{const t=await _2(r.body);return cv(t,r)},_2=async r=>{const t=new uv;return await Promise.all(Object.entries(r||{}).map(([a,s])=>Bd(t,a,s))),t},Bd=async(r,t,a)=>{if(a!==void 0){if(a==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")r.append(t,String(a));else if(p2(a)){const s=await Nv(a);r.append(t,s)}else if(Array.isArray(a))await Promise.all(a.map(s=>Bd(r,t+"[]",s)));else if(typeof a=="object")await Promise.all(Object.entries(a).map(([s,l])=>Bd(r,`${t}[${s}]`,l)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${a} instead`)}};var Ps={},x2=function(r,t,a,s,l){if(typeof t=="function"?r!==t||!0:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(r,a),a},w2=function(r,t,a,s){if(typeof t=="function"?r!==t||!0:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},Yu;mv();async function Tv(r){var f;const{response:t}=r;if(r.options.stream)return ar("response",t.status,t.url,t.headers,t.body),r.options.__streamClass?r.options.__streamClass.fromSSEResponse(t,r.controller):na.fromSSEResponse(t,r.controller);if(t.status===204)return null;if(r.options.__binaryResponse)return t;const a=t.headers.get("content-type"),s=(f=a==null?void 0:a.split(";")[0])==null?void 0:f.trim();if((s==null?void 0:s.includes("application/json"))||(s==null?void 0:s.endsWith("+json"))){const d=await t.json();return ar("response",t.status,t.url,t.headers,d),Rv(d,t)}const o=await t.text();return ar("response",t.status,t.url,t.headers,o),o}function Rv(r,t){return!r||typeof r!="object"||Array.isArray(r)?r:Object.defineProperty(r,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class zo extends Promise{constructor(t,a=Tv){super(s=>{s(null)}),this.responsePromise=t,this.parseResponse=a}_thenUnwrap(t){return new zo(this.responsePromise,async a=>Rv(t(await this.parseResponse(a),a),a.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,a]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:a,request_id:a.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,a){return this.parse().then(t,a)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class S2{constructor({baseURL:t,maxRetries:a=2,timeout:s=6e5,httpAgent:l,fetch:o}){this.baseURL=t,this.maxRetries=gd("maxRetries",a),this.timeout=gd("timeout",s),this.httpAgent=l,this.fetch=o??lv}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...N2(),...this.authHeaders(t)}}validateHeaders(t,a){}defaultIdempotencyKey(){return`stainless-node-retry-${j2()}`}get(t,a){return this.methodRequest("get",t,a)}post(t,a){return this.methodRequest("post",t,a)}patch(t,a){return this.methodRequest("patch",t,a)}put(t,a){return this.methodRequest("put",t,a)}delete(t,a){return this.methodRequest("delete",t,a)}methodRequest(t,a,s){return this.request(Promise.resolve(s).then(async l=>{const o=l&&Do(l==null?void 0:l.body)?new DataView(await l.body.arrayBuffer()):(l==null?void 0:l.body)instanceof DataView?l.body:(l==null?void 0:l.body)instanceof ArrayBuffer?new DataView(l.body):l&&ArrayBuffer.isView(l==null?void 0:l.body)?new DataView(l.body.buffer):l==null?void 0:l.body;return{method:t,path:a,...l,body:o}}))}getAPIList(t,a,s){return this.requestAPIList(a,{method:"get",path:t,...s})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:a=0}={}){var _;const s={...t},{method:l,path:o,query:f,headers:d={}}=s,m=ArrayBuffer.isView(s.body)||s.__binaryRequest&&typeof s.body=="string"?s.body:r0(s.body)?s.body.body:s.body?JSON.stringify(s.body,null,2):null,p=this.calculateContentLength(m),g=this.buildURL(o,f);"timeout"in s&&gd("timeout",s.timeout),s.timeout=s.timeout??this.timeout;const y=s.httpAgent??this.httpAgent??fv(g),A=s.timeout+1e3;typeof((_=y==null?void 0:y.options)==null?void 0:_.timeout)=="number"&&A>(y.options.timeout??0)&&(y.options.timeout=A),this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=t.idempotencyKey);const v=this.buildHeaders({options:s,headers:d,contentLength:p,retryCount:a});return{req:{method:l,...m&&{body:m},headers:v,...y&&{agent:y},signal:s.signal??null},url:g,timeout:s.timeout}}buildHeaders({options:t,headers:a,contentLength:s,retryCount:l}){const o={};s&&(o["content-length"]=s);const f=this.defaultHeaders(t);return u0(o,f),u0(o,a),r0(t.body)&&rl!=="node"&&delete o["content-type"],Gu(f,"x-stainless-retry-count")===void 0&&Gu(a,"x-stainless-retry-count")===void 0&&(o["x-stainless-retry-count"]=String(l)),Gu(f,"x-stainless-timeout")===void 0&&Gu(a,"x-stainless-timeout")===void 0&&t.timeout&&(o["x-stainless-timeout"]=String(Math.trunc(t.timeout/1e3))),this.validateHeaders(o,a),o}async prepareOptions(t){}async prepareRequest(t,{url:a,options:s}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(a=>[...a])):{...t}:{}}makeStatusError(t,a,s,l){return $t.generate(t,a,s,l)}request(t,a=null){return new zo(this.makeRequest(t,a))}async makeRequest(t,a){var y,A;const s=await t,l=s.maxRetries??this.maxRetries;a==null&&(a=l),await this.prepareOptions(s);const{req:o,url:f,timeout:d}=this.buildRequest(s,{retryCount:l-a});if(await this.prepareRequest(o,{url:f,options:s}),ar("request",f,s,o.headers),(y=s.signal)!=null&&y.aborted)throw new Nn;const m=new AbortController,p=await this.fetchWithTimeout(f,o,d,m).catch(Ld);if(p instanceof Error){if((A=s.signal)!=null&&A.aborted)throw new Nn;if(a)return this.retryRequest(s,a);throw p.name==="AbortError"?new fh:new Oo({cause:p})}const g=jv(p.headers);if(!p.ok){if(a&&this.shouldRetry(p)){const S=`retrying, ${a} attempts remaining`;return ar(`response (error; ${S})`,p.status,f,g),this.retryRequest(s,a,g)}const v=await p.text().catch(S=>Ld(S).message),k=T2(v),_=k?void 0:v;throw ar(`response (error; ${a?"(error; no more retries left)":"(error; not retryable)"})`,p.status,f,g,_),this.makeStatusError(p.status,k,_,g)}return{response:p,options:s,controller:m}}requestAPIList(t,a){const s=this.makeRequest(a,null);return new A2(this,s,t)}buildURL(t,a){const s=O2(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return Dv(l)||(a={...l,...a}),typeof a=="object"&&a&&!Array.isArray(a)&&(s.search=this.stringifyQuery(a)),s.toString()}stringifyQuery(t){return Object.entries(t).filter(([a,s])=>typeof s<"u").map(([a,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(a)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(a)}=`;throw new Oe(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,a,s,l){const{signal:o,...f}=a||{};o&&o.addEventListener("abort",()=>l.abort());const d=setTimeout(()=>l.abort(),s),m={signal:l.signal,...f};return m.method&&(m.method=m.method.toUpperCase()),this.fetch.call(void 0,t,m).finally(()=>{clearTimeout(d)})}shouldRetry(t){const a=t.headers.get("x-should-retry");return a==="true"?!0:a==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,a,s){let l;const o=s==null?void 0:s["retry-after-ms"];if(o){const d=parseFloat(o);Number.isNaN(d)||(l=d)}const f=s==null?void 0:s["retry-after"];if(f&&!l){const d=parseFloat(f);Number.isNaN(d)?l=Date.parse(f)-Date.now():l=d*1e3}if(!(l&&0<=l&&l<60*1e3)){const d=t.maxRetries??this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(a,d)}return await El(l),this.makeRequest(t,a-1)}calculateDefaultRetryTimeoutMillis(t,a){const o=a-t,f=Math.min(.5*Math.pow(2,o),8),d=1-Math.random()*.25;return f*d*1e3}getUserAgent(){return`${this.constructor.name}/JS ${zs}`}}class Ov{constructor(t,a,s,l){Yu.set(this,void 0),x2(this,Yu,t),this.options=l,this.response=a,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new Oe("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const a={...this.options};if("params"in t&&typeof a.query=="object")a.query={...a.query,...t.params};else if("url"in t){const s=[...Object.entries(a.query||{}),...t.url.searchParams.entries()];for(const[l,o]of s)t.url.searchParams.set(l,o);a.query=void 0,a.path=t.url.toString()}return await w2(this,Yu,"f").requestAPIList(this.constructor,a)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Yu=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const a of t.getPaginatedItems())yield a}}class A2 extends zo{constructor(t,a,s){super(a,async l=>new s(t,l.response,await Tv(l),l.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const a of t)yield a}}const jv=r=>new Proxy(Object.fromEntries(r.entries()),{get(t,a){const s=a.toString();return t[s.toLowerCase()]||t[s]}}),E2={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},wt=r=>typeof r=="object"&&r!==null&&!Dv(r)&&Object.keys(r).every(t=>zv(E2,t)),k2=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zs,"X-Stainless-OS":i0(Deno.build.os),"X-Stainless-Arch":s0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zs,"X-Stainless-OS":i0(process.platform),"X-Stainless-Arch":s0(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const r=C2();return r?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${r.browser}`,"X-Stainless-Runtime-Version":r.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function C2(){if(typeof navigator>"u"||!navigator)return null;const r=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:a}of r){const s=a.exec(navigator.userAgent);if(s){const l=s[1]||0,o=s[2]||0,f=s[3]||0;return{browser:t,version:`${l}.${o}.${f}`}}}return null}const s0=r=>r==="x32"?"x32":r==="x86_64"||r==="x64"?"x64":r==="arm"?"arm":r==="aarch64"||r==="arm64"?"arm64":r?`other:${r}`:"unknown",i0=r=>(r=r.toLowerCase(),r.includes("ios")?"iOS":r==="android"?"Android":r==="darwin"?"MacOS":r==="win32"?"Windows":r==="freebsd"?"FreeBSD":r==="openbsd"?"OpenBSD":r==="linux"?"Linux":r?`Other:${r}`:"Unknown");let l0;const N2=()=>l0??(l0=k2()),T2=r=>{try{return JSON.parse(r)}catch{return}},R2=/^[a-z][a-z0-9+.-]*:/i,O2=r=>R2.test(r),El=r=>new Promise(t=>setTimeout(t,r)),gd=(r,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Oe(`${r} must be an integer`);if(t<0)throw new Oe(`${r} must be a positive integer`);return t},Ld=r=>{if(r instanceof Error)return r;if(typeof r=="object"&&r!==null)try{return new Error(JSON.stringify(r))}catch{}return new Error(r)},Dr=r=>{var t,a,s,l;if(typeof process<"u")return((t=Ps==null?void 0:Ps[r])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(l=(s=(a=Deno.env)==null?void 0:a.get)==null?void 0:s.call(a,r))==null?void 0:l.trim()};function Dv(r){if(!r)return!0;for(const t in r)return!1;return!0}function zv(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function u0(r,t){for(const a in t){if(!zv(t,a))continue;const s=a.toLowerCase();if(!s)continue;const l=t[a];l===null?delete r[s]:l!==void 0&&(r[s]=l)}}const o0=new Set(["authorization","api-key"]);function ar(r,...t){if(typeof process<"u"&&(Ps==null?void 0:Ps.DEBUG)==="true"){const a=t.map(s=>{if(!s)return s;if(s.headers){const o={...s,headers:{...s.headers}};for(const f in s.headers)o0.has(f.toLowerCase())&&(o.headers[f]="REDACTED");return o}let l=null;for(const o in s)o0.has(o.toLowerCase())&&(l??(l={...s}),l[o]="REDACTED");return l??s});console.log(`OpenAI:DEBUG:${r}`,...a)}}const j2=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const t=Math.random()*16|0;return(r==="x"?t:t&3|8).toString(16)}),D2=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",z2=r=>typeof(r==null?void 0:r.get)=="function",Gu=(r,t)=>{var s;const a=t.toLowerCase();if(z2(r)){const l=((s=t[0])==null?void 0:s.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(o,f,d)=>f+d.toUpperCase());for(const o of[t,a,t.toUpperCase(),l]){const f=r.get(o);if(f)return f}}for(const[l,o]of Object.entries(r))if(l.toLowerCase()===a)return Array.isArray(o)?(o.length<=1||console.warn(`Received ${o.length} entries for the ${t} header, using the first entry.`),o[0]):o},M2=r=>{if(typeof Buffer<"u"){const t=Buffer.from(r,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(r),a=t.length,s=new Uint8Array(a);for(let l=0;l<a;l++)s[l]=t.charCodeAt(l);return Array.from(new Float32Array(s.buffer))}};function ro(r){return r!=null&&typeof r=="object"&&!Array.isArray(r)}class Mo extends Ov{constructor(t,a,s,l){super(t,a,s,l),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Ht extends Ov{constructor(t,a,s,l){super(t,a,s,l),this.data=s.data||[],this.has_more=s.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const a=Object.fromEntries(t.url.searchParams);return Object.keys(a).length?a:null}nextPageInfo(){var s;const t=this.getPaginatedItems();if(!t.length)return null;const a=(s=t[t.length-1])==null?void 0:s.id;return a?{params:{after:a}}:null}}class Ue{constructor(t){this._client=t}}let Mv=class extends Ue{list(t,a={},s){return wt(a)?this.list(t,{},a):this._client.getAPIList(`/chat/completions/${t}/messages`,U2,{query:a,...s})}},Uo=class extends Ue{constructor(){super(...arguments),this.messages=new Mv(this._client)}create(t,a){return this._client.post("/chat/completions",{body:t,...a,stream:t.stream??!1})}retrieve(t,a){return this._client.get(`/chat/completions/${t}`,a)}update(t,a,s){return this._client.post(`/chat/completions/${t}`,{body:a,...s})}list(t={},a){return wt(t)?this.list({},t):this._client.getAPIList("/chat/completions",Bo,{query:t,...a})}del(t,a){return this._client.delete(`/chat/completions/${t}`,a)}};class Bo extends Ht{}class U2 extends Ht{}Uo.ChatCompletionsPage=Bo;Uo.Messages=Mv;let Lo=class extends Ue{constructor(){super(...arguments),this.completions=new Uo(this._client)}};Lo.Completions=Uo;Lo.ChatCompletionsPage=Bo;class Uv extends Ue{create(t,a){return this._client.post("/audio/speech",{body:t,...a,headers:{Accept:"application/octet-stream",...a==null?void 0:a.headers},__binaryResponse:!0})}}class Bv extends Ue{create(t,a){return this._client.post("/audio/transcriptions",Is({body:t,...a,stream:t.stream??!1,__metadata:{model:t.model}}))}}class Lv extends Ue{create(t,a){return this._client.post("/audio/translations",Is({body:t,...a,__metadata:{model:t.model}}))}}class kl extends Ue{constructor(){super(...arguments),this.transcriptions=new Bv(this._client),this.translations=new Lv(this._client),this.speech=new Uv(this._client)}}kl.Transcriptions=Bv;kl.Translations=Lv;kl.Speech=Uv;class dh extends Ue{create(t,a){return this._client.post("/batches",{body:t,...a})}retrieve(t,a){return this._client.get(`/batches/${t}`,a)}list(t={},a){return wt(t)?this.list({},t):this._client.getAPIList("/batches",hh,{query:t,...a})}cancel(t,a){return this._client.post(`/batches/${t}/cancel`,a)}}class hh extends Ht{}dh.BatchesPage=hh;var Ln=function(r,t,a,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!l:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(r,a):l?l.value=a:t.set(r,a),a},gt=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},Pd,so,io,Qi,Ki,lo,Ji,Aa,Wi,mo,po,Ms,Pv;class mh{constructor(){Pd.add(this),this.controller=new AbortController,so.set(this,void 0),io.set(this,()=>{}),Qi.set(this,()=>{}),Ki.set(this,void 0),lo.set(this,()=>{}),Ji.set(this,()=>{}),Aa.set(this,{}),Wi.set(this,!1),mo.set(this,!1),po.set(this,!1),Ms.set(this,!1),Ln(this,so,new Promise((t,a)=>{Ln(this,io,t,"f"),Ln(this,Qi,a,"f")}),"f"),Ln(this,Ki,new Promise((t,a)=>{Ln(this,lo,t,"f"),Ln(this,Ji,a,"f")}),"f"),gt(this,so,"f").catch(()=>{}),gt(this,Ki,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},gt(this,Pd,"m",Pv).bind(this))},0)}_connected(){this.ended||(gt(this,io,"f").call(this),this._emit("connect"))}get ended(){return gt(this,Wi,"f")}get errored(){return gt(this,mo,"f")}get aborted(){return gt(this,po,"f")}abort(){this.controller.abort()}on(t,a){return(gt(this,Aa,"f")[t]||(gt(this,Aa,"f")[t]=[])).push({listener:a}),this}off(t,a){const s=gt(this,Aa,"f")[t];if(!s)return this;const l=s.findIndex(o=>o.listener===a);return l>=0&&s.splice(l,1),this}once(t,a){return(gt(this,Aa,"f")[t]||(gt(this,Aa,"f")[t]=[])).push({listener:a,once:!0}),this}emitted(t){return new Promise((a,s)=>{Ln(this,Ms,!0,"f"),t!=="error"&&this.once("error",s),this.once(t,a)})}async done(){Ln(this,Ms,!0,"f"),await gt(this,Ki,"f")}_emit(t,...a){if(gt(this,Wi,"f"))return;t==="end"&&(Ln(this,Wi,!0,"f"),gt(this,lo,"f").call(this));const s=gt(this,Aa,"f")[t];if(s&&(gt(this,Aa,"f")[t]=s.filter(l=>!l.once),s.forEach(({listener:l})=>l(...a))),t==="abort"){const l=a[0];!gt(this,Ms,"f")&&!(s!=null&&s.length)&&Promise.reject(l),gt(this,Qi,"f").call(this,l),gt(this,Ji,"f").call(this,l),this._emit("end");return}if(t==="error"){const l=a[0];!gt(this,Ms,"f")&&!(s!=null&&s.length)&&Promise.reject(l),gt(this,Qi,"f").call(this,l),gt(this,Ji,"f").call(this,l),this._emit("end")}}_emitFinal(){}}so=new WeakMap,io=new WeakMap,Qi=new WeakMap,Ki=new WeakMap,lo=new WeakMap,Ji=new WeakMap,Aa=new WeakMap,Wi=new WeakMap,mo=new WeakMap,po=new WeakMap,Ms=new WeakMap,Pd=new WeakSet,Pv=function(t){if(Ln(this,mo,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new Nn),t instanceof Nn)return Ln(this,po,!0,"f"),this._emit("abort",t);if(t instanceof Oe)return this._emit("error",t);if(t instanceof Error){const a=new Oe(t.message);return a.cause=t,this._emit("error",a)}return this._emit("error",new Oe(String(t)))};var Re=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},mn=function(r,t,a,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!l:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(r,a):l?l.value=a:t.set(r,a),a},Zt,Zd,ea,uo,Pn,zr,Bs,jr,go,gn,oo,co,sl,el,tl,c0,f0,d0,h0,m0,p0,g0;class Zn extends mh{constructor(){super(...arguments),Zt.add(this),Zd.set(this,[]),ea.set(this,{}),uo.set(this,{}),Pn.set(this,void 0),zr.set(this,void 0),Bs.set(this,void 0),jr.set(this,void 0),go.set(this,void 0),gn.set(this,void 0),oo.set(this,void 0),co.set(this,void 0),sl.set(this,void 0)}[(Zd=new WeakMap,ea=new WeakMap,uo=new WeakMap,Pn=new WeakMap,zr=new WeakMap,Bs=new WeakMap,jr=new WeakMap,go=new WeakMap,gn=new WeakMap,oo=new WeakMap,co=new WeakMap,sl=new WeakMap,Zt=new WeakSet,Symbol.asyncIterator)](){const t=[],a=[];let s=!1;return this.on("event",l=>{const o=a.shift();o?o.resolve(l):t.push(l)}),this.on("end",()=>{s=!0;for(const l of a)l.resolve(void 0);a.length=0}),this.on("abort",l=>{s=!0;for(const o of a)o.reject(l);a.length=0}),this.on("error",l=>{s=!0;for(const o of a)o.reject(l);a.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((o,f)=>a.push({resolve:o,reject:f})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const a=new Zn;return a._run(()=>a._fromReadableStream(t)),a}async _fromReadableStream(t,a){var o;const s=a==null?void 0:a.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const l=na.fromReadableStream(t,this.controller);for await(const f of l)Re(this,Zt,"m",el).call(this,f);if((o=l.controller.signal)!=null&&o.aborted)throw new Nn;return this._addRun(Re(this,Zt,"m",tl).call(this))}toReadableStream(){return new na(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,a,s,l,o){const f=new Zn;return f._run(()=>f._runToolAssistantStream(t,a,s,l,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),f}async _createToolAssistantStream(t,a,s,l,o){var p;const f=o==null?void 0:o.signal;f&&(f.aborted&&this.controller.abort(),f.addEventListener("abort",()=>this.controller.abort()));const d={...l,stream:!0},m=await t.submitToolOutputs(a,s,d,{...o,signal:this.controller.signal});this._connected();for await(const g of m)Re(this,Zt,"m",el).call(this,g);if((p=m.controller.signal)!=null&&p.aborted)throw new Nn;return this._addRun(Re(this,Zt,"m",tl).call(this))}static createThreadAssistantStream(t,a,s){const l=new Zn;return l._run(()=>l._threadAssistantStream(t,a,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),l}static createAssistantStream(t,a,s,l){const o=new Zn;return o._run(()=>o._runAssistantStream(t,a,s,{...l,headers:{...l==null?void 0:l.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return Re(this,oo,"f")}currentRun(){return Re(this,co,"f")}currentMessageSnapshot(){return Re(this,Pn,"f")}currentRunStepSnapshot(){return Re(this,sl,"f")}async finalRunSteps(){return await this.done(),Object.values(Re(this,ea,"f"))}async finalMessages(){return await this.done(),Object.values(Re(this,uo,"f"))}async finalRun(){if(await this.done(),!Re(this,zr,"f"))throw Error("Final run was not received.");return Re(this,zr,"f")}async _createThreadAssistantStream(t,a,s){var d;const l=s==null?void 0:s.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort()));const o={...a,stream:!0},f=await t.createAndRun(o,{...s,signal:this.controller.signal});this._connected();for await(const m of f)Re(this,Zt,"m",el).call(this,m);if((d=f.controller.signal)!=null&&d.aborted)throw new Nn;return this._addRun(Re(this,Zt,"m",tl).call(this))}async _createAssistantStream(t,a,s,l){var m;const o=l==null?void 0:l.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const f={...s,stream:!0},d=await t.create(a,f,{...l,signal:this.controller.signal});this._connected();for await(const p of d)Re(this,Zt,"m",el).call(this,p);if((m=d.controller.signal)!=null&&m.aborted)throw new Nn;return this._addRun(Re(this,Zt,"m",tl).call(this))}static accumulateDelta(t,a){for(const[s,l]of Object.entries(a)){if(!t.hasOwnProperty(s)){t[s]=l;continue}let o=t[s];if(o==null){t[s]=l;continue}if(s==="index"||s==="type"){t[s]=l;continue}if(typeof o=="string"&&typeof l=="string")o+=l;else if(typeof o=="number"&&typeof l=="number")o+=l;else if(ro(o)&&ro(l))o=this.accumulateDelta(o,l);else if(Array.isArray(o)&&Array.isArray(l)){if(o.every(f=>typeof f=="string"||typeof f=="number")){o.push(...l);continue}for(const f of l){if(!ro(f))throw new Error(`Expected array delta entry to be an object but got: ${f}`);const d=f.index;if(d==null)throw console.error(f),new Error("Expected array delta entry to have an `index` property");if(typeof d!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${d}`);const m=o[d];m==null?o.push(f):o[d]=this.accumulateDelta(m,f)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${l}, accValue: ${o}`);t[s]=o}return t}_addRun(t){return t}async _threadAssistantStream(t,a,s){return await this._createThreadAssistantStream(a,t,s)}async _runAssistantStream(t,a,s,l){return await this._createAssistantStream(a,t,s,l)}async _runToolAssistantStream(t,a,s,l,o){return await this._createToolAssistantStream(s,t,a,l,o)}}el=function(t){if(!this.ended)switch(mn(this,oo,t,"f"),Re(this,Zt,"m",d0).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Re(this,Zt,"m",g0).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Re(this,Zt,"m",f0).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Re(this,Zt,"m",c0).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},tl=function(){if(this.ended)throw new Oe("stream has ended, this shouldn't happen");if(!Re(this,zr,"f"))throw Error("Final run has not been received");return Re(this,zr,"f")},c0=function(t){const[a,s]=Re(this,Zt,"m",m0).call(this,t,Re(this,Pn,"f"));mn(this,Pn,a,"f"),Re(this,uo,"f")[a.id]=a;for(const l of s){const o=a.content[l.index];(o==null?void 0:o.type)=="text"&&this._emit("textCreated",o.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,a),t.data.delta.content)for(const l of t.data.delta.content){if(l.type=="text"&&l.text){let o=l.text,f=a.content[l.index];if(f&&f.type=="text")this._emit("textDelta",o,f.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(l.index!=Re(this,Bs,"f")){if(Re(this,jr,"f"))switch(Re(this,jr,"f").type){case"text":this._emit("textDone",Re(this,jr,"f").text,Re(this,Pn,"f"));break;case"image_file":this._emit("imageFileDone",Re(this,jr,"f").image_file,Re(this,Pn,"f"));break}mn(this,Bs,l.index,"f")}mn(this,jr,a.content[l.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(Re(this,Bs,"f")!==void 0){const l=t.data.content[Re(this,Bs,"f")];if(l)switch(l.type){case"image_file":this._emit("imageFileDone",l.image_file,Re(this,Pn,"f"));break;case"text":this._emit("textDone",l.text,Re(this,Pn,"f"));break}}Re(this,Pn,"f")&&this._emit("messageDone",t.data),mn(this,Pn,void 0,"f")}},f0=function(t){const a=Re(this,Zt,"m",h0).call(this,t);switch(mn(this,sl,a,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const s=t.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&a.step_details.type=="tool_calls")for(const o of s.step_details.tool_calls)o.index==Re(this,go,"f")?this._emit("toolCallDelta",o,a.step_details.tool_calls[o.index]):(Re(this,gn,"f")&&this._emit("toolCallDone",Re(this,gn,"f")),mn(this,go,o.index,"f"),mn(this,gn,a.step_details.tool_calls[o.index],"f"),Re(this,gn,"f")&&this._emit("toolCallCreated",Re(this,gn,"f")));this._emit("runStepDelta",t.data.delta,a);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":mn(this,sl,void 0,"f"),t.data.step_details.type=="tool_calls"&&Re(this,gn,"f")&&(this._emit("toolCallDone",Re(this,gn,"f")),mn(this,gn,void 0,"f")),this._emit("runStepDone",t.data,a);break}},d0=function(t){Re(this,Zd,"f").push(t),this._emit("event",t)},h0=function(t){switch(t.event){case"thread.run.step.created":return Re(this,ea,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let a=Re(this,ea,"f")[t.data.id];if(!a)throw Error("Received a RunStepDelta before creation of a snapshot");let s=t.data;if(s.delta){const l=Zn.accumulateDelta(a,s.delta);Re(this,ea,"f")[t.data.id]=l}return Re(this,ea,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Re(this,ea,"f")[t.data.id]=t.data;break}if(Re(this,ea,"f")[t.data.id])return Re(this,ea,"f")[t.data.id];throw new Error("No snapshot available")},m0=function(t,a){let s=[];switch(t.event){case"thread.message.created":return[t.data,s];case"thread.message.delta":if(!a)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let l=t.data;if(l.delta.content)for(const o of l.delta.content)if(o.index in a.content){let f=a.content[o.index];a.content[o.index]=Re(this,Zt,"m",p0).call(this,o,f)}else a.content[o.index]=o,s.push(o);return[a,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(a)return[a,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},p0=function(t,a){return Zn.accumulateDelta(a,t)},g0=function(t){switch(mn(this,co,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":mn(this,zr,t.data,"f"),Re(this,gn,"f")&&(this._emit("toolCallDone",Re(this,gn,"f")),mn(this,gn,void 0,"f"));break}};class ph extends Ue{create(t,a){return this._client.post("/assistants",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(t,a){return this._client.get(`/assistants/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(t,a,s){return this._client.post(`/assistants/${t}`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t={},a){return wt(t)?this.list({},t):this._client.getAPIList("/assistants",gh,{query:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}del(t,a){return this._client.delete(`/assistants/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class gh extends Ht{}ph.AssistantsPage=gh;function y0(r){return typeof r.parse=="function"}const Zs=r=>(r==null?void 0:r.role)==="assistant",Zv=r=>(r==null?void 0:r.role)==="function",$v=r=>(r==null?void 0:r.role)==="tool";function B2(r,t){const a={...r};return Object.defineProperties(a,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:t,enumerable:!1}}),a}function yh(r){return(r==null?void 0:r.$brand)==="auto-parseable-response-format"}function Cl(r){return(r==null?void 0:r.$brand)==="auto-parseable-tool"}function L2(r,t){return!t||!Hv(t)?{...r,choices:r.choices.map(a=>({...a,message:{...a.message,parsed:null,...a.message.tool_calls?{tool_calls:a.message.tool_calls}:void 0}}))}:vh(r,t)}function vh(r,t){const a=r.choices.map(s=>{var l;if(s.finish_reason==="length")throw new Sv;if(s.finish_reason==="content_filter")throw new Av;return{...s,message:{...s.message,...s.message.tool_calls?{tool_calls:((l=s.message.tool_calls)==null?void 0:l.map(o=>Z2(t,o)))??void 0}:void 0,parsed:s.message.content&&!s.message.refusal?P2(t,s.message.content):null}}});return{...r,choices:a}}function P2(r,t){var a,s;return((a=r.response_format)==null?void 0:a.type)!=="json_schema"?null:((s=r.response_format)==null?void 0:s.type)==="json_schema"?"$parseRaw"in r.response_format?r.response_format.$parseRaw(t):JSON.parse(t):null}function Z2(r,t){var s;const a=(s=r.tools)==null?void 0:s.find(l=>{var o;return((o=l.function)==null?void 0:o.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Cl(a)?a.$parseRaw(t.function.arguments):a!=null&&a.function.strict?JSON.parse(t.function.arguments):null}}}function $2(r,t){var s;if(!r)return!1;const a=(s=r.tools)==null?void 0:s.find(l=>{var o;return((o=l.function)==null?void 0:o.name)===t.function.name});return Cl(a)||(a==null?void 0:a.function.strict)||!1}function Hv(r){var t;return yh(r.response_format)?!0:((t=r.tools)==null?void 0:t.some(a=>Cl(a)||a.type==="function"&&a.function.strict===!0))??!1}function H2(r){for(const t of r??[]){if(t.type!=="function")throw new Oe(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new Oe(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var sn=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},Ft,$d,yo,Hd,Id,qd,Iv,Vd;const v0=10;class qv extends mh{constructor(){super(...arguments),Ft.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var s;this._chatCompletions.push(t),this._emit("chatCompletion",t);const a=(s=t.choices[0])==null?void 0:s.message;return a&&this._addMessage(a),t}_addMessage(t,a=!0){if("content"in t||(t.content=null),this.messages.push(t),a){if(this._emit("message",t),(Zv(t)||$v(t))&&t.content)this._emit("functionCallResult",t.content);else if(Zs(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Zs(t)&&t.tool_calls)for(const s of t.tool_calls)s.type==="function"&&this._emit("functionCall",s.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new Oe("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),sn(this,Ft,"m",$d).call(this)}async finalMessage(){return await this.done(),sn(this,Ft,"m",yo).call(this)}async finalFunctionCall(){return await this.done(),sn(this,Ft,"m",Hd).call(this)}async finalFunctionCallResult(){return await this.done(),sn(this,Ft,"m",Id).call(this)}async totalUsage(){return await this.done(),sn(this,Ft,"m",qd).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const a=sn(this,Ft,"m",yo).call(this);a&&this._emit("finalMessage",a);const s=sn(this,Ft,"m",$d).call(this);s&&this._emit("finalContent",s);const l=sn(this,Ft,"m",Hd).call(this);l&&this._emit("finalFunctionCall",l);const o=sn(this,Ft,"m",Id).call(this);o!=null&&this._emit("finalFunctionCallResult",o),this._chatCompletions.some(f=>f.usage)&&this._emit("totalUsage",sn(this,Ft,"m",qd).call(this))}async _createChatCompletion(t,a,s){const l=s==null?void 0:s.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort())),sn(this,Ft,"m",Iv).call(this,a);const o=await t.chat.completions.create({...a,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(vh(o,a))}async _runChatCompletion(t,a,s){for(const l of a.messages)this._addMessage(l,!1);return await this._createChatCompletion(t,a,s)}async _runFunctions(t,a,s){var A;const l="function",{function_call:o="auto",stream:f,...d}=a,m=typeof o!="string"&&(o==null?void 0:o.name),{maxChatCompletions:p=v0}=s||{},g={};for(const v of a.functions)g[v.name||v.function.name]=v;const y=a.functions.map(v=>({name:v.name||v.function.name,parameters:v.parameters,description:v.description}));for(const v of a.messages)this._addMessage(v,!1);for(let v=0;v<p;++v){const _=(A=(await this._createChatCompletion(t,{...d,function_call:o,functions:y,messages:[...this.messages]},s)).choices[0])==null?void 0:A.message;if(!_)throw new Oe("missing message in ChatCompletion response");if(!_.function_call)return;const{name:C,arguments:E}=_.function_call,S=g[C];if(S){if(m&&m!==C){const X=`Invalid function_call: ${JSON.stringify(C)}. ${JSON.stringify(m)} requested. Please try again`;this._addMessage({role:l,name:C,content:X});continue}}else{const X=`Invalid function_call: ${JSON.stringify(C)}. Available options are: ${y.map(I=>JSON.stringify(I.name)).join(", ")}. Please try again`;this._addMessage({role:l,name:C,content:X});continue}let R;try{R=y0(S)?await S.parse(E):E}catch(X){this._addMessage({role:l,name:C,content:X instanceof Error?X.message:String(X)});continue}const M=await S.function(R,this),B=sn(this,Ft,"m",Vd).call(this,M);if(this._addMessage({role:l,name:C,content:B}),m)return}}async _runTools(t,a,s){var v,k,_;const l="tool",{tool_choice:o="auto",stream:f,...d}=a,m=typeof o!="string"&&((v=o==null?void 0:o.function)==null?void 0:v.name),{maxChatCompletions:p=v0}=s||{},g=a.tools.map(C=>{if(Cl(C)){if(!C.$callback)throw new Oe("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:C.$callback,name:C.function.name,description:C.function.description||"",parameters:C.function.parameters,parse:C.$parseRaw,strict:!0}}}return C}),y={};for(const C of g)C.type==="function"&&(y[C.function.name||C.function.function.name]=C.function);const A="tools"in a?g.map(C=>C.type==="function"?{type:"function",function:{name:C.function.name||C.function.function.name,parameters:C.function.parameters,description:C.function.description,strict:C.function.strict}}:C):void 0;for(const C of a.messages)this._addMessage(C,!1);for(let C=0;C<p;++C){const S=(k=(await this._createChatCompletion(t,{...d,tool_choice:o,tools:A,messages:[...this.messages]},s)).choices[0])==null?void 0:k.message;if(!S)throw new Oe("missing message in ChatCompletion response");if(!((_=S.tool_calls)!=null&&_.length))return;for(const R of S.tool_calls){if(R.type!=="function")continue;const M=R.id,{name:B,arguments:X}=R.function,I=y[B];if(I){if(m&&m!==B){const de=`Invalid tool_call: ${JSON.stringify(B)}. ${JSON.stringify(m)} requested. Please try again`;this._addMessage({role:l,tool_call_id:M,content:de});continue}}else{const de=`Invalid tool_call: ${JSON.stringify(B)}. Available options are: ${Object.keys(y).map(z=>JSON.stringify(z)).join(", ")}. Please try again`;this._addMessage({role:l,tool_call_id:M,content:de});continue}let se;try{se=y0(I)?await I.parse(X):X}catch(de){const z=de instanceof Error?de.message:String(de);this._addMessage({role:l,tool_call_id:M,content:z});continue}const P=await I.function(se,this),ee=sn(this,Ft,"m",Vd).call(this,P);if(this._addMessage({role:l,tool_call_id:M,content:ee}),m)return}}}}Ft=new WeakSet,$d=function(){return sn(this,Ft,"m",yo).call(this).content??null},yo=function(){let t=this.messages.length;for(;t-- >0;){const a=this.messages[t];if(Zs(a)){const{function_call:s,...l}=a,o={...l,content:a.content??null,refusal:a.refusal??null};return s&&(o.function_call=s),o}}throw new Oe("stream ended without producing a ChatCompletionMessage with role=assistant")},Hd=function(){var t,a;for(let s=this.messages.length-1;s>=0;s--){const l=this.messages[s];if(Zs(l)&&(l!=null&&l.function_call))return l.function_call;if(Zs(l)&&((t=l==null?void 0:l.tool_calls)!=null&&t.length))return(a=l.tool_calls.at(-1))==null?void 0:a.function}},Id=function(){for(let t=this.messages.length-1;t>=0;t--){const a=this.messages[t];if(Zv(a)&&a.content!=null||$v(a)&&a.content!=null&&typeof a.content=="string"&&this.messages.some(s=>{var l;return s.role==="assistant"&&((l=s.tool_calls)==null?void 0:l.some(o=>o.type==="function"&&o.id===a.tool_call_id))}))return a.content}},qd=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:a}of this._chatCompletions)a&&(t.completion_tokens+=a.completion_tokens,t.prompt_tokens+=a.prompt_tokens,t.total_tokens+=a.total_tokens);return t},Iv=function(t){if(t.n!=null&&t.n>1)throw new Oe("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Vd=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class ll extends qv{static runFunctions(t,a,s){const l=new ll,o={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return l._run(()=>l._runFunctions(t,a,o)),l}static runTools(t,a,s){const l=new ll,o={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return l._run(()=>l._runTools(t,a,o)),l}_addMessage(t,a=!0){super._addMessage(t,a),Zs(t)&&t.content&&this._emit("content",t.content)}}const Vv=1,Fv=2,Yv=4,Gv=8,Xv=16,Qv=32,Kv=64,Jv=128,Wv=256,eb=Jv|Wv,tb=Xv|Qv|eb|Kv,nb=Vv|Fv|tb,ab=Yv|Gv,I2=nb|ab,Mt={STR:Vv,NUM:Fv,ARR:Yv,OBJ:Gv,NULL:Xv,BOOL:Qv,NAN:Kv,INFINITY:Jv,MINUS_INFINITY:Wv,INF:eb,SPECIAL:tb,ATOM:nb,COLLECTION:ab,ALL:I2};class q2 extends Error{}class V2 extends Error{}function F2(r,t=Mt.ALL){if(typeof r!="string")throw new TypeError(`expecting str, got ${typeof r}`);if(!r.trim())throw new Error(`${r} is empty`);return Y2(r.trim(),t)}const Y2=(r,t)=>{const a=r.length;let s=0;const l=A=>{throw new q2(`${A} at position ${s}`)},o=A=>{throw new V2(`${A} at position ${s}`)},f=()=>(y(),s>=a&&l("Unexpected end of input"),r[s]==='"'?d():r[s]==="{"?m():r[s]==="["?p():r.substring(s,s+4)==="null"||Mt.NULL&t&&a-s<4&&"null".startsWith(r.substring(s))?(s+=4,null):r.substring(s,s+4)==="true"||Mt.BOOL&t&&a-s<4&&"true".startsWith(r.substring(s))?(s+=4,!0):r.substring(s,s+5)==="false"||Mt.BOOL&t&&a-s<5&&"false".startsWith(r.substring(s))?(s+=5,!1):r.substring(s,s+8)==="Infinity"||Mt.INFINITY&t&&a-s<8&&"Infinity".startsWith(r.substring(s))?(s+=8,1/0):r.substring(s,s+9)==="-Infinity"||Mt.MINUS_INFINITY&t&&1<a-s&&a-s<9&&"-Infinity".startsWith(r.substring(s))?(s+=9,-1/0):r.substring(s,s+3)==="NaN"||Mt.NAN&t&&a-s<3&&"NaN".startsWith(r.substring(s))?(s+=3,NaN):g()),d=()=>{const A=s;let v=!1;for(s++;s<a&&(r[s]!=='"'||v&&r[s-1]==="\\");)v=r[s]==="\\"?!v:!1,s++;if(r.charAt(s)=='"')try{return JSON.parse(r.substring(A,++s-Number(v)))}catch(k){o(String(k))}else if(Mt.STR&t)try{return JSON.parse(r.substring(A,s-Number(v))+'"')}catch{return JSON.parse(r.substring(A,r.lastIndexOf("\\"))+'"')}l("Unterminated string literal")},m=()=>{s++,y();const A={};try{for(;r[s]!=="}";){if(y(),s>=a&&Mt.OBJ&t)return A;const v=d();y(),s++;try{const k=f();Object.defineProperty(A,v,{value:k,writable:!0,enumerable:!0,configurable:!0})}catch(k){if(Mt.OBJ&t)return A;throw k}y(),r[s]===","&&s++}}catch{if(Mt.OBJ&t)return A;l("Expected '}' at end of object")}return s++,A},p=()=>{s++;const A=[];try{for(;r[s]!=="]";)A.push(f()),y(),r[s]===","&&s++}catch{if(Mt.ARR&t)return A;l("Expected ']' at end of array")}return s++,A},g=()=>{if(s===0){r==="-"&&Mt.NUM&t&&l("Not sure what '-' is");try{return JSON.parse(r)}catch(v){if(Mt.NUM&t)try{return r[r.length-1]==="."?JSON.parse(r.substring(0,r.lastIndexOf("."))):JSON.parse(r.substring(0,r.lastIndexOf("e")))}catch{}o(String(v))}}const A=s;for(r[s]==="-"&&s++;r[s]&&!",]}".includes(r[s]);)s++;s==a&&!(Mt.NUM&t)&&l("Unterminated number literal");try{return JSON.parse(r.substring(A,s))}catch{r.substring(A,s)==="-"&&Mt.NUM&t&&l("Not sure what '-' is");try{return JSON.parse(r.substring(A,r.lastIndexOf("e")))}catch(k){o(String(k))}}},y=()=>{for(;s<a&&` 
\r	`.includes(r[s]);)s++};return f()},b0=r=>F2(r,Mt.ALL^Mt.NUM);var Rs=function(r,t,a,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!l:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(r,a):l?l.value=a:t.set(r,a),a},ut=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},Tt,Sa,Os,er,yd,Xu,vd,bd,_d,Qu,xd,_0;class ul extends qv{constructor(t){super(),Tt.add(this),Sa.set(this,void 0),Os.set(this,void 0),er.set(this,void 0),Rs(this,Sa,t,"f"),Rs(this,Os,[],"f")}get currentChatCompletionSnapshot(){return ut(this,er,"f")}static fromReadableStream(t){const a=new ul(null);return a._run(()=>a._fromReadableStream(t)),a}static createChatCompletion(t,a,s){const l=new ul(a);return l._run(()=>l._runChatCompletion(t,{...a,stream:!0},{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),l}async _createChatCompletion(t,a,s){var f;super._createChatCompletion;const l=s==null?void 0:s.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort())),ut(this,Tt,"m",yd).call(this);const o=await t.chat.completions.create({...a,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const d of o)ut(this,Tt,"m",vd).call(this,d);if((f=o.controller.signal)!=null&&f.aborted)throw new Nn;return this._addChatCompletion(ut(this,Tt,"m",Qu).call(this))}async _fromReadableStream(t,a){var f;const s=a==null?void 0:a.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ut(this,Tt,"m",yd).call(this),this._connected();const l=na.fromReadableStream(t,this.controller);let o;for await(const d of l)o&&o!==d.id&&this._addChatCompletion(ut(this,Tt,"m",Qu).call(this)),ut(this,Tt,"m",vd).call(this,d),o=d.id;if((f=l.controller.signal)!=null&&f.aborted)throw new Nn;return this._addChatCompletion(ut(this,Tt,"m",Qu).call(this))}[(Sa=new WeakMap,Os=new WeakMap,er=new WeakMap,Tt=new WeakSet,yd=function(){this.ended||Rs(this,er,void 0,"f")},Xu=function(a){let s=ut(this,Os,"f")[a.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ut(this,Os,"f")[a.index]=s,s)},vd=function(a){var l,o,f,d,m,p,g,y,A,v,k,_,C,E,S;if(this.ended)return;const s=ut(this,Tt,"m",_0).call(this,a);this._emit("chunk",a,s);for(const R of a.choices){const M=s.choices[R.index];R.delta.content!=null&&((l=M.message)==null?void 0:l.role)==="assistant"&&((o=M.message)!=null&&o.content)&&(this._emit("content",R.delta.content,M.message.content),this._emit("content.delta",{delta:R.delta.content,snapshot:M.message.content,parsed:M.message.parsed})),R.delta.refusal!=null&&((f=M.message)==null?void 0:f.role)==="assistant"&&((d=M.message)!=null&&d.refusal)&&this._emit("refusal.delta",{delta:R.delta.refusal,snapshot:M.message.refusal}),((m=R.logprobs)==null?void 0:m.content)!=null&&((p=M.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(g=R.logprobs)==null?void 0:g.content,snapshot:((y=M.logprobs)==null?void 0:y.content)??[]}),((A=R.logprobs)==null?void 0:A.refusal)!=null&&((v=M.message)==null?void 0:v.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(k=R.logprobs)==null?void 0:k.refusal,snapshot:((_=M.logprobs)==null?void 0:_.refusal)??[]});const B=ut(this,Tt,"m",Xu).call(this,M);M.finish_reason&&(ut(this,Tt,"m",_d).call(this,M),B.current_tool_call_index!=null&&ut(this,Tt,"m",bd).call(this,M,B.current_tool_call_index));for(const X of R.delta.tool_calls??[])B.current_tool_call_index!==X.index&&(ut(this,Tt,"m",_d).call(this,M),B.current_tool_call_index!=null&&ut(this,Tt,"m",bd).call(this,M,B.current_tool_call_index)),B.current_tool_call_index=X.index;for(const X of R.delta.tool_calls??[]){const I=(C=M.message.tool_calls)==null?void 0:C[X.index];I!=null&&I.type&&((I==null?void 0:I.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(E=I.function)==null?void 0:E.name,index:X.index,arguments:I.function.arguments,parsed_arguments:I.function.parsed_arguments,arguments_delta:((S=X.function)==null?void 0:S.arguments)??""}):(I==null||I.type,void 0))}}},bd=function(a,s){var f,d,m;if(ut(this,Tt,"m",Xu).call(this,a).done_tool_calls.has(s))return;const o=(f=a.message.tool_calls)==null?void 0:f[s];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if(o.type==="function"){const p=(m=(d=ut(this,Sa,"f"))==null?void 0:d.tools)==null?void 0:m.find(g=>g.type==="function"&&g.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:s,arguments:o.function.arguments,parsed_arguments:Cl(p)?p.$parseRaw(o.function.arguments):p!=null&&p.function.strict?JSON.parse(o.function.arguments):null})}else o.type},_d=function(a){var l,o;const s=ut(this,Tt,"m",Xu).call(this,a);if(a.message.content&&!s.content_done){s.content_done=!0;const f=ut(this,Tt,"m",xd).call(this);this._emit("content.done",{content:a.message.content,parsed:f?f.$parseRaw(a.message.content):null})}a.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:a.message.refusal})),(l=a.logprobs)!=null&&l.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:a.logprobs.content})),(o=a.logprobs)!=null&&o.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:a.logprobs.refusal}))},Qu=function(){if(this.ended)throw new Oe("stream has ended, this shouldn't happen");const a=ut(this,er,"f");if(!a)throw new Oe("request ended without sending any chunks");return Rs(this,er,void 0,"f"),Rs(this,Os,[],"f"),G2(a,ut(this,Sa,"f"))},xd=function(){var s;const a=(s=ut(this,Sa,"f"))==null?void 0:s.response_format;return yh(a)?a:null},_0=function(a){var s,l,o,f;let d=ut(this,er,"f");const{choices:m,...p}=a;d?Object.assign(d,p):d=Rs(this,er,{...p,choices:[]},"f");for(const{delta:g,finish_reason:y,index:A,logprobs:v=null,...k}of a.choices){let _=d.choices[A];if(_||(_=d.choices[A]={finish_reason:y,index:A,message:{},logprobs:v,...k}),v)if(!_.logprobs)_.logprobs=Object.assign({},v);else{const{content:X,refusal:I,...se}=v;Object.assign(_.logprobs,se),X&&((s=_.logprobs).content??(s.content=[]),_.logprobs.content.push(...X)),I&&((l=_.logprobs).refusal??(l.refusal=[]),_.logprobs.refusal.push(...I))}if(y&&(_.finish_reason=y,ut(this,Sa,"f")&&Hv(ut(this,Sa,"f")))){if(y==="length")throw new Sv;if(y==="content_filter")throw new Av}if(Object.assign(_,k),!g)continue;const{content:C,refusal:E,function_call:S,role:R,tool_calls:M,...B}=g;if(Object.assign(_.message,B),E&&(_.message.refusal=(_.message.refusal||"")+E),R&&(_.message.role=R),S&&(_.message.function_call?(S.name&&(_.message.function_call.name=S.name),S.arguments&&((o=_.message.function_call).arguments??(o.arguments=""),_.message.function_call.arguments+=S.arguments)):_.message.function_call=S),C&&(_.message.content=(_.message.content||"")+C,!_.message.refusal&&ut(this,Tt,"m",xd).call(this)&&(_.message.parsed=b0(_.message.content))),M){_.message.tool_calls||(_.message.tool_calls=[]);for(const{index:X,id:I,type:se,function:P,...ee}of M){const de=(f=_.message.tool_calls)[X]??(f[X]={});Object.assign(de,ee),I&&(de.id=I),se&&(de.type=se),P&&(de.function??(de.function={name:P.name??"",arguments:""})),P!=null&&P.name&&(de.function.name=P.name),P!=null&&P.arguments&&(de.function.arguments+=P.arguments,$2(ut(this,Sa,"f"),de)&&(de.function.parsed_arguments=b0(de.function.arguments)))}}}return d},Symbol.asyncIterator)](){const t=[],a=[];let s=!1;return this.on("chunk",l=>{const o=a.shift();o?o.resolve(l):t.push(l)}),this.on("end",()=>{s=!0;for(const l of a)l.resolve(void 0);a.length=0}),this.on("abort",l=>{s=!0;for(const o of a)o.reject(l);a.length=0}),this.on("error",l=>{s=!0;for(const o of a)o.reject(l);a.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((o,f)=>a.push({resolve:o,reject:f})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new na(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function G2(r,t){const{id:a,choices:s,created:l,model:o,system_fingerprint:f,...d}=r,m={...d,id:a,choices:s.map(({message:p,finish_reason:g,index:y,logprobs:A,...v})=>{if(!g)throw new Oe(`missing finish_reason for choice ${y}`);const{content:k=null,function_call:_,tool_calls:C,...E}=p,S=p.role;if(!S)throw new Oe(`missing role for choice ${y}`);if(_){const{arguments:R,name:M}=_;if(R==null)throw new Oe(`missing function_call.arguments for choice ${y}`);if(!M)throw new Oe(`missing function_call.name for choice ${y}`);return{...v,message:{content:k,function_call:{arguments:R,name:M},role:S,refusal:p.refusal??null},finish_reason:g,index:y,logprobs:A}}return C?{...v,index:y,finish_reason:g,logprobs:A,message:{...E,role:S,content:k,refusal:p.refusal??null,tool_calls:C.map((R,M)=>{const{function:B,type:X,id:I,...se}=R,{arguments:P,name:ee,...de}=B||{};if(I==null)throw new Oe(`missing choices[${y}].tool_calls[${M}].id
${Ku(r)}`);if(X==null)throw new Oe(`missing choices[${y}].tool_calls[${M}].type
${Ku(r)}`);if(ee==null)throw new Oe(`missing choices[${y}].tool_calls[${M}].function.name
${Ku(r)}`);if(P==null)throw new Oe(`missing choices[${y}].tool_calls[${M}].function.arguments
${Ku(r)}`);return{...se,id:I,type:X,function:{...de,name:ee,arguments:P}}})}}:{...v,message:{...E,content:k,role:S,refusal:p.refusal??null},finish_reason:g,index:y,logprobs:A}}),created:l,model:o,object:"chat.completion",...f?{system_fingerprint:f}:{}};return L2(m,t)}function Ku(r){return JSON.stringify(r)}class $s extends ul{static fromReadableStream(t){const a=new $s(null);return a._run(()=>a._fromReadableStream(t)),a}static runFunctions(t,a,s){const l=new $s(null),o={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return l._run(()=>l._runFunctions(t,a,o)),l}static runTools(t,a,s){const l=new $s(a),o={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return l._run(()=>l._runTools(t,a,o)),l}}let rb=class extends Ue{parse(t,a){return H2(t.tools),this._client.chat.completions.create(t,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(s=>vh(s,t))}runFunctions(t,a){return t.stream?$s.runFunctions(this._client,t,a):ll.runFunctions(this._client,t,a)}runTools(t,a){return t.stream?$s.runTools(this._client,t,a):ll.runTools(this._client,t,a)}stream(t,a){return ul.createChatCompletion(this._client,t,a)}};class Fd extends Ue{constructor(){super(...arguments),this.completions=new rb(this._client)}}(function(r){r.Completions=rb})(Fd||(Fd={}));class sb extends Ue{create(t,a){return this._client.post("/realtime/sessions",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class ib extends Ue{create(t,a){return this._client.post("/realtime/transcription_sessions",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class Po extends Ue{constructor(){super(...arguments),this.sessions=new sb(this._client),this.transcriptionSessions=new ib(this._client)}}Po.Sessions=sb;Po.TranscriptionSessions=ib;class bh extends Ue{create(t,a,s){return this._client.post(`/threads/${t}/messages`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,a,s){return this._client.get(`/threads/${t}/messages/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,a,s,l){return this._client.post(`/threads/${t}/messages/${a}`,{body:s,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers}})}list(t,a={},s){return wt(a)?this.list(t,{},a):this._client.getAPIList(`/threads/${t}/messages`,_h,{query:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,a,s){return this._client.delete(`/threads/${t}/messages/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class _h extends Ht{}bh.MessagesPage=_h;class xh extends Ue{retrieve(t,a,s,l={},o){return wt(l)?this.retrieve(t,a,s,{},l):this._client.get(`/threads/${t}/runs/${a}/steps/${s}`,{query:l,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(t,a,s={},l){return wt(s)?this.list(t,a,{},s):this._client.getAPIList(`/threads/${t}/runs/${a}/steps`,wh,{query:s,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers}})}}class wh extends Ht{}xh.RunStepsPage=wh;let Nl=class extends Ue{constructor(){super(...arguments),this.steps=new xh(this._client)}create(t,a,s){const{include:l,...o}=a;return this._client.post(`/threads/${t}/runs`,{query:{include:l},body:o,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:a.stream??!1})}retrieve(t,a,s){return this._client.get(`/threads/${t}/runs/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,a,s,l){return this._client.post(`/threads/${t}/runs/${a}`,{body:s,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers}})}list(t,a={},s){return wt(a)?this.list(t,{},a):this._client.getAPIList(`/threads/${t}/runs`,Sh,{query:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(t,a,s){return this._client.post(`/threads/${t}/runs/${a}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,a,s){const l=await this.create(t,a,s);return await this.poll(t,l.id,s)}createAndStream(t,a,s){return Zn.createAssistantStream(t,this._client.beta.threads.runs,a,s)}async poll(t,a,s){const l={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(l["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:o,response:f}=await this.retrieve(t,a,{...s,headers:{...s==null?void 0:s.headers,...l}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let d=5e3;if(s!=null&&s.pollIntervalMs)d=s.pollIntervalMs;else{const m=f.headers.get("openai-poll-after-ms");if(m){const p=parseInt(m);isNaN(p)||(d=p)}}await El(d);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(t,a,s){return Zn.createAssistantStream(t,this._client.beta.threads.runs,a,s)}submitToolOutputs(t,a,s,l){return this._client.post(`/threads/${t}/runs/${a}/submit_tool_outputs`,{body:s,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers},stream:s.stream??!1})}async submitToolOutputsAndPoll(t,a,s,l){const o=await this.submitToolOutputs(t,a,s,l);return await this.poll(t,o.id,l)}submitToolOutputsStream(t,a,s,l){return Zn.createToolAssistantStream(t,a,this._client.beta.threads.runs,s,l)}};class Sh extends Ht{}Nl.RunsPage=Sh;Nl.Steps=xh;Nl.RunStepsPage=wh;class Gs extends Ue{constructor(){super(...arguments),this.runs=new Nl(this._client),this.messages=new bh(this._client)}create(t={},a){return wt(t)?this.create({},t):this._client.post("/threads",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(t,a){return this._client.get(`/threads/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(t,a,s){return this._client.post(`/threads/${t}`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,a){return this._client.delete(`/threads/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}createAndRun(t,a){return this._client.post("/threads/runs",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers},stream:t.stream??!1})}async createAndRunPoll(t,a){const s=await this.createAndRun(t,a);return await this.runs.poll(s.thread_id,s.id,a)}createAndRunStream(t,a){return Zn.createThreadAssistantStream(t,this._client.beta.threads,a)}}Gs.Runs=Nl;Gs.RunsPage=Sh;Gs.Messages=bh;Gs.MessagesPage=_h;class Xs extends Ue{constructor(){super(...arguments),this.realtime=new Po(this._client),this.chat=new Fd(this._client),this.assistants=new ph(this._client),this.threads=new Gs(this._client)}}Xs.Realtime=Po;Xs.Assistants=ph;Xs.AssistantsPage=gh;Xs.Threads=Gs;class lb extends Ue{create(t,a){return this._client.post("/completions",{body:t,...a,stream:t.stream??!1})}}class ub extends Ue{create(t,a){const s=!!t.encoding_format;let l=s?t.encoding_format:"base64";s&&ar("Request","User defined encoding_format:",t.encoding_format);const o=this._client.post("/embeddings",{body:{...t,encoding_format:l},...a});return s?o:(ar("response","Decoding base64 embeddings to float32 array"),o._thenUnwrap(f=>(f&&f.data&&f.data.forEach(d=>{const m=d.embedding;d.embedding=M2(m)}),f)))}}class Ah extends Ue{retrieve(t,a,s,l){return this._client.get(`/evals/${t}/runs/${a}/output_items/${s}`,l)}list(t,a,s={},l){return wt(s)?this.list(t,a,{},s):this._client.getAPIList(`/evals/${t}/runs/${a}/output_items`,Eh,{query:s,...l})}}class Eh extends Ht{}Ah.OutputItemListResponsesPage=Eh;class Tl extends Ue{constructor(){super(...arguments),this.outputItems=new Ah(this._client)}create(t,a,s){return this._client.post(`/evals/${t}/runs`,{body:a,...s})}retrieve(t,a,s){return this._client.get(`/evals/${t}/runs/${a}`,s)}list(t,a={},s){return wt(a)?this.list(t,{},a):this._client.getAPIList(`/evals/${t}/runs`,kh,{query:a,...s})}del(t,a,s){return this._client.delete(`/evals/${t}/runs/${a}`,s)}cancel(t,a,s){return this._client.post(`/evals/${t}/runs/${a}`,s)}}class kh extends Ht{}Tl.RunListResponsesPage=kh;Tl.OutputItems=Ah;Tl.OutputItemListResponsesPage=Eh;class Rl extends Ue{constructor(){super(...arguments),this.runs=new Tl(this._client)}create(t,a){return this._client.post("/evals",{body:t,...a})}retrieve(t,a){return this._client.get(`/evals/${t}`,a)}update(t,a,s){return this._client.post(`/evals/${t}`,{body:a,...s})}list(t={},a){return wt(t)?this.list({},t):this._client.getAPIList("/evals",Ch,{query:t,...a})}del(t,a){return this._client.delete(`/evals/${t}`,a)}}class Ch extends Ht{}Rl.EvalListResponsesPage=Ch;Rl.Runs=Tl;Rl.RunListResponsesPage=kh;let Nh=class extends Ue{create(t,a){return this._client.post("/files",Is({body:t,...a}))}retrieve(t,a){return this._client.get(`/files/${t}`,a)}list(t={},a){return wt(t)?this.list({},t):this._client.getAPIList("/files",Th,{query:t,...a})}del(t,a){return this._client.delete(`/files/${t}`,a)}content(t,a){return this._client.get(`/files/${t}/content`,{...a,headers:{Accept:"application/binary",...a==null?void 0:a.headers},__binaryResponse:!0})}retrieveContent(t,a){return this._client.get(`/files/${t}/content`,a)}async waitForProcessing(t,{pollInterval:a=5e3,maxWait:s=30*60*1e3}={}){const l=new Set(["processed","error","deleted"]),o=Date.now();let f=await this.retrieve(t);for(;!f.status||!l.has(f.status);)if(await El(a),f=await this.retrieve(t),Date.now()-o>s)throw new fh({message:`Giving up on waiting for file ${t} to finish processing after ${s} milliseconds.`});return f}};class Th extends Ht{}Nh.FileObjectsPage=Th;class ob extends Ue{}let cb=class extends Ue{run(t,a){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...a})}validate(t,a){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...a})}};class Rh extends Ue{constructor(){super(...arguments),this.graders=new cb(this._client)}}Rh.Graders=cb;class Oh extends Ue{create(t,a,s){return this._client.getAPIList(`/fine_tuning/checkpoints/${t}/permissions`,jh,{body:a,method:"post",...s})}retrieve(t,a={},s){return wt(a)?this.retrieve(t,{},a):this._client.get(`/fine_tuning/checkpoints/${t}/permissions`,{query:a,...s})}del(t,a,s){return this._client.delete(`/fine_tuning/checkpoints/${t}/permissions/${a}`,s)}}class jh extends Mo{}Oh.PermissionCreateResponsesPage=jh;let Zo=class extends Ue{constructor(){super(...arguments),this.permissions=new Oh(this._client)}};Zo.Permissions=Oh;Zo.PermissionCreateResponsesPage=jh;class Dh extends Ue{list(t,a={},s){return wt(a)?this.list(t,{},a):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,zh,{query:a,...s})}}class zh extends Ht{}Dh.FineTuningJobCheckpointsPage=zh;class Qs extends Ue{constructor(){super(...arguments),this.checkpoints=new Dh(this._client)}create(t,a){return this._client.post("/fine_tuning/jobs",{body:t,...a})}retrieve(t,a){return this._client.get(`/fine_tuning/jobs/${t}`,a)}list(t={},a){return wt(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",Mh,{query:t,...a})}cancel(t,a){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,a)}listEvents(t,a={},s){return wt(a)?this.listEvents(t,{},a):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,Uh,{query:a,...s})}pause(t,a){return this._client.post(`/fine_tuning/jobs/${t}/pause`,a)}resume(t,a){return this._client.post(`/fine_tuning/jobs/${t}/resume`,a)}}class Mh extends Ht{}class Uh extends Ht{}Qs.FineTuningJobsPage=Mh;Qs.FineTuningJobEventsPage=Uh;Qs.Checkpoints=Dh;Qs.FineTuningJobCheckpointsPage=zh;class ur extends Ue{constructor(){super(...arguments),this.methods=new ob(this._client),this.jobs=new Qs(this._client),this.checkpoints=new Zo(this._client),this.alpha=new Rh(this._client)}}ur.Methods=ob;ur.Jobs=Qs;ur.FineTuningJobsPage=Mh;ur.FineTuningJobEventsPage=Uh;ur.Checkpoints=Zo;ur.Alpha=Rh;class fb extends Ue{}class Bh extends Ue{constructor(){super(...arguments),this.graderModels=new fb(this._client)}}Bh.GraderModels=fb;class db extends Ue{createVariation(t,a){return this._client.post("/images/variations",Is({body:t,...a}))}edit(t,a){return this._client.post("/images/edits",Is({body:t,...a}))}generate(t,a){return this._client.post("/images/generations",{body:t,...a})}}class Lh extends Ue{retrieve(t,a){return this._client.get(`/models/${t}`,a)}list(t){return this._client.getAPIList("/models",Ph,t)}del(t,a){return this._client.delete(`/models/${t}`,a)}}class Ph extends Mo{}Lh.ModelsPage=Ph;class hb extends Ue{create(t,a){return this._client.post("/moderations",{body:t,...a})}}function X2(r,t){return!t||!K2(t)?{...r,output_parsed:null,output:r.output.map(a=>a.type==="function_call"?{...a,parsed_arguments:null}:a.type==="message"?{...a,content:a.content.map(s=>({...s,parsed:null}))}:a)}:mb(r,t)}function mb(r,t){const a=r.output.map(l=>{if(l.type==="function_call")return{...l,parsed_arguments:eS(t,l)};if(l.type==="message"){const o=l.content.map(f=>f.type==="output_text"?{...f,parsed:Q2(t,f.text)}:f);return{...l,content:o}}return l}),s=Object.assign({},r,{output:a});return Object.getOwnPropertyDescriptor(r,"output_text")||pb(s),Object.defineProperty(s,"output_parsed",{enumerable:!0,get(){for(const l of s.output)if(l.type==="message"){for(const o of l.content)if(o.type==="output_text"&&o.parsed!==null)return o.parsed}return null}}),s}function Q2(r,t){var a,s,l,o;return((s=(a=r.text)==null?void 0:a.format)==null?void 0:s.type)!=="json_schema"?null:"$parseRaw"in((l=r.text)==null?void 0:l.format)?((o=r.text)==null?void 0:o.format).$parseRaw(t):JSON.parse(t)}function K2(r){var t;return!!yh((t=r.text)==null?void 0:t.format)}function J2(r){return(r==null?void 0:r.$brand)==="auto-parseable-tool"}function W2(r,t){return r.find(a=>a.type==="function"&&a.name===t)}function eS(r,t){const a=W2(r.tools??[],t.name);return{...t,...t,parsed_arguments:J2(a)?a.$parseRaw(t.arguments):a!=null&&a.strict?JSON.parse(t.arguments):null}}function pb(r){const t=[];for(const a of r.output)if(a.type==="message")for(const s of a.content)s.type==="output_text"&&t.push(s.text);r.output_text=t.join("")}class gb extends Ue{list(t,a={},s){return wt(a)?this.list(t,{},a):this._client.getAPIList(`/responses/${t}/input_items`,nS,{query:a,...s})}}var js=function(r,t,a,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!l:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(r,a):l?l.value=a:t.set(r,a),a},tr=function(r,t,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(r):s?s.value:t.get(r)},Ds,Ju,nr,Wu,x0,w0,S0,A0;class Zh extends mh{constructor(t){super(),Ds.add(this),Ju.set(this,void 0),nr.set(this,void 0),Wu.set(this,void 0),js(this,Ju,t,"f")}static createResponse(t,a,s){const l=new Zh(a);return l._run(()=>l._createResponse(t,a,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),l}async _createResponse(t,a,s){var f;const l=s==null?void 0:s.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort())),tr(this,Ds,"m",x0).call(this);const o=await t.responses.create({...a,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const d of o)tr(this,Ds,"m",w0).call(this,d);if((f=o.controller.signal)!=null&&f.aborted)throw new Nn;return tr(this,Ds,"m",S0).call(this)}[(Ju=new WeakMap,nr=new WeakMap,Wu=new WeakMap,Ds=new WeakSet,x0=function(){this.ended||js(this,nr,void 0,"f")},w0=function(a){if(this.ended)return;const s=tr(this,Ds,"m",A0).call(this,a);switch(this._emit("event",a),a.type){case"response.output_text.delta":{const l=s.output[a.output_index];if(!l)throw new Oe(`missing output at index ${a.output_index}`);if(l.type==="message"){const o=l.content[a.content_index];if(!o)throw new Oe(`missing content at index ${a.content_index}`);if(o.type!=="output_text")throw new Oe(`expected content to be 'output_text', got ${o.type}`);this._emit("response.output_text.delta",{...a,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const l=s.output[a.output_index];if(!l)throw new Oe(`missing output at index ${a.output_index}`);l.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...a,snapshot:l.arguments});break}default:this._emit(a.type,a);break}},S0=function(){if(this.ended)throw new Oe("stream has ended, this shouldn't happen");const a=tr(this,nr,"f");if(!a)throw new Oe("request ended without sending any events");js(this,nr,void 0,"f");const s=tS(a,tr(this,Ju,"f"));return js(this,Wu,s,"f"),s},A0=function(a){let s=tr(this,nr,"f");if(!s){if(a.type!=="response.created")throw new Oe(`When snapshot hasn't been set yet, expected 'response.created' event, got ${a.type}`);return s=js(this,nr,a.response,"f"),s}switch(a.type){case"response.output_item.added":{s.output.push(a.item);break}case"response.content_part.added":{const l=s.output[a.output_index];if(!l)throw new Oe(`missing output at index ${a.output_index}`);l.type==="message"&&l.content.push(a.part);break}case"response.output_text.delta":{const l=s.output[a.output_index];if(!l)throw new Oe(`missing output at index ${a.output_index}`);if(l.type==="message"){const o=l.content[a.content_index];if(!o)throw new Oe(`missing content at index ${a.content_index}`);if(o.type!=="output_text")throw new Oe(`expected content to be 'output_text', got ${o.type}`);o.text+=a.delta}break}case"response.function_call_arguments.delta":{const l=s.output[a.output_index];if(!l)throw new Oe(`missing output at index ${a.output_index}`);l.type==="function_call"&&(l.arguments+=a.delta);break}case"response.completed":{js(this,nr,a.response,"f");break}}return s},Symbol.asyncIterator)](){const t=[],a=[];let s=!1;return this.on("event",l=>{const o=a.shift();o?o.resolve(l):t.push(l)}),this.on("end",()=>{s=!0;for(const l of a)l.resolve(void 0);a.length=0}),this.on("abort",l=>{s=!0;for(const o of a)o.reject(l);a.length=0}),this.on("error",l=>{s=!0;for(const o of a)o.reject(l);a.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((o,f)=>a.push({resolve:o,reject:f})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=tr(this,Wu,"f");if(!t)throw new Oe("stream ended without producing a ChatCompletion");return t}}function tS(r,t){return X2(r,t)}class $h extends Ue{constructor(){super(...arguments),this.inputItems=new gb(this._client)}create(t,a){return this._client.post("/responses",{body:t,...a,stream:t.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&pb(s),s))}retrieve(t,a={},s){return wt(a)?this.retrieve(t,{},a):this._client.get(`/responses/${t}`,{query:a,...s})}del(t,a){return this._client.delete(`/responses/${t}`,{...a,headers:{Accept:"*/*",...a==null?void 0:a.headers}})}parse(t,a){return this._client.responses.create(t,a)._thenUnwrap(s=>mb(s,t))}stream(t,a){return Zh.createResponse(this._client,t,a)}}class nS extends Ht{}$h.InputItems=gb;class yb extends Ue{create(t,a,s){return this._client.post(`/uploads/${t}/parts`,Is({body:a,...s}))}}class Hh extends Ue{constructor(){super(...arguments),this.parts=new yb(this._client)}create(t,a){return this._client.post("/uploads",{body:t,...a})}cancel(t,a){return this._client.post(`/uploads/${t}/cancel`,a)}complete(t,a,s){return this._client.post(`/uploads/${t}/complete`,{body:a,...s})}}Hh.Parts=yb;const aS=async r=>{const t=await Promise.allSettled(r),a=t.filter(l=>l.status==="rejected");if(a.length){for(const l of a)console.error(l.reason);throw new Error(`${a.length} promise(s) failed - see the above errors`)}const s=[];for(const l of t)l.status==="fulfilled"&&s.push(l.value);return s};class $o extends Ue{create(t,a,s){return this._client.post(`/vector_stores/${t}/files`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,a,s){return this._client.get(`/vector_stores/${t}/files/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(t,a,s,l){return this._client.post(`/vector_stores/${t}/files/${a}`,{body:s,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers}})}list(t,a={},s){return wt(a)?this.list(t,{},a):this._client.getAPIList(`/vector_stores/${t}/files`,Ho,{query:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(t,a,s){return this._client.delete(`/vector_stores/${t}/files/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,a,s){const l=await this.create(t,a,s);return await this.poll(t,l.id,s)}async poll(t,a,s){const l={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(l["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const o=await this.retrieve(t,a,{...s,headers:l}).withResponse(),f=o.data;switch(f.status){case"in_progress":let d=5e3;if(s!=null&&s.pollIntervalMs)d=s.pollIntervalMs;else{const m=o.response.headers.get("openai-poll-after-ms");if(m){const p=parseInt(m);isNaN(p)||(d=p)}}await El(d);break;case"failed":case"completed":return f}}}async upload(t,a,s){const l=await this._client.files.create({file:a,purpose:"assistants"},s);return this.create(t,{file_id:l.id},s)}async uploadAndPoll(t,a,s){const l=await this.upload(t,a,s);return await this.poll(t,l.id,s)}content(t,a,s){return this._client.getAPIList(`/vector_stores/${t}/files/${a}/content`,Ih,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Ho extends Ht{}class Ih extends Mo{}$o.VectorStoreFilesPage=Ho;$o.FileContentResponsesPage=Ih;class vb extends Ue{create(t,a,s){return this._client.post(`/vector_stores/${t}/file_batches`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(t,a,s){return this._client.get(`/vector_stores/${t}/file_batches/${a}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(t,a,s){return this._client.post(`/vector_stores/${t}/file_batches/${a}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(t,a,s){const l=await this.create(t,a);return await this.poll(t,l.id,s)}listFiles(t,a,s={},l){return wt(s)?this.listFiles(t,a,{},s):this._client.getAPIList(`/vector_stores/${t}/file_batches/${a}/files`,Ho,{query:s,...l,headers:{"OpenAI-Beta":"assistants=v2",...l==null?void 0:l.headers}})}async poll(t,a,s){const l={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(l["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:o,response:f}=await this.retrieve(t,a,{...s,headers:l}).withResponse();switch(o.status){case"in_progress":let d=5e3;if(s!=null&&s.pollIntervalMs)d=s.pollIntervalMs;else{const m=f.headers.get("openai-poll-after-ms");if(m){const p=parseInt(m);isNaN(p)||(d=p)}}await El(d);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(t,{files:a,fileIds:s=[]},l){if(a==null||a.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=(l==null?void 0:l.maxConcurrency)??5,f=Math.min(o,a.length),d=this._client,m=a.values(),p=[...s];async function g(A){for(let v of A){const k=await d.files.create({file:v,purpose:"assistants"},l);p.push(k.id)}}const y=Array(f).fill(m).map(g);return await aS(y),await this.createAndPoll(t,{file_ids:p})}}class or extends Ue{constructor(){super(...arguments),this.files=new $o(this._client),this.fileBatches=new vb(this._client)}create(t,a){return this._client.post("/vector_stores",{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}retrieve(t,a){return this._client.get(`/vector_stores/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}update(t,a,s){return this._client.post(`/vector_stores/${t}`,{body:a,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(t={},a){return wt(t)?this.list({},t):this._client.getAPIList("/vector_stores",qh,{query:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}del(t,a){return this._client.delete(`/vector_stores/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}search(t,a,s){return this._client.getAPIList(`/vector_stores/${t}/search`,Vh,{body:a,method:"post",...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class qh extends Ht{}class Vh extends Mo{}or.VectorStoresPage=qh;or.VectorStoreSearchResponsesPage=Vh;or.Files=$o;or.VectorStoreFilesPage=Ho;or.FileContentResponsesPage=Ih;or.FileBatches=vb;var rS={},bb;class Pe extends S2{constructor({baseURL:t=Dr("OPENAI_BASE_URL"),apiKey:a=Dr("OPENAI_API_KEY"),organization:s=Dr("OPENAI_ORG_ID")??null,project:l=Dr("OPENAI_PROJECT_ID")??null,...o}={}){if(a===void 0)throw new Oe("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const f={apiKey:a,organization:s,project:l,...o,baseURL:t||"https://api.openai.com/v1"};if(!f.dangerouslyAllowBrowser&&D2())throw new Oe(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:f.baseURL,timeout:f.timeout??6e5,httpAgent:f.httpAgent,maxRetries:f.maxRetries,fetch:f.fetch}),this.completions=new lb(this),this.chat=new Lo(this),this.embeddings=new ub(this),this.files=new Nh(this),this.images=new db(this),this.audio=new kl(this),this.moderations=new hb(this),this.models=new Lh(this),this.fineTuning=new ur(this),this.graders=new Bh(this),this.vectorStores=new or(this),this.beta=new Xs(this),this.batches=new dh(this),this.uploads=new Hh(this),this.responses=new $h(this),this.evals=new Rl(this),this._options=f,this.apiKey=a,this.organization=s,this.project=l}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return s2(t,{arrayFormat:"brackets"})}}bb=Pe;Pe.OpenAI=bb;Pe.DEFAULT_TIMEOUT=6e5;Pe.OpenAIError=Oe;Pe.APIError=$t;Pe.APIConnectionError=Oo;Pe.APIConnectionTimeoutError=fh;Pe.APIUserAbortError=Nn;Pe.NotFoundError=vv;Pe.ConflictError=bv;Pe.RateLimitError=xv;Pe.BadRequestError=pv;Pe.AuthenticationError=gv;Pe.InternalServerError=wv;Pe.PermissionDeniedError=yv;Pe.UnprocessableEntityError=_v;Pe.toFile=Nv;Pe.fileFromPath=dv;Pe.Completions=lb;Pe.Chat=Lo;Pe.ChatCompletionsPage=Bo;Pe.Embeddings=ub;Pe.Files=Nh;Pe.FileObjectsPage=Th;Pe.Images=db;Pe.Audio=kl;Pe.Moderations=hb;Pe.Models=Lh;Pe.ModelsPage=Ph;Pe.FineTuning=ur;Pe.Graders=Bh;Pe.VectorStores=or;Pe.VectorStoresPage=qh;Pe.VectorStoreSearchResponsesPage=Vh;Pe.Beta=Xs;Pe.Batches=dh;Pe.BatchesPage=hh;Pe.Uploads=Hh;Pe.Responses=$h;Pe.Evals=Rl;Pe.EvalListResponsesPage=Ch;class sS extends Pe{constructor({baseURL:t=Dr("OPENAI_BASE_URL"),apiKey:a=Dr("AZURE_OPENAI_API_KEY"),apiVersion:s=Dr("OPENAI_API_VERSION"),endpoint:l,deployment:o,azureADTokenProvider:f,dangerouslyAllowBrowser:d,...m}={}){if(!s)throw new Oe("The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).");if(typeof f=="function"&&(d=!0),!f&&!a)throw new Oe("Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.");if(f&&a)throw new Oe("The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.");if(a??(a=E0),m.defaultQuery={...m.defaultQuery,"api-version":s},t){if(l)throw new Oe("baseURL and endpoint are mutually exclusive")}else{if(l||(l=rS.AZURE_OPENAI_ENDPOINT),!l)throw new Oe("Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable");t=`${l}/openai`}super({apiKey:a,baseURL:t,...m,...d!==void 0?{dangerouslyAllowBrowser:d}:{}}),this.apiVersion="",this._azureADTokenProvider=f,this.apiVersion=s,this.deploymentName=o}buildRequest(t,a={}){var s;if(iS.has(t.path)&&t.method==="post"&&t.body!==void 0){if(!ro(t.body))throw new Error("Expected request body to be an object");const l=this.deploymentName||t.body.model||((s=t.__metadata)==null?void 0:s.model);l!==void 0&&!this.baseURL.includes("/deployments")&&(t.path=`/deployments/${l}${t.path}`)}return super.buildRequest(t,a)}async _getAzureADToken(){if(typeof this._azureADTokenProvider=="function"){const t=await this._azureADTokenProvider();if(!t||typeof t!="string")throw new Oe(`Expected 'azureADTokenProvider' argument to return a string but it returned ${t}`);return t}}authHeaders(t){return{}}async prepareOptions(t){var s;if((s=t.headers)!=null&&s["api-key"])return super.prepareOptions(t);const a=await this._getAzureADToken();if(t.headers??(t.headers={}),a)t.headers.Authorization=`Bearer ${a}`;else if(this.apiKey!==E0)t.headers["api-key"]=this.apiKey;else throw new Oe("Unable to handle auth");return super.prepareOptions(t)}}const iS=new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations"]),E0="<Missing Key>",lS=Symbol("Let zodToJsonSchema decide on which parser to use"),k0={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},uS=r=>typeof r=="string"?{...k0,basePath:["#"],definitions:{},name:r}:{...k0,basePath:["#"],definitions:{},...r},Yd=r=>"_def"in r?r._def:r;function oS(r){if(!r)return!0;for(const t in r)return!1;return!0}const cS=r=>{const t=uS(r),a=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:a,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(t.definitions).map(([s,l])=>[Yd(l),{def:Yd(l),path:[...t.basePath,t.definitionPath,s],jsonSchema:void 0}]))}};function _b(r,t,a,s){s!=null&&s.errorMessages&&a&&(r.errorMessage={...r.errorMessage,[t]:a})}function at(r,t,a,s,l){r[t]=a,_b(r,t,s,l)}var Xe;(function(r){r.assertEqual=l=>l;function t(l){}r.assertIs=t;function a(l){throw new Error}r.assertNever=a,r.arrayToEnum=l=>{const o={};for(const f of l)o[f]=f;return o},r.getValidEnumValues=l=>{const o=r.objectKeys(l).filter(d=>typeof l[l[d]]!="number"),f={};for(const d of o)f[d]=l[d];return r.objectValues(f)},r.objectValues=l=>r.objectKeys(l).map(function(o){return l[o]}),r.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const o=[];for(const f in l)Object.prototype.hasOwnProperty.call(l,f)&&o.push(f);return o},r.find=(l,o)=>{for(const f of l)if(o(f))return f},r.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&isFinite(l)&&Math.floor(l)===l;function s(l,o=" | "){return l.map(f=>typeof f=="string"?`'${f}'`:f).join(o)}r.joinValues=s,r.jsonStringifyReplacer=(l,o)=>typeof o=="bigint"?o.toString():o})(Xe||(Xe={}));var Gd;(function(r){r.mergeShapes=(t,a)=>({...t,...a})})(Gd||(Gd={}));const we=Xe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ka=r=>{switch(typeof r){case"undefined":return we.undefined;case"string":return we.string;case"number":return isNaN(r)?we.nan:we.number;case"boolean":return we.boolean;case"function":return we.function;case"bigint":return we.bigint;case"symbol":return we.symbol;case"object":return Array.isArray(r)?we.array:r===null?we.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?we.promise:typeof Map<"u"&&r instanceof Map?we.map:typeof Set<"u"&&r instanceof Set?we.set:typeof Date<"u"&&r instanceof Date?we.date:we.object;default:return we.unknown}},ye=Xe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),fS=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");class yn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=t}format(t){const a=t||function(o){return o.message},s={_errors:[]},l=o=>{for(const f of o.issues)if(f.code==="invalid_union")f.unionErrors.map(l);else if(f.code==="invalid_return_type")l(f.returnTypeError);else if(f.code==="invalid_arguments")l(f.argumentsError);else if(f.path.length===0)s._errors.push(a(f));else{let d=s,m=0;for(;m<f.path.length;){const p=f.path[m];m===f.path.length-1?(d[p]=d[p]||{_errors:[]},d[p]._errors.push(a(f))):d[p]=d[p]||{_errors:[]},d=d[p],m++}}};return l(this),s}static assert(t){if(!(t instanceof yn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Xe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=a=>a.message){const a={},s=[];for(const l of this.issues)l.path.length>0?(a[l.path[0]]=a[l.path[0]]||[],a[l.path[0]].push(t(l))):s.push(t(l));return{formErrors:s,fieldErrors:a}}get formErrors(){return this.flatten()}}yn.create=r=>new yn(r);const qs=(r,t)=>{let a;switch(r.code){case ye.invalid_type:r.received===we.undefined?a="Required":a=`Expected ${r.expected}, received ${r.received}`;break;case ye.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(r.expected,Xe.jsonStringifyReplacer)}`;break;case ye.unrecognized_keys:a=`Unrecognized key(s) in object: ${Xe.joinValues(r.keys,", ")}`;break;case ye.invalid_union:a="Invalid input";break;case ye.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${Xe.joinValues(r.options)}`;break;case ye.invalid_enum_value:a=`Invalid enum value. Expected ${Xe.joinValues(r.options)}, received '${r.received}'`;break;case ye.invalid_arguments:a="Invalid function arguments";break;case ye.invalid_return_type:a="Invalid function return type";break;case ye.invalid_date:a="Invalid date";break;case ye.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(a=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?a=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?a=`Invalid input: must end with "${r.validation.endsWith}"`:Xe.assertNever(r.validation):r.validation!=="regex"?a=`Invalid ${r.validation}`:a="Invalid";break;case ye.too_small:r.type==="array"?a=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?a=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?a=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?a=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:a="Invalid input";break;case ye.too_big:r.type==="array"?a=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?a=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?a=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?a=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?a=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:a="Invalid input";break;case ye.custom:a="Invalid input";break;case ye.invalid_intersection_types:a="Intersection results could not be merged";break;case ye.not_multiple_of:a=`Number must be a multiple of ${r.multipleOf}`;break;case ye.not_finite:a="Number must be finite";break;default:a=t.defaultError,Xe.assertNever(r)}return{message:a}};let xb=qs;function dS(r){xb=r}function vo(){return xb}const bo=r=>{const{data:t,path:a,errorMaps:s,issueData:l}=r,o=[...a,...l.path||[]],f={...l,path:o};if(l.message!==void 0)return{...l,path:o,message:l.message};let d="";const m=s.filter(p=>!!p).slice().reverse();for(const p of m)d=p(f,{data:t,defaultError:d}).message;return{...l,path:o,message:d}},hS=[];function xe(r,t){const a=vo(),s=bo({issueData:t,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,a,a===qs?void 0:qs].filter(l=>!!l)});r.common.issues.push(s)}class Yt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,a){const s=[];for(const l of a){if(l.status==="aborted")return Me;l.status==="dirty"&&t.dirty(),s.push(l.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,a){const s=[];for(const l of a){const o=await l.key,f=await l.value;s.push({key:o,value:f})}return Yt.mergeObjectSync(t,s)}static mergeObjectSync(t,a){const s={};for(const l of a){const{key:o,value:f}=l;if(o.status==="aborted"||f.status==="aborted")return Me;o.status==="dirty"&&t.dirty(),f.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof f.value<"u"||l.alwaysSet)&&(s[o.value]=f.value)}return{status:t.value,value:s}}}const Me=Object.freeze({status:"aborted"}),Ls=r=>({status:"dirty",value:r}),Kt=r=>({status:"valid",value:r}),Xd=r=>r.status==="aborted",Qd=r=>r.status==="dirty",Br=r=>r.status==="valid",ol=r=>typeof Promise<"u"&&r instanceof Promise;function _o(r,t,a,s){if(typeof t=="function"?r!==t||!0:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(r)}function wb(r,t,a,s,l){if(typeof t=="function"?r!==t||!0:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(r,a),a}var ke;(function(r){r.errToObj=t=>typeof t=="string"?{message:t}:t||{},r.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ke||(ke={}));var nl,al;class aa{constructor(t,a,s,l){this._cachedPath=[],this.parent=t,this.data=a,this._path=s,this._key=l}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const C0=(r,t)=>{if(Br(t))return{success:!0,data:t.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new yn(r.common.issues);return this._error=a,this._error}}};function Le(r){if(!r)return{};const{errorMap:t,invalid_type_error:a,required_error:s,description:l}=r;if(t&&(a||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:l}:{errorMap:(f,d)=>{var m,p;const{message:g}=r;return f.code==="invalid_enum_value"?{message:g??d.defaultError}:typeof d.data>"u"?{message:(m=g??s)!==null&&m!==void 0?m:d.defaultError}:f.code!=="invalid_type"?{message:d.defaultError}:{message:(p=g??a)!==null&&p!==void 0?p:d.defaultError}},description:l}}class He{get description(){return this._def.description}_getType(t){return ka(t.data)}_getOrReturnCtx(t,a){return a||{common:t.parent.common,data:t.data,parsedType:ka(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Yt,ctx:{common:t.parent.common,data:t.data,parsedType:ka(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const a=this._parse(t);if(ol(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(t){const a=this._parse(t);return Promise.resolve(a)}parse(t,a){const s=this.safeParse(t,a);if(s.success)return s.data;throw s.error}safeParse(t,a){var s;const l={common:{issues:[],async:(s=a==null?void 0:a.async)!==null&&s!==void 0?s:!1,contextualErrorMap:a==null?void 0:a.errorMap},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ka(t)},o=this._parseSync({data:t,path:l.path,parent:l});return C0(l,o)}"~validate"(t){var a,s;const l={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ka(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:l});return Br(o)?{value:o.value}:{issues:l.common.issues}}catch(o){!((s=(a=o==null?void 0:o.message)===null||a===void 0?void 0:a.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),l.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:l}).then(o=>Br(o)?{value:o.value}:{issues:l.common.issues})}async parseAsync(t,a){const s=await this.safeParseAsync(t,a);if(s.success)return s.data;throw s.error}async safeParseAsync(t,a){const s={common:{issues:[],contextualErrorMap:a==null?void 0:a.errorMap,async:!0},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ka(t)},l=this._parse({data:t,path:s.path,parent:s}),o=await(ol(l)?l:Promise.resolve(l));return C0(s,o)}refine(t,a){const s=l=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(l):a;return this._refinement((l,o)=>{const f=t(l),d=()=>o.addIssue({code:ye.custom,...s(l)});return typeof Promise<"u"&&f instanceof Promise?f.then(m=>m?!0:(d(),!1)):f?!0:(d(),!1)})}refinement(t,a){return this._refinement((s,l)=>t(s)?!0:(l.addIssue(typeof a=="function"?a(s,l):a),!1))}_refinement(t){return new Vn({schema:this,typeName:re.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return In.create(this,this._def)}nullable(){return lr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hn.create(this)}promise(){return Fs.create(this,this._def)}or(t){return hl.create([this,t],this._def)}and(t){return ml.create(this,t,this._def)}transform(t){return new Vn({...Le(this._def),schema:this,typeName:re.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const a=typeof t=="function"?t:()=>t;return new bl({...Le(this._def),innerType:this,defaultValue:a,typeName:re.ZodDefault})}brand(){return new Fh({typeName:re.ZodBranded,type:this,...Le(this._def)})}catch(t){const a=typeof t=="function"?t:()=>t;return new _l({...Le(this._def),innerType:this,catchValue:a,typeName:re.ZodCatch})}describe(t){const a=this.constructor;return new a({...this._def,description:t})}pipe(t){return Ol.create(this,t)}readonly(){return xl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const mS=/^c[^\s-]{8,}$/i,pS=/^[0-9a-z]+$/,gS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,yS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vS=/^[a-z0-9_-]{21}$/i,bS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,_S=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let wd;const SS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,AS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ES=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,CS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,NS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Sb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",TS=new RegExp(`^${Sb}$`);function Ab(r){let t="[0-5]\\d";r.precision?t=`${t}\\.\\d{${r.precision}}`:r.precision==null&&(t=`${t}(\\.\\d+)?`);const a=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${a}`}function RS(r){return new RegExp(`^${Ab(r)}$`)}function Eb(r){let t=`${Sb}T${Ab(r)}`;const a=[];return a.push(r.local?"Z?":"Z"),r.offset&&a.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${a.join("|")})`,new RegExp(`^${t}$`)}function OS(r,t){return!!((t==="v4"||!t)&&SS.test(r)||(t==="v6"||!t)&&ES.test(r))}function jS(r,t){if(!bS.test(r))return!1;try{const[a]=r.split("."),s=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),l=JSON.parse(atob(s));return!(typeof l!="object"||l===null||!l.typ||!l.alg||t&&l.alg!==t)}catch{return!1}}function DS(r,t){return!!((t==="v4"||!t)&&AS.test(r)||(t==="v6"||!t)&&kS.test(r))}class $n extends He{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==we.string){const o=this._getOrReturnCtx(t);return xe(o,{code:ye.invalid_type,expected:we.string,received:o.parsedType}),Me}const s=new Yt;let l;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(l=this._getOrReturnCtx(t,l),xe(l,{code:ye.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="max")t.data.length>o.value&&(l=this._getOrReturnCtx(t,l),xe(l,{code:ye.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="length"){const f=t.data.length>o.value,d=t.data.length<o.value;(f||d)&&(l=this._getOrReturnCtx(t,l),f?xe(l,{code:ye.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):d&&xe(l,{code:ye.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),s.dirty())}else if(o.kind==="email")xS.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"email",code:ye.invalid_string,message:o.message}),s.dirty());else if(o.kind==="emoji")wd||(wd=new RegExp(wS,"u")),wd.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"emoji",code:ye.invalid_string,message:o.message}),s.dirty());else if(o.kind==="uuid")yS.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"uuid",code:ye.invalid_string,message:o.message}),s.dirty());else if(o.kind==="nanoid")vS.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"nanoid",code:ye.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid")mS.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"cuid",code:ye.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid2")pS.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"cuid2",code:ye.invalid_string,message:o.message}),s.dirty());else if(o.kind==="ulid")gS.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"ulid",code:ye.invalid_string,message:o.message}),s.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{l=this._getOrReturnCtx(t,l),xe(l,{validation:"url",code:ye.invalid_string,message:o.message}),s.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"regex",code:ye.invalid_string,message:o.message}),s.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(l=this._getOrReturnCtx(t,l),xe(l,{code:ye.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),s.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(l=this._getOrReturnCtx(t,l),xe(l,{code:ye.invalid_string,validation:{startsWith:o.value},message:o.message}),s.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(l=this._getOrReturnCtx(t,l),xe(l,{code:ye.invalid_string,validation:{endsWith:o.value},message:o.message}),s.dirty()):o.kind==="datetime"?Eb(o).test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{code:ye.invalid_string,validation:"datetime",message:o.message}),s.dirty()):o.kind==="date"?TS.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{code:ye.invalid_string,validation:"date",message:o.message}),s.dirty()):o.kind==="time"?RS(o).test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{code:ye.invalid_string,validation:"time",message:o.message}),s.dirty()):o.kind==="duration"?_S.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"duration",code:ye.invalid_string,message:o.message}),s.dirty()):o.kind==="ip"?OS(t.data,o.version)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"ip",code:ye.invalid_string,message:o.message}),s.dirty()):o.kind==="jwt"?jS(t.data,o.alg)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"jwt",code:ye.invalid_string,message:o.message}),s.dirty()):o.kind==="cidr"?DS(t.data,o.version)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"cidr",code:ye.invalid_string,message:o.message}),s.dirty()):o.kind==="base64"?CS.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"base64",code:ye.invalid_string,message:o.message}),s.dirty()):o.kind==="base64url"?NS.test(t.data)||(l=this._getOrReturnCtx(t,l),xe(l,{validation:"base64url",code:ye.invalid_string,message:o.message}),s.dirty()):Xe.assertNever(o);return{status:s.value,value:t.data}}_regex(t,a,s){return this.refinement(l=>t.test(l),{validation:a,code:ye.invalid_string,...ke.errToObj(s)})}_addCheck(t){return new $n({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ke.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ke.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ke.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ke.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ke.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ke.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ke.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ke.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ke.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ke.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ke.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ke.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ke.errToObj(t)})}datetime(t){var a,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(a=t==null?void 0:t.offset)!==null&&a!==void 0?a:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...ke.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ke.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ke.errToObj(t)})}regex(t,a){return this._addCheck({kind:"regex",regex:t,...ke.errToObj(a)})}includes(t,a){return this._addCheck({kind:"includes",value:t,position:a==null?void 0:a.position,...ke.errToObj(a==null?void 0:a.message)})}startsWith(t,a){return this._addCheck({kind:"startsWith",value:t,...ke.errToObj(a)})}endsWith(t,a){return this._addCheck({kind:"endsWith",value:t,...ke.errToObj(a)})}min(t,a){return this._addCheck({kind:"min",value:t,...ke.errToObj(a)})}max(t,a){return this._addCheck({kind:"max",value:t,...ke.errToObj(a)})}length(t,a){return this._addCheck({kind:"length",value:t,...ke.errToObj(a)})}nonempty(t){return this.min(1,ke.errToObj(t))}trim(){return new $n({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $n({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $n({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxLength(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}}$n.create=r=>{var t;return new $n({checks:[],typeName:re.ZodString,coerce:(t=r==null?void 0:r.coerce)!==null&&t!==void 0?t:!1,...Le(r)})};function zS(r,t){const a=(r.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,l=a>s?a:s,o=parseInt(r.toFixed(l).replace(".","")),f=parseInt(t.toFixed(l).replace(".",""));return o%f/Math.pow(10,l)}class rr extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==we.number){const o=this._getOrReturnCtx(t);return xe(o,{code:ye.invalid_type,expected:we.number,received:o.parsedType}),Me}let s;const l=new Yt;for(const o of this._def.checks)o.kind==="int"?Xe.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),xe(s,{code:ye.invalid_type,expected:"integer",received:"float",message:o.message}),l.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(s=this._getOrReturnCtx(t,s),xe(s,{code:ye.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(s=this._getOrReturnCtx(t,s),xe(s,{code:ye.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="multipleOf"?zS(t.data,o.value)!==0&&(s=this._getOrReturnCtx(t,s),xe(s,{code:ye.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),xe(s,{code:ye.not_finite,message:o.message}),l.dirty()):Xe.assertNever(o);return{status:l.value,value:t.data}}gte(t,a){return this.setLimit("min",t,!0,ke.toString(a))}gt(t,a){return this.setLimit("min",t,!1,ke.toString(a))}lte(t,a){return this.setLimit("max",t,!0,ke.toString(a))}lt(t,a){return this.setLimit("max",t,!1,ke.toString(a))}setLimit(t,a,s,l){return new rr({...this._def,checks:[...this._def.checks,{kind:t,value:a,inclusive:s,message:ke.toString(l)}]})}_addCheck(t){return new rr({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ke.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ke.toString(t)})}multipleOf(t,a){return this._addCheck({kind:"multipleOf",value:t,message:ke.toString(a)})}finite(t){return this._addCheck({kind:"finite",message:ke.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ke.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ke.toString(t)})}get minValue(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxValue(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Xe.isInteger(t.value))}get isFinite(){let t=null,a=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(a===null||s.value>a)&&(a=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(a)&&Number.isFinite(t)}}rr.create=r=>new rr({checks:[],typeName:re.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...Le(r)});class sr extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==we.bigint)return this._getInvalidInput(t);let s;const l=new Yt;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(s=this._getOrReturnCtx(t,s),xe(s,{code:ye.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(s=this._getOrReturnCtx(t,s),xe(s,{code:ye.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),xe(s,{code:ye.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):Xe.assertNever(o);return{status:l.value,value:t.data}}_getInvalidInput(t){const a=this._getOrReturnCtx(t);return xe(a,{code:ye.invalid_type,expected:we.bigint,received:a.parsedType}),Me}gte(t,a){return this.setLimit("min",t,!0,ke.toString(a))}gt(t,a){return this.setLimit("min",t,!1,ke.toString(a))}lte(t,a){return this.setLimit("max",t,!0,ke.toString(a))}lt(t,a){return this.setLimit("max",t,!1,ke.toString(a))}setLimit(t,a,s,l){return new sr({...this._def,checks:[...this._def.checks,{kind:t,value:a,inclusive:s,message:ke.toString(l)}]})}_addCheck(t){return new sr({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ke.toString(t)})}multipleOf(t,a){return this._addCheck({kind:"multipleOf",value:t,message:ke.toString(a)})}get minValue(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t}get maxValue(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t}}sr.create=r=>{var t;return new sr({checks:[],typeName:re.ZodBigInt,coerce:(t=r==null?void 0:r.coerce)!==null&&t!==void 0?t:!1,...Le(r)})};class cl extends He{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==we.boolean){const s=this._getOrReturnCtx(t);return xe(s,{code:ye.invalid_type,expected:we.boolean,received:s.parsedType}),Me}return Kt(t.data)}}cl.create=r=>new cl({typeName:re.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...Le(r)});class Lr extends He{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==we.date){const o=this._getOrReturnCtx(t);return xe(o,{code:ye.invalid_type,expected:we.date,received:o.parsedType}),Me}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return xe(o,{code:ye.invalid_date}),Me}const s=new Yt;let l;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(l=this._getOrReturnCtx(t,l),xe(l,{code:ye.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),s.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(l=this._getOrReturnCtx(t,l),xe(l,{code:ye.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),s.dirty()):Xe.assertNever(o);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Lr({...this._def,checks:[...this._def.checks,t]})}min(t,a){return this._addCheck({kind:"min",value:t.getTime(),message:ke.toString(a)})}max(t,a){return this._addCheck({kind:"max",value:t.getTime(),message:ke.toString(a)})}get minDate(){let t=null;for(const a of this._def.checks)a.kind==="min"&&(t===null||a.value>t)&&(t=a.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const a of this._def.checks)a.kind==="max"&&(t===null||a.value<t)&&(t=a.value);return t!=null?new Date(t):null}}Lr.create=r=>new Lr({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:re.ZodDate,...Le(r)});class xo extends He{_parse(t){if(this._getType(t)!==we.symbol){const s=this._getOrReturnCtx(t);return xe(s,{code:ye.invalid_type,expected:we.symbol,received:s.parsedType}),Me}return Kt(t.data)}}xo.create=r=>new xo({typeName:re.ZodSymbol,...Le(r)});class fl extends He{_parse(t){if(this._getType(t)!==we.undefined){const s=this._getOrReturnCtx(t);return xe(s,{code:ye.invalid_type,expected:we.undefined,received:s.parsedType}),Me}return Kt(t.data)}}fl.create=r=>new fl({typeName:re.ZodUndefined,...Le(r)});class dl extends He{_parse(t){if(this._getType(t)!==we.null){const s=this._getOrReturnCtx(t);return xe(s,{code:ye.invalid_type,expected:we.null,received:s.parsedType}),Me}return Kt(t.data)}}dl.create=r=>new dl({typeName:re.ZodNull,...Le(r)});class Vs extends He{constructor(){super(...arguments),this._any=!0}_parse(t){return Kt(t.data)}}Vs.create=r=>new Vs({typeName:re.ZodAny,...Le(r)});class Mr extends He{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Kt(t.data)}}Mr.create=r=>new Mr({typeName:re.ZodUnknown,...Le(r)});class Ta extends He{_parse(t){const a=this._getOrReturnCtx(t);return xe(a,{code:ye.invalid_type,expected:we.never,received:a.parsedType}),Me}}Ta.create=r=>new Ta({typeName:re.ZodNever,...Le(r)});class wo extends He{_parse(t){if(this._getType(t)!==we.undefined){const s=this._getOrReturnCtx(t);return xe(s,{code:ye.invalid_type,expected:we.void,received:s.parsedType}),Me}return Kt(t.data)}}wo.create=r=>new wo({typeName:re.ZodVoid,...Le(r)});class Hn extends He{_parse(t){const{ctx:a,status:s}=this._processInputParams(t),l=this._def;if(a.parsedType!==we.array)return xe(a,{code:ye.invalid_type,expected:we.array,received:a.parsedType}),Me;if(l.exactLength!==null){const f=a.data.length>l.exactLength.value,d=a.data.length<l.exactLength.value;(f||d)&&(xe(a,{code:f?ye.too_big:ye.too_small,minimum:d?l.exactLength.value:void 0,maximum:f?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),s.dirty())}if(l.minLength!==null&&a.data.length<l.minLength.value&&(xe(a,{code:ye.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),s.dirty()),l.maxLength!==null&&a.data.length>l.maxLength.value&&(xe(a,{code:ye.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),s.dirty()),a.common.async)return Promise.all([...a.data].map((f,d)=>l.type._parseAsync(new aa(a,f,a.path,d)))).then(f=>Yt.mergeArray(s,f));const o=[...a.data].map((f,d)=>l.type._parseSync(new aa(a,f,a.path,d)));return Yt.mergeArray(s,o)}get element(){return this._def.type}min(t,a){return new Hn({...this._def,minLength:{value:t,message:ke.toString(a)}})}max(t,a){return new Hn({...this._def,maxLength:{value:t,message:ke.toString(a)}})}length(t,a){return new Hn({...this._def,exactLength:{value:t,message:ke.toString(a)}})}nonempty(t){return this.min(1,t)}}Hn.create=(r,t)=>new Hn({type:r,minLength:null,maxLength:null,exactLength:null,typeName:re.ZodArray,...Le(t)});function Us(r){if(r instanceof yt){const t={};for(const a in r.shape){const s=r.shape[a];t[a]=In.create(Us(s))}return new yt({...r._def,shape:()=>t})}else return r instanceof Hn?new Hn({...r._def,type:Us(r.element)}):r instanceof In?In.create(Us(r.unwrap())):r instanceof lr?lr.create(Us(r.unwrap())):r instanceof ra?ra.create(r.items.map(t=>Us(t))):r}class yt extends He{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),a=Xe.objectKeys(t);return this._cached={shape:t,keys:a}}_parse(t){if(this._getType(t)!==we.object){const p=this._getOrReturnCtx(t);return xe(p,{code:ye.invalid_type,expected:we.object,received:p.parsedType}),Me}const{status:s,ctx:l}=this._processInputParams(t),{shape:o,keys:f}=this._getCached(),d=[];if(!(this._def.catchall instanceof Ta&&this._def.unknownKeys==="strip"))for(const p in l.data)f.includes(p)||d.push(p);const m=[];for(const p of f){const g=o[p],y=l.data[p];m.push({key:{status:"valid",value:p},value:g._parse(new aa(l,y,l.path,p)),alwaysSet:p in l.data})}if(this._def.catchall instanceof Ta){const p=this._def.unknownKeys;if(p==="passthrough")for(const g of d)m.push({key:{status:"valid",value:g},value:{status:"valid",value:l.data[g]}});else if(p==="strict")d.length>0&&(xe(l,{code:ye.unrecognized_keys,keys:d}),s.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const g of d){const y=l.data[g];m.push({key:{status:"valid",value:g},value:p._parse(new aa(l,y,l.path,g)),alwaysSet:g in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const p=[];for(const g of m){const y=await g.key,A=await g.value;p.push({key:y,value:A,alwaysSet:g.alwaysSet})}return p}).then(p=>Yt.mergeObjectSync(s,p)):Yt.mergeObjectSync(s,m)}get shape(){return this._def.shape()}strict(t){return ke.errToObj,new yt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(a,s)=>{var l,o,f,d;const m=(f=(o=(l=this._def).errorMap)===null||o===void 0?void 0:o.call(l,a,s).message)!==null&&f!==void 0?f:s.defaultError;return a.code==="unrecognized_keys"?{message:(d=ke.errToObj(t).message)!==null&&d!==void 0?d:m}:{message:m}}}:{}})}strip(){return new yt({...this._def,unknownKeys:"strip"})}passthrough(){return new yt({...this._def,unknownKeys:"passthrough"})}extend(t){return new yt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new yt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:re.ZodObject})}setKey(t,a){return this.augment({[t]:a})}catchall(t){return new yt({...this._def,catchall:t})}pick(t){const a={};return Xe.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(a[s]=this.shape[s])}),new yt({...this._def,shape:()=>a})}omit(t){const a={};return Xe.objectKeys(this.shape).forEach(s=>{t[s]||(a[s]=this.shape[s])}),new yt({...this._def,shape:()=>a})}deepPartial(){return Us(this)}partial(t){const a={};return Xe.objectKeys(this.shape).forEach(s=>{const l=this.shape[s];t&&!t[s]?a[s]=l:a[s]=l.optional()}),new yt({...this._def,shape:()=>a})}required(t){const a={};return Xe.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])a[s]=this.shape[s];else{let o=this.shape[s];for(;o instanceof In;)o=o._def.innerType;a[s]=o}}),new yt({...this._def,shape:()=>a})}keyof(){return kb(Xe.objectKeys(this.shape))}}yt.create=(r,t)=>new yt({shape:()=>r,unknownKeys:"strip",catchall:Ta.create(),typeName:re.ZodObject,...Le(t)});yt.strictCreate=(r,t)=>new yt({shape:()=>r,unknownKeys:"strict",catchall:Ta.create(),typeName:re.ZodObject,...Le(t)});yt.lazycreate=(r,t)=>new yt({shape:r,unknownKeys:"strip",catchall:Ta.create(),typeName:re.ZodObject,...Le(t)});class hl extends He{_parse(t){const{ctx:a}=this._processInputParams(t),s=this._def.options;function l(o){for(const d of o)if(d.result.status==="valid")return d.result;for(const d of o)if(d.result.status==="dirty")return a.common.issues.push(...d.ctx.common.issues),d.result;const f=o.map(d=>new yn(d.ctx.common.issues));return xe(a,{code:ye.invalid_union,unionErrors:f}),Me}if(a.common.async)return Promise.all(s.map(async o=>{const f={...a,common:{...a.common,issues:[]},parent:null};return{result:await o._parseAsync({data:a.data,path:a.path,parent:f}),ctx:f}})).then(l);{let o;const f=[];for(const m of s){const p={...a,common:{...a.common,issues:[]},parent:null},g=m._parseSync({data:a.data,path:a.path,parent:p});if(g.status==="valid")return g;g.status==="dirty"&&!o&&(o={result:g,ctx:p}),p.common.issues.length&&f.push(p.common.issues)}if(o)return a.common.issues.push(...o.ctx.common.issues),o.result;const d=f.map(m=>new yn(m));return xe(a,{code:ye.invalid_union,unionErrors:d}),Me}}get options(){return this._def.options}}hl.create=(r,t)=>new hl({options:r,typeName:re.ZodUnion,...Le(t)});const Ea=r=>r instanceof gl?Ea(r.schema):r instanceof Vn?Ea(r.innerType()):r instanceof yl?[r.value]:r instanceof ir?r.options:r instanceof vl?Xe.objectValues(r.enum):r instanceof bl?Ea(r._def.innerType):r instanceof fl?[void 0]:r instanceof dl?[null]:r instanceof In?[void 0,...Ea(r.unwrap())]:r instanceof lr?[null,...Ea(r.unwrap())]:r instanceof Fh||r instanceof xl?Ea(r.unwrap()):r instanceof _l?Ea(r._def.innerType):[];class Io extends He{_parse(t){const{ctx:a}=this._processInputParams(t);if(a.parsedType!==we.object)return xe(a,{code:ye.invalid_type,expected:we.object,received:a.parsedType}),Me;const s=this.discriminator,l=a.data[s],o=this.optionsMap.get(l);return o?a.common.async?o._parseAsync({data:a.data,path:a.path,parent:a}):o._parseSync({data:a.data,path:a.path,parent:a}):(xe(a,{code:ye.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,a,s){const l=new Map;for(const o of a){const f=Ea(o.shape[t]);if(!f.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const d of f){if(l.has(d))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(d)}`);l.set(d,o)}}return new Io({typeName:re.ZodDiscriminatedUnion,discriminator:t,options:a,optionsMap:l,...Le(s)})}}function Kd(r,t){const a=ka(r),s=ka(t);if(r===t)return{valid:!0,data:r};if(a===we.object&&s===we.object){const l=Xe.objectKeys(t),o=Xe.objectKeys(r).filter(d=>l.indexOf(d)!==-1),f={...r,...t};for(const d of o){const m=Kd(r[d],t[d]);if(!m.valid)return{valid:!1};f[d]=m.data}return{valid:!0,data:f}}else if(a===we.array&&s===we.array){if(r.length!==t.length)return{valid:!1};const l=[];for(let o=0;o<r.length;o++){const f=r[o],d=t[o],m=Kd(f,d);if(!m.valid)return{valid:!1};l.push(m.data)}return{valid:!0,data:l}}else return a===we.date&&s===we.date&&+r==+t?{valid:!0,data:r}:{valid:!1}}class ml extends He{_parse(t){const{status:a,ctx:s}=this._processInputParams(t),l=(o,f)=>{if(Xd(o)||Xd(f))return Me;const d=Kd(o.value,f.value);return d.valid?((Qd(o)||Qd(f))&&a.dirty(),{status:a.value,value:d.data}):(xe(s,{code:ye.invalid_intersection_types}),Me)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([o,f])=>l(o,f)):l(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}ml.create=(r,t,a)=>new ml({left:r,right:t,typeName:re.ZodIntersection,...Le(a)});class ra extends He{_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.parsedType!==we.array)return xe(s,{code:ye.invalid_type,expected:we.array,received:s.parsedType}),Me;if(s.data.length<this._def.items.length)return xe(s,{code:ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Me;!this._def.rest&&s.data.length>this._def.items.length&&(xe(s,{code:ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const o=[...s.data].map((f,d)=>{const m=this._def.items[d]||this._def.rest;return m?m._parse(new aa(s,f,s.path,d)):null}).filter(f=>!!f);return s.common.async?Promise.all(o).then(f=>Yt.mergeArray(a,f)):Yt.mergeArray(a,o)}get items(){return this._def.items}rest(t){return new ra({...this._def,rest:t})}}ra.create=(r,t)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ra({items:r,typeName:re.ZodTuple,rest:null,...Le(t)})};class pl extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.parsedType!==we.object)return xe(s,{code:ye.invalid_type,expected:we.object,received:s.parsedType}),Me;const l=[],o=this._def.keyType,f=this._def.valueType;for(const d in s.data)l.push({key:o._parse(new aa(s,d,s.path,d)),value:f._parse(new aa(s,s.data[d],s.path,d)),alwaysSet:d in s.data});return s.common.async?Yt.mergeObjectAsync(a,l):Yt.mergeObjectSync(a,l)}get element(){return this._def.valueType}static create(t,a,s){return a instanceof He?new pl({keyType:t,valueType:a,typeName:re.ZodRecord,...Le(s)}):new pl({keyType:$n.create(),valueType:t,typeName:re.ZodRecord,...Le(a)})}}class So extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.parsedType!==we.map)return xe(s,{code:ye.invalid_type,expected:we.map,received:s.parsedType}),Me;const l=this._def.keyType,o=this._def.valueType,f=[...s.data.entries()].map(([d,m],p)=>({key:l._parse(new aa(s,d,s.path,[p,"key"])),value:o._parse(new aa(s,m,s.path,[p,"value"]))}));if(s.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const m of f){const p=await m.key,g=await m.value;if(p.status==="aborted"||g.status==="aborted")return Me;(p.status==="dirty"||g.status==="dirty")&&a.dirty(),d.set(p.value,g.value)}return{status:a.value,value:d}})}else{const d=new Map;for(const m of f){const p=m.key,g=m.value;if(p.status==="aborted"||g.status==="aborted")return Me;(p.status==="dirty"||g.status==="dirty")&&a.dirty(),d.set(p.value,g.value)}return{status:a.value,value:d}}}}So.create=(r,t,a)=>new So({valueType:t,keyType:r,typeName:re.ZodMap,...Le(a)});class Pr extends He{_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.parsedType!==we.set)return xe(s,{code:ye.invalid_type,expected:we.set,received:s.parsedType}),Me;const l=this._def;l.minSize!==null&&s.data.size<l.minSize.value&&(xe(s,{code:ye.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),a.dirty()),l.maxSize!==null&&s.data.size>l.maxSize.value&&(xe(s,{code:ye.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),a.dirty());const o=this._def.valueType;function f(m){const p=new Set;for(const g of m){if(g.status==="aborted")return Me;g.status==="dirty"&&a.dirty(),p.add(g.value)}return{status:a.value,value:p}}const d=[...s.data.values()].map((m,p)=>o._parse(new aa(s,m,s.path,p)));return s.common.async?Promise.all(d).then(m=>f(m)):f(d)}min(t,a){return new Pr({...this._def,minSize:{value:t,message:ke.toString(a)}})}max(t,a){return new Pr({...this._def,maxSize:{value:t,message:ke.toString(a)}})}size(t,a){return this.min(t,a).max(t,a)}nonempty(t){return this.min(1,t)}}Pr.create=(r,t)=>new Pr({valueType:r,minSize:null,maxSize:null,typeName:re.ZodSet,...Le(t)});class Hs extends He{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:a}=this._processInputParams(t);if(a.parsedType!==we.function)return xe(a,{code:ye.invalid_type,expected:we.function,received:a.parsedType}),Me;function s(d,m){return bo({data:d,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,vo(),qs].filter(p=>!!p),issueData:{code:ye.invalid_arguments,argumentsError:m}})}function l(d,m){return bo({data:d,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,vo(),qs].filter(p=>!!p),issueData:{code:ye.invalid_return_type,returnTypeError:m}})}const o={errorMap:a.common.contextualErrorMap},f=a.data;if(this._def.returns instanceof Fs){const d=this;return Kt(async function(...m){const p=new yn([]),g=await d._def.args.parseAsync(m,o).catch(v=>{throw p.addIssue(s(m,v)),p}),y=await Reflect.apply(f,this,g);return await d._def.returns._def.type.parseAsync(y,o).catch(v=>{throw p.addIssue(l(y,v)),p})})}else{const d=this;return Kt(function(...m){const p=d._def.args.safeParse(m,o);if(!p.success)throw new yn([s(m,p.error)]);const g=Reflect.apply(f,this,p.data),y=d._def.returns.safeParse(g,o);if(!y.success)throw new yn([l(g,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Hs({...this._def,args:ra.create(t).rest(Mr.create())})}returns(t){return new Hs({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,a,s){return new Hs({args:t||ra.create([]).rest(Mr.create()),returns:a||Mr.create(),typeName:re.ZodFunction,...Le(s)})}}class gl extends He{get schema(){return this._def.getter()}_parse(t){const{ctx:a}=this._processInputParams(t);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}gl.create=(r,t)=>new gl({getter:r,typeName:re.ZodLazy,...Le(t)});class yl extends He{_parse(t){if(t.data!==this._def.value){const a=this._getOrReturnCtx(t);return xe(a,{received:a.data,code:ye.invalid_literal,expected:this._def.value}),Me}return{status:"valid",value:t.data}}get value(){return this._def.value}}yl.create=(r,t)=>new yl({value:r,typeName:re.ZodLiteral,...Le(t)});function kb(r,t){return new ir({values:r,typeName:re.ZodEnum,...Le(t)})}class ir extends He{constructor(){super(...arguments),nl.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const a=this._getOrReturnCtx(t),s=this._def.values;return xe(a,{expected:Xe.joinValues(s),received:a.parsedType,code:ye.invalid_type}),Me}if(_o(this,nl)||wb(this,nl,new Set(this._def.values)),!_o(this,nl).has(t.data)){const a=this._getOrReturnCtx(t),s=this._def.values;return xe(a,{received:a.data,code:ye.invalid_enum_value,options:s}),Me}return Kt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const a of this._def.values)t[a]=a;return t}get Values(){const t={};for(const a of this._def.values)t[a]=a;return t}get Enum(){const t={};for(const a of this._def.values)t[a]=a;return t}extract(t,a=this._def){return ir.create(t,{...this._def,...a})}exclude(t,a=this._def){return ir.create(this.options.filter(s=>!t.includes(s)),{...this._def,...a})}}nl=new WeakMap;ir.create=kb;class vl extends He{constructor(){super(...arguments),al.set(this,void 0)}_parse(t){const a=Xe.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==we.string&&s.parsedType!==we.number){const l=Xe.objectValues(a);return xe(s,{expected:Xe.joinValues(l),received:s.parsedType,code:ye.invalid_type}),Me}if(_o(this,al)||wb(this,al,new Set(Xe.getValidEnumValues(this._def.values))),!_o(this,al).has(t.data)){const l=Xe.objectValues(a);return xe(s,{received:s.data,code:ye.invalid_enum_value,options:l}),Me}return Kt(t.data)}get enum(){return this._def.values}}al=new WeakMap;vl.create=(r,t)=>new vl({values:r,typeName:re.ZodNativeEnum,...Le(t)});class Fs extends He{unwrap(){return this._def.type}_parse(t){const{ctx:a}=this._processInputParams(t);if(a.parsedType!==we.promise&&a.common.async===!1)return xe(a,{code:ye.invalid_type,expected:we.promise,received:a.parsedType}),Me;const s=a.parsedType===we.promise?a.data:Promise.resolve(a.data);return Kt(s.then(l=>this._def.type.parseAsync(l,{path:a.path,errorMap:a.common.contextualErrorMap})))}}Fs.create=(r,t)=>new Fs({type:r,typeName:re.ZodPromise,...Le(t)});class Vn extends He{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:a,ctx:s}=this._processInputParams(t),l=this._def.effect||null,o={addIssue:f=>{xe(s,f),f.fatal?a.abort():a.dirty()},get path(){return s.path}};if(o.addIssue=o.addIssue.bind(o),l.type==="preprocess"){const f=l.transform(s.data,o);if(s.common.async)return Promise.resolve(f).then(async d=>{if(a.value==="aborted")return Me;const m=await this._def.schema._parseAsync({data:d,path:s.path,parent:s});return m.status==="aborted"?Me:m.status==="dirty"||a.value==="dirty"?Ls(m.value):m});{if(a.value==="aborted")return Me;const d=this._def.schema._parseSync({data:f,path:s.path,parent:s});return d.status==="aborted"?Me:d.status==="dirty"||a.value==="dirty"?Ls(d.value):d}}if(l.type==="refinement"){const f=d=>{const m=l.refinement(d,o);if(s.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(s.common.async===!1){const d=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return d.status==="aborted"?Me:(d.status==="dirty"&&a.dirty(),f(d.value),{status:a.value,value:d.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(d=>d.status==="aborted"?Me:(d.status==="dirty"&&a.dirty(),f(d.value).then(()=>({status:a.value,value:d.value}))))}if(l.type==="transform")if(s.common.async===!1){const f=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Br(f))return f;const d=l.transform(f.value,o);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:d}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(f=>Br(f)?Promise.resolve(l.transform(f.value,o)).then(d=>({status:a.value,value:d})):f);Xe.assertNever(l)}}Vn.create=(r,t,a)=>new Vn({schema:r,typeName:re.ZodEffects,effect:t,...Le(a)});Vn.createWithPreprocess=(r,t,a)=>new Vn({schema:t,effect:{type:"preprocess",transform:r},typeName:re.ZodEffects,...Le(a)});class In extends He{_parse(t){return this._getType(t)===we.undefined?Kt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}In.create=(r,t)=>new In({innerType:r,typeName:re.ZodOptional,...Le(t)});class lr extends He{_parse(t){return this._getType(t)===we.null?Kt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}lr.create=(r,t)=>new lr({innerType:r,typeName:re.ZodNullable,...Le(t)});class bl extends He{_parse(t){const{ctx:a}=this._processInputParams(t);let s=a.data;return a.parsedType===we.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}bl.create=(r,t)=>new bl({innerType:r,typeName:re.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Le(t)});class _l extends He{_parse(t){const{ctx:a}=this._processInputParams(t),s={...a,common:{...a.common,issues:[]}},l=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return ol(l)?l.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new yn(s.common.issues)},input:s.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new yn(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}_l.create=(r,t)=>new _l({innerType:r,typeName:re.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Le(t)});class Ao extends He{_parse(t){if(this._getType(t)!==we.nan){const s=this._getOrReturnCtx(t);return xe(s,{code:ye.invalid_type,expected:we.nan,received:s.parsedType}),Me}return{status:"valid",value:t.data}}}Ao.create=r=>new Ao({typeName:re.ZodNaN,...Le(r)});const MS=Symbol("zod_brand");class Fh extends He{_parse(t){const{ctx:a}=this._processInputParams(t),s=a.data;return this._def.type._parse({data:s,path:a.path,parent:a})}unwrap(){return this._def.type}}class Ol extends He{_parse(t){const{status:a,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?Me:o.status==="dirty"?(a.dirty(),Ls(o.value)):this._def.out._parseAsync({data:o.value,path:s.path,parent:s})})();{const l=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?Me:l.status==="dirty"?(a.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:s.path,parent:s})}}static create(t,a){return new Ol({in:t,out:a,typeName:re.ZodPipeline})}}class xl extends He{_parse(t){const a=this._def.innerType._parse(t),s=l=>(Br(l)&&(l.value=Object.freeze(l.value)),l);return ol(a)?a.then(l=>s(l)):s(a)}unwrap(){return this._def.innerType}}xl.create=(r,t)=>new xl({innerType:r,typeName:re.ZodReadonly,...Le(t)});function N0(r,t){const a=typeof r=="function"?r(t):typeof r=="string"?{message:r}:r;return typeof a=="string"?{message:a}:a}function Cb(r,t={},a){return r?Vs.create().superRefine((s,l)=>{var o,f;const d=r(s);if(d instanceof Promise)return d.then(m=>{var p,g;if(!m){const y=N0(t,s),A=(g=(p=y.fatal)!==null&&p!==void 0?p:a)!==null&&g!==void 0?g:!0;l.addIssue({code:"custom",...y,fatal:A})}});if(!d){const m=N0(t,s),p=(f=(o=m.fatal)!==null&&o!==void 0?o:a)!==null&&f!==void 0?f:!0;l.addIssue({code:"custom",...m,fatal:p})}}):Vs.create()}const US={object:yt.lazycreate};var re;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(re||(re={}));const BS=(r,t={message:`Input not instance of ${r.name}`})=>Cb(a=>a instanceof r,t),Nb=$n.create,Tb=rr.create,LS=Ao.create,PS=sr.create,Rb=cl.create,ZS=Lr.create,$S=xo.create,HS=fl.create,IS=dl.create,qS=Vs.create,VS=Mr.create,FS=Ta.create,YS=wo.create,GS=Hn.create,XS=yt.create,QS=yt.strictCreate,KS=hl.create,JS=Io.create,WS=ml.create,eA=ra.create,tA=pl.create,nA=So.create,aA=Pr.create,rA=Hs.create,sA=gl.create,iA=yl.create,lA=ir.create,uA=vl.create,oA=Fs.create,T0=Vn.create,cA=In.create,fA=lr.create,dA=Vn.createWithPreprocess,hA=Ol.create,mA=()=>Nb().optional(),pA=()=>Tb().optional(),gA=()=>Rb().optional(),yA={string:r=>$n.create({...r,coerce:!0}),number:r=>rr.create({...r,coerce:!0}),boolean:r=>cl.create({...r,coerce:!0}),bigint:r=>sr.create({...r,coerce:!0}),date:r=>Lr.create({...r,coerce:!0})},vA=Me;var Jn=Object.freeze({__proto__:null,defaultErrorMap:qs,setErrorMap:dS,getErrorMap:vo,makeIssue:bo,EMPTY_PATH:hS,addIssueToContext:xe,ParseStatus:Yt,INVALID:Me,DIRTY:Ls,OK:Kt,isAborted:Xd,isDirty:Qd,isValid:Br,isAsync:ol,get util(){return Xe},get objectUtil(){return Gd},ZodParsedType:we,getParsedType:ka,ZodType:He,datetimeRegex:Eb,ZodString:$n,ZodNumber:rr,ZodBigInt:sr,ZodBoolean:cl,ZodDate:Lr,ZodSymbol:xo,ZodUndefined:fl,ZodNull:dl,ZodAny:Vs,ZodUnknown:Mr,ZodNever:Ta,ZodVoid:wo,ZodArray:Hn,ZodObject:yt,ZodUnion:hl,ZodDiscriminatedUnion:Io,ZodIntersection:ml,ZodTuple:ra,ZodRecord:pl,ZodMap:So,ZodSet:Pr,ZodFunction:Hs,ZodLazy:gl,ZodLiteral:yl,ZodEnum:ir,ZodNativeEnum:vl,ZodPromise:Fs,ZodEffects:Vn,ZodTransformer:Vn,ZodOptional:In,ZodNullable:lr,ZodDefault:bl,ZodCatch:_l,ZodNaN:Ao,BRAND:MS,ZodBranded:Fh,ZodPipeline:Ol,ZodReadonly:xl,custom:Cb,Schema:He,ZodSchema:He,late:US,get ZodFirstPartyTypeKind(){return re},coerce:yA,any:qS,array:GS,bigint:PS,boolean:Rb,date:ZS,discriminatedUnion:JS,effect:T0,enum:lA,function:rA,instanceof:BS,intersection:WS,lazy:sA,literal:iA,map:nA,nan:LS,nativeEnum:uA,never:FS,null:IS,nullable:fA,number:Tb,object:XS,oboolean:gA,onumber:pA,optional:cA,ostring:mA,pipeline:hA,preprocess:dA,promise:oA,record:tA,set:aA,strictObject:QS,string:Nb,symbol:$S,transformer:T0,tuple:eA,undefined:HS,union:KS,unknown:VS,void:YS,NEVER:vA,ZodIssueCode:ye,quotelessJson:fS,ZodError:yn});function bA(){return{}}function _A(r,t){var s,l;const a={type:"array"};return((l=(s=r.type)==null?void 0:s._def)==null?void 0:l.typeName)!==re.ZodAny&&(a.items=Ke(r.type._def,{...t,currentPath:[...t.currentPath,"items"]})),r.minLength&&at(a,"minItems",r.minLength.value,r.minLength.message,t),r.maxLength&&at(a,"maxItems",r.maxLength.value,r.maxLength.message,t),r.exactLength&&(at(a,"minItems",r.exactLength.value,r.exactLength.message,t),at(a,"maxItems",r.exactLength.value,r.exactLength.message,t)),a}function xA(r,t){const a={type:"integer",format:"int64"};if(!r.checks)return a;for(const s of r.checks)switch(s.kind){case"min":t.target==="jsonSchema7"?s.inclusive?at(a,"minimum",s.value,s.message,t):at(a,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(a.exclusiveMinimum=!0),at(a,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?at(a,"maximum",s.value,s.message,t):at(a,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(a.exclusiveMaximum=!0),at(a,"maximum",s.value,s.message,t));break;case"multipleOf":at(a,"multipleOf",s.value,s.message,t);break}return a}function wA(){return{type:"boolean"}}function SA(r,t){return Ke(r.type._def,t)}const AA=(r,t)=>Ke(r.innerType._def,t);function Ob(r,t,a){const s=a??t.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((l,o)=>Ob(r,t,l))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return EA(r,t)}}const EA=(r,t)=>{const a={type:"integer",format:"unix-time"};if(t.target==="openApi3")return a;for(const s of r.checks)switch(s.kind){case"min":at(a,"minimum",s.value,s.message,t);break;case"max":at(a,"maximum",s.value,s.message,t);break}return a};function kA(r,t){return{...Ke(r.innerType._def,t),default:r.defaultValue()}}function CA(r,t,a){return t.effectStrategy==="input"?Ke(r.schema._def,t,a):{}}function NA(r){return{type:"string",enum:[...r.values]}}const TA=r=>"type"in r&&r.type==="string"?!1:"allOf"in r;function RA(r,t){const a=[Ke(r.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Ke(r.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o);let s=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const l=[];return a.forEach(o=>{if(TA(o))l.push(...o.allOf),o.unevaluatedProperties===void 0&&(s=void 0);else{let f=o;if("additionalProperties"in o&&o.additionalProperties===!1){const{additionalProperties:d,...m}=o;f=m}else s=void 0;l.push(f)}}),l.length?{allOf:l,...s}:void 0}function OA(r,t){const a=typeof r.value;return a!=="bigint"&&a!=="number"&&a!=="boolean"&&a!=="string"?{type:Array.isArray(r.value)?"array":"object"}:t.target==="openApi3"?{type:a==="bigint"?"integer":a,enum:[r.value]}:{type:a==="bigint"?"integer":a,const:r.value}}let Sd;const Or={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Sd===void 0&&(Sd=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Sd),base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function jb(r,t){const a={type:"string"};function s(l){return t.patternStrategy==="escape"?jA(l):l}if(r.checks)for(const l of r.checks)switch(l.kind){case"min":at(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,l.value):l.value,l.message,t);break;case"max":at(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,l.value):l.value,l.message,t);break;case"email":switch(t.emailStrategy){case"format:email":zn(a,"email",l.message,t);break;case"format:idn-email":zn(a,"idn-email",l.message,t);break;case"pattern:zod":Mn(a,Or.email,l.message,t);break}break;case"url":zn(a,"uri",l.message,t);break;case"uuid":zn(a,"uuid",l.message,t);break;case"regex":Mn(a,l.regex,l.message,t);break;case"cuid":Mn(a,Or.cuid,l.message,t);break;case"cuid2":Mn(a,Or.cuid2,l.message,t);break;case"startsWith":Mn(a,RegExp(`^${s(l.value)}`),l.message,t);break;case"endsWith":Mn(a,RegExp(`${s(l.value)}$`),l.message,t);break;case"datetime":zn(a,"date-time",l.message,t);break;case"date":zn(a,"date",l.message,t);break;case"time":zn(a,"time",l.message,t);break;case"duration":zn(a,"duration",l.message,t);break;case"length":at(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,l.value):l.value,l.message,t),at(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,l.value):l.value,l.message,t);break;case"includes":{Mn(a,RegExp(s(l.value)),l.message,t);break}case"ip":{l.version!=="v6"&&zn(a,"ipv4",l.message,t),l.version!=="v4"&&zn(a,"ipv6",l.message,t);break}case"emoji":Mn(a,Or.emoji,l.message,t);break;case"ulid":{Mn(a,Or.ulid,l.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{zn(a,"binary",l.message,t);break}case"contentEncoding:base64":{at(a,"contentEncoding","base64",l.message,t);break}case"pattern:zod":{Mn(a,Or.base64,l.message,t);break}}break}case"nanoid":Mn(a,Or.nanoid,l.message,t)}return a}const jA=r=>Array.from(r).map(t=>/[a-zA-Z0-9]/.test(t)?t:`\\${t}`).join(""),zn=(r,t,a,s)=>{var l;r.format||(l=r.anyOf)!=null&&l.some(o=>o.format)?(r.anyOf||(r.anyOf=[]),r.format&&(r.anyOf.push({format:r.format,...r.errorMessage&&s.errorMessages&&{errorMessage:{format:r.errorMessage.format}}}),delete r.format,r.errorMessage&&(delete r.errorMessage.format,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.anyOf.push({format:t,...a&&s.errorMessages&&{errorMessage:{format:a}}})):at(r,"format",t,a,s)},Mn=(r,t,a,s)=>{var l;r.pattern||(l=r.allOf)!=null&&l.some(o=>o.pattern)?(r.allOf||(r.allOf=[]),r.pattern&&(r.allOf.push({pattern:r.pattern,...r.errorMessage&&s.errorMessages&&{errorMessage:{pattern:r.errorMessage.pattern}}}),delete r.pattern,r.errorMessage&&(delete r.errorMessage.pattern,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.allOf.push({pattern:R0(t,s),...a&&s.errorMessages&&{errorMessage:{pattern:a}}})):at(r,"pattern",R0(t,s),a,s)},R0=(r,t)=>{var p;const a=typeof r=="function"?r():r;if(!t.applyRegexFlags||!a.flags)return a.source;const s={i:a.flags.includes("i"),m:a.flags.includes("m"),s:a.flags.includes("s")},l=s.i?a.source.toLowerCase():a.source;let o="",f=!1,d=!1,m=!1;for(let g=0;g<l.length;g++){if(f){o+=l[g],f=!1;continue}if(s.i){if(d){if(l[g].match(/[a-z]/)){m?(o+=l[g],o+=`${l[g-2]}-${l[g]}`.toUpperCase(),m=!1):l[g+1]==="-"&&((p=l[g+2])!=null&&p.match(/[a-z]/))?(o+=l[g],m=!0):o+=`${l[g]}${l[g].toUpperCase()}`;continue}}else if(l[g].match(/[a-z]/)){o+=`[${l[g]}${l[g].toUpperCase()}]`;continue}}if(s.m){if(l[g]==="^"){o+=`(^|(?<=[\r
]))`;continue}else if(l[g]==="$"){o+=`($|(?=[\r
]))`;continue}}if(s.s&&l[g]==="."){o+=d?`${l[g]}\r
`:`[${l[g]}\r
]`;continue}o+=l[g],l[g]==="\\"?f=!0:d&&l[g]==="]"?d=!1:!d&&l[g]==="["&&(d=!0)}try{const g=new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),a.source}return o};function Db(r,t){var s,l,o,f;if(t.target==="openApi3"&&((s=r.keyType)==null?void 0:s._def.typeName)===re.ZodEnum)return{type:"object",required:r.keyType._def.values,properties:r.keyType._def.values.reduce((d,m)=>({...d,[m]:Ke(r.valueType._def,{...t,currentPath:[...t.currentPath,"properties",m]})??{}}),{}),additionalProperties:!1};const a={type:"object",additionalProperties:Ke(r.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if(t.target==="openApi3")return a;if(((l=r.keyType)==null?void 0:l._def.typeName)===re.ZodString&&((o=r.keyType._def.checks)!=null&&o.length)){const d=Object.entries(jb(r.keyType._def,t)).reduce((m,[p,g])=>p==="type"?m:{...m,[p]:g},{});return{...a,propertyNames:d}}else if(((f=r.keyType)==null?void 0:f._def.typeName)===re.ZodEnum)return{...a,propertyNames:{enum:r.keyType._def.values}};return a}function DA(r,t){if(t.mapStrategy==="record")return Db(r,t);const a=Ke(r.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},s=Ke(r.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[a,s],minItems:2,maxItems:2}}}function zA(r){const t=r.values,s=Object.keys(r.values).filter(o=>typeof t[t[o]]!="number").map(o=>t[o]),l=Array.from(new Set(s.map(o=>typeof o)));return{type:l.length===1?l[0]==="string"?"string":"number":["string","number"],enum:s}}function MA(){return{not:{}}}function UA(r){return r.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const Eo={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function BA(r,t){if(t.target==="openApi3")return O0(r,t);const a=r.options instanceof Map?Array.from(r.options.values()):r.options;if(a.every(s=>s._def.typeName in Eo&&(!s._def.checks||!s._def.checks.length))){const s=a.reduce((l,o)=>{const f=Eo[o._def.typeName];return f&&!l.includes(f)?[...l,f]:l},[]);return{type:s.length>1?s:s[0]}}else if(a.every(s=>s._def.typeName==="ZodLiteral"&&!s.description)){const s=a.reduce((l,o)=>{const f=typeof o._def.value;switch(f){case"string":case"number":case"boolean":return[...l,f];case"bigint":return[...l,"integer"];case"object":if(o._def.value===null)return[...l,"null"];case"symbol":case"undefined":case"function":default:return l}},[]);if(s.length===a.length){const l=s.filter((o,f,d)=>d.indexOf(o)===f);return{type:l.length>1?l:l[0],enum:a.reduce((o,f)=>o.includes(f._def.value)?o:[...o,f._def.value],[])}}}else if(a.every(s=>s._def.typeName==="ZodEnum"))return{type:"string",enum:a.reduce((s,l)=>[...s,...l._def.values.filter(o=>!s.includes(o))],[])};return O0(r,t)}const O0=(r,t)=>{const a=(r.options instanceof Map?Array.from(r.options.values()):r.options).map((s,l)=>Ke(s._def,{...t,currentPath:[...t.currentPath,"anyOf",`${l}`]})).filter(s=>!!s&&(!t.strictUnions||typeof s=="object"&&Object.keys(s).length>0));return a.length?{anyOf:a}:void 0};function LA(r,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(r.innerType._def.typeName)&&(!r.innerType._def.checks||!r.innerType._def.checks.length))return t.target==="openApi3"||t.nullableStrategy==="property"?{type:Eo[r.innerType._def.typeName],nullable:!0}:{type:[Eo[r.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const s=Ke(r.innerType._def,{...t,currentPath:[...t.currentPath]});return s&&"$ref"in s?{allOf:[s],nullable:!0}:s&&{...s,nullable:!0}}const a=Ke(r.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return a&&{anyOf:[a,{type:"null"}]}}function PA(r,t){const a={type:"number"};if(!r.checks)return a;for(const s of r.checks)switch(s.kind){case"int":a.type="integer",_b(a,"type",s.message,t);break;case"min":t.target==="jsonSchema7"?s.inclusive?at(a,"minimum",s.value,s.message,t):at(a,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(a.exclusiveMinimum=!0),at(a,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?at(a,"maximum",s.value,s.message,t):at(a,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(a.exclusiveMaximum=!0),at(a,"maximum",s.value,s.message,t));break;case"multipleOf":at(a,"multipleOf",s.value,s.message,t);break}return a}function ZA(r,t){return t.removeAdditionalStrategy==="strict"?r.catchall._def.typeName==="ZodNever"?r.unknownKeys!=="strict":Ke(r.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:r.catchall._def.typeName==="ZodNever"?r.unknownKeys==="passthrough":Ke(r.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function $A(r,t){const a={type:"object",...Object.entries(r.shape()).reduce((s,[l,o])=>{if(o===void 0||o._def===void 0)return s;const f=[...t.currentPath,"properties",l],d=Ke(o._def,{...t,currentPath:f,propertyPath:f});return d===void 0?s:(t.openaiStrictMode&&o.isOptional()&&!o.isNullable()&&console.warn(`Zod field at \`${f.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required
This will become an error in a future version of the SDK.`),{properties:{...s.properties,[l]:d},required:o.isOptional()&&!t.openaiStrictMode?s.required:[...s.required,l]})},{properties:{},required:[]}),additionalProperties:ZA(r,t)};return a.required.length||delete a.required,a}const HA=(r,t)=>{var s;if(t.currentPath.toString()===((s=t.propertyPath)==null?void 0:s.toString()))return Ke(r.innerType._def,t);const a=Ke(r.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return a?{anyOf:[{not:{}},a]}:{}},IA=(r,t)=>{if(t.pipeStrategy==="input")return Ke(r.in._def,t);if(t.pipeStrategy==="output")return Ke(r.out._def,t);const a=Ke(r.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),s=Ke(r.out._def,{...t,currentPath:[...t.currentPath,"allOf",a?"1":"0"]});return{allOf:[a,s].filter(l=>l!==void 0)}};function qA(r,t){return Ke(r.type._def,t)}function VA(r,t){const s={type:"array",uniqueItems:!0,items:Ke(r.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return r.minSize&&at(s,"minItems",r.minSize.value,r.minSize.message,t),r.maxSize&&at(s,"maxItems",r.maxSize.value,r.maxSize.message,t),s}function FA(r,t){return r.rest?{type:"array",minItems:r.items.length,items:r.items.map((a,s)=>Ke(a._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((a,s)=>s===void 0?a:[...a,s],[]),additionalItems:Ke(r.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:r.items.length,maxItems:r.items.length,items:r.items.map((a,s)=>Ke(a._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((a,s)=>s===void 0?a:[...a,s],[])}}function YA(){return{not:{}}}function GA(){return{}}const XA=(r,t)=>Ke(r.innerType._def,t);function Ke(r,t,a=!1){var f;const s=t.seen.get(r);if(t.override){const d=(f=t.override)==null?void 0:f.call(t,r,t,s,a);if(d!==lS)return d}if(s&&!a){const d=QA(s,t);if(d!==void 0)return"$ref"in d&&t.seenRefs.add(d.$ref),d}const l={def:r,path:t.currentPath,jsonSchema:void 0};t.seen.set(r,l);const o=JA(r,r.typeName,t,a);return o&&WA(r,t,o),l.jsonSchema=o,o}const QA=(r,t)=>{switch(t.$refStrategy){case"root":return{$ref:r.path.join("/")};case"extract-to-root":const a=r.path.slice(t.basePath.length+1).join("_");return a!==t.name&&t.nameStrategy==="duplicate-ref"&&(t.definitions[a]=r.def),{$ref:[...t.basePath,t.definitionPath,a].join("/")};case"relative":return{$ref:KA(t.currentPath,r.path)};case"none":case"seen":return r.path.length<t.currentPath.length&&r.path.every((s,l)=>t.currentPath[l]===s)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},KA=(r,t)=>{let a=0;for(;a<r.length&&a<t.length&&r[a]===t[a];a++);return[(r.length-a).toString(),...t.slice(a)].join("/")},JA=(r,t,a,s)=>{switch(t){case re.ZodString:return jb(r,a);case re.ZodNumber:return PA(r,a);case re.ZodObject:return $A(r,a);case re.ZodBigInt:return xA(r,a);case re.ZodBoolean:return wA();case re.ZodDate:return Ob(r,a);case re.ZodUndefined:return YA();case re.ZodNull:return UA(a);case re.ZodArray:return _A(r,a);case re.ZodUnion:case re.ZodDiscriminatedUnion:return BA(r,a);case re.ZodIntersection:return RA(r,a);case re.ZodTuple:return FA(r,a);case re.ZodRecord:return Db(r,a);case re.ZodLiteral:return OA(r,a);case re.ZodEnum:return NA(r);case re.ZodNativeEnum:return zA(r);case re.ZodNullable:return LA(r,a);case re.ZodOptional:return HA(r,a);case re.ZodMap:return DA(r,a);case re.ZodSet:return VA(r,a);case re.ZodLazy:return Ke(r.getter()._def,a);case re.ZodPromise:return qA(r,a);case re.ZodNaN:case re.ZodNever:return MA();case re.ZodEffects:return CA(r,a,s);case re.ZodAny:return bA();case re.ZodUnknown:return GA();case re.ZodDefault:return kA(r,a);case re.ZodBranded:return SA(r,a);case re.ZodReadonly:return XA(r,a);case re.ZodCatch:return AA(r,a);case re.ZodPipeline:return IA(r,a);case re.ZodFunction:case re.ZodVoid:case re.ZodSymbol:return;default:return(l=>{})()}},WA=(r,t,a)=>(r.description&&(a.description=r.description,t.markdownDescription&&(a.markdownDescription=r.description)),a),eE=(r,t)=>{const a=cS(t),s=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,l=Ke(r._def,s===void 0?a:{...a,currentPath:[...a.basePath,a.definitionPath,s]},!1)??{},o=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;o!==void 0&&(l.title=o);const f=(()=>{if(oS(a.definitions))return;const m={},p=new Set;for(let g=0;g<500;g++){const y=Object.entries(a.definitions).filter(([A])=>!p.has(A));if(y.length===0)break;for(const[A,v]of y)m[A]=Ke(Yd(v),{...a,currentPath:[...a.basePath,a.definitionPath,A]},!0)??{},p.add(A)}return m})(),d=s===void 0?f?{...l,[a.definitionPath]:f}:l:a.nameStrategy==="duplicate-ref"?{...l,...f||a.seenRefs.size?{[a.definitionPath]:{...f,...a.seenRefs.size?{[s]:l}:void 0}}:void 0}:{$ref:[...a.$refStrategy==="relative"?[]:a.basePath,a.definitionPath,s].join("/"),[a.definitionPath]:{...f,[s]:l}};return a.target==="jsonSchema7"?d.$schema="http://json-schema.org/draft-07/schema#":a.target==="jsonSchema2019-09"&&(d.$schema="https://json-schema.org/draft/2019-09/schema#"),d};function tE(r,t){return eE(r,{openaiStrictMode:!0,name:t.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}function nE(r,t,a){return B2({type:"json_schema",json_schema:{...a,name:t,strict:!0,schema:tE(r,{name:t})}},s=>r.parse(JSON.parse(s)))}const aE=Symbol("Let zodToJsonSchema decide on which parser to use"),j0={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},rE=r=>typeof r=="string"?{...j0,name:r}:{...j0,...r},sE=r=>{const t=rE(r),a=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:a,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([s,l])=>[l._def,{def:l._def,path:[...t.basePath,t.definitionPath,s],jsonSchema:void 0}]))}};function zb(r,t,a,s){s!=null&&s.errorMessages&&a&&(r.errorMessage={...r.errorMessage,[t]:a})}function rt(r,t,a,s,l){r[t]=a,zb(r,t,s,l)}function iE(){return{}}function lE(r,t){var s,l,o;const a={type:"array"};return(s=r.type)!=null&&s._def&&((o=(l=r.type)==null?void 0:l._def)==null?void 0:o.typeName)!==re.ZodAny&&(a.items=We(r.type._def,{...t,currentPath:[...t.currentPath,"items"]})),r.minLength&&rt(a,"minItems",r.minLength.value,r.minLength.message,t),r.maxLength&&rt(a,"maxItems",r.maxLength.value,r.maxLength.message,t),r.exactLength&&(rt(a,"minItems",r.exactLength.value,r.exactLength.message,t),rt(a,"maxItems",r.exactLength.value,r.exactLength.message,t)),a}function uE(r,t){const a={type:"integer",format:"int64"};if(!r.checks)return a;for(const s of r.checks)switch(s.kind){case"min":t.target==="jsonSchema7"?s.inclusive?rt(a,"minimum",s.value,s.message,t):rt(a,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(a.exclusiveMinimum=!0),rt(a,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?rt(a,"maximum",s.value,s.message,t):rt(a,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(a.exclusiveMaximum=!0),rt(a,"maximum",s.value,s.message,t));break;case"multipleOf":rt(a,"multipleOf",s.value,s.message,t);break}return a}function oE(){return{type:"boolean"}}function Mb(r,t){return We(r.type._def,t)}const cE=(r,t)=>We(r.innerType._def,t);function Ub(r,t,a){const s=a??t.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((l,o)=>Ub(r,t,l))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return fE(r,t)}}const fE=(r,t)=>{const a={type:"integer",format:"unix-time"};if(t.target==="openApi3")return a;for(const s of r.checks)switch(s.kind){case"min":rt(a,"minimum",s.value,s.message,t);break;case"max":rt(a,"maximum",s.value,s.message,t);break}return a};function dE(r,t){return{...We(r.innerType._def,t),default:r.defaultValue()}}function hE(r,t){return t.effectStrategy==="input"?We(r.schema._def,t):{}}function mE(r){return{type:"string",enum:Array.from(r.values)}}const pE=r=>"type"in r&&r.type==="string"?!1:"allOf"in r;function gE(r,t){const a=[We(r.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),We(r.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o);let s=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const l=[];return a.forEach(o=>{if(pE(o))l.push(...o.allOf),o.unevaluatedProperties===void 0&&(s=void 0);else{let f=o;if("additionalProperties"in o&&o.additionalProperties===!1){const{additionalProperties:d,...m}=o;f=m}else s=void 0;l.push(f)}}),l.length?{allOf:l,...s}:void 0}function yE(r,t){const a=typeof r.value;return a!=="bigint"&&a!=="number"&&a!=="boolean"&&a!=="string"?{type:Array.isArray(r.value)?"array":"object"}:t.target==="openApi3"?{type:a==="bigint"?"integer":a,enum:[r.value]}:{type:a==="bigint"?"integer":a,const:r.value}}let Ad;const Un={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Ad===void 0&&(Ad=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ad),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Bb(r,t){const a={type:"string"};if(r.checks)for(const s of r.checks)switch(s.kind){case"min":rt(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,s.value):s.value,s.message,t);break;case"max":rt(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,s.value):s.value,s.message,t);break;case"email":switch(t.emailStrategy){case"format:email":Bn(a,"email",s.message,t);break;case"format:idn-email":Bn(a,"idn-email",s.message,t);break;case"pattern:zod":Qt(a,Un.email,s.message,t);break}break;case"url":Bn(a,"uri",s.message,t);break;case"uuid":Bn(a,"uuid",s.message,t);break;case"regex":Qt(a,s.regex,s.message,t);break;case"cuid":Qt(a,Un.cuid,s.message,t);break;case"cuid2":Qt(a,Un.cuid2,s.message,t);break;case"startsWith":Qt(a,RegExp(`^${Ed(s.value,t)}`),s.message,t);break;case"endsWith":Qt(a,RegExp(`${Ed(s.value,t)}$`),s.message,t);break;case"datetime":Bn(a,"date-time",s.message,t);break;case"date":Bn(a,"date",s.message,t);break;case"time":Bn(a,"time",s.message,t);break;case"duration":Bn(a,"duration",s.message,t);break;case"length":rt(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,s.value):s.value,s.message,t),rt(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,s.value):s.value,s.message,t);break;case"includes":{Qt(a,RegExp(Ed(s.value,t)),s.message,t);break}case"ip":{s.version!=="v6"&&Bn(a,"ipv4",s.message,t),s.version!=="v4"&&Bn(a,"ipv6",s.message,t);break}case"base64url":Qt(a,Un.base64url,s.message,t);break;case"jwt":Qt(a,Un.jwt,s.message,t);break;case"cidr":{s.version!=="v6"&&Qt(a,Un.ipv4Cidr,s.message,t),s.version!=="v4"&&Qt(a,Un.ipv6Cidr,s.message,t);break}case"emoji":Qt(a,Un.emoji(),s.message,t);break;case"ulid":{Qt(a,Un.ulid,s.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Bn(a,"binary",s.message,t);break}case"contentEncoding:base64":{rt(a,"contentEncoding","base64",s.message,t);break}case"pattern:zod":{Qt(a,Un.base64,s.message,t);break}}break}case"nanoid":Qt(a,Un.nanoid,s.message,t)}return a}function Ed(r,t){return t.patternStrategy==="escape"?bE(r):r}const vE=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function bE(r){let t="";for(let a=0;a<r.length;a++)vE.has(r[a])||(t+="\\"),t+=r[a];return t}function Bn(r,t,a,s){var l;r.format||(l=r.anyOf)!=null&&l.some(o=>o.format)?(r.anyOf||(r.anyOf=[]),r.format&&(r.anyOf.push({format:r.format,...r.errorMessage&&s.errorMessages&&{errorMessage:{format:r.errorMessage.format}}}),delete r.format,r.errorMessage&&(delete r.errorMessage.format,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.anyOf.push({format:t,...a&&s.errorMessages&&{errorMessage:{format:a}}})):rt(r,"format",t,a,s)}function Qt(r,t,a,s){var l;r.pattern||(l=r.allOf)!=null&&l.some(o=>o.pattern)?(r.allOf||(r.allOf=[]),r.pattern&&(r.allOf.push({pattern:r.pattern,...r.errorMessage&&s.errorMessages&&{errorMessage:{pattern:r.errorMessage.pattern}}}),delete r.pattern,r.errorMessage&&(delete r.errorMessage.pattern,Object.keys(r.errorMessage).length===0&&delete r.errorMessage)),r.allOf.push({pattern:D0(t,s),...a&&s.errorMessages&&{errorMessage:{pattern:a}}})):rt(r,"pattern",D0(t,s),a,s)}function D0(r,t){var m;if(!t.applyRegexFlags||!r.flags)return r.source;const a={i:r.flags.includes("i"),m:r.flags.includes("m"),s:r.flags.includes("s")},s=a.i?r.source.toLowerCase():r.source;let l="",o=!1,f=!1,d=!1;for(let p=0;p<s.length;p++){if(o){l+=s[p],o=!1;continue}if(a.i){if(f){if(s[p].match(/[a-z]/)){d?(l+=s[p],l+=`${s[p-2]}-${s[p]}`.toUpperCase(),d=!1):s[p+1]==="-"&&((m=s[p+2])!=null&&m.match(/[a-z]/))?(l+=s[p],d=!0):l+=`${s[p]}${s[p].toUpperCase()}`;continue}}else if(s[p].match(/[a-z]/)){l+=`[${s[p]}${s[p].toUpperCase()}]`;continue}}if(a.m){if(s[p]==="^"){l+=`(^|(?<=[\r
]))`;continue}else if(s[p]==="$"){l+=`($|(?=[\r
]))`;continue}}if(a.s&&s[p]==="."){l+=f?`${s[p]}\r
`:`[${s[p]}\r
]`;continue}l+=s[p],s[p]==="\\"?o=!0:f&&s[p]==="]"?f=!1:!f&&s[p]==="["&&(f=!0)}try{new RegExp(l)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),r.source}return l}function Lb(r,t){var s,l,o,f,d,m;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((s=r.keyType)==null?void 0:s._def.typeName)===re.ZodEnum)return{type:"object",required:r.keyType._def.values,properties:r.keyType._def.values.reduce((p,g)=>({...p,[g]:We(r.valueType._def,{...t,currentPath:[...t.currentPath,"properties",g]})??{}}),{}),additionalProperties:t.rejectedAdditionalProperties};const a={type:"object",additionalProperties:We(r.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return a;if(((l=r.keyType)==null?void 0:l._def.typeName)===re.ZodString&&((o=r.keyType._def.checks)!=null&&o.length)){const{type:p,...g}=Bb(r.keyType._def,t);return{...a,propertyNames:g}}else{if(((f=r.keyType)==null?void 0:f._def.typeName)===re.ZodEnum)return{...a,propertyNames:{enum:r.keyType._def.values}};if(((d=r.keyType)==null?void 0:d._def.typeName)===re.ZodBranded&&r.keyType._def.type._def.typeName===re.ZodString&&((m=r.keyType._def.type._def.checks)!=null&&m.length)){const{type:p,...g}=Mb(r.keyType._def,t);return{...a,propertyNames:g}}}return a}function _E(r,t){if(t.mapStrategy==="record")return Lb(r,t);const a=We(r.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},s=We(r.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[a,s],minItems:2,maxItems:2}}}function xE(r){const t=r.values,s=Object.keys(r.values).filter(o=>typeof t[t[o]]!="number").map(o=>t[o]),l=Array.from(new Set(s.map(o=>typeof o)));return{type:l.length===1?l[0]==="string"?"string":"number":["string","number"],enum:s}}function wE(){return{not:{}}}function SE(r){return r.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const ko={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function AE(r,t){if(t.target==="openApi3")return z0(r,t);const a=r.options instanceof Map?Array.from(r.options.values()):r.options;if(a.every(s=>s._def.typeName in ko&&(!s._def.checks||!s._def.checks.length))){const s=a.reduce((l,o)=>{const f=ko[o._def.typeName];return f&&!l.includes(f)?[...l,f]:l},[]);return{type:s.length>1?s:s[0]}}else if(a.every(s=>s._def.typeName==="ZodLiteral"&&!s.description)){const s=a.reduce((l,o)=>{const f=typeof o._def.value;switch(f){case"string":case"number":case"boolean":return[...l,f];case"bigint":return[...l,"integer"];case"object":if(o._def.value===null)return[...l,"null"];case"symbol":case"undefined":case"function":default:return l}},[]);if(s.length===a.length){const l=s.filter((o,f,d)=>d.indexOf(o)===f);return{type:l.length>1?l:l[0],enum:a.reduce((o,f)=>o.includes(f._def.value)?o:[...o,f._def.value],[])}}}else if(a.every(s=>s._def.typeName==="ZodEnum"))return{type:"string",enum:a.reduce((s,l)=>[...s,...l._def.values.filter(o=>!s.includes(o))],[])};return z0(r,t)}const z0=(r,t)=>{const a=(r.options instanceof Map?Array.from(r.options.values()):r.options).map((s,l)=>We(s._def,{...t,currentPath:[...t.currentPath,"anyOf",`${l}`]})).filter(s=>!!s&&(!t.strictUnions||typeof s=="object"&&Object.keys(s).length>0));return a.length?{anyOf:a}:void 0};function EE(r,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(r.innerType._def.typeName)&&(!r.innerType._def.checks||!r.innerType._def.checks.length))return t.target==="openApi3"?{type:ko[r.innerType._def.typeName],nullable:!0}:{type:[ko[r.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const s=We(r.innerType._def,{...t,currentPath:[...t.currentPath]});return s&&"$ref"in s?{allOf:[s],nullable:!0}:s&&{...s,nullable:!0}}const a=We(r.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return a&&{anyOf:[a,{type:"null"}]}}function kE(r,t){const a={type:"number"};if(!r.checks)return a;for(const s of r.checks)switch(s.kind){case"int":a.type="integer",zb(a,"type",s.message,t);break;case"min":t.target==="jsonSchema7"?s.inclusive?rt(a,"minimum",s.value,s.message,t):rt(a,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(a.exclusiveMinimum=!0),rt(a,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?rt(a,"maximum",s.value,s.message,t):rt(a,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(a.exclusiveMaximum=!0),rt(a,"maximum",s.value,s.message,t));break;case"multipleOf":rt(a,"multipleOf",s.value,s.message,t);break}return a}function CE(r,t){const a=t.target==="openAi",s={type:"object",properties:{}},l=[],o=r.shape();for(const d in o){let m=o[d];if(m===void 0||m._def===void 0)continue;let p=TE(m);p&&a&&(m instanceof In&&(m=m._def.innerType),m.isNullable()||(m=m.nullable()),p=!1);const g=We(m._def,{...t,currentPath:[...t.currentPath,"properties",d],propertyPath:[...t.currentPath,"properties",d]});g!==void 0&&(s.properties[d]=g,p||l.push(d))}l.length&&(s.required=l);const f=NE(r,t);return f!==void 0&&(s.additionalProperties=f),s}function NE(r,t){if(r.catchall._def.typeName!=="ZodNever")return We(r.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(r.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function TE(r){try{return r.isOptional()}catch{return!0}}const RE=(r,t)=>{var s;if(t.currentPath.toString()===((s=t.propertyPath)==null?void 0:s.toString()))return We(r.innerType._def,t);const a=We(r.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return a?{anyOf:[{not:{}},a]}:{}},OE=(r,t)=>{if(t.pipeStrategy==="input")return We(r.in._def,t);if(t.pipeStrategy==="output")return We(r.out._def,t);const a=We(r.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),s=We(r.out._def,{...t,currentPath:[...t.currentPath,"allOf",a?"1":"0"]});return{allOf:[a,s].filter(l=>l!==void 0)}};function jE(r,t){return We(r.type._def,t)}function DE(r,t){const s={type:"array",uniqueItems:!0,items:We(r.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return r.minSize&&rt(s,"minItems",r.minSize.value,r.minSize.message,t),r.maxSize&&rt(s,"maxItems",r.maxSize.value,r.maxSize.message,t),s}function zE(r,t){return r.rest?{type:"array",minItems:r.items.length,items:r.items.map((a,s)=>We(a._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((a,s)=>s===void 0?a:[...a,s],[]),additionalItems:We(r.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:r.items.length,maxItems:r.items.length,items:r.items.map((a,s)=>We(a._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((a,s)=>s===void 0?a:[...a,s],[])}}function ME(){return{not:{}}}function UE(){return{}}const BE=(r,t)=>We(r.innerType._def,t),LE=(r,t,a)=>{switch(t){case re.ZodString:return Bb(r,a);case re.ZodNumber:return kE(r,a);case re.ZodObject:return CE(r,a);case re.ZodBigInt:return uE(r,a);case re.ZodBoolean:return oE();case re.ZodDate:return Ub(r,a);case re.ZodUndefined:return ME();case re.ZodNull:return SE(a);case re.ZodArray:return lE(r,a);case re.ZodUnion:case re.ZodDiscriminatedUnion:return AE(r,a);case re.ZodIntersection:return gE(r,a);case re.ZodTuple:return zE(r,a);case re.ZodRecord:return Lb(r,a);case re.ZodLiteral:return yE(r,a);case re.ZodEnum:return mE(r);case re.ZodNativeEnum:return xE(r);case re.ZodNullable:return EE(r,a);case re.ZodOptional:return RE(r,a);case re.ZodMap:return _E(r,a);case re.ZodSet:return DE(r,a);case re.ZodLazy:return()=>r.getter()._def;case re.ZodPromise:return jE(r,a);case re.ZodNaN:case re.ZodNever:return wE();case re.ZodEffects:return hE(r,a);case re.ZodAny:return iE();case re.ZodUnknown:return UE();case re.ZodDefault:return dE(r,a);case re.ZodBranded:return Mb(r,a);case re.ZodReadonly:return BE(r,a);case re.ZodCatch:return cE(r,a);case re.ZodPipeline:return OE(r,a);case re.ZodFunction:case re.ZodVoid:case re.ZodSymbol:return;default:return(s=>{})()}};function We(r,t,a=!1){var d;const s=t.seen.get(r);if(t.override){const m=(d=t.override)==null?void 0:d.call(t,r,t,s,a);if(m!==aE)return m}if(s&&!a){const m=PE(s,t);if(m!==void 0)return m}const l={def:r,path:t.currentPath,jsonSchema:void 0};t.seen.set(r,l);const o=LE(r,r.typeName,t),f=typeof o=="function"?We(o(),t):o;if(f&&$E(r,t,f),t.postProcess){const m=t.postProcess(f,r,t);return l.jsonSchema=f,m}return l.jsonSchema=f,f}const PE=(r,t)=>{switch(t.$refStrategy){case"root":return{$ref:r.path.join("/")};case"relative":return{$ref:ZE(t.currentPath,r.path)};case"none":case"seen":return r.path.length<t.currentPath.length&&r.path.every((a,s)=>t.currentPath[s]===a)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},ZE=(r,t)=>{let a=0;for(;a<r.length&&a<t.length&&r[a]===t[a];a++);return[(r.length-a).toString(),...t.slice(a)].join("/")},$E=(r,t,a)=>(r.description&&(a.description=r.description,t.markdownDescription&&(a.markdownDescription=r.description)),a),HE=(r,t)=>{const a=sE(t),s=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((m,[p,g])=>({...m,[p]:We(g._def,{...a,currentPath:[...a.basePath,a.definitionPath,p]},!0)??{}}),{}):void 0,l=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,o=We(r._def,l===void 0?a:{...a,currentPath:[...a.basePath,a.definitionPath,l]},!1)??{},f=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;f!==void 0&&(o.title=f);const d=l===void 0?s?{...o,[a.definitionPath]:s}:o:{$ref:[...a.$refStrategy==="relative"?[]:a.basePath,a.definitionPath,l].join("/"),[a.definitionPath]:{...s,[l]:o}};return a.target==="jsonSchema7"?d.$schema="http://json-schema.org/draft-07/schema#":(a.target==="jsonSchema2019-09"||a.target==="openAi")&&(d.$schema="https://json-schema.org/draft/2019-09/schema#"),a.target==="openAi"&&("anyOf"in d||"oneOf"in d||"allOf"in d||"type"in d&&Array.isArray(d.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),d},Jd=Jn.object({text:Jn.string().describe("A verbatim, HTML representation of the page, including captions/descriptions of images"),page:Jn.string().optional().describe("The page number, if available"),chapter_name:Jn.string().optional().describe("The chapter name, if available"),title:Jn.string().optional().describe("The book title, if available"),figures:Jn.array(Jn.object({number:Jn.string().optional().describe("Figure number if available"),description:Jn.string().describe("Detailed description of the figure content")})).optional().describe("Descriptions of any figures on the page"),error:Jn.boolean().optional().describe("Flag to indicate if there was an error extracting text from the image")}),IE=HE(Jd,{target:"openApi3"});function qE(r){const t=[],a=r.matchAll(/Figure (\d+)(?:[.:])?\s*(.*?)(?:\n\n|\n(?=Figure)|\n$)/gis);for(const s of a)s&&s[2]&&t.push({number:s[1],description:s[2].trim()});return t}async function VE(r,t){var a;try{let s="gpt-4";const l="2024-10-21",o=new sS({apiKey:t.apiKey,endpoint:t.endpoint,deployment:s,apiVersion:l,dangerouslyAllowBrowser:!0});console.log("Using Azure OpenAI client with endpoint:",t.endpoint);try{const d=(a=(await o.beta.chat.completions.parse({model:s,messages:[{role:"system",content:`You are a skilled assistant that analyzes images of textbook pages. 
                        Extract all text content from the page verbatim, and provide any metadata available such as page numbers, 
                        chapter names, and book titles. Also identify and describe all figures, tables, and images on the page.
                        If you cannot extract meaningful text from the image, set the error flag to true.`},{role:"user",content:[{type:"text",text:"Please analyze this textbook page and provide the information in the structured format."},{type:"image_url",image_url:{url:`data:image/jpeg;base64,${r}`}}]}],temperature:0,max_tokens:16384,response_format:nE(Jd,"textbookPage")})).choices[0])==null?void 0:a.message;if(!d)throw new Error("Invalid response from Azure OpenAI API");if(d.parsed){const m=d.parsed,p=!m.text||m.text.trim().length===0;return{text:m.text,metadata:{pageNumber:m.page,chapter:m.chapter_name,bookTitle:m.title,figures:m.figures||[],error:m.error===!0||p}}}else{if(d.refusal)throw console.warn("The model refused to process the request:",d.refusal),new Error(`The model refused to process the request: ${d.refusal}`);if(console.warn("No parsed data available from the response"),d.content)return kd(d.content);throw new Error("No usable content received from Azure OpenAI API")}}catch(f){console.error("Error with beta structured output:",f),console.log("Falling back to legacy approach...");const d=await o.chat.completions.create({model:s,messages:[{role:"system",content:`You are a skilled assistant that analyzes images of textbook pages. 
                        Extract the following information in a structured format following this JSON schema:
                        ${JSON.stringify(IE,null,2)}
                        
                        Always provide output exactly according to this schema.
                        If you cannot extract meaningful text from the image, set the error flag to true.`},{role:"user",content:[{type:"text",text:"Please analyze this textbook page and provide the information in the structured format."},{type:"image_url",image_url:{url:`data:image/jpeg;base64,${r}`}}]}],temperature:0,max_tokens:16384,response_format:{type:"json_object"}});if(!d||!d.choices||!d.choices[0]||!d.choices[0].message)throw new Error("Invalid response format from Azure OpenAI API");const m=d.choices[0].message.content||"";if(!m)throw new Error("No content received from Azure OpenAI API");try{const p=JSON.parse(m),g=Jd.safeParse(p);if(!g.success)return console.warn("Response didn't match expected schema:",g.error),kd(m);const y=g.data,A=!y.text||y.text.trim().length===0;return{text:y.text,metadata:{pageNumber:y.page,chapter:y.chapter_name,bookTitle:y.title,figures:y.figures||[],rawContent:m,error:y.error===!0||A}}}catch(p){return console.error("Error parsing structured output:",p),kd(m)}}}catch(s){throw console.warn("Failed to analyze image:",s),s}}function kd(r){const t=r.match(/Page (\d+)/i)||r.match(/p\. (\d+)/i),a=r.match(/Chapter (\d+|[IVX]+)/i),s=r.match(/Title: (.*?)(?:\n|$)/i)||r.match(/Book: (.*?)(?:\n|$)/i),l=qE(r),o=!r||r.trim().length<10;return{text:r,metadata:{pageNumber:t?t[1]:void 0,chapter:a?a[1]:void 0,bookTitle:s?s[1]:void 0,figures:l.length>0?l:void 0,rawContent:r,error:o}}}async function FE(r){try{const t=atob(r),a=JSON.parse(t);if(!a.endpoint||!a.apiKey)throw new Error("Invalid connection key format: missing endpoint or apiKey");return console.log("Decoded connection key successfully"),a}catch(t){throw console.error("Failed to decode connection key:",t),new Error("Failed to decode connection key. Please check the format.")}}const Wd=(r,t)=>t.some(a=>r instanceof a);let M0,U0;function YE(){return M0||(M0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GE(){return U0||(U0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eh=new WeakMap,Cd=new WeakMap,qo=new WeakMap;function XE(r){const t=new Promise((a,s)=>{const l=()=>{r.removeEventListener("success",o),r.removeEventListener("error",f)},o=()=>{a(Ur(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",o),r.addEventListener("error",f)});return qo.set(t,r),t}function QE(r){if(eh.has(r))return;const t=new Promise((a,s)=>{const l=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",f),r.removeEventListener("abort",f)},o=()=>{a(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",o),r.addEventListener("error",f),r.addEventListener("abort",f)});eh.set(r,t)}let th={get(r,t,a){if(r instanceof IDBTransaction){if(t==="done")return eh.get(r);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Ur(r[t])},set(r,t,a){return r[t]=a,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Pb(r){th=r(th)}function KE(r){return GE().includes(r)?function(...t){return r.apply(nh(this),t),Ur(this.request)}:function(...t){return Ur(r.apply(nh(this),t))}}function JE(r){return typeof r=="function"?KE(r):(r instanceof IDBTransaction&&QE(r),Wd(r,YE())?new Proxy(r,th):r)}function Ur(r){if(r instanceof IDBRequest)return XE(r);if(Cd.has(r))return Cd.get(r);const t=JE(r);return t!==r&&(Cd.set(r,t),qo.set(t,r)),t}const nh=r=>qo.get(r);function WE(r,t,{blocked:a,upgrade:s,blocking:l,terminated:o}={}){const f=indexedDB.open(r,t),d=Ur(f);return s&&f.addEventListener("upgradeneeded",m=>{s(Ur(f.result),m.oldVersion,m.newVersion,Ur(f.transaction),m)}),a&&f.addEventListener("blocked",m=>a(m.oldVersion,m.newVersion,m)),d.then(m=>{o&&m.addEventListener("close",()=>o()),l&&m.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const ek=["get","getKey","getAll","getAllKeys","count"],tk=["put","add","delete","clear"],Nd=new Map;function B0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Nd.get(t))return Nd.get(t);const a=t.replace(/FromIndex$/,""),s=t!==a,l=tk.includes(a);if(!(a in(s?IDBIndex:IDBObjectStore).prototype)||!(l||ek.includes(a)))return;const o=async function(f,...d){const m=this.transaction(f,l?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[a](...d),l&&m.done]))[0]};return Nd.set(t,o),o}Pb(r=>({...r,get:(t,a,s)=>B0(t,a)||r.get(t,a,s),has:(t,a)=>!!B0(t,a)||r.has(t,a)}));const nk=["continue","continuePrimaryKey","advance"],L0={},ah=new WeakMap,Zb=new WeakMap,ak={get(r,t){if(!nk.includes(t))return r[t];let a=L0[t];return a||(a=L0[t]=function(...s){ah.set(this,Zb.get(this)[t](...s))}),a}};async function*rk(...r){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...r)),!t)return;t=t;const a=new Proxy(t,ak);for(Zb.set(a,t),qo.set(a,nh(t));t;)yield a,t=await(ah.get(a)||t.continue()),ah.delete(a)}function P0(r,t){return t===Symbol.asyncIterator&&Wd(r,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Wd(r,[IDBIndex,IDBObjectStore])}Pb(r=>({...r,get(t,a,s){return P0(t,a)?rk:r.get(t,a,s)},has(t,a){return P0(t,a)||r.has(t,a)}}));const sk="ascension-db",ik=2;async function lk(){return WE(sk,ik,{upgrade(r,t){t<1&&(r.createObjectStore("series",{keyPath:"id"}).createIndex("by-date","createdAt"),r.createObjectStore("settings",{keyPath:"id"})),t<2&&console.log("Upgrading database to version 2: Adding flashcards support")}})}let Td;function Hr(){return Td||(Td=lk()),Td}async function Vo(r){await(await Hr()).put("series",r)}async function $b(){return(await Hr()).getAllFromIndex("series","by-date")}async function Hb(r){return(await Hr()).get("series",r)}async function Ib(r){await(await Hr()).delete("series",r)}async function Co(r){await(await Hr()).put("settings",{id:"connection",connectionKey:r})}async function Yh(){const t=await(await Hr()).get("settings","connection");return t==null?void 0:t.connectionKey}async function qb(){try{return await Hr(),!1}catch{return!0}}const uk=Object.freeze(Object.defineProperty({__proto__:null,deleteSeries:Ib,getAllSeries:$b,getConnectionKey:Yh,getSeries:Hb,isPrivateMode:qb,saveConnectionKey:Co,saveSeries:Vo},Symbol.toStringTag,{value:"Module"})),Vb=Z.createContext({endpoint:null,apiKey:null,isLoading:!0,error:null});function ok({children:r}){const[t,a]=Z.useState(null),[s,l]=Z.useState(null),[o,f]=Z.useState(!0),[d,m]=Z.useState(null);return Z.useEffect(()=>{async function p(){try{const g=await Yh();if(g){const y=await FE(g);a(y.endpoint),l(y.apiKey)}else m("Connection key not found")}catch(g){m("Failed to decode connection key"),console.error("Error loading Azure credentials:",g)}finally{f(!1)}}p()},[]),w.jsx(Vb.Provider,{value:{endpoint:t,apiKey:s,isLoading:o,error:d},children:r})}function Gh(){return Z.useContext(Vb)}const Fb=Z.createContext({draft:null,initializeDraft:()=>{},addPage:()=>"",updatePage:()=>{},removePage:()=>{},setSeriesName:()=>{},clearDraft:()=>{}});function ck({children:r}){const[t,a]=Z.useState(null),s=Z.useCallback(()=>{a({pages:[]})},[]),l=Z.useCallback(p=>{const g=ch();return a(y=>y?{...y,pages:[...y.pages,{...p,id:g}]}:{pages:[{...p,id:g}]}),g},[]),o=Z.useCallback((p,g)=>{console.log("Updating page:",p,"with data:",g),a(y=>y?y.pages.some(k=>k.id===p)?{...y,pages:y.pages.map(k=>{if(k.id===p){const _={...k,...g};return console.log("Page updated from:",k,"to:",_),_}return k})}:(console.error(`Cannot update page: page with ID ${p} not found`),console.log("Available pages:",y.pages.map(k=>k.id)),y):(console.error("Cannot update page: draft is null"),null))},[]),f=Z.useCallback(p=>{a(g=>g?{...g,pages:g.pages.filter(y=>y.id!==p)}:null)},[]),d=Z.useCallback(p=>{a(g=>g?{...g,name:p}:null)},[]),m=Z.useCallback(()=>{a(null)},[]);return w.jsx(Fb.Provider,{value:{draft:t,initializeDraft:s,addPage:l,updatePage:o,removePage:f,setSeriesName:d,clearDraft:m},children:r})}function Xh(){return Z.useContext(Fb)}class fk{constructor(){Tr(this,"processingQueue",[]);Tr(this,"isProcessing",!1);Tr(this,"maxConcurrent",2);Tr(this,"maxRetries",3);Tr(this,"currentlyProcessing",0)}enqueue(t,a,s,l,o,f){const d={id:t,imageData:a,retries:0,config:s,onComplete:l,onError:o,onStatusChange:f,status:"queued"};this.processingQueue.push(d),this.isProcessing||this.processQueue()}getStatus(){const t={queued:0,processing:0,completed:0,error:0};for(const a of this.processingQueue)a.status==="queued"&&t.queued++,a.status==="processing"&&t.processing++,a.status==="complete"&&t.completed++,a.status==="error"&&t.error++;return{...t,total:this.processingQueue.length}}retry(t){const a=this.processingQueue.findIndex(l=>l.id===t&&l.status==="error");if(a===-1)return!1;const s=this.processingQueue[a];return s.status="queued",s.onStatusChange&&s.onStatusChange(s.id,"queued"),s.retries=0,s.error=void 0,this.isProcessing||this.processQueue(),!0}clearCompleted(){this.processingQueue=this.processingQueue.filter(t=>t.status!=="complete")}async processQueue(){if(this.currentlyProcessing>=this.maxConcurrent)return;this.isProcessing=!0;const t=this.processingQueue.findIndex(s=>s.status==="queued");if(t===-1){this.currentlyProcessing===0&&(this.isProcessing=!1);return}const a=this.processingQueue[t];a.status="processing",a.onStatusChange&&a.onStatusChange(a.id,"processing"),this.currentlyProcessing++;try{const s=await VE(a.imageData,a.config),l=[];if(s.metadata&&s.metadata.figures){const o=s.metadata.figures;for(const f of o)f.description&&l.push(f.description)}a.status="complete",a.onStatusChange&&a.onStatusChange(a.id,"complete"),a.onComplete({id:a.id,text:s.text,imageDescriptions:l,meta:s.metadata||{}})}catch(s){console.error("Image processing error:",s);const l=s instanceof Error?s.message:"Unknown error";if(a.retries<this.maxRetries){a.retries++,a.status="queued",a.onStatusChange&&a.onStatusChange(a.id,"queued"),a.error=`Error: ${l}. Retry ${a.retries} of ${this.maxRetries}.`;const o=Math.pow(2,a.retries)*1e3;setTimeout(()=>{this.processQueue()},o)}else a.status="error",a.error=`Failed after ${this.maxRetries} attempts: ${l}`,a.onStatusChange&&a.onStatusChange(a.id,"error"),s instanceof Error?a.onError(s,a.id):a.onError(new Error(l),a.id)}finally{this.currentlyProcessing--,this.processQueue()}}}const Qh=new fk;function dk({onCapture:r,onError:t}){const a=Z.useRef(null),s=Z.useRef(null),[l,o]=Z.useState(null),[f,d]=Z.useState("environment"),[m,p]=Z.useState("prompt"),[g,y]=Z.useState(!1);Z.useEffect(()=>{async function _(){try{l&&l.getTracks().forEach(E=>E.stop());const C=await navigator.mediaDevices.getUserMedia({video:{facingMode:f,width:{ideal:1920},height:{ideal:1080}},audio:!1});o(C),p("granted"),a.current&&(a.current.srcObject=C)}catch(C){p("denied"),t(C instanceof Error?C:new Error("Failed to access camera"))}}return _(),()=>{l&&l.getTracks().forEach(C=>C.stop())}},[f,t]);const A=Z.useCallback(()=>{d(_=>_==="user"?"environment":"user")},[]),v=Z.useCallback(async()=>{if(l)try{const _=l.getVideoTracks()[0];if(!_.getCapabilities().torch){console.log("Flashlight not supported on this device");return}const E=!g;await _.applyConstraints({advanced:[{torch:E}]}),y(E)}catch(_){console.error("Error toggling flashlight:",_)}},[l,g]),k=Z.useCallback(()=>{if(!a.current||!s.current)return;const _=a.current,C=s.current;C.width=_.videoWidth,C.height=_.videoHeight;const E=C.getContext("2d");if(E){E.drawImage(_,0,0);try{const S=C.toDataURL("image/jpeg",.95).split(",")[1];r(S)}catch(S){t(S instanceof Error?S:new Error("Failed to capture image"))}}},[r,t]);return w.jsxs("div",{className:"camera-container w-full",children:[w.jsxs("div",{className:"relative rounded-lg overflow-hidden shadow-lg bg-gray-900",style:{height:"70vh",minHeight:"400px",position:"relative"},children:[w.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",style:{transform:f==="user"?"scaleX(-1)":"none"}}),"            ","                ",w.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex justify-center items-center space-x-8 py-6 px-4 bg-black bg-opacity-40 z-50",children:[w.jsx("button",{onClick:A,className:"flex items-center justify-center p-5 bg-blue-600 rounded-full hover:bg-blue-700 shadow-lg border-2 border-white transition-transform hover:scale-105 w-16 h-16 min-w-16 min-h-16","aria-label":"Switch camera",style:{boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),"                    ",w.jsx("button",{onClick:k,className:"flex items-center justify-center p-3 bg-white rounded-full hover:bg-gray-100 shadow-lg transform transition-transform hover:scale-105 w-28 h-28","aria-label":"Take photo",style:{boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:w.jsx("div",{className:"h-20 w-20 rounded-full border-4 border-gray-800 flex items-center justify-center",children:w.jsx("div",{className:"h-16 w-16 rounded-full bg-red-600"})})}),"                    ",w.jsx("button",{onClick:v,className:`flex items-center justify-center p-5 rounded-full shadow-lg transition-all hover:scale-105 border-2 border-white w-16 h-16 min-w-16 min-h-16 ${g?"bg-yellow-400 text-black":"bg-gray-800 text-white"}`,"aria-label":"Toggle flashlight",style:{boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})]})]}),m==="denied"&&w.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-md",children:[w.jsx("p",{className:"font-medium mb-2",children:"Camera Access Denied"}),w.jsx("p",{className:"mb-4",children:"Please allow camera access to use this feature."})]}),w.jsx("canvas",{ref:s,className:"hidden"})]})}function hk(){const{draft:r}=Xh(),[t,a]=Z.useState({queued:0,processing:0,completed:0,error:0,total:0});return Z.useEffect(()=>{const s=setInterval(()=>{a(Qh.getStatus())},1e3);return()=>clearInterval(s)},[]),!r||t.queued===0&&t.processing===0&&t.error===0?null:w.jsxs("div",{className:"fixed top-4 right-4 bg-gray-800 text-white p-3 rounded-lg shadow-lg max-w-xs opacity-80",children:[w.jsx("h4",{className:"font-medium text-sm mb-1",children:"Processing Status"}),w.jsxs("div",{className:"space-y-1 text-xs",children:[t.processing>0&&w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-t-2 border-b-2 border-blue-400 mr-2"}),w.jsxs("span",{children:["Processing: ",t.processing]})]}),t.queued>0&&w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full mr-2"}),w.jsxs("span",{children:["Queued: ",t.queued]})]}),t.completed>0&&w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full mr-2"}),w.jsxs("span",{children:["Completed: ",t.completed]})]}),t.error>0&&w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full mr-2"}),w.jsxs("span",{children:["Failed: ",t.error]})]})]}),t.processing>0||t.queued>0?w.jsx("p",{className:"text-xs mt-2 text-gray-300",children:"Processing images in the background. You can continue capturing more pages."}):null]})}function mk(){const r=To(),[t,a]=Z.useState("camera"),[s,l]=Z.useState(null),[o,f]=Z.useState(""),{draft:d,initializeDraft:m,addPage:p,updatePage:g}=Xh(),{endpoint:y,apiKey:A}=Gh();Z.useEffect(()=>{d||m()},[d,m]);const v=Z.useCallback(S=>{l(S),a("preview")},[]),k=Z.useCallback(()=>{l(null),a("camera")},[]),_=Z.useCallback(S=>{f(`Camera error: ${S.message}`),a("error")},[]),C=Z.useCallback(()=>{if(!s||!y||!A){f("Missing image data or Azure configuration"),a("error");return}const S=atob(s),R=new Array(S.length);for(let P=0;P<S.length;P++)R[P]=S.charCodeAt(P);const M=new Uint8Array(R),B=new Blob([M],{type:"image/jpeg"}),X=ch(),I=p({imageBlob:B,text:"",imageDescriptions:[],meta:{},status:"queued"});console.log("Added page with ID:",I,"Generated ID was:",X);const se={endpoint:y,apiKey:A};Qh.enqueue(I,s,se,P=>{console.log("Page processed successfully:",P),g(I,{text:P.text,imageDescriptions:P.imageDescriptions,meta:P.meta,status:"complete"})},(P,ee)=>{console.error("Error processing page:",P),g(ee,{error:P.message,status:"error"})},(P,ee)=>{console.log(`Status change for page ${P}: ${ee}`),g(I,{status:ee})}),l(null),a("camera")},[s,y,A,p,g]),E=Z.useCallback(()=>{r("/review")},[r]);return w.jsxs("div",{className:"max-w-2xl mx-auto w-full px-2",children:[w.jsx(hk,{}),t==="camera"&&w.jsx("div",{className:"w-full",children:w.jsx(dk,{onCapture:v,onError:_})}),t==="preview"&&s&&w.jsxs("div",{className:"space-y-4",children:[w.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-lg bg-gray-900 w-full",children:w.jsx("img",{src:`data:image/jpeg;base64,${s}`,alt:"Captured",className:"w-full object-contain"})}),w.jsxs("div",{className:"flex space-x-4",children:["                        ",w.jsx("button",{onClick:k,className:"flex-1 py-2 px-4 bg-gray-200 rounded-md hover:bg-gray-300",children:"Retake"}),w.jsx("button",{onClick:C,className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Use Photo"})]})]}),t==="processing"&&w.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[w.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary mb-4"}),w.jsx("p",{children:"Processing image with Azure GPT-4o..."})]}),t==="error"&&w.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-md",children:[w.jsx("p",{className:"font-medium mb-2",children:"Error"}),w.jsx("p",{className:"mb-4",children:o}),w.jsxs("div",{className:"mb-4",children:[w.jsx("p",{className:"text-sm text-gray-600 mb-2",children:w.jsx("strong",{children:"Troubleshooting:"})}),w.jsxs("ul",{className:"text-sm list-disc pl-5 text-gray-600",children:[w.jsx("li",{children:"Check if the connection key is valid"}),w.jsx("li",{children:"Verify the Azure OpenAI service is properly configured"}),w.jsx("li",{children:"Make sure your Azure OpenAI service has the GPT-4 model deployed"})]})]}),w.jsx("button",{onClick:()=>a("camera"),className:"py-2 px-4 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]}),d&&d.pages.length>0&&t!=="processing"&&w.jsx("div",{className:"mt-8 flex space-x-4",children:w.jsxs("button",{onClick:E,className:"flex-1 py-3 px-4 bg-green-600 text-white rounded-md hover:bg-green-700",children:["Finish Series (",d.pages.length," ",d.pages.length===1?"page":"pages",")"]})})]})}function pk(){const[r,t]=Z.useState([]),[a,s]=Z.useState(!0),[l,o]=Z.useState(null),f=Z.useCallback(async()=>{s(!0),o(null);try{const m=await $b();m.sort((p,g)=>new Date(g.createdAt).getTime()-new Date(p.createdAt).getTime()),t(m)}catch(m){o("Failed to load your series. Please try again."),console.error("Error loading series:",m)}finally{s(!1)}},[]);Z.useEffect(()=>{f()},[f]);const d=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return w.jsxs("div",{className:"pb-20",children:[" ",w.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-6",children:"Your Series"}),a&&w.jsx("div",{className:"flex justify-center my-12",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}),l&&w.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:[w.jsx("p",{children:l}),w.jsx("button",{onClick:f,className:"mt-2 text-sm font-medium text-red-700 underline",children:"Try Again"})]}),!a&&r.length===0&&!l&&w.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 px-4 py-8 rounded-md text-center",children:[w.jsx("p",{className:"mb-4",children:"You don't have any series yet."}),w.jsx("p",{children:'Tap the "New Series" button below to get started!'})]}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(m=>w.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:w.jsxs(ho,{to:`/series/${m.id}`,className:"block",children:[w.jsx("div",{className:"aspect-[4/3] bg-gray-200 relative",children:m.pages.length>0&&m.pages[0].imageBlob&&w.jsx("img",{src:URL.createObjectURL(m.pages[0].imageBlob),alt:`First page of ${m.name}`,className:"w-full h-full object-cover",onLoad:p=>{const g=p.target;setTimeout(()=>{g.src.startsWith("blob:")&&URL.revokeObjectURL(g.src)},1e3)}})}),w.jsxs("div",{className:"p-4",children:["                                ",w.jsx("h3",{className:"font-semibold text-lg mb-1 truncate",children:m.name}),w.jsxs("div",{className:"text-sm text-gray-500",children:[w.jsxs("div",{className:"flex justify-between mb-1",children:[w.jsxs("span",{children:[m.pages.length," ",m.pages.length===1?"page":"pages"]}),w.jsx("span",{children:d(m.createdAt)})]}),m.flashcards&&m.flashcards.length>0&&w.jsxs("div",{className:"text-primary-600 font-medium",children:[m.flashcards.length," flash card",m.flashcards.length!==1?"s":""]})]})]})]})},m.id))}),"            ",w.jsxs(ho,{to:"/capture",className:"fixed right-6 bottom-6 sm:right-8 sm:bottom-8 bg-primary text-white rounded-full shadow-xl p-5 sm:p-6 flex items-center justify-center hover:bg-primary-dark focus:outline-none focus:ring-3 focus:ring-primary focus:ring-offset-2 transition-transform hover:scale-105",style:{minWidth:"60px",minHeight:"60px"},"aria-label":"Create new series",children:[w.jsx("span",{className:"text-3xl",children:"➕"}),w.jsx("span",{className:"ml-3 hidden sm:inline text-lg font-medium",children:"New Series"})]})]})}const ta=new Map;async function gk(r,t,a,s,l,o){if(ta.has(r.id)){const f=ta.get(r.id);f==null||f.terminate(),ta.delete(r.id)}try{const f=new Worker(new URL("/ursa-minor-ascension/assets/flashCardWorker-BfU7c6aH.js",import.meta.url),{type:"module"});console.log("Worker created successfully"),ta.set(r.id,f),f.onmessage=m=>{var g;const p=m.data;switch(console.log("Worker response received:",p),p.type){case"status":p.status&&(console.log("Status update:",p.status),s(p.status));break;case"complete":console.log("Generation complete, received cards:",(g=p.flashcards)==null?void 0:g.length),p.flashcards&&(l(p.flashcards),f.terminate(),ta.delete(r.id));break;case"error":o(p.error||"Unknown error occurred"),f.terminate(),ta.delete(r.id);break}},f.onerror=m=>{console.error("Worker error:",m),o(`Worker error: ${m.message||"Unknown worker error"}`),f.terminate(),ta.delete(r.id)};const d={type:"generate",series:r,config:t,request:a};console.log("Sending message to worker:",d.type),f.postMessage(d),console.log("Message sent to worker")}catch(f){o(f instanceof Error?f.message:"Failed to start flash card generation")}}async function yk(r,t,a){const{getSeries:s}=await $0(async()=>{const{getSeries:f}=await Promise.resolve().then(()=>uk);return{getSeries:f}},[]),l=await s(r);if(!l)throw new Error("Series not found");const o={...l,flashcards:t,flashcardStatus:a};return await Vo(o),o}function vk(r){if(ta.has(r)){const t=ta.get(r);t==null||t.terminate(),ta.delete(r),console.log(`Canceled flash card generation for series ${r}`)}}function eo(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Rd={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Z0;function bk(){return Z0||(Z0=1,function(r,t){(function(a){r.exports=a()})(function(){return function a(s,l,o){function f(p,g){if(!l[p]){if(!s[p]){var y=typeof eo=="function"&&eo;if(!g&&y)return y(p,!0);if(d)return d(p,!0);var A=new Error("Cannot find module '"+p+"'");throw A.code="MODULE_NOT_FOUND",A}var v=l[p]={exports:{}};s[p][0].call(v.exports,function(k){var _=s[p][1][k];return f(_||k)},v,v.exports,a,s,l,o)}return l[p].exports}for(var d=typeof eo=="function"&&eo,m=0;m<o.length;m++)f(o[m]);return f}({1:[function(a,s,l){var o=a("./utils"),f=a("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(m){for(var p,g,y,A,v,k,_,C=[],E=0,S=m.length,R=S,M=o.getTypeOf(m)!=="string";E<m.length;)R=S-E,y=M?(p=m[E++],g=E<S?m[E++]:0,E<S?m[E++]:0):(p=m.charCodeAt(E++),g=E<S?m.charCodeAt(E++):0,E<S?m.charCodeAt(E++):0),A=p>>2,v=(3&p)<<4|g>>4,k=1<R?(15&g)<<2|y>>6:64,_=2<R?63&y:64,C.push(d.charAt(A)+d.charAt(v)+d.charAt(k)+d.charAt(_));return C.join("")},l.decode=function(m){var p,g,y,A,v,k,_=0,C=0,E="data:";if(m.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var S,R=3*(m=m.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(m.charAt(m.length-1)===d.charAt(64)&&R--,m.charAt(m.length-2)===d.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=f.uint8array?new Uint8Array(0|R):new Array(0|R);_<m.length;)p=d.indexOf(m.charAt(_++))<<2|(A=d.indexOf(m.charAt(_++)))>>4,g=(15&A)<<4|(v=d.indexOf(m.charAt(_++)))>>2,y=(3&v)<<6|(k=d.indexOf(m.charAt(_++))),S[C++]=p,v!==64&&(S[C++]=g),k!==64&&(S[C++]=y);return S}},{"./support":30,"./utils":32}],2:[function(a,s,l){var o=a("./external"),f=a("./stream/DataWorker"),d=a("./stream/Crc32Probe"),m=a("./stream/DataLengthProbe");function p(g,y,A,v,k){this.compressedSize=g,this.uncompressedSize=y,this.crc32=A,this.compression=v,this.compressedContent=k}p.prototype={getContentWorker:function(){var g=new f(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new m("data_length")),y=this;return g.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new f(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(g,y,A){return g.pipe(new d).pipe(new m("uncompressedSize")).pipe(y.compressWorker(A)).pipe(new m("compressedSize")).withStreamInfo("compression",y)},s.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(a,s,l){var o=a("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},l.DEFLATE=a("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(a,s,l){var o=a("./utils"),f=function(){for(var d,m=[],p=0;p<256;p++){d=p;for(var g=0;g<8;g++)d=1&d?3988292384^d>>>1:d>>>1;m[p]=d}return m}();s.exports=function(d,m){return d!==void 0&&d.length?o.getTypeOf(d)!=="string"?function(p,g,y,A){var v=f,k=A+y;p^=-1;for(var _=A;_<k;_++)p=p>>>8^v[255&(p^g[_])];return-1^p}(0|m,d,d.length,0):function(p,g,y,A){var v=f,k=A+y;p^=-1;for(var _=A;_<k;_++)p=p>>>8^v[255&(p^g.charCodeAt(_))];return-1^p}(0|m,d,d.length,0):0}},{"./utils":32}],5:[function(a,s,l){l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(a,s,l){var o=null;o=typeof Promise<"u"?Promise:a("lie"),s.exports={Promise:o}},{lie:37}],7:[function(a,s,l){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",f=a("pako"),d=a("./utils"),m=a("./stream/GenericWorker"),p=o?"uint8array":"array";function g(y,A){m.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=A,this.meta={}}l.magic="\b\0",d.inherits(g,m),g.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(p,y.data),!1)},g.prototype.flush=function(){m.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(A){y.push({data:A,meta:y.meta})}},l.compressWorker=function(y){return new g("Deflate",y)},l.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(a,s,l){function o(v,k){var _,C="";for(_=0;_<k;_++)C+=String.fromCharCode(255&v),v>>>=8;return C}function f(v,k,_,C,E,S){var R,M,B=v.file,X=v.compression,I=S!==p.utf8encode,se=d.transformTo("string",S(B.name)),P=d.transformTo("string",p.utf8encode(B.name)),ee=B.comment,de=d.transformTo("string",S(ee)),z=d.transformTo("string",p.utf8encode(ee)),ae=P.length!==B.name.length,N=z.length!==ee.length,ne="",F="",Y="",be=B.dir,ce=B.date,D={crc32:0,compressedSize:0,uncompressedSize:0};k&&!_||(D.crc32=v.crc32,D.compressedSize=v.compressedSize,D.uncompressedSize=v.uncompressedSize);var U=0;k&&(U|=8),I||!ae&&!N||(U|=2048);var $=0,ie=0;be&&($|=16),E==="UNIX"?(ie=798,$|=function(me,Ae){var et=me;return me||(et=Ae?16893:33204),(65535&et)<<16}(B.unixPermissions,be)):(ie=20,$|=function(me){return 63&(me||0)}(B.dosPermissions)),R=ce.getUTCHours(),R<<=6,R|=ce.getUTCMinutes(),R<<=5,R|=ce.getUTCSeconds()/2,M=ce.getUTCFullYear()-1980,M<<=4,M|=ce.getUTCMonth()+1,M<<=5,M|=ce.getUTCDate(),ae&&(F=o(1,1)+o(g(se),4)+P,ne+="up"+o(F.length,2)+F),N&&(Y=o(1,1)+o(g(de),4)+z,ne+="uc"+o(Y.length,2)+Y);var ue="";return ue+=`
\0`,ue+=o(U,2),ue+=X.magic,ue+=o(R,2),ue+=o(M,2),ue+=o(D.crc32,4),ue+=o(D.compressedSize,4),ue+=o(D.uncompressedSize,4),ue+=o(se.length,2),ue+=o(ne.length,2),{fileRecord:y.LOCAL_FILE_HEADER+ue+se+ne,dirRecord:y.CENTRAL_FILE_HEADER+o(ie,2)+ue+o(de.length,2)+"\0\0\0\0"+o($,4)+o(C,4)+se+ne+de}}var d=a("../utils"),m=a("../stream/GenericWorker"),p=a("../utf8"),g=a("../crc32"),y=a("../signature");function A(v,k,_,C){m.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=k,this.zipPlatform=_,this.encodeFileName=C,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(A,m),A.prototype.push=function(v){var k=v.meta.percent||0,_=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,m.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:_?(k+100*(_-C-1))/_:100}}))},A.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var k=this.streamFiles&&!v.file.dir;if(k){var _=f(v,k,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:_.fileRecord,meta:{percent:0}})}else this.accumulate=!0},A.prototype.closedSource=function(v){this.accumulate=!1;var k=this.streamFiles&&!v.file.dir,_=f(v,k,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(_.dirRecord),k)this.push({data:function(C){return y.DATA_DESCRIPTOR+o(C.crc32,4)+o(C.compressedSize,4)+o(C.uncompressedSize,4)}(v),meta:{percent:100}});else for(this.push({data:_.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},A.prototype.flush=function(){for(var v=this.bytesWritten,k=0;k<this.dirRecords.length;k++)this.push({data:this.dirRecords[k],meta:{percent:100}});var _=this.bytesWritten-v,C=function(E,S,R,M,B){var X=d.transformTo("string",B(M));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(E,2)+o(E,2)+o(S,4)+o(R,4)+o(X.length,2)+X}(this.dirRecords.length,_,v,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},A.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},A.prototype.registerPrevious=function(v){this._sources.push(v);var k=this;return v.on("data",function(_){k.processChunk(_)}),v.on("end",function(){k.closedSource(k.previous.streamInfo),k._sources.length?k.prepareNextSource():k.end()}),v.on("error",function(_){k.error(_)}),this},A.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},A.prototype.error=function(v){var k=this._sources;if(!m.prototype.error.call(this,v))return!1;for(var _=0;_<k.length;_++)try{k[_].error(v)}catch{}return!0},A.prototype.lock=function(){m.prototype.lock.call(this);for(var v=this._sources,k=0;k<v.length;k++)v[k].lock()},s.exports=A},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(a,s,l){var o=a("../compressions"),f=a("./ZipFileWorker");l.generateWorker=function(d,m,p){var g=new f(m.streamFiles,p,m.platform,m.encodeFileName),y=0;try{d.forEach(function(A,v){y++;var k=function(S,R){var M=S||R,B=o[M];if(!B)throw new Error(M+" is not a valid compression method !");return B}(v.options.compression,m.compression),_=v.options.compressionOptions||m.compressionOptions||{},C=v.dir,E=v.date;v._compressWorker(k,_).withStreamInfo("file",{name:A,dir:C,date:E,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(g)}),g.entriesCount=y}catch(A){g.error(A)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(a,s,l){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new o;for(var d in this)typeof this[d]!="function"&&(f[d]=this[d]);return f}}(o.prototype=a("./object")).loadAsync=a("./load"),o.support=a("./support"),o.defaults=a("./defaults"),o.version="3.10.1",o.loadAsync=function(f,d){return new o().loadAsync(f,d)},o.external=a("./external"),s.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(a,s,l){var o=a("./utils"),f=a("./external"),d=a("./utf8"),m=a("./zipEntries"),p=a("./stream/Crc32Probe"),g=a("./nodejsUtils");function y(A){return new f.Promise(function(v,k){var _=A.decompressed.getContentWorker().pipe(new p);_.on("error",function(C){k(C)}).on("end",function(){_.streamInfo.crc32!==A.decompressed.crc32?k(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}s.exports=function(A,v){var k=this;return v=o.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),g.isNode&&g.isStream(A)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",A,!0,v.optimizedBinaryString,v.base64).then(function(_){var C=new m(v);return C.load(_),C}).then(function(_){var C=[f.Promise.resolve(_)],E=_.files;if(v.checkCRC32)for(var S=0;S<E.length;S++)C.push(y(E[S]));return f.Promise.all(C)}).then(function(_){for(var C=_.shift(),E=C.files,S=0;S<E.length;S++){var R=E[S],M=R.fileNameStr,B=o.resolve(R.fileNameStr);k.file(B,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:v.createFolders}),R.dir||(k.file(B).unsafeOriginalName=M)}return C.zipComment.length&&(k.comment=C.zipComment),k})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(a,s,l){var o=a("../utils"),f=a("../stream/GenericWorker");function d(m,p){f.call(this,"Nodejs stream input adapter for "+m),this._upstreamEnded=!1,this._bindStream(p)}o.inherits(d,f),d.prototype._bindStream=function(m){var p=this;(this._stream=m).pause(),m.on("data",function(g){p.push({data:g,meta:{percent:0}})}).on("error",function(g){p.isPaused?this.generatedError=g:p.error(g)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},d.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(a,s,l){var o=a("readable-stream").Readable;function f(d,m,p){o.call(this,m),this._helper=d;var g=this;d.on("data",function(y,A){g.push(y)||g._helper.pause(),p&&p(A)}).on("error",function(y){g.emit("error",y)}).on("end",function(){g.push(null)})}a("../utils").inherits(f,o),f.prototype._read=function(){this._helper.resume()},s.exports=f},{"../utils":32,"readable-stream":16}],14:[function(a,s,l){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,f);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,f)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var f=new Buffer(o);return f.fill(0),f},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(a,s,l){function o(B,X,I){var se,P=d.getTypeOf(X),ee=d.extend(I||{},g);ee.date=ee.date||new Date,ee.compression!==null&&(ee.compression=ee.compression.toUpperCase()),typeof ee.unixPermissions=="string"&&(ee.unixPermissions=parseInt(ee.unixPermissions,8)),ee.unixPermissions&&16384&ee.unixPermissions&&(ee.dir=!0),ee.dosPermissions&&16&ee.dosPermissions&&(ee.dir=!0),ee.dir&&(B=E(B)),ee.createFolders&&(se=C(B))&&S.call(this,se,!0);var de=P==="string"&&ee.binary===!1&&ee.base64===!1;I&&I.binary!==void 0||(ee.binary=!de),(X instanceof y&&X.uncompressedSize===0||ee.dir||!X||X.length===0)&&(ee.base64=!1,ee.binary=!0,X="",ee.compression="STORE",P="string");var z=null;z=X instanceof y||X instanceof m?X:k.isNode&&k.isStream(X)?new _(B,X):d.prepareContent(B,X,ee.binary,ee.optimizedBinaryString,ee.base64);var ae=new A(B,z,ee);this.files[B]=ae}var f=a("./utf8"),d=a("./utils"),m=a("./stream/GenericWorker"),p=a("./stream/StreamHelper"),g=a("./defaults"),y=a("./compressedObject"),A=a("./zipObject"),v=a("./generate"),k=a("./nodejsUtils"),_=a("./nodejs/NodejsStreamInputAdapter"),C=function(B){B.slice(-1)==="/"&&(B=B.substring(0,B.length-1));var X=B.lastIndexOf("/");return 0<X?B.substring(0,X):""},E=function(B){return B.slice(-1)!=="/"&&(B+="/"),B},S=function(B,X){return X=X!==void 0?X:g.createFolders,B=E(B),this.files[B]||o.call(this,B,null,{dir:!0,createFolders:X}),this.files[B]};function R(B){return Object.prototype.toString.call(B)==="[object RegExp]"}var M={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(B){var X,I,se;for(X in this.files)se=this.files[X],(I=X.slice(this.root.length,X.length))&&X.slice(0,this.root.length)===this.root&&B(I,se)},filter:function(B){var X=[];return this.forEach(function(I,se){B(I,se)&&X.push(se)}),X},file:function(B,X,I){if(arguments.length!==1)return B=this.root+B,o.call(this,B,X,I),this;if(R(B)){var se=B;return this.filter(function(ee,de){return!de.dir&&se.test(ee)})}var P=this.files[this.root+B];return P&&!P.dir?P:null},folder:function(B){if(!B)return this;if(R(B))return this.filter(function(P,ee){return ee.dir&&B.test(P)});var X=this.root+B,I=S.call(this,X),se=this.clone();return se.root=I.name,se},remove:function(B){B=this.root+B;var X=this.files[B];if(X||(B.slice(-1)!=="/"&&(B+="/"),X=this.files[B]),X&&!X.dir)delete this.files[B];else for(var I=this.filter(function(P,ee){return ee.name.slice(0,B.length)===B}),se=0;se<I.length;se++)delete this.files[I[se].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(B){var X,I={};try{if((I=d.extend(B||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");d.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var se=I.comment||this.comment||"";X=v.generateWorker(this,I,se)}catch(P){(X=new m("error")).error(P)}return new p(X,I.type||"string",I.mimeType)},generateAsync:function(B,X){return this.generateInternalStream(B).accumulate(X)},generateNodeStream:function(B,X){return(B=B||{}).type||(B.type="nodebuffer"),this.generateInternalStream(B).toNodejsStream(X)}};s.exports=M},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(a,s,l){s.exports=a("stream")},{stream:void 0}],17:[function(a,s,l){var o=a("./DataReader");function f(d){o.call(this,d);for(var m=0;m<this.data.length;m++)d[m]=255&d[m]}a("../utils").inherits(f,o),f.prototype.byteAt=function(d){return this.data[this.zero+d]},f.prototype.lastIndexOfSignature=function(d){for(var m=d.charCodeAt(0),p=d.charCodeAt(1),g=d.charCodeAt(2),y=d.charCodeAt(3),A=this.length-4;0<=A;--A)if(this.data[A]===m&&this.data[A+1]===p&&this.data[A+2]===g&&this.data[A+3]===y)return A-this.zero;return-1},f.prototype.readAndCheckSignature=function(d){var m=d.charCodeAt(0),p=d.charCodeAt(1),g=d.charCodeAt(2),y=d.charCodeAt(3),A=this.readData(4);return m===A[0]&&p===A[1]&&g===A[2]&&y===A[3]},f.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var m=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,m},s.exports=f},{"../utils":32,"./DataReader":18}],18:[function(a,s,l){var o=a("../utils");function f(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var m,p=0;for(this.checkOffset(d),m=this.index+d-1;m>=this.index;m--)p=(p<<8)+this.byteAt(m);return this.index+=d,p},readString:function(d){return o.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},s.exports=f},{"../utils":32}],19:[function(a,s,l){var o=a("./Uint8ArrayReader");function f(d){o.call(this,d)}a("../utils").inherits(f,o),f.prototype.readData=function(d){this.checkOffset(d);var m=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,m},s.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(a,s,l){var o=a("./DataReader");function f(d){o.call(this,d)}a("../utils").inherits(f,o),f.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},f.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},f.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},f.prototype.readData=function(d){this.checkOffset(d);var m=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,m},s.exports=f},{"../utils":32,"./DataReader":18}],21:[function(a,s,l){var o=a("./ArrayReader");function f(d){o.call(this,d)}a("../utils").inherits(f,o),f.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var m=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,m},s.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(a,s,l){var o=a("../utils"),f=a("../support"),d=a("./ArrayReader"),m=a("./StringReader"),p=a("./NodeBufferReader"),g=a("./Uint8ArrayReader");s.exports=function(y){var A=o.getTypeOf(y);return o.checkSupport(A),A!=="string"||f.uint8array?A==="nodebuffer"?new p(y):f.uint8array?new g(o.transformTo("uint8array",y)):new d(o.transformTo("array",y)):new m(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(a,s,l){l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(a,s,l){var o=a("./GenericWorker"),f=a("../utils");function d(m){o.call(this,"ConvertWorker to "+m),this.destType=m}f.inherits(d,o),d.prototype.processChunk=function(m){this.push({data:f.transformTo(this.destType,m.data),meta:m.meta})},s.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(a,s,l){var o=a("./GenericWorker"),f=a("../crc32");function d(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a("../utils").inherits(d,o),d.prototype.processChunk=function(m){this.streamInfo.crc32=f(m.data,this.streamInfo.crc32||0),this.push(m)},s.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(a,s,l){var o=a("../utils"),f=a("./GenericWorker");function d(m){f.call(this,"DataLengthProbe for "+m),this.propName=m,this.withStreamInfo(m,0)}o.inherits(d,f),d.prototype.processChunk=function(m){if(m){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+m.data.length}f.prototype.processChunk.call(this,m)},s.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(a,s,l){var o=a("../utils"),f=a("./GenericWorker");function d(m){f.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,m.then(function(g){p.dataIsReady=!0,p.data=g,p.max=g&&g.length||0,p.type=o.getTypeOf(g),p.isPaused||p._tickAndRepeat()},function(g){p.error(g)})}o.inherits(d,f),d.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var m=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":m=this.data.substring(this.index,p);break;case"uint8array":m=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":m=this.data.slice(this.index,p)}return this.index=p,this.push({data:m,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(a,s,l){function o(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,d){return this._listeners[f].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,d){if(this._listeners[f])for(var m=0;m<this._listeners[f].length;m++)this._listeners[f][m].call(this,d)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var d=this;return f.on("data",function(m){d.processChunk(m)}),f.on("end",function(){d.end()}),f.on("error",function(m){d.error(m)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,d){return this.extraStreamInfo[f]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},s.exports=o},{}],29:[function(a,s,l){var o=a("../utils"),f=a("./ConvertWorker"),d=a("./GenericWorker"),m=a("../base64"),p=a("../support"),g=a("../external"),y=null;if(p.nodestream)try{y=a("../nodejs/NodejsStreamOutputAdapter")}catch{}function A(k,_){return new g.Promise(function(C,E){var S=[],R=k._internalType,M=k._outputType,B=k._mimeType;k.on("data",function(X,I){S.push(X),_&&_(I)}).on("error",function(X){S=[],E(X)}).on("end",function(){try{var X=function(I,se,P){switch(I){case"blob":return o.newBlob(o.transformTo("arraybuffer",se),P);case"base64":return m.encode(se);default:return o.transformTo(I,se)}}(M,function(I,se){var P,ee=0,de=null,z=0;for(P=0;P<se.length;P++)z+=se[P].length;switch(I){case"string":return se.join("");case"array":return Array.prototype.concat.apply([],se);case"uint8array":for(de=new Uint8Array(z),P=0;P<se.length;P++)de.set(se[P],ee),ee+=se[P].length;return de;case"nodebuffer":return Buffer.concat(se);default:throw new Error("concat : unsupported type '"+I+"'")}}(R,S),B);C(X)}catch(I){E(I)}S=[]}).resume()})}function v(k,_,C){var E=_;switch(_){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=_,this._mimeType=C,o.checkSupport(E),this._worker=k.pipe(new f(E)),k.lock()}catch(S){this._worker=new d("error"),this._worker.error(S)}}v.prototype={accumulate:function(k){return A(this,k)},on:function(k,_){var C=this;return k==="data"?this._worker.on(k,function(E){_.call(C,E.data,E.meta)}):this._worker.on(k,function(){o.delay(_,arguments,C)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},k)}},s.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(a,s,l){if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var o=new ArrayBuffer(0);try{l.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(o),l.blob=f.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!a("readable-stream").Readable}catch{l.nodestream=!1}},{"readable-stream":16}],31:[function(a,s,l){for(var o=a("./utils"),f=a("./support"),d=a("./nodejsUtils"),m=a("./stream/GenericWorker"),p=new Array(256),g=0;g<256;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;p[254]=p[254]=1;function y(){m.call(this,"utf-8 decode"),this.leftOver=null}function A(){m.call(this,"utf-8 encode")}l.utf8encode=function(v){return f.nodebuffer?d.newBufferFrom(v,"utf-8"):function(k){var _,C,E,S,R,M=k.length,B=0;for(S=0;S<M;S++)(64512&(C=k.charCodeAt(S)))==55296&&S+1<M&&(64512&(E=k.charCodeAt(S+1)))==56320&&(C=65536+(C-55296<<10)+(E-56320),S++),B+=C<128?1:C<2048?2:C<65536?3:4;for(_=f.uint8array?new Uint8Array(B):new Array(B),S=R=0;R<B;S++)(64512&(C=k.charCodeAt(S)))==55296&&S+1<M&&(64512&(E=k.charCodeAt(S+1)))==56320&&(C=65536+(C-55296<<10)+(E-56320),S++),C<128?_[R++]=C:(C<2048?_[R++]=192|C>>>6:(C<65536?_[R++]=224|C>>>12:(_[R++]=240|C>>>18,_[R++]=128|C>>>12&63),_[R++]=128|C>>>6&63),_[R++]=128|63&C);return _}(v)},l.utf8decode=function(v){return f.nodebuffer?o.transformTo("nodebuffer",v).toString("utf-8"):function(k){var _,C,E,S,R=k.length,M=new Array(2*R);for(_=C=0;_<R;)if((E=k[_++])<128)M[C++]=E;else if(4<(S=p[E]))M[C++]=65533,_+=S-1;else{for(E&=S===2?31:S===3?15:7;1<S&&_<R;)E=E<<6|63&k[_++],S--;1<S?M[C++]=65533:E<65536?M[C++]=E:(E-=65536,M[C++]=55296|E>>10&1023,M[C++]=56320|1023&E)}return M.length!==C&&(M.subarray?M=M.subarray(0,C):M.length=C),o.applyFromCharCode(M)}(v=o.transformTo(f.uint8array?"uint8array":"array",v))},o.inherits(y,m),y.prototype.processChunk=function(v){var k=o.transformTo(f.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var _=k;(k=new Uint8Array(_.length+this.leftOver.length)).set(this.leftOver,0),k.set(_,this.leftOver.length)}else k=this.leftOver.concat(k);this.leftOver=null}var C=function(S,R){var M;for((R=R||S.length)>S.length&&(R=S.length),M=R-1;0<=M&&(192&S[M])==128;)M--;return M<0||M===0?R:M+p[S[M]]>R?M:R}(k),E=k;C!==k.length&&(f.uint8array?(E=k.subarray(0,C),this.leftOver=k.subarray(C,k.length)):(E=k.slice(0,C),this.leftOver=k.slice(C,k.length))),this.push({data:l.utf8decode(E),meta:v.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=y,o.inherits(A,m),A.prototype.processChunk=function(v){this.push({data:l.utf8encode(v.data),meta:v.meta})},l.Utf8EncodeWorker=A},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(a,s,l){var o=a("./support"),f=a("./base64"),d=a("./nodejsUtils"),m=a("./external");function p(_){return _}function g(_,C){for(var E=0;E<_.length;++E)C[E]=255&_.charCodeAt(E);return C}a("setimmediate"),l.newBlob=function(_,C){l.checkSupport("blob");try{return new Blob([_],{type:C})}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return E.append(_),E.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(_,C,E){var S=[],R=0,M=_.length;if(M<=E)return String.fromCharCode.apply(null,_);for(;R<M;)C==="array"||C==="nodebuffer"?S.push(String.fromCharCode.apply(null,_.slice(R,Math.min(R+E,M)))):S.push(String.fromCharCode.apply(null,_.subarray(R,Math.min(R+E,M)))),R+=E;return S.join("")},stringifyByChar:function(_){for(var C="",E=0;E<_.length;E++)C+=String.fromCharCode(_[E]);return C},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}}()}};function A(_){var C=65536,E=l.getTypeOf(_),S=!0;if(E==="uint8array"?S=y.applyCanBeUsed.uint8array:E==="nodebuffer"&&(S=y.applyCanBeUsed.nodebuffer),S)for(;1<C;)try{return y.stringifyByChunk(_,E,C)}catch{C=Math.floor(C/2)}return y.stringifyByChar(_)}function v(_,C){for(var E=0;E<_.length;E++)C[E]=_[E];return C}l.applyFromCharCode=A;var k={};k.string={string:p,array:function(_){return g(_,new Array(_.length))},arraybuffer:function(_){return k.string.uint8array(_).buffer},uint8array:function(_){return g(_,new Uint8Array(_.length))},nodebuffer:function(_){return g(_,d.allocBuffer(_.length))}},k.array={string:A,array:p,arraybuffer:function(_){return new Uint8Array(_).buffer},uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return d.newBufferFrom(_)}},k.arraybuffer={string:function(_){return A(new Uint8Array(_))},array:function(_){return v(new Uint8Array(_),new Array(_.byteLength))},arraybuffer:p,uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return d.newBufferFrom(new Uint8Array(_))}},k.uint8array={string:A,array:function(_){return v(_,new Array(_.length))},arraybuffer:function(_){return _.buffer},uint8array:p,nodebuffer:function(_){return d.newBufferFrom(_)}},k.nodebuffer={string:A,array:function(_){return v(_,new Array(_.length))},arraybuffer:function(_){return k.nodebuffer.uint8array(_).buffer},uint8array:function(_){return v(_,new Uint8Array(_.length))},nodebuffer:p},l.transformTo=function(_,C){if(C=C||"",!_)return C;l.checkSupport(_);var E=l.getTypeOf(C);return k[E][_](C)},l.resolve=function(_){for(var C=_.split("/"),E=[],S=0;S<C.length;S++){var R=C[S];R==="."||R===""&&S!==0&&S!==C.length-1||(R===".."?E.pop():E.push(R))}return E.join("/")},l.getTypeOf=function(_){return typeof _=="string"?"string":Object.prototype.toString.call(_)==="[object Array]"?"array":o.nodebuffer&&d.isBuffer(_)?"nodebuffer":o.uint8array&&_ instanceof Uint8Array?"uint8array":o.arraybuffer&&_ instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(_){if(!o[_.toLowerCase()])throw new Error(_+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(_){var C,E,S="";for(E=0;E<(_||"").length;E++)S+="\\x"+((C=_.charCodeAt(E))<16?"0":"")+C.toString(16).toUpperCase();return S},l.delay=function(_,C,E){setImmediate(function(){_.apply(E||null,C||[])})},l.inherits=function(_,C){function E(){}E.prototype=C.prototype,_.prototype=new E},l.extend=function(){var _,C,E={};for(_=0;_<arguments.length;_++)for(C in arguments[_])Object.prototype.hasOwnProperty.call(arguments[_],C)&&E[C]===void 0&&(E[C]=arguments[_][C]);return E},l.prepareContent=function(_,C,E,S,R){return m.Promise.resolve(C).then(function(M){return o.blob&&(M instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(M))!==-1)&&typeof FileReader<"u"?new m.Promise(function(B,X){var I=new FileReader;I.onload=function(se){B(se.target.result)},I.onerror=function(se){X(se.target.error)},I.readAsArrayBuffer(M)}):M}).then(function(M){var B=l.getTypeOf(M);return B?(B==="arraybuffer"?M=l.transformTo("uint8array",M):B==="string"&&(R?M=f.decode(M):E&&S!==!0&&(M=function(X){return g(X,o.uint8array?new Uint8Array(X.length):new Array(X.length))}(M))),M):m.Promise.reject(new Error("Can't read the data of '"+_+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(a,s,l){var o=a("./reader/readerFor"),f=a("./utils"),d=a("./signature"),m=a("./zipEntry"),p=a("./support");function g(y){this.files=[],this.loadOptions=y}g.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var A=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(A)+", expected "+f.pretty(y)+")")}},isSignature:function(y,A){var v=this.reader.index;this.reader.setIndex(y);var k=this.reader.readString(4)===A;return this.reader.setIndex(v),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),A=p.uint8array?"uint8array":"array",v=f.transformTo(A,y);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,A,v,k=this.zip64EndOfCentralSize-44;0<k;)y=this.reader.readInt(2),A=this.reader.readInt(4),v=this.reader.readData(A),this.zip64ExtensibleData[y]={id:y,length:A,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,A;for(y=0;y<this.files.length;y++)A=this.files[y],this.reader.setIndex(A.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),A.readLocalPart(this.reader),A.handleUTF8(),A.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(y=new m({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var A=y;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var k=A-v;if(0<k)this.isSignature(A,d.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(y){this.reader=o(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(a,s,l){var o=a("./reader/readerFor"),f=a("./utils"),d=a("./compressedObject"),m=a("./crc32"),p=a("./utf8"),g=a("./compressions"),y=a("./support");function A(v,k){this.options=v,this.loadOptions=k}A.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var k,_;if(v.skip(22),this.fileNameLength=v.readInt(2),_=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(_),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((k=function(C){for(var E in g)if(Object.prototype.hasOwnProperty.call(g,E)&&g[E].magic===C)return g[E];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,k,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var k=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(k),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=o(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var k,_,C,E=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<E;)k=v.readInt(2),_=v.readInt(2),C=v.readData(_),this.extraFields[k]={id:k,length:_,value:C};v.setIndex(E)},handleUTF8:function(){var v=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var k=this.findExtraFieldUnicodePath();if(k!==null)this.fileNameStr=k;else{var _=f.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var E=f.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var k=o(v.value);return k.readInt(1)!==1||m(this.fileName)!==k.readInt(4)?null:p.utf8decode(k.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var k=o(v.value);return k.readInt(1)!==1||m(this.fileComment)!==k.readInt(4)?null:p.utf8decode(k.readData(v.length-5))}return null}},s.exports=A},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(a,s,l){function o(k,_,C){this.name=k,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=_,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var f=a("./stream/StreamHelper"),d=a("./stream/DataWorker"),m=a("./utf8"),p=a("./compressedObject"),g=a("./stream/GenericWorker");o.prototype={internalStream:function(k){var _=null,C="string";try{if(!k)throw new Error("No output type specified.");var E=(C=k.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),_=this._decompressWorker();var S=!this._dataBinary;S&&!E&&(_=_.pipe(new m.Utf8EncodeWorker)),!S&&E&&(_=_.pipe(new m.Utf8DecodeWorker))}catch(R){(_=new g("error")).error(R)}return new f(_,C,"")},async:function(k,_){return this.internalStream(k).accumulate(_)},nodeStream:function(k,_){return this.internalStream(k||"nodebuffer").toNodejsStream(_)},_compressWorker:function(k,_){if(this._data instanceof p&&this._data.compression.magic===k.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new m.Utf8EncodeWorker)),p.createWorkerFrom(C,k,_)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof g?this._data:new d(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],A=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<y.length;v++)o.prototype[y[v]]=A;s.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(a,s,l){(function(o){var f,d,m=o.MutationObserver||o.WebKitMutationObserver;if(m){var p=0,g=new m(k),y=o.document.createTextNode("");g.observe(y,{characterData:!0}),f=function(){y.data=p=++p%2}}else if(o.setImmediate||o.MessageChannel===void 0)f="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var _=o.document.createElement("script");_.onreadystatechange=function(){k(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},o.document.documentElement.appendChild(_)}:function(){setTimeout(k,0)};else{var A=new o.MessageChannel;A.port1.onmessage=k,f=function(){A.port2.postMessage(0)}}var v=[];function k(){var _,C;d=!0;for(var E=v.length;E;){for(C=v,v=[],_=-1;++_<E;)C[_]();E=v.length}d=!1}s.exports=function(_){v.push(_)!==1||d||f()}}).call(this,typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(a,s,l){var o=a("immediate");function f(){}var d={},m=["REJECTED"],p=["FULFILLED"],g=["PENDING"];function y(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,E!==f&&_(this,E)}function A(E,S,R){this.promise=E,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function v(E,S,R){o(function(){var M;try{M=S(R)}catch(B){return d.reject(E,B)}M===E?d.reject(E,new TypeError("Cannot resolve promise with itself")):d.resolve(E,M)})}function k(E){var S=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof S=="function")return function(){S.apply(E,arguments)}}function _(E,S){var R=!1;function M(I){R||(R=!0,d.reject(E,I))}function B(I){R||(R=!0,d.resolve(E,I))}var X=C(function(){S(B,M)});X.status==="error"&&M(X.value)}function C(E,S){var R={};try{R.value=E(S),R.status="success"}catch(M){R.status="error",R.value=M}return R}(s.exports=y).prototype.finally=function(E){if(typeof E!="function")return this;var S=this.constructor;return this.then(function(R){return S.resolve(E()).then(function(){return R})},function(R){return S.resolve(E()).then(function(){throw R})})},y.prototype.catch=function(E){return this.then(null,E)},y.prototype.then=function(E,S){if(typeof E!="function"&&this.state===p||typeof S!="function"&&this.state===m)return this;var R=new this.constructor(f);return this.state!==g?v(R,this.state===p?E:S,this.outcome):this.queue.push(new A(R,E,S)),R},A.prototype.callFulfilled=function(E){d.resolve(this.promise,E)},A.prototype.otherCallFulfilled=function(E){v(this.promise,this.onFulfilled,E)},A.prototype.callRejected=function(E){d.reject(this.promise,E)},A.prototype.otherCallRejected=function(E){v(this.promise,this.onRejected,E)},d.resolve=function(E,S){var R=C(k,S);if(R.status==="error")return d.reject(E,R.value);var M=R.value;if(M)_(E,M);else{E.state=p,E.outcome=S;for(var B=-1,X=E.queue.length;++B<X;)E.queue[B].callFulfilled(S)}return E},d.reject=function(E,S){E.state=m,E.outcome=S;for(var R=-1,M=E.queue.length;++R<M;)E.queue[R].callRejected(S);return E},y.resolve=function(E){return E instanceof this?E:d.resolve(new this(f),E)},y.reject=function(E){var S=new this(f);return d.reject(S,E)},y.all=function(E){var S=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=E.length,M=!1;if(!R)return this.resolve([]);for(var B=new Array(R),X=0,I=-1,se=new this(f);++I<R;)P(E[I],I);return se;function P(ee,de){S.resolve(ee).then(function(z){B[de]=z,++X!==R||M||(M=!0,d.resolve(se,B))},function(z){M||(M=!0,d.reject(se,z))})}},y.race=function(E){var S=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=E.length,M=!1;if(!R)return this.resolve([]);for(var B=-1,X=new this(f);++B<R;)I=E[B],S.resolve(I).then(function(se){M||(M=!0,d.resolve(X,se))},function(se){M||(M=!0,d.reject(X,se))});var I;return X}},{immediate:36}],38:[function(a,s,l){var o={};(0,a("./lib/utils/common").assign)(o,a("./lib/deflate"),a("./lib/inflate"),a("./lib/zlib/constants")),s.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(a,s,l){var o=a("./zlib/deflate"),f=a("./utils/common"),d=a("./utils/strings"),m=a("./zlib/messages"),p=a("./zlib/zstream"),g=Object.prototype.toString,y=0,A=-1,v=0,k=8;function _(E){if(!(this instanceof _))return new _(E);this.options=f.assign({level:A,method:k,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},E||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var R=o.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(R!==y)throw new Error(m[R]);if(S.header&&o.deflateSetHeader(this.strm,S.header),S.dictionary){var M;if(M=typeof S.dictionary=="string"?d.string2buf(S.dictionary):g.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(R=o.deflateSetDictionary(this.strm,M))!==y)throw new Error(m[R]);this._dict_set=!0}}function C(E,S){var R=new _(S);if(R.push(E,!0),R.err)throw R.msg||m[R.err];return R.result}_.prototype.push=function(E,S){var R,M,B=this.strm,X=this.options.chunkSize;if(this.ended)return!1;M=S===~~S?S:S===!0?4:0,typeof E=="string"?B.input=d.string2buf(E):g.call(E)==="[object ArrayBuffer]"?B.input=new Uint8Array(E):B.input=E,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new f.Buf8(X),B.next_out=0,B.avail_out=X),(R=o.deflate(B,M))!==1&&R!==y)return this.onEnd(R),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||M!==4&&M!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(f.shrinkBuf(B.output,B.next_out))):this.onData(f.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&R!==1);return M===4?(R=o.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===y):M!==2||(this.onEnd(y),!(B.avail_out=0))},_.prototype.onData=function(E){this.chunks.push(E)},_.prototype.onEnd=function(E){E===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},l.Deflate=_,l.deflate=C,l.deflateRaw=function(E,S){return(S=S||{}).raw=!0,C(E,S)},l.gzip=function(E,S){return(S=S||{}).gzip=!0,C(E,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(a,s,l){var o=a("./zlib/inflate"),f=a("./utils/common"),d=a("./utils/strings"),m=a("./zlib/constants"),p=a("./zlib/messages"),g=a("./zlib/zstream"),y=a("./zlib/gzheader"),A=Object.prototype.toString;function v(_){if(!(this instanceof v))return new v(_);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},_||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||_&&_.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&(15&C.windowBits)==0&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var E=o.inflateInit2(this.strm,C.windowBits);if(E!==m.Z_OK)throw new Error(p[E]);this.header=new y,o.inflateGetHeader(this.strm,this.header)}function k(_,C){var E=new v(C);if(E.push(_,!0),E.err)throw E.msg||p[E.err];return E.result}v.prototype.push=function(_,C){var E,S,R,M,B,X,I=this.strm,se=this.options.chunkSize,P=this.options.dictionary,ee=!1;if(this.ended)return!1;S=C===~~C?C:C===!0?m.Z_FINISH:m.Z_NO_FLUSH,typeof _=="string"?I.input=d.binstring2buf(_):A.call(_)==="[object ArrayBuffer]"?I.input=new Uint8Array(_):I.input=_,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new f.Buf8(se),I.next_out=0,I.avail_out=se),(E=o.inflate(I,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&P&&(X=typeof P=="string"?d.string2buf(P):A.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,E=o.inflateSetDictionary(this.strm,X)),E===m.Z_BUF_ERROR&&ee===!0&&(E=m.Z_OK,ee=!1),E!==m.Z_STREAM_END&&E!==m.Z_OK)return this.onEnd(E),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&E!==m.Z_STREAM_END&&(I.avail_in!==0||S!==m.Z_FINISH&&S!==m.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=d.utf8border(I.output,I.next_out),M=I.next_out-R,B=d.buf2string(I.output,R),I.next_out=M,I.avail_out=se-M,M&&f.arraySet(I.output,I.output,R,M,0),this.onData(B)):this.onData(f.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(ee=!0)}while((0<I.avail_in||I.avail_out===0)&&E!==m.Z_STREAM_END);return E===m.Z_STREAM_END&&(S=m.Z_FINISH),S===m.Z_FINISH?(E=o.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===m.Z_OK):S!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(I.avail_out=0))},v.prototype.onData=function(_){this.chunks.push(_)},v.prototype.onEnd=function(_){_===m.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},l.Inflate=v,l.inflate=k,l.inflateRaw=function(_,C){return(C=C||{}).raw=!0,k(_,C)},l.ungzip=k},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(a,s,l){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(m){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var g=p.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var y in g)g.hasOwnProperty(y)&&(m[y]=g[y])}}return m},l.shrinkBuf=function(m,p){return m.length===p?m:m.subarray?m.subarray(0,p):(m.length=p,m)};var f={arraySet:function(m,p,g,y,A){if(p.subarray&&m.subarray)m.set(p.subarray(g,g+y),A);else for(var v=0;v<y;v++)m[A+v]=p[g+v]},flattenChunks:function(m){var p,g,y,A,v,k;for(p=y=0,g=m.length;p<g;p++)y+=m[p].length;for(k=new Uint8Array(y),p=A=0,g=m.length;p<g;p++)v=m[p],k.set(v,A),A+=v.length;return k}},d={arraySet:function(m,p,g,y,A){for(var v=0;v<y;v++)m[A+v]=p[g+v]},flattenChunks:function(m){return[].concat.apply([],m)}};l.setTyped=function(m){m?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,f)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,d))},l.setTyped(o)},{}],42:[function(a,s,l){var o=a("./common"),f=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var m=new o.Buf8(256),p=0;p<256;p++)m[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function g(y,A){if(A<65537&&(y.subarray&&d||!y.subarray&&f))return String.fromCharCode.apply(null,o.shrinkBuf(y,A));for(var v="",k=0;k<A;k++)v+=String.fromCharCode(y[k]);return v}m[254]=m[254]=1,l.string2buf=function(y){var A,v,k,_,C,E=y.length,S=0;for(_=0;_<E;_++)(64512&(v=y.charCodeAt(_)))==55296&&_+1<E&&(64512&(k=y.charCodeAt(_+1)))==56320&&(v=65536+(v-55296<<10)+(k-56320),_++),S+=v<128?1:v<2048?2:v<65536?3:4;for(A=new o.Buf8(S),_=C=0;C<S;_++)(64512&(v=y.charCodeAt(_)))==55296&&_+1<E&&(64512&(k=y.charCodeAt(_+1)))==56320&&(v=65536+(v-55296<<10)+(k-56320),_++),v<128?A[C++]=v:(v<2048?A[C++]=192|v>>>6:(v<65536?A[C++]=224|v>>>12:(A[C++]=240|v>>>18,A[C++]=128|v>>>12&63),A[C++]=128|v>>>6&63),A[C++]=128|63&v);return A},l.buf2binstring=function(y){return g(y,y.length)},l.binstring2buf=function(y){for(var A=new o.Buf8(y.length),v=0,k=A.length;v<k;v++)A[v]=y.charCodeAt(v);return A},l.buf2string=function(y,A){var v,k,_,C,E=A||y.length,S=new Array(2*E);for(v=k=0;v<E;)if((_=y[v++])<128)S[k++]=_;else if(4<(C=m[_]))S[k++]=65533,v+=C-1;else{for(_&=C===2?31:C===3?15:7;1<C&&v<E;)_=_<<6|63&y[v++],C--;1<C?S[k++]=65533:_<65536?S[k++]=_:(_-=65536,S[k++]=55296|_>>10&1023,S[k++]=56320|1023&_)}return g(S,k)},l.utf8border=function(y,A){var v;for((A=A||y.length)>y.length&&(A=y.length),v=A-1;0<=v&&(192&y[v])==128;)v--;return v<0||v===0?A:v+m[y[v]]>A?v:A}},{"./common":41}],43:[function(a,s,l){s.exports=function(o,f,d,m){for(var p=65535&o|0,g=o>>>16&65535|0,y=0;d!==0;){for(d-=y=2e3<d?2e3:d;g=g+(p=p+f[m++]|0)|0,--y;);p%=65521,g%=65521}return p|g<<16|0}},{}],44:[function(a,s,l){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(a,s,l){var o=function(){for(var f,d=[],m=0;m<256;m++){f=m;for(var p=0;p<8;p++)f=1&f?3988292384^f>>>1:f>>>1;d[m]=f}return d}();s.exports=function(f,d,m,p){var g=o,y=p+m;f^=-1;for(var A=p;A<y;A++)f=f>>>8^g[255&(f^d[A])];return-1^f}},{}],46:[function(a,s,l){var o,f=a("../utils/common"),d=a("./trees"),m=a("./adler32"),p=a("./crc32"),g=a("./messages"),y=0,A=4,v=0,k=-2,_=-1,C=4,E=2,S=8,R=9,M=286,B=30,X=19,I=2*M+1,se=15,P=3,ee=258,de=ee+P+1,z=42,ae=113,N=1,ne=2,F=3,Y=4;function be(x,fe){return x.msg=g[fe],fe}function ce(x){return(x<<1)-(4<x?9:0)}function D(x){for(var fe=x.length;0<=--fe;)x[fe]=0}function U(x){var fe=x.state,te=fe.pending;te>x.avail_out&&(te=x.avail_out),te!==0&&(f.arraySet(x.output,fe.pending_buf,fe.pending_out,te,x.next_out),x.next_out+=te,fe.pending_out+=te,x.total_out+=te,x.avail_out-=te,fe.pending-=te,fe.pending===0&&(fe.pending_out=0))}function $(x,fe){d._tr_flush_block(x,0<=x.block_start?x.block_start:-1,x.strstart-x.block_start,fe),x.block_start=x.strstart,U(x.strm)}function ie(x,fe){x.pending_buf[x.pending++]=fe}function ue(x,fe){x.pending_buf[x.pending++]=fe>>>8&255,x.pending_buf[x.pending++]=255&fe}function me(x,fe){var te,j,O=x.max_chain_length,q=x.strstart,pe=x.prev_length,ge=x.nice_match,K=x.strstart>x.w_size-de?x.strstart-(x.w_size-de):0,ve=x.window,Se=x.w_mask,_e=x.prev,Ne=x.strstart+ee,$e=ve[q+pe-1],Be=ve[q+pe];x.prev_length>=x.good_match&&(O>>=2),ge>x.lookahead&&(ge=x.lookahead);do if(ve[(te=fe)+pe]===Be&&ve[te+pe-1]===$e&&ve[te]===ve[q]&&ve[++te]===ve[q+1]){q+=2,te++;do;while(ve[++q]===ve[++te]&&ve[++q]===ve[++te]&&ve[++q]===ve[++te]&&ve[++q]===ve[++te]&&ve[++q]===ve[++te]&&ve[++q]===ve[++te]&&ve[++q]===ve[++te]&&ve[++q]===ve[++te]&&q<Ne);if(j=ee-(Ne-q),q=Ne-ee,pe<j){if(x.match_start=fe,ge<=(pe=j))break;$e=ve[q+pe-1],Be=ve[q+pe]}}while((fe=_e[fe&Se])>K&&--O!=0);return pe<=x.lookahead?pe:x.lookahead}function Ae(x){var fe,te,j,O,q,pe,ge,K,ve,Se,_e=x.w_size;do{if(O=x.window_size-x.lookahead-x.strstart,x.strstart>=_e+(_e-de)){for(f.arraySet(x.window,x.window,_e,_e,0),x.match_start-=_e,x.strstart-=_e,x.block_start-=_e,fe=te=x.hash_size;j=x.head[--fe],x.head[fe]=_e<=j?j-_e:0,--te;);for(fe=te=_e;j=x.prev[--fe],x.prev[fe]=_e<=j?j-_e:0,--te;);O+=_e}if(x.strm.avail_in===0)break;if(pe=x.strm,ge=x.window,K=x.strstart+x.lookahead,ve=O,Se=void 0,Se=pe.avail_in,ve<Se&&(Se=ve),te=Se===0?0:(pe.avail_in-=Se,f.arraySet(ge,pe.input,pe.next_in,Se,K),pe.state.wrap===1?pe.adler=m(pe.adler,ge,Se,K):pe.state.wrap===2&&(pe.adler=p(pe.adler,ge,Se,K)),pe.next_in+=Se,pe.total_in+=Se,Se),x.lookahead+=te,x.lookahead+x.insert>=P)for(q=x.strstart-x.insert,x.ins_h=x.window[q],x.ins_h=(x.ins_h<<x.hash_shift^x.window[q+1])&x.hash_mask;x.insert&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[q+P-1])&x.hash_mask,x.prev[q&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=q,q++,x.insert--,!(x.lookahead+x.insert<P)););}while(x.lookahead<de&&x.strm.avail_in!==0)}function et(x,fe){for(var te,j;;){if(x.lookahead<de){if(Ae(x),x.lookahead<de&&fe===y)return N;if(x.lookahead===0)break}if(te=0,x.lookahead>=P&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+P-1])&x.hash_mask,te=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),te!==0&&x.strstart-te<=x.w_size-de&&(x.match_length=me(x,te)),x.match_length>=P)if(j=d._tr_tally(x,x.strstart-x.match_start,x.match_length-P),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=P){for(x.match_length--;x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+P-1])&x.hash_mask,te=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart,--x.match_length!=0;);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else j=d._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(j&&($(x,!1),x.strm.avail_out===0))return N}return x.insert=x.strstart<P-1?x.strstart:P-1,fe===A?($(x,!0),x.strm.avail_out===0?F:Y):x.last_lit&&($(x,!1),x.strm.avail_out===0)?N:ne}function Ce(x,fe){for(var te,j,O;;){if(x.lookahead<de){if(Ae(x),x.lookahead<de&&fe===y)return N;if(x.lookahead===0)break}if(te=0,x.lookahead>=P&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+P-1])&x.hash_mask,te=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=P-1,te!==0&&x.prev_length<x.max_lazy_match&&x.strstart-te<=x.w_size-de&&(x.match_length=me(x,te),x.match_length<=5&&(x.strategy===1||x.match_length===P&&4096<x.strstart-x.match_start)&&(x.match_length=P-1)),x.prev_length>=P&&x.match_length<=x.prev_length){for(O=x.strstart+x.lookahead-P,j=d._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-P),x.lookahead-=x.prev_length-1,x.prev_length-=2;++x.strstart<=O&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+P-1])&x.hash_mask,te=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),--x.prev_length!=0;);if(x.match_available=0,x.match_length=P-1,x.strstart++,j&&($(x,!1),x.strm.avail_out===0))return N}else if(x.match_available){if((j=d._tr_tally(x,0,x.window[x.strstart-1]))&&$(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return N}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(j=d._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<P-1?x.strstart:P-1,fe===A?($(x,!0),x.strm.avail_out===0?F:Y):x.last_lit&&($(x,!1),x.strm.avail_out===0)?N:ne}function Ie(x,fe,te,j,O){this.good_length=x,this.max_lazy=fe,this.nice_length=te,this.max_chain=j,this.func=O}function bt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*I),this.dyn_dtree=new f.Buf16(2*(2*B+1)),this.bl_tree=new f.Buf16(2*(2*X+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(se+1),this.heap=new f.Buf16(2*M+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*M+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ct(x){var fe;return x&&x.state?(x.total_in=x.total_out=0,x.data_type=E,(fe=x.state).pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?z:ae,x.adler=fe.wrap===2?0:1,fe.last_flush=y,d._tr_init(fe),v):be(x,k)}function Jt(x){var fe=ct(x);return fe===v&&function(te){te.window_size=2*te.w_size,D(te.head),te.max_lazy_match=o[te.level].max_lazy,te.good_match=o[te.level].good_length,te.nice_match=o[te.level].nice_length,te.max_chain_length=o[te.level].max_chain,te.strstart=0,te.block_start=0,te.lookahead=0,te.insert=0,te.match_length=te.prev_length=P-1,te.match_available=0,te.ins_h=0}(x.state),fe}function Gt(x,fe,te,j,O,q){if(!x)return k;var pe=1;if(fe===_&&(fe=6),j<0?(pe=0,j=-j):15<j&&(pe=2,j-=16),O<1||R<O||te!==S||j<8||15<j||fe<0||9<fe||q<0||C<q)return be(x,k);j===8&&(j=9);var ge=new bt;return(x.state=ge).strm=x,ge.wrap=pe,ge.gzhead=null,ge.w_bits=j,ge.w_size=1<<ge.w_bits,ge.w_mask=ge.w_size-1,ge.hash_bits=O+7,ge.hash_size=1<<ge.hash_bits,ge.hash_mask=ge.hash_size-1,ge.hash_shift=~~((ge.hash_bits+P-1)/P),ge.window=new f.Buf8(2*ge.w_size),ge.head=new f.Buf16(ge.hash_size),ge.prev=new f.Buf16(ge.w_size),ge.lit_bufsize=1<<O+6,ge.pending_buf_size=4*ge.lit_bufsize,ge.pending_buf=new f.Buf8(ge.pending_buf_size),ge.d_buf=1*ge.lit_bufsize,ge.l_buf=3*ge.lit_bufsize,ge.level=fe,ge.strategy=q,ge.method=te,Jt(x)}o=[new Ie(0,0,0,0,function(x,fe){var te=65535;for(te>x.pending_buf_size-5&&(te=x.pending_buf_size-5);;){if(x.lookahead<=1){if(Ae(x),x.lookahead===0&&fe===y)return N;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var j=x.block_start+te;if((x.strstart===0||x.strstart>=j)&&(x.lookahead=x.strstart-j,x.strstart=j,$(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-de&&($(x,!1),x.strm.avail_out===0))return N}return x.insert=0,fe===A?($(x,!0),x.strm.avail_out===0?F:Y):(x.strstart>x.block_start&&($(x,!1),x.strm.avail_out),N)}),new Ie(4,4,8,4,et),new Ie(4,5,16,8,et),new Ie(4,6,32,32,et),new Ie(4,4,16,16,Ce),new Ie(8,16,32,32,Ce),new Ie(8,16,128,128,Ce),new Ie(8,32,128,256,Ce),new Ie(32,128,258,1024,Ce),new Ie(32,258,258,4096,Ce)],l.deflateInit=function(x,fe){return Gt(x,fe,S,15,8,0)},l.deflateInit2=Gt,l.deflateReset=Jt,l.deflateResetKeep=ct,l.deflateSetHeader=function(x,fe){return x&&x.state?x.state.wrap!==2?k:(x.state.gzhead=fe,v):k},l.deflate=function(x,fe){var te,j,O,q;if(!x||!x.state||5<fe||fe<0)return x?be(x,k):k;if(j=x.state,!x.output||!x.input&&x.avail_in!==0||j.status===666&&fe!==A)return be(x,x.avail_out===0?-5:k);if(j.strm=x,te=j.last_flush,j.last_flush=fe,j.status===z)if(j.wrap===2)x.adler=0,ie(j,31),ie(j,139),ie(j,8),j.gzhead?(ie(j,(j.gzhead.text?1:0)+(j.gzhead.hcrc?2:0)+(j.gzhead.extra?4:0)+(j.gzhead.name?8:0)+(j.gzhead.comment?16:0)),ie(j,255&j.gzhead.time),ie(j,j.gzhead.time>>8&255),ie(j,j.gzhead.time>>16&255),ie(j,j.gzhead.time>>24&255),ie(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),ie(j,255&j.gzhead.os),j.gzhead.extra&&j.gzhead.extra.length&&(ie(j,255&j.gzhead.extra.length),ie(j,j.gzhead.extra.length>>8&255)),j.gzhead.hcrc&&(x.adler=p(x.adler,j.pending_buf,j.pending,0)),j.gzindex=0,j.status=69):(ie(j,0),ie(j,0),ie(j,0),ie(j,0),ie(j,0),ie(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),ie(j,3),j.status=ae);else{var pe=S+(j.w_bits-8<<4)<<8;pe|=(2<=j.strategy||j.level<2?0:j.level<6?1:j.level===6?2:3)<<6,j.strstart!==0&&(pe|=32),pe+=31-pe%31,j.status=ae,ue(j,pe),j.strstart!==0&&(ue(j,x.adler>>>16),ue(j,65535&x.adler)),x.adler=1}if(j.status===69)if(j.gzhead.extra){for(O=j.pending;j.gzindex<(65535&j.gzhead.extra.length)&&(j.pending!==j.pending_buf_size||(j.gzhead.hcrc&&j.pending>O&&(x.adler=p(x.adler,j.pending_buf,j.pending-O,O)),U(x),O=j.pending,j.pending!==j.pending_buf_size));)ie(j,255&j.gzhead.extra[j.gzindex]),j.gzindex++;j.gzhead.hcrc&&j.pending>O&&(x.adler=p(x.adler,j.pending_buf,j.pending-O,O)),j.gzindex===j.gzhead.extra.length&&(j.gzindex=0,j.status=73)}else j.status=73;if(j.status===73)if(j.gzhead.name){O=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>O&&(x.adler=p(x.adler,j.pending_buf,j.pending-O,O)),U(x),O=j.pending,j.pending===j.pending_buf_size)){q=1;break}q=j.gzindex<j.gzhead.name.length?255&j.gzhead.name.charCodeAt(j.gzindex++):0,ie(j,q)}while(q!==0);j.gzhead.hcrc&&j.pending>O&&(x.adler=p(x.adler,j.pending_buf,j.pending-O,O)),q===0&&(j.gzindex=0,j.status=91)}else j.status=91;if(j.status===91)if(j.gzhead.comment){O=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>O&&(x.adler=p(x.adler,j.pending_buf,j.pending-O,O)),U(x),O=j.pending,j.pending===j.pending_buf_size)){q=1;break}q=j.gzindex<j.gzhead.comment.length?255&j.gzhead.comment.charCodeAt(j.gzindex++):0,ie(j,q)}while(q!==0);j.gzhead.hcrc&&j.pending>O&&(x.adler=p(x.adler,j.pending_buf,j.pending-O,O)),q===0&&(j.status=103)}else j.status=103;if(j.status===103&&(j.gzhead.hcrc?(j.pending+2>j.pending_buf_size&&U(x),j.pending+2<=j.pending_buf_size&&(ie(j,255&x.adler),ie(j,x.adler>>8&255),x.adler=0,j.status=ae)):j.status=ae),j.pending!==0){if(U(x),x.avail_out===0)return j.last_flush=-1,v}else if(x.avail_in===0&&ce(fe)<=ce(te)&&fe!==A)return be(x,-5);if(j.status===666&&x.avail_in!==0)return be(x,-5);if(x.avail_in!==0||j.lookahead!==0||fe!==y&&j.status!==666){var ge=j.strategy===2?function(K,ve){for(var Se;;){if(K.lookahead===0&&(Ae(K),K.lookahead===0)){if(ve===y)return N;break}if(K.match_length=0,Se=d._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++,Se&&($(K,!1),K.strm.avail_out===0))return N}return K.insert=0,ve===A?($(K,!0),K.strm.avail_out===0?F:Y):K.last_lit&&($(K,!1),K.strm.avail_out===0)?N:ne}(j,fe):j.strategy===3?function(K,ve){for(var Se,_e,Ne,$e,Be=K.window;;){if(K.lookahead<=ee){if(Ae(K),K.lookahead<=ee&&ve===y)return N;if(K.lookahead===0)break}if(K.match_length=0,K.lookahead>=P&&0<K.strstart&&(_e=Be[Ne=K.strstart-1])===Be[++Ne]&&_e===Be[++Ne]&&_e===Be[++Ne]){$e=K.strstart+ee;do;while(_e===Be[++Ne]&&_e===Be[++Ne]&&_e===Be[++Ne]&&_e===Be[++Ne]&&_e===Be[++Ne]&&_e===Be[++Ne]&&_e===Be[++Ne]&&_e===Be[++Ne]&&Ne<$e);K.match_length=ee-($e-Ne),K.match_length>K.lookahead&&(K.match_length=K.lookahead)}if(K.match_length>=P?(Se=d._tr_tally(K,1,K.match_length-P),K.lookahead-=K.match_length,K.strstart+=K.match_length,K.match_length=0):(Se=d._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++),Se&&($(K,!1),K.strm.avail_out===0))return N}return K.insert=0,ve===A?($(K,!0),K.strm.avail_out===0?F:Y):K.last_lit&&($(K,!1),K.strm.avail_out===0)?N:ne}(j,fe):o[j.level].func(j,fe);if(ge!==F&&ge!==Y||(j.status=666),ge===N||ge===F)return x.avail_out===0&&(j.last_flush=-1),v;if(ge===ne&&(fe===1?d._tr_align(j):fe!==5&&(d._tr_stored_block(j,0,0,!1),fe===3&&(D(j.head),j.lookahead===0&&(j.strstart=0,j.block_start=0,j.insert=0))),U(x),x.avail_out===0))return j.last_flush=-1,v}return fe!==A?v:j.wrap<=0?1:(j.wrap===2?(ie(j,255&x.adler),ie(j,x.adler>>8&255),ie(j,x.adler>>16&255),ie(j,x.adler>>24&255),ie(j,255&x.total_in),ie(j,x.total_in>>8&255),ie(j,x.total_in>>16&255),ie(j,x.total_in>>24&255)):(ue(j,x.adler>>>16),ue(j,65535&x.adler)),U(x),0<j.wrap&&(j.wrap=-j.wrap),j.pending!==0?v:1)},l.deflateEnd=function(x){var fe;return x&&x.state?(fe=x.state.status)!==z&&fe!==69&&fe!==73&&fe!==91&&fe!==103&&fe!==ae&&fe!==666?be(x,k):(x.state=null,fe===ae?be(x,-3):v):k},l.deflateSetDictionary=function(x,fe){var te,j,O,q,pe,ge,K,ve,Se=fe.length;if(!x||!x.state||(q=(te=x.state).wrap)===2||q===1&&te.status!==z||te.lookahead)return k;for(q===1&&(x.adler=m(x.adler,fe,Se,0)),te.wrap=0,Se>=te.w_size&&(q===0&&(D(te.head),te.strstart=0,te.block_start=0,te.insert=0),ve=new f.Buf8(te.w_size),f.arraySet(ve,fe,Se-te.w_size,te.w_size,0),fe=ve,Se=te.w_size),pe=x.avail_in,ge=x.next_in,K=x.input,x.avail_in=Se,x.next_in=0,x.input=fe,Ae(te);te.lookahead>=P;){for(j=te.strstart,O=te.lookahead-(P-1);te.ins_h=(te.ins_h<<te.hash_shift^te.window[j+P-1])&te.hash_mask,te.prev[j&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=j,j++,--O;);te.strstart=j,te.lookahead=P-1,Ae(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=P-1,te.match_available=0,x.next_in=ge,x.input=K,x.avail_in=pe,te.wrap=q,v},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(a,s,l){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(a,s,l){s.exports=function(o,f){var d,m,p,g,y,A,v,k,_,C,E,S,R,M,B,X,I,se,P,ee,de,z,ae,N,ne;d=o.state,m=o.next_in,N=o.input,p=m+(o.avail_in-5),g=o.next_out,ne=o.output,y=g-(f-o.avail_out),A=g+(o.avail_out-257),v=d.dmax,k=d.wsize,_=d.whave,C=d.wnext,E=d.window,S=d.hold,R=d.bits,M=d.lencode,B=d.distcode,X=(1<<d.lenbits)-1,I=(1<<d.distbits)-1;e:do{R<15&&(S+=N[m++]<<R,R+=8,S+=N[m++]<<R,R+=8),se=M[S&X];t:for(;;){if(S>>>=P=se>>>24,R-=P,(P=se>>>16&255)===0)ne[g++]=65535&se;else{if(!(16&P)){if((64&P)==0){se=M[(65535&se)+(S&(1<<P)-1)];continue t}if(32&P){d.mode=12;break e}o.msg="invalid literal/length code",d.mode=30;break e}ee=65535&se,(P&=15)&&(R<P&&(S+=N[m++]<<R,R+=8),ee+=S&(1<<P)-1,S>>>=P,R-=P),R<15&&(S+=N[m++]<<R,R+=8,S+=N[m++]<<R,R+=8),se=B[S&I];n:for(;;){if(S>>>=P=se>>>24,R-=P,!(16&(P=se>>>16&255))){if((64&P)==0){se=B[(65535&se)+(S&(1<<P)-1)];continue n}o.msg="invalid distance code",d.mode=30;break e}if(de=65535&se,R<(P&=15)&&(S+=N[m++]<<R,(R+=8)<P&&(S+=N[m++]<<R,R+=8)),v<(de+=S&(1<<P)-1)){o.msg="invalid distance too far back",d.mode=30;break e}if(S>>>=P,R-=P,(P=g-y)<de){if(_<(P=de-P)&&d.sane){o.msg="invalid distance too far back",d.mode=30;break e}if(ae=E,(z=0)===C){if(z+=k-P,P<ee){for(ee-=P;ne[g++]=E[z++],--P;);z=g-de,ae=ne}}else if(C<P){if(z+=k+C-P,(P-=C)<ee){for(ee-=P;ne[g++]=E[z++],--P;);if(z=0,C<ee){for(ee-=P=C;ne[g++]=E[z++],--P;);z=g-de,ae=ne}}}else if(z+=C-P,P<ee){for(ee-=P;ne[g++]=E[z++],--P;);z=g-de,ae=ne}for(;2<ee;)ne[g++]=ae[z++],ne[g++]=ae[z++],ne[g++]=ae[z++],ee-=3;ee&&(ne[g++]=ae[z++],1<ee&&(ne[g++]=ae[z++]))}else{for(z=g-de;ne[g++]=ne[z++],ne[g++]=ne[z++],ne[g++]=ne[z++],2<(ee-=3););ee&&(ne[g++]=ne[z++],1<ee&&(ne[g++]=ne[z++]))}break}}break}}while(m<p&&g<A);m-=ee=R>>3,S&=(1<<(R-=ee<<3))-1,o.next_in=m,o.next_out=g,o.avail_in=m<p?p-m+5:5-(m-p),o.avail_out=g<A?A-g+257:257-(g-A),d.hold=S,d.bits=R}},{}],49:[function(a,s,l){var o=a("../utils/common"),f=a("./adler32"),d=a("./crc32"),m=a("./inffast"),p=a("./inftrees"),g=1,y=2,A=0,v=-2,k=1,_=852,C=592;function E(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function R(z){var ae;return z&&z.state?(ae=z.state,z.total_in=z.total_out=ae.total=0,z.msg="",ae.wrap&&(z.adler=1&ae.wrap),ae.mode=k,ae.last=0,ae.havedict=0,ae.dmax=32768,ae.head=null,ae.hold=0,ae.bits=0,ae.lencode=ae.lendyn=new o.Buf32(_),ae.distcode=ae.distdyn=new o.Buf32(C),ae.sane=1,ae.back=-1,A):v}function M(z){var ae;return z&&z.state?((ae=z.state).wsize=0,ae.whave=0,ae.wnext=0,R(z)):v}function B(z,ae){var N,ne;return z&&z.state?(ne=z.state,ae<0?(N=0,ae=-ae):(N=1+(ae>>4),ae<48&&(ae&=15)),ae&&(ae<8||15<ae)?v:(ne.window!==null&&ne.wbits!==ae&&(ne.window=null),ne.wrap=N,ne.wbits=ae,M(z))):v}function X(z,ae){var N,ne;return z?(ne=new S,(z.state=ne).window=null,(N=B(z,ae))!==A&&(z.state=null),N):v}var I,se,P=!0;function ee(z){if(P){var ae;for(I=new o.Buf32(512),se=new o.Buf32(32),ae=0;ae<144;)z.lens[ae++]=8;for(;ae<256;)z.lens[ae++]=9;for(;ae<280;)z.lens[ae++]=7;for(;ae<288;)z.lens[ae++]=8;for(p(g,z.lens,0,288,I,0,z.work,{bits:9}),ae=0;ae<32;)z.lens[ae++]=5;p(y,z.lens,0,32,se,0,z.work,{bits:5}),P=!1}z.lencode=I,z.lenbits=9,z.distcode=se,z.distbits=5}function de(z,ae,N,ne){var F,Y=z.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new o.Buf8(Y.wsize)),ne>=Y.wsize?(o.arraySet(Y.window,ae,N-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(ne<(F=Y.wsize-Y.wnext)&&(F=ne),o.arraySet(Y.window,ae,N-ne,F,Y.wnext),(ne-=F)?(o.arraySet(Y.window,ae,N-ne,ne,0),Y.wnext=ne,Y.whave=Y.wsize):(Y.wnext+=F,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=F))),0}l.inflateReset=M,l.inflateReset2=B,l.inflateResetKeep=R,l.inflateInit=function(z){return X(z,15)},l.inflateInit2=X,l.inflate=function(z,ae){var N,ne,F,Y,be,ce,D,U,$,ie,ue,me,Ae,et,Ce,Ie,bt,ct,Jt,Gt,x,fe,te,j,O=0,q=new o.Buf8(4),pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return v;(N=z.state).mode===12&&(N.mode=13),be=z.next_out,F=z.output,D=z.avail_out,Y=z.next_in,ne=z.input,ce=z.avail_in,U=N.hold,$=N.bits,ie=ce,ue=D,fe=A;e:for(;;)switch(N.mode){case k:if(N.wrap===0){N.mode=13;break}for(;$<16;){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}if(2&N.wrap&&U===35615){q[N.check=0]=255&U,q[1]=U>>>8&255,N.check=d(N.check,q,2,0),$=U=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&U)<<8)+(U>>8))%31){z.msg="incorrect header check",N.mode=30;break}if((15&U)!=8){z.msg="unknown compression method",N.mode=30;break}if($-=4,x=8+(15&(U>>>=4)),N.wbits===0)N.wbits=x;else if(x>N.wbits){z.msg="invalid window size",N.mode=30;break}N.dmax=1<<x,z.adler=N.check=1,N.mode=512&U?10:12,$=U=0;break;case 2:for(;$<16;){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}if(N.flags=U,(255&N.flags)!=8){z.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){z.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=U>>8&1),512&N.flags&&(q[0]=255&U,q[1]=U>>>8&255,N.check=d(N.check,q,2,0)),$=U=0,N.mode=3;case 3:for(;$<32;){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}N.head&&(N.head.time=U),512&N.flags&&(q[0]=255&U,q[1]=U>>>8&255,q[2]=U>>>16&255,q[3]=U>>>24&255,N.check=d(N.check,q,4,0)),$=U=0,N.mode=4;case 4:for(;$<16;){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}N.head&&(N.head.xflags=255&U,N.head.os=U>>8),512&N.flags&&(q[0]=255&U,q[1]=U>>>8&255,N.check=d(N.check,q,2,0)),$=U=0,N.mode=5;case 5:if(1024&N.flags){for(;$<16;){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}N.length=U,N.head&&(N.head.extra_len=U),512&N.flags&&(q[0]=255&U,q[1]=U>>>8&255,N.check=d(N.check,q,2,0)),$=U=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(ce<(me=N.length)&&(me=ce),me&&(N.head&&(x=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),o.arraySet(N.head.extra,ne,Y,me,x)),512&N.flags&&(N.check=d(N.check,ne,me,Y)),ce-=me,Y+=me,N.length-=me),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(ce===0)break e;for(me=0;x=ne[Y+me++],N.head&&x&&N.length<65536&&(N.head.name+=String.fromCharCode(x)),x&&me<ce;);if(512&N.flags&&(N.check=d(N.check,ne,me,Y)),ce-=me,Y+=me,x)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(ce===0)break e;for(me=0;x=ne[Y+me++],N.head&&x&&N.length<65536&&(N.head.comment+=String.fromCharCode(x)),x&&me<ce;);if(512&N.flags&&(N.check=d(N.check,ne,me,Y)),ce-=me,Y+=me,x)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;$<16;){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}if(U!==(65535&N.check)){z.msg="header crc mismatch",N.mode=30;break}$=U=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),z.adler=N.check=0,N.mode=12;break;case 10:for(;$<32;){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}z.adler=N.check=E(U),$=U=0,N.mode=11;case 11:if(N.havedict===0)return z.next_out=be,z.avail_out=D,z.next_in=Y,z.avail_in=ce,N.hold=U,N.bits=$,2;z.adler=N.check=1,N.mode=12;case 12:if(ae===5||ae===6)break e;case 13:if(N.last){U>>>=7&$,$-=7&$,N.mode=27;break}for(;$<3;){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}switch(N.last=1&U,$-=1,3&(U>>>=1)){case 0:N.mode=14;break;case 1:if(ee(N),N.mode=20,ae!==6)break;U>>>=2,$-=2;break e;case 2:N.mode=17;break;case 3:z.msg="invalid block type",N.mode=30}U>>>=2,$-=2;break;case 14:for(U>>>=7&$,$-=7&$;$<32;){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}if((65535&U)!=(U>>>16^65535)){z.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&U,$=U=0,N.mode=15,ae===6)break e;case 15:N.mode=16;case 16:if(me=N.length){if(ce<me&&(me=ce),D<me&&(me=D),me===0)break e;o.arraySet(F,ne,Y,me,be),ce-=me,Y+=me,D-=me,be+=me,N.length-=me;break}N.mode=12;break;case 17:for(;$<14;){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}if(N.nlen=257+(31&U),U>>>=5,$-=5,N.ndist=1+(31&U),U>>>=5,$-=5,N.ncode=4+(15&U),U>>>=4,$-=4,286<N.nlen||30<N.ndist){z.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;$<3;){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}N.lens[pe[N.have++]]=7&U,U>>>=3,$-=3}for(;N.have<19;)N.lens[pe[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,te={bits:N.lenbits},fe=p(0,N.lens,0,19,N.lencode,0,N.work,te),N.lenbits=te.bits,fe){z.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;Ie=(O=N.lencode[U&(1<<N.lenbits)-1])>>>16&255,bt=65535&O,!((Ce=O>>>24)<=$);){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}if(bt<16)U>>>=Ce,$-=Ce,N.lens[N.have++]=bt;else{if(bt===16){for(j=Ce+2;$<j;){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}if(U>>>=Ce,$-=Ce,N.have===0){z.msg="invalid bit length repeat",N.mode=30;break}x=N.lens[N.have-1],me=3+(3&U),U>>>=2,$-=2}else if(bt===17){for(j=Ce+3;$<j;){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}$-=Ce,x=0,me=3+(7&(U>>>=Ce)),U>>>=3,$-=3}else{for(j=Ce+7;$<j;){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}$-=Ce,x=0,me=11+(127&(U>>>=Ce)),U>>>=7,$-=7}if(N.have+me>N.nlen+N.ndist){z.msg="invalid bit length repeat",N.mode=30;break}for(;me--;)N.lens[N.have++]=x}}if(N.mode===30)break;if(N.lens[256]===0){z.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,te={bits:N.lenbits},fe=p(g,N.lens,0,N.nlen,N.lencode,0,N.work,te),N.lenbits=te.bits,fe){z.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,te={bits:N.distbits},fe=p(y,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,te),N.distbits=te.bits,fe){z.msg="invalid distances set",N.mode=30;break}if(N.mode=20,ae===6)break e;case 20:N.mode=21;case 21:if(6<=ce&&258<=D){z.next_out=be,z.avail_out=D,z.next_in=Y,z.avail_in=ce,N.hold=U,N.bits=$,m(z,ue),be=z.next_out,F=z.output,D=z.avail_out,Y=z.next_in,ne=z.input,ce=z.avail_in,U=N.hold,$=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;Ie=(O=N.lencode[U&(1<<N.lenbits)-1])>>>16&255,bt=65535&O,!((Ce=O>>>24)<=$);){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}if(Ie&&(240&Ie)==0){for(ct=Ce,Jt=Ie,Gt=bt;Ie=(O=N.lencode[Gt+((U&(1<<ct+Jt)-1)>>ct)])>>>16&255,bt=65535&O,!(ct+(Ce=O>>>24)<=$);){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}U>>>=ct,$-=ct,N.back+=ct}if(U>>>=Ce,$-=Ce,N.back+=Ce,N.length=bt,Ie===0){N.mode=26;break}if(32&Ie){N.back=-1,N.mode=12;break}if(64&Ie){z.msg="invalid literal/length code",N.mode=30;break}N.extra=15&Ie,N.mode=22;case 22:if(N.extra){for(j=N.extra;$<j;){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}N.length+=U&(1<<N.extra)-1,U>>>=N.extra,$-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;Ie=(O=N.distcode[U&(1<<N.distbits)-1])>>>16&255,bt=65535&O,!((Ce=O>>>24)<=$);){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}if((240&Ie)==0){for(ct=Ce,Jt=Ie,Gt=bt;Ie=(O=N.distcode[Gt+((U&(1<<ct+Jt)-1)>>ct)])>>>16&255,bt=65535&O,!(ct+(Ce=O>>>24)<=$);){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}U>>>=ct,$-=ct,N.back+=ct}if(U>>>=Ce,$-=Ce,N.back+=Ce,64&Ie){z.msg="invalid distance code",N.mode=30;break}N.offset=bt,N.extra=15&Ie,N.mode=24;case 24:if(N.extra){for(j=N.extra;$<j;){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}N.offset+=U&(1<<N.extra)-1,U>>>=N.extra,$-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){z.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(D===0)break e;if(me=ue-D,N.offset>me){if((me=N.offset-me)>N.whave&&N.sane){z.msg="invalid distance too far back",N.mode=30;break}Ae=me>N.wnext?(me-=N.wnext,N.wsize-me):N.wnext-me,me>N.length&&(me=N.length),et=N.window}else et=F,Ae=be-N.offset,me=N.length;for(D<me&&(me=D),D-=me,N.length-=me;F[be++]=et[Ae++],--me;);N.length===0&&(N.mode=21);break;case 26:if(D===0)break e;F[be++]=N.length,D--,N.mode=21;break;case 27:if(N.wrap){for(;$<32;){if(ce===0)break e;ce--,U|=ne[Y++]<<$,$+=8}if(ue-=D,z.total_out+=ue,N.total+=ue,ue&&(z.adler=N.check=N.flags?d(N.check,F,ue,be-ue):f(N.check,F,ue,be-ue)),ue=D,(N.flags?U:E(U))!==N.check){z.msg="incorrect data check",N.mode=30;break}$=U=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;$<32;){if(ce===0)break e;ce--,U+=ne[Y++]<<$,$+=8}if(U!==(4294967295&N.total)){z.msg="incorrect length check",N.mode=30;break}$=U=0}N.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return v}return z.next_out=be,z.avail_out=D,z.next_in=Y,z.avail_in=ce,N.hold=U,N.bits=$,(N.wsize||ue!==z.avail_out&&N.mode<30&&(N.mode<27||ae!==4))&&de(z,z.output,z.next_out,ue-z.avail_out)?(N.mode=31,-4):(ie-=z.avail_in,ue-=z.avail_out,z.total_in+=ie,z.total_out+=ue,N.total+=ue,N.wrap&&ue&&(z.adler=N.check=N.flags?d(N.check,F,ue,z.next_out-ue):f(N.check,F,ue,z.next_out-ue)),z.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(ie==0&&ue===0||ae===4)&&fe===A&&(fe=-5),fe)},l.inflateEnd=function(z){if(!z||!z.state)return v;var ae=z.state;return ae.window&&(ae.window=null),z.state=null,A},l.inflateGetHeader=function(z,ae){var N;return z&&z.state?(2&(N=z.state).wrap)==0?v:((N.head=ae).done=!1,A):v},l.inflateSetDictionary=function(z,ae){var N,ne=ae.length;return z&&z.state?(N=z.state).wrap!==0&&N.mode!==11?v:N.mode===11&&f(1,ae,ne,0)!==N.check?-3:de(z,ae,ne,ne)?(N.mode=31,-4):(N.havedict=1,A):v},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(a,s,l){var o=a("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(g,y,A,v,k,_,C,E){var S,R,M,B,X,I,se,P,ee,de=E.bits,z=0,ae=0,N=0,ne=0,F=0,Y=0,be=0,ce=0,D=0,U=0,$=null,ie=0,ue=new o.Buf16(16),me=new o.Buf16(16),Ae=null,et=0;for(z=0;z<=15;z++)ue[z]=0;for(ae=0;ae<v;ae++)ue[y[A+ae]]++;for(F=de,ne=15;1<=ne&&ue[ne]===0;ne--);if(ne<F&&(F=ne),ne===0)return k[_++]=20971520,k[_++]=20971520,E.bits=1,0;for(N=1;N<ne&&ue[N]===0;N++);for(F<N&&(F=N),z=ce=1;z<=15;z++)if(ce<<=1,(ce-=ue[z])<0)return-1;if(0<ce&&(g===0||ne!==1))return-1;for(me[1]=0,z=1;z<15;z++)me[z+1]=me[z]+ue[z];for(ae=0;ae<v;ae++)y[A+ae]!==0&&(C[me[y[A+ae]]++]=ae);if(I=g===0?($=Ae=C,19):g===1?($=f,ie-=257,Ae=d,et-=257,256):($=m,Ae=p,-1),z=N,X=_,be=ae=U=0,M=-1,B=(D=1<<(Y=F))-1,g===1&&852<D||g===2&&592<D)return 1;for(;;){for(se=z-be,ee=C[ae]<I?(P=0,C[ae]):C[ae]>I?(P=Ae[et+C[ae]],$[ie+C[ae]]):(P=96,0),S=1<<z-be,N=R=1<<Y;k[X+(U>>be)+(R-=S)]=se<<24|P<<16|ee|0,R!==0;);for(S=1<<z-1;U&S;)S>>=1;if(S!==0?(U&=S-1,U+=S):U=0,ae++,--ue[z]==0){if(z===ne)break;z=y[A+C[ae]]}if(F<z&&(U&B)!==M){for(be===0&&(be=F),X+=N,ce=1<<(Y=z-be);Y+be<ne&&!((ce-=ue[Y+be])<=0);)Y++,ce<<=1;if(D+=1<<Y,g===1&&852<D||g===2&&592<D)return 1;k[M=U&B]=F<<24|Y<<16|X-_|0}}return U!==0&&(k[X+U]=z-be<<24|64<<16|0),E.bits=F,0}},{"../utils/common":41}],51:[function(a,s,l){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(a,s,l){var o=a("../utils/common"),f=0,d=1;function m(O){for(var q=O.length;0<=--q;)O[q]=0}var p=0,g=29,y=256,A=y+1+g,v=30,k=19,_=2*A+1,C=15,E=16,S=7,R=256,M=16,B=17,X=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],se=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=new Array(2*(A+2));m(de);var z=new Array(2*v);m(z);var ae=new Array(512);m(ae);var N=new Array(256);m(N);var ne=new Array(g);m(ne);var F,Y,be,ce=new Array(v);function D(O,q,pe,ge,K){this.static_tree=O,this.extra_bits=q,this.extra_base=pe,this.elems=ge,this.max_length=K,this.has_stree=O&&O.length}function U(O,q){this.dyn_tree=O,this.max_code=0,this.stat_desc=q}function $(O){return O<256?ae[O]:ae[256+(O>>>7)]}function ie(O,q){O.pending_buf[O.pending++]=255&q,O.pending_buf[O.pending++]=q>>>8&255}function ue(O,q,pe){O.bi_valid>E-pe?(O.bi_buf|=q<<O.bi_valid&65535,ie(O,O.bi_buf),O.bi_buf=q>>E-O.bi_valid,O.bi_valid+=pe-E):(O.bi_buf|=q<<O.bi_valid&65535,O.bi_valid+=pe)}function me(O,q,pe){ue(O,pe[2*q],pe[2*q+1])}function Ae(O,q){for(var pe=0;pe|=1&O,O>>>=1,pe<<=1,0<--q;);return pe>>>1}function et(O,q,pe){var ge,K,ve=new Array(C+1),Se=0;for(ge=1;ge<=C;ge++)ve[ge]=Se=Se+pe[ge-1]<<1;for(K=0;K<=q;K++){var _e=O[2*K+1];_e!==0&&(O[2*K]=Ae(ve[_e]++,_e))}}function Ce(O){var q;for(q=0;q<A;q++)O.dyn_ltree[2*q]=0;for(q=0;q<v;q++)O.dyn_dtree[2*q]=0;for(q=0;q<k;q++)O.bl_tree[2*q]=0;O.dyn_ltree[2*R]=1,O.opt_len=O.static_len=0,O.last_lit=O.matches=0}function Ie(O){8<O.bi_valid?ie(O,O.bi_buf):0<O.bi_valid&&(O.pending_buf[O.pending++]=O.bi_buf),O.bi_buf=0,O.bi_valid=0}function bt(O,q,pe,ge){var K=2*q,ve=2*pe;return O[K]<O[ve]||O[K]===O[ve]&&ge[q]<=ge[pe]}function ct(O,q,pe){for(var ge=O.heap[pe],K=pe<<1;K<=O.heap_len&&(K<O.heap_len&&bt(q,O.heap[K+1],O.heap[K],O.depth)&&K++,!bt(q,ge,O.heap[K],O.depth));)O.heap[pe]=O.heap[K],pe=K,K<<=1;O.heap[pe]=ge}function Jt(O,q,pe){var ge,K,ve,Se,_e=0;if(O.last_lit!==0)for(;ge=O.pending_buf[O.d_buf+2*_e]<<8|O.pending_buf[O.d_buf+2*_e+1],K=O.pending_buf[O.l_buf+_e],_e++,ge===0?me(O,K,q):(me(O,(ve=N[K])+y+1,q),(Se=I[ve])!==0&&ue(O,K-=ne[ve],Se),me(O,ve=$(--ge),pe),(Se=se[ve])!==0&&ue(O,ge-=ce[ve],Se)),_e<O.last_lit;);me(O,R,q)}function Gt(O,q){var pe,ge,K,ve=q.dyn_tree,Se=q.stat_desc.static_tree,_e=q.stat_desc.has_stree,Ne=q.stat_desc.elems,$e=-1;for(O.heap_len=0,O.heap_max=_,pe=0;pe<Ne;pe++)ve[2*pe]!==0?(O.heap[++O.heap_len]=$e=pe,O.depth[pe]=0):ve[2*pe+1]=0;for(;O.heap_len<2;)ve[2*(K=O.heap[++O.heap_len]=$e<2?++$e:0)]=1,O.depth[K]=0,O.opt_len--,_e&&(O.static_len-=Se[2*K+1]);for(q.max_code=$e,pe=O.heap_len>>1;1<=pe;pe--)ct(O,ve,pe);for(K=Ne;pe=O.heap[1],O.heap[1]=O.heap[O.heap_len--],ct(O,ve,1),ge=O.heap[1],O.heap[--O.heap_max]=pe,O.heap[--O.heap_max]=ge,ve[2*K]=ve[2*pe]+ve[2*ge],O.depth[K]=(O.depth[pe]>=O.depth[ge]?O.depth[pe]:O.depth[ge])+1,ve[2*pe+1]=ve[2*ge+1]=K,O.heap[1]=K++,ct(O,ve,1),2<=O.heap_len;);O.heap[--O.heap_max]=O.heap[1],function(Be,ft){var cr,vn,fr,dt,la,Tn,Wt=ft.dyn_tree,Ra=ft.max_code,Fo=ft.stat_desc.static_tree,jl=ft.stat_desc.has_stree,Dl=ft.stat_desc.extra_bits,Ir=ft.stat_desc.extra_base,Rn=ft.stat_desc.max_length,qr=0;for(dt=0;dt<=C;dt++)Be.bl_count[dt]=0;for(Wt[2*Be.heap[Be.heap_max]+1]=0,cr=Be.heap_max+1;cr<_;cr++)Rn<(dt=Wt[2*Wt[2*(vn=Be.heap[cr])+1]+1]+1)&&(dt=Rn,qr++),Wt[2*vn+1]=dt,Ra<vn||(Be.bl_count[dt]++,la=0,Ir<=vn&&(la=Dl[vn-Ir]),Tn=Wt[2*vn],Be.opt_len+=Tn*(dt+la),jl&&(Be.static_len+=Tn*(Fo[2*vn+1]+la)));if(qr!==0){do{for(dt=Rn-1;Be.bl_count[dt]===0;)dt--;Be.bl_count[dt]--,Be.bl_count[dt+1]+=2,Be.bl_count[Rn]--,qr-=2}while(0<qr);for(dt=Rn;dt!==0;dt--)for(vn=Be.bl_count[dt];vn!==0;)Ra<(fr=Be.heap[--cr])||(Wt[2*fr+1]!==dt&&(Be.opt_len+=(dt-Wt[2*fr+1])*Wt[2*fr],Wt[2*fr+1]=dt),vn--)}}(O,q),et(ve,$e,O.bl_count)}function x(O,q,pe){var ge,K,ve=-1,Se=q[1],_e=0,Ne=7,$e=4;for(Se===0&&(Ne=138,$e=3),q[2*(pe+1)+1]=65535,ge=0;ge<=pe;ge++)K=Se,Se=q[2*(ge+1)+1],++_e<Ne&&K===Se||(_e<$e?O.bl_tree[2*K]+=_e:K!==0?(K!==ve&&O.bl_tree[2*K]++,O.bl_tree[2*M]++):_e<=10?O.bl_tree[2*B]++:O.bl_tree[2*X]++,ve=K,$e=(_e=0)===Se?(Ne=138,3):K===Se?(Ne=6,3):(Ne=7,4))}function fe(O,q,pe){var ge,K,ve=-1,Se=q[1],_e=0,Ne=7,$e=4;for(Se===0&&(Ne=138,$e=3),ge=0;ge<=pe;ge++)if(K=Se,Se=q[2*(ge+1)+1],!(++_e<Ne&&K===Se)){if(_e<$e)for(;me(O,K,O.bl_tree),--_e!=0;);else K!==0?(K!==ve&&(me(O,K,O.bl_tree),_e--),me(O,M,O.bl_tree),ue(O,_e-3,2)):_e<=10?(me(O,B,O.bl_tree),ue(O,_e-3,3)):(me(O,X,O.bl_tree),ue(O,_e-11,7));ve=K,$e=(_e=0)===Se?(Ne=138,3):K===Se?(Ne=6,3):(Ne=7,4)}}m(ce);var te=!1;function j(O,q,pe,ge){ue(O,(p<<1)+(ge?1:0),3),function(K,ve,Se,_e){Ie(K),ie(K,Se),ie(K,~Se),o.arraySet(K.pending_buf,K.window,ve,Se,K.pending),K.pending+=Se}(O,q,pe)}l._tr_init=function(O){te||(function(){var q,pe,ge,K,ve,Se=new Array(C+1);for(K=ge=0;K<g-1;K++)for(ne[K]=ge,q=0;q<1<<I[K];q++)N[ge++]=K;for(N[ge-1]=K,K=ve=0;K<16;K++)for(ce[K]=ve,q=0;q<1<<se[K];q++)ae[ve++]=K;for(ve>>=7;K<v;K++)for(ce[K]=ve<<7,q=0;q<1<<se[K]-7;q++)ae[256+ve++]=K;for(pe=0;pe<=C;pe++)Se[pe]=0;for(q=0;q<=143;)de[2*q+1]=8,q++,Se[8]++;for(;q<=255;)de[2*q+1]=9,q++,Se[9]++;for(;q<=279;)de[2*q+1]=7,q++,Se[7]++;for(;q<=287;)de[2*q+1]=8,q++,Se[8]++;for(et(de,A+1,Se),q=0;q<v;q++)z[2*q+1]=5,z[2*q]=Ae(q,5);F=new D(de,I,y+1,A,C),Y=new D(z,se,0,v,C),be=new D(new Array(0),P,0,k,S)}(),te=!0),O.l_desc=new U(O.dyn_ltree,F),O.d_desc=new U(O.dyn_dtree,Y),O.bl_desc=new U(O.bl_tree,be),O.bi_buf=0,O.bi_valid=0,Ce(O)},l._tr_stored_block=j,l._tr_flush_block=function(O,q,pe,ge){var K,ve,Se=0;0<O.level?(O.strm.data_type===2&&(O.strm.data_type=function(_e){var Ne,$e=4093624447;for(Ne=0;Ne<=31;Ne++,$e>>>=1)if(1&$e&&_e.dyn_ltree[2*Ne]!==0)return f;if(_e.dyn_ltree[18]!==0||_e.dyn_ltree[20]!==0||_e.dyn_ltree[26]!==0)return d;for(Ne=32;Ne<y;Ne++)if(_e.dyn_ltree[2*Ne]!==0)return d;return f}(O)),Gt(O,O.l_desc),Gt(O,O.d_desc),Se=function(_e){var Ne;for(x(_e,_e.dyn_ltree,_e.l_desc.max_code),x(_e,_e.dyn_dtree,_e.d_desc.max_code),Gt(_e,_e.bl_desc),Ne=k-1;3<=Ne&&_e.bl_tree[2*ee[Ne]+1]===0;Ne--);return _e.opt_len+=3*(Ne+1)+5+5+4,Ne}(O),K=O.opt_len+3+7>>>3,(ve=O.static_len+3+7>>>3)<=K&&(K=ve)):K=ve=pe+5,pe+4<=K&&q!==-1?j(O,q,pe,ge):O.strategy===4||ve===K?(ue(O,2+(ge?1:0),3),Jt(O,de,z)):(ue(O,4+(ge?1:0),3),function(_e,Ne,$e,Be){var ft;for(ue(_e,Ne-257,5),ue(_e,$e-1,5),ue(_e,Be-4,4),ft=0;ft<Be;ft++)ue(_e,_e.bl_tree[2*ee[ft]+1],3);fe(_e,_e.dyn_ltree,Ne-1),fe(_e,_e.dyn_dtree,$e-1)}(O,O.l_desc.max_code+1,O.d_desc.max_code+1,Se+1),Jt(O,O.dyn_ltree,O.dyn_dtree)),Ce(O),ge&&Ie(O)},l._tr_tally=function(O,q,pe){return O.pending_buf[O.d_buf+2*O.last_lit]=q>>>8&255,O.pending_buf[O.d_buf+2*O.last_lit+1]=255&q,O.pending_buf[O.l_buf+O.last_lit]=255&pe,O.last_lit++,q===0?O.dyn_ltree[2*pe]++:(O.matches++,q--,O.dyn_ltree[2*(N[pe]+y+1)]++,O.dyn_dtree[2*$(q)]++),O.last_lit===O.lit_bufsize-1},l._tr_align=function(O){ue(O,2,3),me(O,R,de),function(q){q.bi_valid===16?(ie(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):8<=q.bi_valid&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)}(O)}},{"../utils/common":41}],53:[function(a,s,l){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(a,s,l){(function(o){(function(f,d){if(!f.setImmediate){var m,p,g,y,A=1,v={},k=!1,_=f.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(f);C=C&&C.setTimeout?C:f,m={}.toString.call(f.process)==="[object process]"?function(M){process.nextTick(function(){S(M)})}:function(){if(f.postMessage&&!f.importScripts){var M=!0,B=f.onmessage;return f.onmessage=function(){M=!1},f.postMessage("","*"),f.onmessage=B,M}}()?(y="setImmediate$"+Math.random()+"$",f.addEventListener?f.addEventListener("message",R,!1):f.attachEvent("onmessage",R),function(M){f.postMessage(y+M,"*")}):f.MessageChannel?((g=new MessageChannel).port1.onmessage=function(M){S(M.data)},function(M){g.port2.postMessage(M)}):_&&"onreadystatechange"in _.createElement("script")?(p=_.documentElement,function(M){var B=_.createElement("script");B.onreadystatechange=function(){S(M),B.onreadystatechange=null,p.removeChild(B),B=null},p.appendChild(B)}):function(M){setTimeout(S,0,M)},C.setImmediate=function(M){typeof M!="function"&&(M=new Function(""+M));for(var B=new Array(arguments.length-1),X=0;X<B.length;X++)B[X]=arguments[X+1];var I={callback:M,args:B};return v[A]=I,m(A),A++},C.clearImmediate=E}function E(M){delete v[M]}function S(M){if(k)setTimeout(S,0,M);else{var B=v[M];if(B){k=!0;try{(function(X){var I=X.callback,se=X.args;switch(se.length){case 0:I();break;case 1:I(se[0]);break;case 2:I(se[0],se[1]);break;case 3:I(se[0],se[1],se[2]);break;default:I.apply(d,se)}})(B)}finally{E(M),k=!1}}}}function R(M){M.source===f&&typeof M.data=="string"&&M.data.indexOf(y)===0&&S(+M.data.slice(y.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Rd)),Rd.exports}var _k=bk();const xk=lx(_k);async function wk(r,t){if(!r.flashcards||r.flashcards.length===0)throw new Error("Series contains no flash cards to export");const a=(t==null?void 0:t.deckName)||r.name||"Flashcard Deck",s=new xk,l=Sk(r,a);s.file("deck.xml",l);const o=s.folder("blob");if(!o)throw new Error("Failed to create blob folder in ZIP");return await Ak(r,o),s.generateAsync({type:"blob"})}function Sk(r,t,a){var f;const s=`<?xml version="1.0" encoding="UTF-8"?>
<deck name="${to(t)}">
  <fields>
    <rich-text name="Front" sides="11" />
    <rich-text name="Back" sides="01" />
    <rich-text name="Source" sides="01" />
  </fields>
  <cards>`,l=`
  </cards>
</deck>`,o=((f=r.flashcards)==null?void 0:f.map(d=>{const m=d.sourcePages.map(y=>r.pages.find(A=>A.id===y)).filter(y=>y!==void 0),p=m.length>0?m.map(y=>`<img src="blob/image_${y.id}.png" />`).join(""):"",g=d.pageReferences||m.map(y=>`${y!=null&&y.meta.pageNumber?`Page ${y.meta.pageNumber}`:"Page unknown"} (ID: ${y.id})`).join(", ");return`
    <card>
      <rich-text name="Front">${to(d.question)}</rich-text>
      <rich-text name="Back">${to(d.answer)}${p}</rich-text>
      <rich-text name="Source">${to(g)}</rich-text>
    </card>`}).join(""))||"";return s+o+l}async function Ak(r,t){const a=new Set;if(r.flashcards){const s=new Set;for(const l of r.flashcards)for(const o of l.sourcePages)s.add(o);for(const l of s){const o=r.pages.find(f=>f.id===l);o&&o.imageBlob&&!a.has(l)&&(t.file(`image_${l}.png`,o.imageBlob),a.add(l))}}}function to(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}async function Ek(r,t){if(!navigator.share)return!1;try{const a=new File([r],t,{type:"application/zip"});return"canShare"in navigator&&navigator.canShare&&navigator.canShare({files:[a]})?(await navigator.share({files:[a],title:"Share AnkiApp Flashcards",text:"Flashcards exported from Ursa Minor Ascension"}),!0):(await navigator.share({title:"AnkiApp Flashcards",text:"Please download the AnkiApp Flashcards file"}),!1)}catch(a){return console.error("Error sharing file:",a),!1}}function Od(r,t){const a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)}function kk({text:r,className:t=""}){const[a,s]=Z.useState(!1);return w.jsxs("div",{className:`relative inline-block ${t}`,children:[w.jsxs("button",{type:"button",className:"text-gray-500 hover:text-gray-700 focus:outline-none",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:()=>s(!a),children:[w.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),w.jsx("span",{className:"sr-only",children:"Info"})]}),a&&w.jsxs("div",{className:"absolute z-10 w-64 px-3 py-2 text-sm text-white bg-gray-800 rounded-md shadow-lg -left-32 bottom-full mb-2",children:[r,w.jsx("div",{className:"absolute w-3 h-3 bg-gray-800 transform rotate-45 left-1/2 -translate-x-1/2 -bottom-1"})]})]})}function Ck({series:r,className:t=""}){const[a,s]=Z.useState(!1),[l,o]=Z.useState(null),[f,d]=Z.useState(null);if(Z.useEffect(()=>{let p;return f&&(p=window.setTimeout(()=>{d(null)},5e3)),()=>{p&&window.clearTimeout(p)}},[f]),!r.flashcards||r.flashcards.length===0)return null;const m=async(p=!1)=>{try{s(!0),o(null),d(null);const y=`${r.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_ankiapp.zip`,A=await wk(r,{deckName:r.name,includeSourceImages:!0});if(p&&typeof navigator<"u"&&"share"in navigator)try{await Ek(A,y)?d("Your AnkiApp deck has been shared successfully."):(Od(A,y),d("Your AnkiApp deck has been downloaded successfully."))}catch(v){console.warn("Sharing failed, falling back to download:",v),Od(A,y),d("Your AnkiApp deck has been downloaded successfully.")}else Od(A,y),d("Your AnkiApp deck has been downloaded successfully.")}catch(g){console.error("Error exporting to AnkiApp format:",g),o(g instanceof Error?g.message:"Failed to export flashcards"),d(null)}finally{s(!1)}};return w.jsxs("div",{className:"flex flex-col",children:[w.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx("button",{onClick:()=>m(!1),disabled:a,className:`py-2 px-4 bg-purple-600 text-white rounded-md hover:bg-purple-700 flex items-center ${t} ${a?"opacity-50 cursor-not-allowed":""}`,children:a?w.jsxs(w.Fragment,{children:[w.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):w.jsxs(w.Fragment,{children:[w.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download for AnkiApp"]})}),w.jsx(kk,{className:"ml-1",text:"Export flashcards as a ZIP file compatible with AnkiApp. The file includes your questions and answers along with source page images."})]}),typeof navigator<"u"&&"share"in navigator&&w.jsxs("button",{onClick:()=>m(!0),disabled:a,className:`py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center ${a?"opacity-50 cursor-not-allowed":""}`,children:[w.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})}),"Share AnkiApp Deck"]})]}),"      ",l&&w.jsx("div",{className:"mt-2 text-sm text-red-600",children:l}),f&&w.jsxs("div",{className:"mt-2 text-sm text-green-600 flex items-center",children:[w.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),f]})]})}function Nk({series:r,status:t,onStartGeneration:a,onCancel:s}){const[l,o]=Z.useState(10),[f,d]=Z.useState(null),[m,p]=Z.useState(!1),[g,y]=Z.useState(!1);Z.useEffect(()=>{d(null),p(!1),y(!1)},[r.id]),Z.useEffect(()=>{let k=null;return t.status==="estimating"&&!g&&(k=setTimeout(()=>{console.log("Estimation timeout reached"),y(!0);const _=Math.min(Math.max(r.pages.length*4,5),50);d(_),p(!0)},1e4)),()=>{k&&clearTimeout(k)}},[t.status,g,r.pages.length]),Z.useEffect(()=>{t.estimatedCount!==void 0&&t.estimatedCount!==null&&(d(t.estimatedCount),p(!0))},[t.estimatedCount]);const A=Z.useCallback(k=>{const _=parseInt(k.target.value,10);!isNaN(_)&&_>=5&&_<=50&&o(_)},[]),v=Z.useCallback(k=>{k.preventDefault(),a(l)},[l,a]);if(t.status==="error")return w.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[w.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:w.jsxs("div",{className:"flex",children:[w.jsx("div",{className:"flex-shrink-0",children:w.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),w.jsxs("div",{className:"ml-3",children:[w.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Flash Card Generation Failed"}),w.jsx("div",{className:"mt-2 text-sm text-red-700",children:w.jsx("p",{children:t.error||"An unknown error occurred"})})]})]})}),w.jsx("button",{onClick:()=>a(l),className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Try Again"})]});if(t.status==="generating"){const k=t.progress&&t.total?Math.round(t.progress/t.total*100):0;return w.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[w.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Generating Flash Cards"}),w.jsxs("div",{className:"mb-4",children:[w.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:w.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-in-out",style:{width:`${k}%`}})}),w.jsx("p",{className:"text-sm text-gray-600 mt-2",children:t.progress!==void 0&&t.total!==void 0?`${t.progress} of ${t.total} steps complete (${k}%)`:"Processing..."})]}),w.jsx("button",{onClick:s,className:"py-2 px-4 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})}return w.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[w.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Generate Flash Cards"}),w.jsxs("div",{className:"mb-6",children:[w.jsx("p",{className:"text-gray-600 mb-2",children:"Create flash cards from your series content to help with studying and retention."}),t.status==="estimating"&&!g?w.jsxs("div",{className:"flex items-center mt-4 text-gray-600",children:[w.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full"}),w.jsx("p",{children:"Estimating optimal number of flash cards..."})]}):m&&f!==null?w.jsx("div",{className:"mt-4 bg-blue-50 border-l-4 border-blue-400 p-3",children:w.jsxs("p",{className:"text-blue-700",children:["Based on your content, we recommend generating approximately ",f," flash cards."]})}):null]}),w.jsxs("form",{onSubmit:v,children:[w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{htmlFor:"cardCount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Flash Cards"}),w.jsx("input",{type:"range",id:"cardCount",min:"5",max:"50",step:"1",value:l,onChange:A,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),w.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[w.jsx("span",{children:"5"}),w.jsx("span",{children:l}),w.jsx("span",{children:"50"})]})]}),w.jsxs("button",{type:"submit",className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex justify-center items-center",children:["Generate ",l," Flash Cards"]})]})]})}function Tk({card:r,series:t,isSelected:a,onClick:s,onDelete:l}){const[o,f]=Z.useState(!1),[d,m]=Z.useState(!1),[p,g]=Z.useState(r.question),[y,A]=Z.useState(r.answer),[v,k]=Z.useState(r.pageReferences||""),_=r.sourcePages.map(S=>{const R=t.pages.find(M=>M.id===S);return(R==null?void 0:R.meta.pageNumber)||"unknown"}),C=()=>{switch(r.difficulty){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=()=>{r.question=p,r.answer=y,r.pageReferences=v,m(!1)};return d?w.jsx("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border-2 ${a?"border-primary":"border-transparent"}`,children:w.jsxs("div",{className:"p-4",children:[w.jsxs("div",{className:"mb-3",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question"}),w.jsx("textarea",{value:p,onChange:S=>g(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:2})]}),"                    ",w.jsxs("div",{className:"mb-3",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer"}),w.jsx("textarea",{value:y,onChange:S=>A(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3})]}),w.jsxs("div",{className:"mb-3",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Page References"}),w.jsx("input",{type:"text",value:v,onChange:S=>k(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"e.g., Page 5, Page 10"})]}),w.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[w.jsx("button",{onClick:()=>m(!1),className:"py-1 px-3 border border-gray-300 rounded-md",children:"Cancel"}),w.jsx("button",{onClick:E,className:"py-1 px-3 bg-primary text-white rounded-md",children:"Save"})]})]})}):w.jsx("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border-2 ${a?"border-primary":"border-transparent"}`,onClick:s,children:w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:`transition-all duration-500 ${o?"rotateY-180 opacity-0 h-0 overflow-hidden":"rotateY-0 opacity-100"}`,children:w.jsxs("div",{className:"p-4",children:[w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${C()}`,children:r.difficulty}),w.jsxs("div",{className:"flex space-x-1",children:[w.jsx("button",{onClick:S=>{S.stopPropagation(),m(!0)},className:"text-gray-400 hover:text-gray-600 p-1",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),w.jsx("button",{onClick:S=>{S.stopPropagation(),l()},className:"text-gray-400 hover:text-red-600 p-1",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),w.jsx("p",{className:"text-gray-800 font-medium",dangerouslySetInnerHTML:{__html:r.question}}),w.jsx("button",{onClick:S=>{S.stopPropagation(),f(!o)},className:"mt-4 text-primary text-sm hover:underline",children:"Show Answer"})]})}),w.jsx("div",{className:`transition-all duration-500 ${o?"rotateY-0 opacity-100":"rotateY-180 opacity-0 h-0 overflow-hidden"}`,children:w.jsxs("div",{className:"p-4",children:[w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${C()}`,children:r.difficulty}),w.jsxs("div",{className:"flex space-x-1",children:[w.jsx("button",{onClick:S=>{S.stopPropagation(),m(!0)},className:"text-gray-400 hover:text-gray-600 p-1",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),w.jsx("button",{onClick:S=>{S.stopPropagation(),l()},className:"text-gray-400 hover:text-red-600 p-1",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),w.jsx("p",{className:"text-gray-800",dangerouslySetInnerHTML:{__html:r.answer}}),"                        ",w.jsx("div",{className:"mt-3",children:r.pageReferences?w.jsx("p",{className:"text-xs text-gray-600 italic mb-1",children:r.pageReferences}):w.jsx("div",{className:"flex flex-wrap gap-1",children:_.map((S,R)=>w.jsxs("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:["Page ",S]},R))})}),w.jsx("button",{onClick:S=>{S.stopPropagation(),f(!o)},className:"mt-4 text-primary text-sm hover:underline",children:"Show Question"})]})})]})})}function Rk({series:r,onSeriesUpdate:t}){const{endpoint:a,apiKey:s}=Gh(),[l,o]=Z.useState(null),[f,d]=Z.useState("all"),[m,p]=Z.useState("all"),[g,y]=Z.useState(r.flashcardStatus||{status:"idle"}),A=r.pages.filter(S=>S.meta.pageNumber!==void 0).map(S=>({id:S.id,label:`Page ${S.meta.pageNumber}`})).reduce((S,R)=>(S.find(M=>M.label===R.label)||S.push(R),S),[]);Z.useEffect(()=>{o(null)},[f,m]);const v=(r.flashcards||[]).filter(S=>f!=="all"&&S.difficulty!==f?!1:m!=="all"?S.sourcePages.includes(m):!0),k=Z.useCallback(async S=>{try{const R=await yk(r.id,S,{status:"complete"});t(R),y({status:"complete"})}catch(R){console.error("Failed to update series with flash cards:",R),y({status:"error",error:R instanceof Error?R.message:"Failed to save flash cards"})}},[r.id,t]),_=Z.useCallback(S=>{y({status:"error",error:S})},[]),C=Z.useCallback(async S=>{if(!a||!s){console.error("Cannot generate flash cards: Azure configuration is missing"),y({status:"error",error:"Azure configuration is missing. Please configure your Azure OpenAI settings."});return}try{console.log("Starting flash card generation with count:",S),y({status:"generating",progress:0,total:1}),t({...r,flashcardStatus:{status:"generating",progress:0,total:1}}),await gk(r,{endpoint:a,apiKey:s},{count:S,difficulty:"mixed"},M=>{console.log("Flash card generation status update:",M),y(M),t({...r,flashcardStatus:M})},k,_)}catch(R){console.error("Error starting flash card generation:",R),y({status:"error",error:R instanceof Error?R.message:"Failed to start generation"})}},[a,s,r,t,k,_]),E=Z.useCallback(()=>{vk(r.id),y({status:"idle"})},[r.id]);return!r.flashcards||r.flashcards.length===0?w.jsx(w.Fragment,{children:w.jsx(Nk,{series:r,status:g,onStartGeneration:C,onCancel:E})}):w.jsxs("div",{className:"mt-8",children:["            ",w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsxs("h3",{className:"text-xl font-semibold",children:["Flash Cards (",r.flashcards.length,")"]}),w.jsxs("div",{className:"flex space-x-2",children:[w.jsx(Ck,{series:r}),w.jsx("button",{onClick:()=>C(10),className:"py-2 px-4 bg-blue-500 text-white rounded-md",children:"Regenerate Cards"})]})]}),w.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),w.jsxs("select",{value:f,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[w.jsx("option",{value:"all",children:"All Difficulties"}),w.jsx("option",{value:"easy",children:"Easy"}),w.jsx("option",{value:"medium",children:"Medium"}),w.jsx("option",{value:"hard",children:"Hard"})]})]}),w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source Page"}),w.jsxs("select",{value:m,onChange:S=>p(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[w.jsx("option",{value:"all",children:"All Pages"}),A.map(S=>w.jsx("option",{value:S.id,children:S.label},S.id))]})]})]}),w.jsx("div",{className:"space-y-4",children:v.length>0?v.map(S=>w.jsx(Tk,{card:S,series:r,isSelected:l===S.id,onClick:()=>o(l===S.id?null:S.id),onDelete:()=>{var M;const R=((M=r.flashcards)==null?void 0:M.filter(B=>B.id!==S.id))||[];t({...r,flashcards:R})}},S.id)):w.jsx("div",{className:"bg-gray-50 p-6 rounded-lg text-center text-gray-500",children:"No flash cards match the selected filters"})})]})}function Ok(){const{seriesId:r}=Kx(),t=To(),[a,s]=Z.useState(null),[l,o]=Z.useState(!0),[f,d]=Z.useState(null),[m,p]=Z.useState(!1),[g,y]=Z.useState(0);Z.useEffect(()=>{async function E(){if(!r){d("No series ID provided"),o(!1);return}try{const S=await Hb(r);S?s(S):d("Series not found")}catch(S){d("Failed to load series"),console.error("Error loading series:",S)}finally{o(!1)}}E()},[r]);const A=Z.useCallback(async()=>{if(r)try{await Ib(r),t("/")}catch(E){d("Failed to delete series"),console.error("Error deleting series:",E)}},[r,t]),v=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),k=Z.useCallback(()=>{a&&y(E=>Math.min(E+1,a.pages.length-1))},[a]),_=Z.useCallback(()=>{y(E=>Math.max(E-1,0))},[]);if(l)return w.jsx("div",{className:"flex justify-center my-12",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})});if(f||!a)return w.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-md",children:[w.jsx("p",{className:"font-medium mb-2",children:"Error"}),w.jsx("p",{children:f||"Failed to load series"}),w.jsx("button",{onClick:()=>t("/"),className:"mt-4 py-2 px-4 bg-primary text-white rounded-md",children:"Return to Dashboard"})]});const C=a.pages[g];return w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl sm:text-2xl font-semibold",children:a.name}),w.jsxs("p",{className:"text-gray-500",children:[a.pages.length," ",a.pages.length===1?"page":"pages"," • Created on ",v(a.createdAt)]})]}),w.jsx("button",{onClick:()=>p(!0),className:"text-red-600 py-1 px-3 border border-red-200 rounded-md hover:bg-red-50",children:"Delete"})]}),w.jsx("div",{className:"flex justify-center mb-4",children:w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("button",{onClick:_,disabled:g===0,className:"py-1 px-3 border border-gray-300 rounded-md disabled:opacity-40",children:"Previous"}),w.jsxs("span",{className:"text-sm",children:["Page ",g+1," of ",a.pages.length]}),w.jsx("button",{onClick:k,disabled:g===a.pages.length-1,className:"py-1 px-3 border border-gray-300 rounded-md disabled:opacity-40",children:"Next"})]})}),w.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:w.jsxs("div",{className:"sm:flex sm:gap-8",children:[w.jsx("div",{className:"sm:w-1/2 mb-6 sm:mb-0",children:w.jsx("div",{className:"bg-gray-100 rounded-md overflow-hidden",children:w.jsx("img",{src:URL.createObjectURL(C.imageBlob),alt:`Page ${g+1}`,className:"w-full object-contain",onLoad:E=>{const S=E.target;setTimeout(()=>{S.src.startsWith("blob:")&&URL.revokeObjectURL(S.src)},1e3)}})})}),w.jsxs("div",{className:"sm:w-1/2",children:[w.jsx("h3",{className:"text-lg font-medium mb-4",children:"Text Content"}),"                        ",w.jsx("div",{className:"bg-gray-50 p-4 rounded-md max-h-96 overflow-y-auto",children:C.text?w.jsx("div",{dangerouslySetInnerHTML:{__html:C.text}}):w.jsx("em",{children:"No text content available"})}),C.imageDescriptions&&C.imageDescriptions.length>0&&w.jsxs("div",{className:"mt-6",children:[w.jsx("h3",{className:"text-lg font-medium mb-2",children:"Image Descriptions"}),w.jsx("ul",{className:"bg-gray-50 p-4 rounded-md text-sm space-y-2",children:C.imageDescriptions.map((E,S)=>w.jsx("li",{children:E},S))})]}),Object.keys(C.meta).length>0&&w.jsxs("div",{className:"mt-6",children:[w.jsx("h3",{className:"text-lg font-medium mb-2",children:"Metadata"}),w.jsx("dl",{className:"bg-gray-50 p-4 rounded-md grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:Object.entries(C.meta).map(([E,S])=>S!=null&&E!=="figures"&&w.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[w.jsxs("dt",{className:"font-medium",children:[E,":"]}),w.jsx("dd",{children:String(S)})]},E))})]})]})]})}),"            ",w.jsx("div",{className:"mt-12",children:w.jsx("div",{className:"border-t border-gray-200 pt-8",children:w.jsx(Rk,{series:a,onSeriesUpdate:E=>{s(E),Vo(E).catch(S=>{console.error("Failed to save series updates:",S),d("Failed to update series")})}})})}),w.jsx("div",{className:"mt-8",children:w.jsx("button",{onClick:()=>t("/"),className:"py-2 px-4 border border-gray-300 rounded-md hover:bg-gray-50",children:"← Back to Dashboard"})}),m&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:w.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[w.jsx("h3",{className:"text-lg font-medium mb-3",children:"Delete Series?"}),w.jsxs("p",{className:"mb-6",children:['Are you sure you want to delete "',a.name,'"? This action cannot be undone.']}),w.jsxs("div",{className:"flex justify-end gap-3",children:[w.jsx("button",{onClick:()=>p(!1),className:"py-2 px-4 border border-gray-300 rounded-md",children:"Cancel"}),w.jsx("button",{onClick:A,className:"py-2 px-4 bg-red-600 text-white rounded-md",children:"Delete"})]})]})})]})}function jk(){const r=To(),{draft:t,updatePage:a,removePage:s,setSeriesName:l,clearDraft:o}=Xh(),{endpoint:f,apiKey:d}=Gh(),[m,p]=Z.useState(!1),[g,y]=Z.useState({}),[A,v]=Z.useState(null),[k,_]=Z.useState(!1),[C,E]=Z.useState(!1);if(!t)return r("/"),null;const S=Z.useCallback(P=>{v(P)},[]),R=Z.useCallback((P,ee)=>{a(P,{text:ee}),v(null)},[a]),M=Z.useCallback(P=>{s(P)},[s]),B=Z.useCallback(P=>{s(P),r("/capture")},[s,r]),X=Z.useCallback(P=>{if(!t||!f||!d)return;const ee=t.pages.find(z=>z.id===P);if(!ee)return;const de=new FileReader;de.onloadend=()=>{var ae;const z=(ae=de.result)==null?void 0:ae.toString().split(",")[1];z&&(a(P,{status:"pending",error:void 0}),Qh.enqueue(P,z,{endpoint:f,apiKey:d},N=>{a(P,{text:N.text,imageDescriptions:N.imageDescriptions,meta:N.meta,status:"complete"})},(N,ne)=>{a(ne,{error:N.message,status:"error"})},(N,ne)=>{console.log(`Status update in SeriesReview: ${N} → ${ne}`),a(N,{status:ne})}))},de.readAsDataURL(ee.imageBlob)},[t,f,d,a]);Z.useCallback(async()=>{E(!0)},[]),Z.useCallback(()=>{E(!0)},[]);const I=Z.useCallback(P=>{P.preventDefault();const de=new FormData(P.currentTarget).get("name");if(!(de!=null&&de.trim())){y({name:"Please enter a series name"});return}l(de),E(!1),y({}),p(!0),setTimeout(async()=>{try{const z={id:ch(),name:de,createdAt:new Date().toISOString(),pages:t.pages};await Vo(z),o(),r("/")}catch(z){console.error("Error saving series:",z),p(!1)}},50)},[l,t,o,r]),se=Z.useCallback(()=>{o(),r("/")},[o,r]);return w.jsxs("div",{className:"max-w-4xl mx-auto pb-16",children:[w.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-6",children:"Review Series"}),t.pages.length===0?w.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 p-4 rounded-md mb-6",children:[w.jsx("p",{children:"No pages in this series. Please add at least one page."}),w.jsx("button",{onClick:()=>r("/capture"),className:"mt-4 py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Capture Pages"})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"space-y-8",children:t.pages.map((P,ee)=>w.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md",children:w.jsxs("div",{className:"sm:flex sm:gap-6",children:[w.jsxs("div",{className:"sm:w-1/3 mb-4 sm:mb-0",children:[w.jsxs("div",{className:"bg-gray-200 rounded-md overflow-hidden relative",children:[P.status==="queued"&&w.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:w.jsxs("div",{className:"bg-white px-3 py-2 rounded-md",children:[w.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 border-t-blue-500 rounded-full mx-auto"}),w.jsx("p",{className:"text-sm mt-1",children:"Queued"})]})}),P.status==="pending"&&w.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:w.jsxs("div",{className:"bg-white px-3 py-2 rounded-md",children:[w.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full mx-auto"}),w.jsx("p",{className:"text-sm mt-1",children:"Pending"})]})}),P.status==="processing"&&w.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:w.jsxs("div",{className:"bg-white px-3 py-2 rounded-md",children:[w.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-primary mx-auto"}),w.jsx("p",{className:"text-sm mt-1",children:"Processing"})]})}),P.status==="error"&&w.jsx("div",{className:"absolute inset-0 bg-red-500 bg-opacity-20 flex items-center justify-center",children:w.jsxs("div",{className:"bg-white p-3 rounded-md max-w-[90%]",children:[w.jsx("p",{className:"text-sm text-red-600 mb-2",children:P.error||"Processing failed"}),w.jsx("button",{onClick:()=>X(P.id),className:"text-sm bg-blue-600 text-white py-1 px-2 rounded-md w-full hover:bg-blue-700",children:"Retry Processing"})]})}),w.jsx("img",{src:URL.createObjectURL(P.imageBlob),alt:`Page ${ee+1}`,className:"w-full object-contain",onLoad:de=>{const z=de.target;setTimeout(()=>{z.src.startsWith("blob:")&&URL.revokeObjectURL(z.src)},1e3)}})]}),w.jsxs("div",{className:"mt-2 flex justify-between",children:[w.jsx("button",{onClick:()=>B(P.id),className:"text-sm text-gray-600 hover:text-primary",children:"Retake"}),w.jsx("button",{onClick:()=>M(P.id),className:"text-sm text-red-600 hover:text-red-700",children:"Delete"})]})]}),w.jsxs("div",{className:"sm:w-2/3",children:[w.jsxs("div",{className:"mb-2 flex justify-between items-center",children:[w.jsxs("h3",{className:"font-medium",children:["Page ",ee+1]}),A!==P.id&&w.jsx("button",{onClick:()=>S(P.id),className:"text-sm text-blue-600 hover:text-blue-700",children:"Edit Text"})]}),A===P.id?w.jsxs("div",{className:"mt-2",children:[w.jsx("textarea",{className:"w-full border border-gray-300 rounded-md p-2 h-48",defaultValue:P.text}),w.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[w.jsx("button",{onClick:()=>v(null),className:"py-1 px-3 border border-gray-300 rounded",children:"Cancel"}),w.jsx("button",{onClick:()=>{const de=document.querySelector("textarea");de&&R(P.id,de.value)},className:"py-1 px-3 bg-blue-600 text-white rounded",children:"Save"})]})]}):w.jsx(w.Fragment,{children:P.meta&&P.meta.error?w.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 rounded-md text-sm",children:[w.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),w.jsx("h4",{className:"font-medium",children:"Text Extraction Problem"})]}),w.jsx("p",{children:"The image could not be properly analyzed. This might be due to:"}),w.jsxs("ul",{className:"list-disc pl-5 mt-1",children:[w.jsx("li",{children:"Low image quality or poor lighting"}),w.jsx("li",{children:"Non-text content or unrecognizable text"}),w.jsx("li",{children:"Complex formatting that wasn't properly recognized"})]}),w.jsx("p",{className:"mt-2",children:"Try retaking the photo with better lighting and a clearer view."})]}):w.jsx("div",{className:"bg-gray-50 p-3 rounded-md text-sm max-h-48 overflow-y-auto",dangerouslySetInnerHTML:{__html:P.text||"<em>No text extracted</em>"}})}),P.imageDescriptions&&P.imageDescriptions.length>0&&w.jsxs("div",{className:"mt-4",children:[w.jsx("h4",{className:"text-sm font-medium mb-1",children:"Image Descriptions:"}),w.jsx("ul",{className:"text-sm text-gray-600",children:P.imageDescriptions.map((de,z)=>w.jsx("li",{className:"mb-1",children:de},z))})]}),"                                        ",Object.keys(P.meta).length>0&&w.jsxs("div",{className:"mt-4",children:[w.jsx("h4",{className:"text-sm font-medium mb-1",children:"Metadata:"}),w.jsx("dl",{className:"text-sm grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(P.meta).filter(([de,z])=>z!=null&&z!==""&&de!=="figures"&&de!=="error"&&String(z).trim()!=="").map(([de,z])=>w.jsxs("div",{className:"col-span-2 sm:col-span-1",children:[w.jsxs("dt",{className:"font-medium",children:[de,":"]}),w.jsx("dd",{children:String(z)})]},de))})]})]})]})},P.id))}),w.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4",children:w.jsxs("div",{className:"max-w-4xl mx-auto flex justify-between",children:[w.jsx("button",{onClick:()=>_(!0),className:"py-2 px-4 border border-gray-300 rounded-md hover:bg-gray-50",children:"Discard"}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx("button",{onClick:()=>r("/capture"),className:"py-2 px-4 border border-blue-600 text-blue-600 rounded-md hover:bg-blue-50",children:"Add More Pages"}),"                                ",w.jsx("button",{onClick:()=>E(!0),disabled:t.pages.length===0||m,className:"py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:m?"Saving...":"Save Series"})]})]})})]}),k&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:w.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[w.jsx("h3",{className:"text-lg font-medium mb-3",children:"Discard Series?"}),w.jsx("p",{className:"mb-6",children:"Are you sure you want to discard this series? All captured pages will be lost."}),w.jsxs("div",{className:"flex justify-end gap-3",children:[w.jsx("button",{onClick:()=>_(!1),className:"py-2 px-4 border border-gray-300 rounded-md",children:"Cancel"}),w.jsx("button",{onClick:se,className:"py-2 px-4 bg-red-600 text-white rounded-md",children:"Discard"})]})]})}),C&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:w.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[w.jsx("h3",{className:"text-lg font-medium mb-3",children:"Name Your Series"}),w.jsxs("form",{onSubmit:I,children:[w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{htmlFor:"name",className:"block mb-1 text-sm font-medium",children:"Series Name"}),w.jsx("input",{type:"text",id:"name",name:"name",defaultValue:t.name||"",className:"w-full border border-gray-300 rounded-md p-2",autoFocus:!0}),g.name&&w.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.name})]}),w.jsxs("div",{className:"flex justify-end gap-3",children:[w.jsx("button",{type:"button",onClick:()=>{E(!1),y({})},className:"py-2 px-4 border border-gray-300 rounded-md",children:"Cancel"}),w.jsx("button",{type:"submit",className:"py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Save"})]})]})]})})]})}function Dk(){return w.jsxs(dw,{children:[w.jsx(Xi,{path:"/",element:w.jsx(pk,{})}),w.jsx(Xi,{path:"/capture",element:w.jsx(mk,{})}),w.jsx(Xi,{path:"/review",element:w.jsx(jk,{})}),w.jsx(Xi,{path:"/series/:seriesId",element:w.jsx(Ok,{})})]})}function zk({onSetup:r}){const[t,a]=Z.useState(),[s,l]=Z.useState(!1),[o,f]=Z.useState(!1);Z.useEffect(()=>{async function m(){try{const p=new URLSearchParams(window.location.search);let g=new URLSearchParams;const y=window.location.hash.split("?");y.length>1&&(g=new URLSearchParams(y[1]));const A=p.get("key")||g.get("key");if(A){console.log("ConnectionSetup: Key found in URL"),f(!0),l(!0);try{const v=atob(A),k=JSON.parse(v);if(k.endpoint&&k.apiKey)await Co(A),console.log("ConnectionSetup: Key saved successfully"),r();else throw new Error("Invalid key structure")}catch(v){console.error("Invalid Base64 JSON key format:",v),a("The URL contains an invalid connection key format. Please use the Base64-encoded JSON format."),l(!1),f(!1)}}}catch(p){console.error("Error processing URL parameters:",p),l(!1),f(!1)}}m()},[r]);const d=Z.useCallback(async m=>{m.preventDefault(),a(void 0),l(!0);const g=new FormData(m.currentTarget).get("key");console.log("ConnectionSetup: Submitting key");try{const y=atob(g),A=JSON.parse(y);if(A.endpoint&&A.apiKey)await Co(g),console.log("ConnectionSetup: Key saved successfully"),r();else throw new Error("Invalid key structure")}catch(y){console.error("ConnectionSetup: Error processing key",y),a("Invalid connection key. Please use a Base64-encoded JSON format.")}finally{l(!1)}},[r]);return o&&s?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:w.jsxs("div",{className:"w-full max-w-sm sm:max-w-md px-6 py-8 bg-white rounded-lg shadow-md text-center",children:[w.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Setting Up Connection"}),w.jsx("div",{className:"flex justify-center",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}),w.jsx("p",{className:"mt-4 text-gray-600",children:"Validating connection key from URL..."})]})}):w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4 sm:px-6",children:w.jsxs("div",{className:"w-full max-w-sm sm:max-w-md lg:max-w-lg px-6 py-8 bg-white rounded-lg shadow-md",children:[w.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-6 text-center",children:"Welcome to Ascension"}),w.jsx("p",{className:"mb-4 text-gray-600 sm:text-lg",children:"To get started, please enter your connection key. This is required to connect to Azure's GPT-4 Vision API."}),w.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:w.jsxs("p",{className:"text-sm text-blue-800",children:[w.jsx("span",{className:"font-medium",children:"Required format:"}),w.jsx("br",{}),"Base64-encoded JSON with endpoint and apiKey fields"]})}),w.jsxs("form",{onSubmit:d,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"key",className:"block text-sm font-medium text-gray-700",children:"Connection Key"}),w.jsx("textarea",{id:"key",name:"key",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary sm:text-sm",rows:3,placeholder:"Paste your Base64-encoded JSON connection key..."})]}),t&&w.jsx("p",{className:"text-red-600 text-sm",children:t}),"                    ",w.jsx("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:w.jsx("button",{type:"submit",disabled:s,className:"w-full bg-primary text-white py-2 px-4 rounded-md hover:bg-primary-dark disabled:opacity-50",children:s?"Validating...":"Continue"})}),w.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[w.jsx("p",{children:"How to generate a connection key:"}),w.jsxs("ol",{className:"list-decimal list-inside mt-1 space-y-1",children:[w.jsx("li",{children:"Run the following command in your terminal:"}),w.jsx("pre",{className:"mt-1 bg-gray-100 p-2 rounded overflow-auto text-xs",children:"npm run share-link -- YOUR_ENDPOINT YOUR_API_KEY"}),w.jsx("li",{children:"Copy the generated Base64-encoded connection key"})]}),"                        ",w.jsx("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded-md",children:w.jsxs("p",{className:"text-green-800",children:[w.jsx("span",{className:"font-medium",children:"Pro tip:"})," You can also share the app with your key included:",w.jsx("code",{className:"mt-1 block bg-white p-1 text-xs overflow-x-auto",children:"https://abuursaminor.github.io/ursa-minor-ascension/?key=YOUR_BASE64_JSON_KEY"}),w.jsx("span",{className:"block mt-1",children:"The share-link command will generate this URL for you."})]})})]})]})]})})}class Yb extends Z.Component{constructor(){super(...arguments);Tr(this,"state",{hasError:!1})}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,s){console.error("Uncaught error:",a,s)}render(){var a;return this.state.hasError?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50",children:w.jsxs("div",{className:"max-w-md p-6 bg-white rounded-lg shadow-lg",children:[w.jsx("h1",{className:"text-xl font-bold text-red-600 mb-4",children:"Something went wrong"}),w.jsx("p",{className:"text-gray-600 mb-4",children:((a=this.state.error)==null?void 0:a.message)||"An unexpected error occurred"}),w.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",onClick:()=>window.location.reload(),children:"Reload page"})]})}):this.props.children}}const Mk=Uw;function Uk(){const[r,t]=Z.useState(null),[a,s]=Z.useState(!1),[l,o]=Z.useState(!0);return console.log("App render state:",{hasKey:r,isPrivate:a,isLoading:l}),Z.useEffect(()=>{async function f(){try{const d=await qb();if(s(d),d)t(!1);else{const m=new URLSearchParams(window.location.search),p=window.location.hash.split("?"),g=p.length>1?new URLSearchParams(p[1]):new URLSearchParams,y=m.get("key")||g.get("key");let A=!1;if(y){console.log("Key parameter found in URL");try{const v=atob(y),k=JSON.parse(v);if(k.endpoint&&k.apiKey)console.log("URL key is valid, saving to storage"),await Co(y),A=!0;else throw new Error("Invalid key structure")}catch(v){console.error("Invalid key format in URL parameter:",v)}}if(!A){const v=await Yh();console.log("Connection key found in storage:",!!v),A=!!v}t(A)}}catch(d){console.error("Error checking for connection key:",d),t(!1)}finally{o(!1)}}f()},[]),l?w.jsx("div",{className:"min-h-screen flex items-center justify-center",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):a?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-yellow-50",children:w.jsxs("div",{className:"max-w-md p-6 bg-white rounded-lg shadow-md",children:[w.jsx("h1",{className:"text-xl font-bold mb-4",children:"Private Browsing Detected"}),w.jsx("p",{className:"text-gray-600",children:"Ascension requires IndexedDB support, which is not available in private browsing mode. Please switch to normal browsing mode to use all features."})]})}):r===!1?w.jsx(zk,{onSetup:()=>t(!0)}):w.jsx(Yb,{children:w.jsx(ok,{children:w.jsx(ck,{children:w.jsx(Mk,{children:w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx("header",{className:"bg-white shadow",children:w.jsx("div",{className:"max-w-7xl mx-auto py-4 px-4 sm:py-6 sm:px-6 lg:px-8 flex items-center justify-between",children:w.jsx("h1",{className:"!text-xs font-bold text-gray-900",children:"Ursa Minor Ascension"})})}),w.jsx("main",{className:"container mx-auto py-4 px-4 sm:py-6 sm:px-6 lg:px-8",children:w.jsx("div",{className:"max-w-screen-2xl mx-auto",children:w.jsx(Dk,{})})})]})})})})})}navigator.storage&&navigator.storage.persist&&navigator.storage.persist().then(r=>{console.log(`Storage persistence is ${r?"enabled":"not enabled"}`)});const Bk=/iPad|iPhone|iPod/.test(navigator.userAgent),Lk=Intl.NumberFormat().resolvedOptions().locale.startsWith("en-GB");if(Bk&&Lk){const t=navigator.userAgent.match(/OS (\d+)_(\d+)/);t&&t[1]==="17"&&t[2]==="4"&&alert("Note: If you are using iOS 17.4 beta, PWA functionality might be limited. Please update to the latest iOS version.")}const Pk=_x({onNeedRefresh(){confirm("New content available. Reload to update?")&&Pk(!0)},onOfflineReady(){console.log("App ready to work offline")}});yx.createRoot(document.getElementById("root")).render(w.jsx(Z.StrictMode,{children:w.jsx(Yb,{children:w.jsx(Uk,{})})}));
